export const TX_JS = 'var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.BrowserDetect={init:function(){this.userAgent=navigator.userAgent;this.appVersion=navigator.appVersion;this.browser=this.searchString(this.dataBrowser)||"Other";this.version=this.searchVersion(this.userAgent)||this.searchVersion(this.appVersion)||"Unknown";},searchString:function(d){for(var e=0;e<d.length;e++){this.versionSearchString=d[e].subString;if(this.userAgent.indexOf(d[e].subString)!=-1){return d[e].identity;}}},searchVersion:function(d){var e=d.indexOf(this.versionSearchString);if(e==-1){return;}return parseFloat(d.substring(e+this.versionSearchString.length+1));},dataBrowser:[{subString:"Edge",identity:"Edge"},{subString:"Chrome",identity:"Chrome"},{subString:"Firefox",identity:"Firefox"},{subString:"Safari",identity:"Safari"},{subString:"Opera",identity:"Opera"},{subString:"MSIE",identity:"Explorer"},{subString:"rv:11.0",identity:"Explorer"},{subString:"Trident/",identity:"Explorer"},]};b.BrowserDetect.init();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(k,a){var b=k._private=k._private||{};var h=Math.log;var g=Math.LN2;var e=Math.clz32||function(l){return 31-h(l>>>0)/g|0;};var f=String.fromCharCode;var i=atob;var j=btoa;function d(m){var n=m.charCodeAt(0);if(n>=55296&&n<=56319){var l=m.charCodeAt(1);if(l!==l){return f(239,191,189);}if(l>=56320&&l<=57343){n=(n-55296)*1024+l-56320+65536;if(n>65535){return f((30<<3)|(n>>>18),(2<<6)|((n>>>12)&63),(2<<6)|((n>>>6)&63),(2<<6)|(n&63));}}else{return f(239,191,189);}}if(n<=127){return n;}else{if(n<=2047){return f((6<<5)|(n>>>6),(2<<6)|(n&63));}else{return f((14<<4)|(n>>>12),(2<<6)|((n>>>6)&63),(2<<6)|(n&63));}}}k.btoaUTF8=function(inputString,addBOM){return j((addBOM?"\\xEF\\xBB\\xBF":"")+inputString.replace(/[\\x80-\\uD7ff\\uDC00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]?/g,d));};function c(m){var l=m.charCodeAt(0)<<24;var o=e(~l);var n=0,q=m.length;var p="";if(o<5&&q>=o){l=(l<<o)>>>(24+o);for(n=1;n<o;++n){l=(l<<6)|(m.charCodeAt(n)&63);}if(l<=65535){p+=f(l);}else{if(l<=1114111){l-=65536;p+=f((l>>10)+55296,(l&1023)+56320);}else{n=0;}}}for(;n<q;++n){p+="\\ufffd";}return p;}k.atobUTF8=function(inputString,keepBOM){if(!keepBOM&&inputString.substring(0,3)==="\\xEF\\xBB\\xBF"){inputString=inputString.substring(3);}return i(inputString).replace(/[\\xc0-\\xff][\\x80-\\xbf]*/g,c);};return k;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.Point=(function(){function d(x,y){if((typeof x!=="number")||(typeof y!=="number")){throw new TypeError("Parameters have to be numerical values.");}this.x=x;this.y=y;}return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(g,a){var b=g._private=g._private||{};b.UIStateFlag={CanCopy:1,CanPaste:2,CanUndo:4,CanRedo:8,ControlChars:16,Header:32,Footer:64,TableGridLines:128,DocumentTargetMarkers:256,DrawingMarkerLines:512,TextFrameMarkerLines:1024,ContextMenusEnabled:2048,TextFieldsEditable:4096,FrameAnchors:8192,SelectObjects:16384};b.DocumentAccessPermissions={None:0,AllowAuthoring:1,AllowAuthoringFields:2,AllowContentAccessibility:4,AllowDocumentAssembly:8,AllowExtractContents:16,AllowGeneralEditing:32,AllowHighLevelPrinting:64,AllowLowLevelPrinting:128,AllowAll:255};b.PageContent={Background:1,HeadersAndFooters:2,MainText:4,All:7,ScreenElements:8};b.ControlChars={Tab:9,ParagraphEnd:10,LineBreak:11,PageBreak:12,ColumnBreak:14,NonVisibleHyphen:31,NonBreakingSpace:160};b.VerticalAlignment={Top:0,Center:1,Bottom:2};b.HorizontalAlignment={Left:1,Right:2,Center:3,Justify:4};b.TextType={Text:0,Number:1};b.NumberFormat={None:0,ArabicNumbers:3,Letters:4,CapitalLetters:5,RomanNumbers:6,SmallRomanNumbers:7};b.FontUnderlineStyle={DoubledWordsOnly:4288,Doubled:4672,SingleWordsOnly:16528,Single:16912,None:20992};b.BreakType={NextLine:0,Column:1,Page:2,SectionNextPage:3,SectionContinuous:4};b.SectionBreakKind={BeginAtNewLine:256,BeginAtNewPage:512};b.ItemType={HypertextLink:0,DocumentLink:1,DocumentTarget:3,Link:4,PageNumber:5,FieldAdapter:6,ApplicationField:7,Chart:8,Frame:10,MergeBlock:11,HeaderFooter:12,ImagePlaceholder:13,TextField:14,Shape:15,DrawingCanvas:16,DrawingFrame:17};b.HeaderFooterType={Header:1,FirstPageHeader:2,Footer:4,FirstPageFooter:8,EvenHeader:128,EvenFooter:32768,All:32911};b.TableAddPosition={Before:1,After:2};b.PermanentControlChar=Object.freeze({Space:1,Tab:2,ParagraphEnd:4,ForcedLineBreak:8,ObjectAnchor:16,ForcedPageBreak:32,SectionBreak:64,Hyphen:128,NonBreakingSpace:256,TableCellEnd:512,Pagination:1024,All:2047});b.ListType={None:1,Bulleted:2,Numbered:4,Structured:8};b.Direction={LeftToRight:1,RightToLeft:2};b.Frame={LeftLine:1,RightLine:2,TopLine:4,BottomLine:8,Box:15,MergedBox:143,None:9371648};b.FrameStyle={Single:32,Double:64};b.Justification={Spaces:1,Kashida:2,SpacesAndKashida:3};b.TabType={LeftTab:1,RightTab:2,CenterTab:3,DecimalTab:4,RightBorderTab:5};b.MeasuringUnit=Object.freeze({CentiInch:1,StandardWPF:2,Twips:3,Millimeter:4,Centimeter:5,Point:6});b.FindOptions={Reverse:1,MatchCase:4,NoHighlight:8,NoMessageBox:16,MatchWholeWord:64};b.FormulaReferenceStyle={A1:2,R1C1:1};b.MisspelledWordKind={All:7,Duplicate:4,Ignored:2,Normal:1};b.TXStreamType=Object.freeze({HTMLFormat:4,RichTextFormat:8,PlainText:16,InternalUnicodeFormat:32,MSWord:64,AdobePDF:512,WordprocessingML:1024,SpreadsheetML:4096});b.ListFormatCharacter=Object.freeze({None:1,Tab:9,Space:32});b.txProperties={canEdit:true,canCharacterFormat:true,canParagraphFormat:true,canTableFormat:true,canDocumentFormat:true,canStyleFormat:true,canPrint:true};b.controlChars=false;b.tableGridLines=true;b.documentTargetMarkers=true;b.textFrameMarkerLines=true;b.contextMenusEnabled=true;b.textFieldsEditable=false;b.inputPositionChangedHandler=function(h){var i=h.detail;if(i.IsInTable&&(b.appMode==b.ApplicationMode.Normal)){b.adaptRibbonTabWidths();}else{if(a("#tabTableLayout").is(":visible")){b.adaptRibbonTabWidths();if(a("#"+a("#tabTableLayout").attr("rel")).is(":visible")||a("#"+a("#tabFormula").attr("rel")).is(":visible")){b.switchTabs(a("#tabDefault"));}}}};b.txPropertyChangedHandler=function(i){var h=i.detail;switch(h.propertyName){case"CanEdit":b.txProperties.canEdit=h.value;break;case"CanPrint":b.txProperties.canPrint=h.value;break;case"CanStyleFormat":b.txProperties.canStyleFormat=h.value;break;case"CanDocumentFormat":b.txProperties.canDocumentFormat=h.value;break;case"CanTableFormat":b.txProperties.canTableFormat=h.value;break;case"CanCharacterFormat":b.txProperties.canCharacterFormat=h.value;break;case"CanParagraphFormat":b.txProperties.canParagraphFormat=h.value;break;}};b.uiFlagsUpdatedHandler=function(h){var i=h.detail;b.contextMenusEnabled=(i&b.UIStateFlag.ContextMenusEnabled)!=0;b.textFieldsEditable=(i&b.UIStateFlag.TextFieldsEditable)!=0;};function e(h){var j="";var i=(typeof b.settings==="undefined");var m=document.getElementById("txPrintFrame");if(m){document.body.removeChild(m);}var l=b.isSSLConnection?"https://":"http://";if(!i){j=b.settings.ConnectionID;}else{if((typeof b.webControlSettings!=="undefined")&&b.webControlSettings.hasOwnProperty("connectionID")){j=b.webControlSettings.connectionID;}}if(!j){return"";}var k=i?l+b.getHostAndAppVirtPath()+"TXPrintHandler.ashx":l+b.getHostAndAppVirtPath()+b.settings.ApiRoute+"TXPrint";return k+"?connectionID="+encodeURIComponent(j)+"&embedPrintAction="+(h?"true":"false");}function f(){var i=e(true);if(!i){return;}var h=document.createElement("IFRAME");h.id="txPrintFrame";h.frameBorder=0;h.src=i;document.body.appendChild(h);}function d(){var i=e(false);if(!i){return;}var h=new b.EdgePrintDialog(i);h.showModal();}b.print=function(){if((b.BrowserDetect.browser==="Explorer")||(b.BrowserDetect.browser==="Other")){f();}else{if(b.BrowserDetect.browser==="Edge"){d();}else{b.sendCommand(b.Command.PrintToPDF,1);}}};b.printResultReceivedHandler=function(i){var k=i.detail;if((b.BrowserDetect.browser==="Explorer")||(b.BrowserDetect.browser==="Other")||(b.BrowserDetect.browser==="Edge")){return;}var l=document.getElementById("txPrintFrame");if(l){document.body.removeChild(l);}l=document.createElement("IFRAME");l.id="txPrintFrame";l.frameBorder=0;switch(b.BrowserDetect.browser){case"Chrome":h();break;default:j();break;}function j(){l.src="data:application/pdf;base64,"+k.Data;document.body.appendChild(l);}function h(){var m=Uint8Array.from(atob(k.Data),function(o){return o.charCodeAt(0);});var n=new window.Blob([m],{type:"application/pdf"});n=window.URL.createObjectURL(n);l.src=n;document.body.appendChild(l);l.focus();l.contentWindow.print();}};b.HyperlinkClickedEventArgs=(function(){function h(target){this.target=target;}return h;})();b.hyperlinkClickedHandler=function(i){var j=i.detail;var h=new b.HyperlinkClickedEventArgs(j);b.fireEvent(b.EventName.hyperlinkClicked,h);};function c(h,o,s){o=o||"";s=s||512;var m=atob(h);var l=[];for(var q=0;q<m.length;q+=s){var r=m.slice(q,q+s);var n=new Array(r.length);for(var p=0;p<r.length;p++){n[p]=r.charCodeAt(p);}var k=new Uint8Array(n);l.push(k);}var j=new Blob(l,{type:o});return j;}return g;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.Caret=(function(){function d(e,f){this.canvas=e;this.location={X:0,Y:0};this.size={width:0,height:0};this.isBlack=false;this.blinkTimer=null;this.isVisible=false;this.divCaret=null;this.pixelRatio=f||1;this.divCaret=document.createElement("div");this.divCaret.classList.add("caret");this.divCaret.style.left="1px";this.divCaret.style.top="1px";this.canvas.parentNode.appendChild(this.divCaret);}Object.defineProperty(d.prototype,"bounds",{get:function(){var e={x:this.location.X,y:this.location.Y,width:this.size.width,height:this.size.height};return e;},enumerable:true,configurable:true});d.prototype.setState=function(g){var f=this.isVisible;this.hide();var e=Math.max(1,g.Size.Height/this.pixelRatio);var h=Math.max(1,g.Size.Width/this.pixelRatio);this.setSize(h,e);this.setLocation(g.Location);f=g.Visibility;if(f){this.show();}};d.prototype.blink=function(){if(this.isBlack){this.setOpacity(0);this.isBlack=false;}else{this.setOpacity(1);this.isBlack=true;}};d.prototype.show=function(){if(this.isVisible){return;}this.isVisible=true;this.setOpacity(1);this.isBlack=true;clearInterval(this.blinkTimer);this.blinkTimer=setInterval(this.blink.bind(this),500);};d.prototype.hide=function(){if(!this.isVisible){return;}this.isVisible=false;clearInterval(this.blinkTimer);if(this.isBlack){this.setOpacity(0);this.isBlack=false;}};d.prototype.setOpacity=function(e){if(!b.ViewersInvisible){this.divCaret.style.opacity=""+e;}};d.prototype.setLocation=function(f){this.location=cloneObject(f);this.location.X/=this.pixelRatio;this.location.Y/=this.pixelRatio;var e=this.canvas.offsetLeft+this.location.X;var g=this.canvas.offsetTop+this.location.Y;this.divCaret.style.left=e+"px";this.divCaret.style.top=g+"px";};d.prototype.refreshLocation=function(){this.setLocation(this.location);};d.prototype.setSize=function(f,e){this.size.width=f;this.size.height=e;this.divCaret.style.width=f+"px";this.divCaret.style.height=e+"px";};d.prototype.isVisible=function(){return this.isVisible;};return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ActivationState=Object.freeze({Activated:1,Deactivated:2,Disabled:3});b.HiddenTextField=(function(){function d(g,h,i){var j=this;this.canvas=g;this.componentType=h;this.owner=i;this.location={X:0,Y:0};this.elemInput=b.isTouchDevice?document.createElement("input"):document.createElement("div");this.elemInput.classList.add("txHiddenTextField");this.elemInput.setAttribute("autocomplete","off");this.elemInput.setAttribute("autocorrect","off");this.elemInput.setAttribute("spellcheck",false);this.elemInput.setAttribute("contenteditable",true);this.elemInput.tabIndex="-1";this.elemInput.addEventListener("keypress",b.keyPressHandler);this.elemInput.addEventListener("keydown",b.keyDownHandler);this.elemInput.addEventListener("keyup",b.keyUpHandler);this.elemInput.addEventListener("compositionstart",this.compositionstartHandler.bind(this));this.elemInput.addEventListener("compositionupdate",this.compositionupdateHandler.bind(this));this.elemInput.addEventListener("compositionend",this.compositionendHandler.bind(this));this.elemInput.addEventListener("blur",this.elemInput_Blur.bind(this));this.elemInput.addEventListener("focus",this.elemInput_Focus.bind(this));if(!b.isTouchDevice&&(h===b.ComponentType.TextView)){this.elemInput.addEventListener("paste",function(k){f(j,k);});this.elemInput.id="txHiddenTextField_textView";}this.canvas.parentNode.appendChild(this.elemInput);}Object.defineProperty(d.prototype,"top",{set:function(g){this.elemInput.style.top=g+"px";},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"left",{set:function(g){this.elemInput.style.left=g+"px";},enumerable:true,configurable:true});d.prototype.compositionstartHandler=function(i){b.inIMEComposition=true;var j=this.elemInput;var g=this.owner.caretBounds;var h=this.owner.canvas;j.style.left=g.x+h.offsetLeft+"px";j.style.top=g.y+h.offsetTop+g.height+"px";j.style.zIndex=1000;};d.prototype.compositionupdateHandler=function(g){};d.prototype.compositionendHandler=function(g){b.inIMEComposition=false;var j=this.elemInput;j.style.left="";j.style.top="";j.style.zIndex="";if(j.tagName==="DIV"){j.innerHTML="";}for(var h=0;h<g.data.length;++h){b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.KeyPress,0,0,{key:g.data[h],modifierKeys:0});}};d.prototype.focus=function(){if(!document.hasFocus()||(document.activeElement!=this.elemInput)){this.elemInput.focus();}};d.prototype.blur=function(){if(document.activeElement==this.elemInput){this.elemInput.blur();}};d.prototype.elemInput_Focus=function(g){if(this.elemInput.tagName==="INPUT"){this.elemInput.value="";}else{this.elemInput.innerHTML="";}};d.prototype.elemInput_Blur=function(g){b.sendCommand(b.Command.ComponentActivationState,this.componentType,b.ActivationState.Deactivated);};d.prototype.update=function(h,g){if(h!==null){this.elemInput.value=h;}if(this.elemInput.selectionStart!=g){this.elemInput.setSelectionRange(g,g);}};d.prototype.setText=function(g){if(this.elemInput.tagName==="INPUT"){this.elemInput.value=g;}else{this.elemInput.innerHTML=g;}};d.prototype.selectAll=function(){if(this.elemInput.tagName==="INPUT"){this.elemInput.select();return;}var g=this.elemInput;var h=document.createRange();h.selectNodeContents(g);var i=window.getSelection();i.removeAllRanges();i.addRange(h);};function e(g){var h=g.elemInput.innerHTML;g.elemInput.innerHTML="";b.pasteText(h,b.ClipboardDataType.HTML);}function f(h,g){if(b.clipboardMode==b.ClipboardMode.Server){return;}if(!b.handleClientPaste(g,false)){return;}h.elemInput.innerHTML="";setTimeout(function(){e(h);},10);return false;}return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(f,a){var b=f._private=f._private||{};b.modifierKeys=0;var d={Shift:4,Ctrl:8,Alt:2048,Mask:2060};b.KeyCode={Backspace:a.ui.keyCode.BACKSPACE,TAB:a.ui.keyCode.TAB,Enter:a.ui.keyCode.ENTER,Shift:16,Control:17,Alt:18,LeftArrow:a.ui.keyCode.LEFT,UpArrow:a.ui.keyCode.UP,RightArrow:a.ui.keyCode.RIGHT,DownArrow:a.ui.keyCode.DOWN,DEL:a.ui.keyCode.DELETE,INS:45,END:a.ui.keyCode.END,HOME:a.ui.keyCode.HOME,PageUp:a.ui.keyCode.PAGE_UP,PageDown:a.ui.keyCode.PAGE_DOWN,Space:a.ui.keyCode.SPACE};function c(g){var h=0;if(g.shiftKey){h|=d.Shift;}if(g.altKey){h|=d.Alt;}if(g.ctrlKey||g.metaKey){h|=d.Ctrl;}return h;}function e(h,i){b.modifierKeys=c(h);var j=h.keyCode||h.which||0;switch(j){case 171:j=187;break;case 173:j=189;break;}var g={key:j,modifierKeys:b.modifierKeys};b.sendCommand(b.Command.ComponentEvent,i,0,0,g);switch(j){case b.KeyCode.Enter:case b.KeyCode.Backspace:case b.KeyCode.TAB:case b.KeyCode.DEL:case b.KeyCode.END:case b.KeyCode.HOME:case b.KeyCode.LeftArrow:case b.KeyCode.UpArrow:case b.KeyCode.RightArrow:case b.KeyCode.DownArrow:case b.KeyCode.PageUp:case b.KeyCode.PageDown:h.preventDefault();break;}}b.keyDownHandler=function(k){if(b.overlayControls.exist()){return;}b.modifierKeys=c(k);var l=k.keyCode||k.which||0;if(b.modifierKeys&d.Ctrl){switch(l){case 43:case 45:case 107:case 109:case 171:case 173:case 187:case 189:k.preventDefault();break;}}var i=(((b.modifierKeys&d.Mask)==d.Ctrl)&&(l==86))||((b.modifierKeys&d.Shift)&&(l==b.KeyCode.INS));var h=(((b.modifierKeys&d.Mask)==d.Ctrl)&&(l==88))||((b.modifierKeys&d.Shift)&&(l==b.KeyCode.DEL));var g=((b.modifierKeys&d.Mask)==d.Ctrl)&&((l==67)||(l==b.KeyCode.INS));if(((b.modifierKeys&d.Mask)==(d.Ctrl|d.Shift)&&(l==86))){var j=new b.ClientPasteDialog();j.showModal();k.preventDefault();return;}else{if(b.clipboardMode==b.ClipboardMode.Server){if(i){k.preventDefault();}}}if((g||h)&&(b.clipboardMode==b.ClipboardMode.Client)){if(g){document.execCommand("copy");}else{if(h){document.execCommand("cut");}}k.preventDefault();}if(i&&(b.clipboardMode==b.ClipboardMode.Client)){return;}e(k,b.UserInputEventType.KeyDown);};b.keyUpHandler=function(g){if(b.overlayControls.exist()){return;}e(g,b.UserInputEventType.KeyUp);};b.keyPressHandler=function(g){if(b.overlayControls.exist()){return;}if((typeof g.charCode!=="undefined")&&(g.charCode===0)){return;}b.modifierKeys=c(g);var h=g.charCode||g.keyCode||g.which||0;if(h){b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.KeyPress,0,0,{key:h,modifierKeys:b.modifierKeys});}else{g.preventDefault();}};return f;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(i,a){var b=i._private=i._private||{};b.ComponentType={TextView:0,HorRuler:1,VertRuler:2,StatusBar:3,TxDialog:4,TrackChangesView:5};b.UserInputEventType={KeyDown:0,KeyPress:1,KeyUp:2,MouseMove:3,MouseDown:4,MouseUp:5,MouseDoubleClick:6,MouseWheel:7};b.MouseButtons={Left:1,Right:2,Middle:16};var f={IBeam:1,ArrowNE:2,VSplit:3,UpArrow:4,Arrow:5,DownArrow:6,SizeWE:7,SizeNS:8,SizeNWSE:9,SizeNESW:10,SizeAll:11,Cross:12,No:13,DragDropCopy:14,DragDropMove:15};var g={MoveAndSizeFrame:1,TableBorderMovingLine:2,DropCaret:3};b.cloneTouch=function(j){return{clientX:j.clientX,clientY:j.clientY,screenX:j.screenX,screenY:j.screenY,identifier:j.identifier,hasLeftDeadzone:j.hasLeftDeadzone};};var c=false;var e={touches:{},getItem:function(j){return this.touches["_"+j];},add:function(k){var j=k.identifier;this.touches["_"+j]=b.cloneTouch(k);},removeItem:function(j){var k=this.getItem(j);delete this.touches["_"+j];return k;},update:function(k){for(var j=0;j<k.length;++j){this.add(k[j]);}},count:function(){var k=0,j;for(j in this.touches){if(this.touches.hasOwnProperty(j)){++k;}}return k;},clear:function(){this.touches={};}};var h=(function(){var k=250,j=500,m=500;q.State={Initial:0,OneFinger:1,NoFingerAfterOneFinger:2,ImpendingDoubleClickOrObjectGrip:3,ObjectGrip:4};q.TouchEventType={Start:0,Move:1,End:2};function q(r){this.state=q.State.Initial;this.viewer=r;this.targetElem=r.canvas;this.touch=null;this.timeoutID=null;}function o(v,t,r,u){var s=document.createEvent("MouseEvents");s.initMouseEvent(t,true,true,window,1,v.screenX,v.screenY,v.clientX,v.clientY,false,false,false,false,r,null);u.dispatchEvent(s);}q.prototype.simulateMouseClick=function(s,r){o(s,"mouseover",r,this.targetElem);o(s,"mousemove",r,this.targetElem);o(s,"mousedown",r,this.targetElem);o(s,"mouseup",r,this.targetElem);o(s,"mousemove",r,this.targetElem);o(s,"mouseout",r,this.targetElem);o(s,"click",r,this.targetElem);};q.prototype.simulateMouseDoubleClick=function(s,r){o(s,"mouseover",r,this.targetElem);o(s,"mousemove",r,this.targetElem);o(s,"mousedown",r,this.targetElem);o(s,"mouseup",r,this.targetElem);o(s,"click",r,this.targetElem);o(s,"mousedown",r,this.targetElem);o(s,"mouseup",r,this.targetElem);o(s,"mousemove",r,this.targetElem);o(s,"mouseout",r,this.targetElem);o(s,"click",r,this.targetElem);o(s,"dblclick",r,this.targetElem);};q.prototype.reset=function(){if(this.timeoutID){clearTimeout(this.timeoutID);this.timeoutID=null;}if(this.touch){o(this.touch,"mouseup",0,this.targetElem);o(this.touch,"mousemove",0,this.targetElem);o(this.touch,"mouseout",0,this.targetElem);this.touch=null;}this.state=q.State.Initial;};function n(){b.ignoreNextTextFocusRequest=true;this.simulateMouseClick(this.touch,2);this.timeoutID=this.touch=null;this.state=q.State.Initial;}q.prototype.initialState=function(s,r){switch(r){case q.TouchEventType.Start:this.timeoutID=setTimeout(n.bind(this),j);this.touch=b.cloneTouch(s);this.state=q.State.OneFinger;break;default:this.reset();}};function l(){this.timeoutID=this.touch=null;this.state=q.State.Initial;}q.prototype.oneFingerState=function(s,r){switch(r){case q.TouchEventType.End:if(this.timeoutID){clearTimeout(this.timeoutID);}this.timeoutID=setTimeout(l.bind(this),k);this.touch=b.cloneTouch(s);this.state=q.State.NoFingerAfterOneFinger;break;default:this.reset();}};function p(r){r=r||this;o(r.touch,"mouseover",0,r.targetElem);o(r.touch,"mousemove",0,r.targetElem);o(r.touch,"mousedown",0,r.targetElem);r.timeoutID=r.touch=null;r.state=q.State.ObjectGrip;}q.prototype.noFingerAfterOneFingerState=function(s,r){switch(r){case q.TouchEventType.Start:if(this.timeoutID){clearTimeout(this.timeoutID);}this.timeoutID=setTimeout(p.bind(this),m);this.touch=b.cloneTouch(s);this.state=q.State.ImpendingDoubleClickOrObjectGrip;break;default:this.reset();}};q.prototype.impendingDoubleClickOrObjectGripState=function(s,r){switch(r){case q.TouchEventType.End:if(this.timeoutID){clearTimeout(this.timeoutID);this.timeoutID=null;}this.simulateMouseDoubleClick(s,0);this.state=q.State.Initial;break;case q.TouchEventType.Move:if(this.timeoutID){clearTimeout(this.timeoutID);this.timeoutID=null;}p(this);this.touch=b.cloneTouch(s);break;default:this.reset();}};q.prototype.objectGripState=function(s,r){switch(r){case q.TouchEventType.Move:o(s,"mousemove",0,this.targetElem);this.touch=b.cloneTouch(s);break;case q.TouchEventType.End:o(s,"mouseup",0,this.targetElem);o(s,"mousemove",0,this.targetElem);o(s,"mouseout",0,this.targetElem);this.touch=b.cloneTouch(s);this.state=q.State.Initial;break;default:this.reset();}};q.prototype.processTouch=function(s,r){switch(this.state){case q.State.Initial:this.initialState(s,r);break;case q.State.OneFinger:this.oneFingerState(s,r);break;case q.State.NoFingerAfterOneFinger:this.noFingerAfterOneFingerState(s,r);break;case q.State.ImpendingDoubleClickOrObjectGrip:this.impendingDoubleClickOrObjectGripState(s,r);break;case q.State.ObjectGrip:this.objectGripState(s,r);break;}};return q;})();var d=20;b.mouseOwner=null;b.isPinchZooming=false;b.ComponentViewer=(function(){var p="1px dashed black",q="lightgray";function k(r,s,u,t){this.canvas=r;this.context=r.getContext("2d");this.mouseButtons=0;this.imgBuffer=null;this.shapeDIV=null;this.shapeBlinkTimer=null;this.shapeIsBlack=true;this.hiddenTextField=null;this.touchStateMachine=b.isTouchDevice?new h(this):null;this.viewChangedQueue=[];this.bUpdating=false;this.pixelRatio=window.devicePixelRatio;j(this.canvas,this.pixelRatio);this.dialogNestingDepth=t||0;this.caret=new b.Caret(r,this.pixelRatio);if((s===b.ComponentType.TextView)||(s===b.ComponentType.TxDialog)){this.hiddenTextField=new b.HiddenTextField(r,s,this);}this.componentType=s;this.dialogType=u||b.TXDialogType.Unknown;this.cursorType=null;this.shapeDIV=document.createElement("div");this.shapeDIV.classList.add("txShapeDIV");this.shapeDIV.style.top="1px";this.shapeDIV.style.left="-9999px";this.context.canvas.parentNode.appendChild(this.shapeDIV);this.canvasClientBoundRect=null;r.addEventListener("mousedown",this.canvas_MouseDown.bind(this));r.addEventListener("mouseup",this.canvas_MouseUp.bind(this));r.addEventListener("click",this.canvas_Click.bind(this));this.shapeDIV.addEventListener("mouseup",this.canvas_MouseUp.bind(this));r.addEventListener("mousemove",this.canvas_MouseMove.bind(this));r.addEventListener("dblclick",this.canvas_DoubleClick.bind(this));r.addEventListener("DOMMouseScroll",this.canvas_MouseWheel.bind(this));r.addEventListener("mousewheel",this.canvas_MouseWheel.bind(this));r.addEventListener("contextmenu",function(v){v.preventDefault();});if(b.isTouchDevice){r.addEventListener("touchstart",this.canvas_TouchStart.bind(this));r.addEventListener("touchend",this.canvas_TouchEnd.bind(this));r.addEventListener("touchcancel",this.canvas_TouchCancel.bind(this));r.addEventListener("touchleave",this.canvas_TouchEnd.bind(this));r.addEventListener("touchmove",this.canvas_TouchMove.bind(this));}document.addEventListener("componentCursorChanged",this.cursorChanged.bind(this));if(this.componentType===b.ComponentType.TextView){document.addEventListener("drawShapeMessageReceived",this.drawShape.bind(this));}}Object.defineProperty(k.prototype,"width",{get:function(){return this.canvas.width/this.pixelRatio;},set:function(r){this.canvas.width=r*this.pixelRatio;this.canvas.style.width=r+"px";},enumerable:true,configurable:true});Object.defineProperty(k.prototype,"height",{get:function(){return this.canvas.height/this.pixelRatio;},set:function(r){this.canvas.height=r*this.pixelRatio;this.canvas.style.height=r+"px";},enumerable:true,configurable:true});Object.defineProperty(k.prototype,"left",{get:function(){return this.canvas.offsetLeft;},set:function(r){this.canvas.style.left=r+"px";},enumerable:true,configurable:true});Object.defineProperty(k.prototype,"top",{get:function(){return this.canvas.offsetTop;},set:function(r){this.canvas.style.top=r+"px";},enumerable:true,configurable:true});Object.defineProperty(k.prototype,"caretBounds",{get:function(){return this.caret.bounds;},enumerable:true,configurable:true});k.prototype.setCaretState=function(r){if(!b.inIMEComposition&&r.Visibility&&this.hiddenTextField){this.hiddenTextField.top=(r.Location.Y/this.pixelRatio)+this.canvas.offsetTop;}this.caret.setState(r);};function j(r,s){r.style.width=(r.width/s)+"px";r.style.height=(r.height/s)+"px";}k.prototype.setImage=function(s){var t=this;var r=new Image();r.onload=function(){t.context.clearRect(0,0,r.naturalWidth,r.naturalHeight);t.context.drawImage(r,0,0,r.naturalWidth,r.naturalHeight);b.sendCommand(b.Command.ImageLoaded,t.componentType,t.dialogType,t.dialogNestingDepth);};r.src=s;};k.prototype.requestUpdateImageRegions=function(r){if(this.bUpdating){this.viewChangedQueue.push({tiles:r});return;}this.bUpdating=true;this.updateImageRegions(r);};k.prototype.requestScroll=function(r,s){if(this.bUpdating){this.viewChangedQueue.push({delta:r,tiles:s});return;}this.bUpdating=true;this.scroll(r,s);};k.prototype.updateImageRegions=function(t){var s=this,u=0,r=t.length;t.forEach(function(w){var v=new Image();v.onload=function(){if(s.componentType===b.ComponentType.TxDialog){s.context.clearRect(w.pos.X,w.pos.Y,v.naturalWidth,v.naturalHeight);}s.context.drawImage(v,w.pos.X,w.pos.Y,v.naturalWidth,v.naturalHeight);if(r===++u){if(s.viewChangedQueue.length>0){s.processNextQueueEntry();}else{b.sendCommand(b.Command.ImageLoaded,s.componentType,s.dialogType,s.dialogNestingDepth);s.bUpdating=false;}}};v.src=w.imageDataURL;});};k.prototype.scroll=function(s,v){var u=this,t=0,r=v.length;if(!this.canvas.width||!this.canvas.height){return;}this.context.drawImage(this.canvas,s.X,s.Y,this.canvas.width,this.canvas.height);v.forEach(function(x){var w=new Image();w.onload=function(){u.context.drawImage(w,x.pos.X,x.pos.Y,w.naturalWidth,w.naturalHeight);if(r===++t){if(u.viewChangedQueue.length>0){u.processNextQueueEntry();}else{b.sendCommand(b.Command.ImageLoaded,u.componentType,u.dialogType,u.dialogNestingDepth);u.bUpdating=false;}}};w.src=x.imageDataURL;});};k.prototype.processNextQueueEntry=function(){var r=this.viewChangedQueue.shift();if(r.hasOwnProperty("delta")){this.scroll(r.delta,r.tiles);}else{this.updateImageRegions(r.tiles);}};k.prototype.show=function(){this.canvas.style.display="block";};k.prototype.hide=function(){this.canvas.style.display="none";};k.prototype.showCaret=function(){this.caret.show();};k.prototype.hideCaret=function(){this.caret.hide();};k.prototype.refreshCaretLocation=function(){this.caret.refreshLocation();};k.prototype.bufferContent=function(){if(!this.canvas.width||!this.canvas.height){this.imgBuffer=null;return;}this.imgBuffer=this.context.getImageData(0,0,this.canvas.width,this.canvas.height);};k.prototype.drawBufferedContent=function(){if(!this.imgBuffer){return;}this.context.putImageData(this.imgBuffer,0,0);delete this.imgBuffer;};k.prototype.canvas_MouseDown=function(s){if(!b.mouseOwner){b.mouseOwner=this;}else{if(b.mouseOwner!=this){return;}}if(s.which===1){this.mouseButtons|=b.MouseButtons.Left;}if(s.which===2){this.mouseButtons|=b.MouseButtons.Middle;}if(s.which===3){this.mouseButtons|=b.MouseButtons.Right;}if((b.BrowserDetect.browser!=="Explorer")&&(s.detail===2)){this.canvas_DoubleClick(s);c=true;s.preventDefault();return;}var t=this.getMousePos(s),r={mousePos:{X:Math.round(t.x),Y:Math.round(t.y)},modifierKeys:b.modifierKeys,buttons:this.mouseButtonToMouseButtonFlag(s.which)};b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.MouseDown,this.componentType,0,r);s.preventDefault();};k.prototype.canvas_MouseUp=function(s){if(b.mouseOwner){return;}b.lastMouseUpEvent=s;var t=this.getMousePos(s),r={mousePos:{X:Math.round(t.x),Y:Math.round(t.y)},modifierKeys:b.modifierKeys,buttons:this.mouseButtonToMouseButtonFlag(s.which)};b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.MouseUp,this.componentType,0,r);if(s.which==1){this.mouseButtons&=~b.MouseButtons.Left;}if(s.which==2){this.mouseButtons&=~b.MouseButtons.Middle;}if(s.which==3){this.mouseButtons&=~b.MouseButtons.Right;}this.canvasClientBoundRect=null;if(s.which==1){this.hideShape();}s.preventDefault();};k.prototype.canvas_Click=function(r){this.focus();};k.prototype.canvas_MouseMove=function(s){if(b.mouseOwner){return;}var t=this.getMousePos(s);var r={mousePos:{X:Math.round(t.x),Y:Math.round(t.y)},modifierKeys:b.modifierKeys,buttons:this.mouseButtons};b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.MouseMove,this.componentType,0,r);s.preventDefault();};k.prototype.canvas_DoubleClick=function(s){if(c){c=false;s.preventDefault();return;}var t=this.getMousePos(s),r={mousePos:{X:Math.round(t.x),Y:Math.round(t.y)},modifierKeys:b.modifierKeys};b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.MouseDoubleClick,this.componentType,0,r);s.preventDefault();};k.prototype.canvas_TouchStart=function(r){b.hideAllOtherMenus();b.fileMenu.hide();var s=r.changedTouches;if((s.length===1)&&(e.count()===0)){this.canvasClientBoundRect=this.canvas.getBoundingClientRect();this.touchStateMachine.processTouch(s[0],h.TouchEventType.Start);}else{this.touchStateMachine.reset();}e.update(s);};k.prototype.canvas_TouchDragTextView=function(s){var t=e.getItem(s.identifier);if(this.componentType===b.ComponentType.TextView){var r={X:t.clientX-s.clientX,Y:t.clientY-s.clientY};r=b.pointPixelToTwips(r,b.zoom);b.scrollDelta(r,this.componentType);}};k.prototype.canvas_TouchPinchTextView=function(D){b.isPinchZooming=true;var B=D[0],E=e.getItem(B.identifier);var C,F;if(D.length==2){C=D[1];F=e.getItem(C.identifier);}else{for(var A in e.touches){if(A!=("_"+B.identifier)){F=C=e.touches[A];break;}}}var y={X:E.clientX,Y:E.clientY},z={X:F.clientX,Y:F.clientY},u=l(z,y),s=n(y,z);y={X:B.clientX,Y:B.clientY};z={X:C.clientX,Y:C.clientY};var t=l(z,y),r=n(y,z);var x={X:Math.round(s.X-r.X),Y:Math.round(s.Y-r.Y)};var v=Math.sqrt(x.X*x.X+x.Y*x.Y);if(v>0){x=b.pointPixelToTwips(x,b.zoom);b.scrollDelta(x,this.componentType);}var w=t/u;b.zoom=Math.round(b.zoom*w);b.sendCommand(b.Command.Zoom,b.zoom);};function o(u){var r=u.changedTouches;var w=[];for(var v=0;v<r.length;++v){var s=r[v];var x=e.getItem(s.identifier);if(x.hasLeftDeadzone){s.hasLeftDeadzone=true;w.push(s);}else{var t=m(x,s);if(t>=d){s.hasLeftDeadzone=true;w.push(s);}}}return w;}k.prototype.canvas_TouchMove=function(r){if(!e.count()){if(this.touchStateMachine.state!=h.State.Initial){this.touchStateMachine.reset();}return;}var s=o(r);if(s.length){switch(this.touchStateMachine.state){case h.State.ObjectGrip:case h.State.ImpendingDoubleClickOrObjectGrip:this.touchStateMachine.processTouch(s[0],h.TouchEventType.Move);break;default:switch(this.componentType){case b.ComponentType.TextView:this.canvas_TouchMoveTextView(s);break;}this.touchStateMachine.reset();}e.update(s);}if(r.cancelable){r.preventDefault();}};k.prototype.canvas_TouchMoveTextView=function(r){switch(e.count()){case 1:this.canvas_TouchDragTextView(r[0]);break;case 2:this.canvas_TouchPinchTextView(r);break;}};k.prototype.canvas_TouchEnd=function(r){b.isPinchZooming=false;var u=r.changedTouches;if(u.length==1){this.touchStateMachine.processTouch(u[0],h.TouchEventType.End);}for(var s=0;s<u.length;++s){var t=u[s];e.removeItem(t.identifier);}};k.prototype.canvas_TouchCancel=function(r){var u=r.changedTouches;if(u.length==1){this.touchStateMachine.processTouch(u[0],h.TouchEventType.End);}for(var s=0;s<u.length;++s){var t=u[s];e.removeItem(t.identifier);}if(r.cancelable){r.preventDefault();}};function l(t,u){var r=u.X-t.X;var s=u.Y-t.Y;return Math.sqrt((r*r)+(s*s));}function m(t,u){var r={X:t.clientX,Y:t.clientY},s={X:u.clientX,Y:u.clientY};return l(s,r);}function n(r,s){return{X:(r.X+s.X)/2,Y:(r.Y+s.Y)/2};}k.prototype.canvas_MouseWheel=function(t){var s=(t.wheelDelta||-(t.detail*40)),u=this.getMousePos(t),r={mousePos:{X:Math.round(u.x),Y:Math.round(u.y)},modifierKeys:b.modifierKeys,delta:s};b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.MouseWheel,this.componentType,0,r);t.preventDefault();};k.prototype.cursorChanged=function(s){var t=s.detail;var r;if(t.target!=this.componentType){return;}if(t.dialogType!=this.dialogType){return;}if(this.mouseButtons&b.MouseButtons.Left){return;}this.cursorType=t.cursorType;switch(t.cursorType){case f.IBeam:this.canvas.style.cursor="text";break;case f.ArrowNE:this.canvas.style.cursor="url("+b.imageResources.small.arrowne+") 32 0, default";break;case f.VSplit:this.canvas.style.cursor="col-resize";break;case f.UpArrow:this.canvas.style.cursor="pointer";break;case f.Arrow:this.canvas.style.cursor="default";break;case f.DownArrow:this.canvas.style.cursor="url("+b.imageResources.small.downarrow+") 23 11, default";break;case f.SizeWE:this.canvas.style.cursor="ew-resize";break;case f.SizeNS:this.canvas.style.cursor="ns-resize";break;case f.SizeNWSE:this.canvas.style.cursor="nwse-resize";break;case f.SizeNESW:this.canvas.style.cursor="nesw-resize";break;case f.SizeAll:this.canvas.style.cursor="move";break;case f.Cross:this.canvas.style.cursor="crosshair";break;case f.No:this.canvas.style.cursor="not-allowed";break;case f.DragDropCopy:this.canvas.style.cursor="copy";break;case f.DragDropMove:this.canvas.style.cursor="move";break;default:this.canvas.style.cursor="default";break;}};k.prototype.shapeBlink=function(){if(this.shapeIsBlack){this.shapeDIV.style.borderColor=q;this.shapeIsBlack=false;}else{this.shapeDIV.style.borderColor="black";this.shapeIsBlack=true;}};k.prototype.hideShape=function(){if(this.shapeBlinkTimer){clearTimeout(this.shapeBlinkTimer);this.shapeDIV.style.borderColor="black";this.shapeBlinkTimer=null;this.shapeIsBlack=true;}this.shapeDIV.style.opacity=0;this.shapeDIV.style.left="-9999px";};k.prototype.drawShape=function(r){if(!(this.mouseButtons&b.MouseButtons.Left)){return;}var t=r.detail;if(!this.shapeBlinkTimer){this.shapeBlinkTimer=setInterval(this.shapeBlink.bind(this),500);this.shapeDIV.style.backgroundColor="transparent";switch(t.Kind){case g.TableBorderMovingLine:this.shapeDIV.style.border="none";this.shapeDIV.style.borderLeft=p;break;case g.MoveAndSizeFrame:this.shapeDIV.style.border=p;break;case g.DropCaret:this.shapeDIV.style.border="none";this.shapeDIV.style.backgroundColor="black";break;}this.shapeDIV.style.opacity=1;}var v=(t.Location.X/this.pixelRatio)+this.left,w=(t.Location.Y/this.pixelRatio)+this.top;this.shapeDIV.style.top=w+"px";this.shapeDIV.style.left=v+"px";var u=Math.max(1,t.Size.Width/this.pixelRatio);var s=Math.max(1,t.Size.Height/this.pixelRatio);this.shapeDIV.style.height=s+"px";this.shapeDIV.style.width=u+"px";};k.prototype.focus=function(){if(b.ignoreNextTextFocusRequest){b.ignoreNextTextFocusRequest=false;return;}if(!this.hiddenTextField){return;}if((this.componentType!==b.ComponentType.TextView)&&(this.componentType!==b.ComponentType.TxDialog)){return;}this.hiddenTextField.focus();b.sendCommand(b.Command.ComponentActivationState,this.componentType,b.ActivationState.Activated);};k.prototype.blur=function(){if(this.hiddenTextField){this.hiddenTextField.blur();}};k.prototype.getMousePos=function(r){var s;if(b.isTouchDevice&&this.canvasClientBoundRect){s=this.canvasClientBoundRect;}else{s=this.canvas.getBoundingClientRect();}return{x:(r.clientX-s.left)*this.pixelRatio,y:(r.clientY-s.top)*this.pixelRatio};};k.prototype.mouseButtonToMouseButtonFlag=function(r){switch(r){case 1:return b.MouseButtons.Left;case 2:return b.MouseButtons.Middle;case 3:return b.MouseButtons.Right;}return 0;};k.prototype.setHiddenTextFieldText=function(r){this.hiddenTextField.setText(r);};k.prototype.selectHiddenTextfieldContent=function(){this.hiddenTextField.selectAll();};return k;})();return i;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(g,a){var b=g._private=g._private||{};b.OverlayControlType={};b.OverlayControlMessage={};b.OverlayControlStateType={};b.overlayControls={comboBox:null,datePicker:null,exist:function(){for(var i in this){if((typeof this[i]!=="function")&&(this[i]!==null)){return true;}}return false;}};b.processOverlayControlCommand=function(i){switch(i.Param1){case b.OverlayControlMessage.Create:c(i.Data);break;case b.OverlayControlMessage.Remove:f(i.Data);break;case b.OverlayControlMessage.Focus:d(i.Data);break;case b.OverlayControlMessage.State:h(i.Data);break;default:throw new Error("processOverlayControlCommand(): Unknown overlay control command "+i.Param1);}};function c(j){var i=document.getElementById("txTemplateDesignerContainer"),m=e();switch(j.controlType){case b.OverlayControlType.ComboBox:k();break;case b.OverlayControlType.DatePicker:if(b.BrowserDetect.browser==="Explorer"){break;}l();break;default:throw new Error("createOverlayControl(): Unknown overlay control type "+j.controlType);}function k(){var p,n;n=document.createElement("select");n.classList.add("txOverlayControl");n.id=j.name;n.style.top=j.location.y+m.y+"px";n.style.left=j.location.x+m.x+"px";if(j.size){n.style.height=j.size.height+"px";n.style.width=j.size.width+"px";}n.style.fontFamily=j.fontName;n.style.fontSize=j.fontSize+"pt";n.style.fontWeight=j.bold?"700":"400";n.style.fontStyle=j.italic?"italic":"";j.items.forEach(function(v){p=document.createElement("option");p.textContent=v.Text;p.value=v.Value;n.appendChild(p);});p=j.text?[].find.call(n.options,function(v){return v.text===j.text;}):null;if(!p){p=document.createElement("option");p.text=p.value=j.text;p.style.display="none";if(n.firstChild){n.insertBefore(p,n.firstChild);}else{n.appendChild(p);}}p.selected=true;i.appendChild(n);b.textViewer.blur();b.overlayControls.comboBox=n;n.addEventListener("change",o);if(j.isEditable){n.addEventListener("mousedown",r);}n.addEventListener("mouseup",s);n.addEventListener("keydown",q);function o(w){var v={name:j.name,value:(w.target.value==="null")?null:w.target.value};b.sendCommand(b.Command.OverlayControlCommand,b.OverlayControlMessage.Event,b.OverlayControlType.ComboBox,b.InputControlEventType.Change,v);}function r(v){var y=n.getBoundingClientRect();var x={x:v.clientX-y.left,y:v.clientY-y.top,isInside:function(z){return(this.x>=z.left)&&(this.x<=z.left+z.width)&&(this.y>=z.top)&&(this.y<=z.top+z.height);}};if(x.isInside(w())){t();u({x:v.clientX,y:v.clientY});}function w(){var A=j.topLeftPadding,z=j.dropDownArrowWidth;return{left:A.width,top:A.height,width:y.width-A.width-z,height:y.height-2*A.height};}}function s(v){b.sendCommand(b.Command.ComponentActivationState,b.ComponentType.TextView,b.ActivationState.Deactivated);}function q(v){switch(v.key){case"Esc":case"Escape":case"Enter":t();break;}}function t(){n.style.display="none";b.sendCommand(b.Command.OverlayControlCommand,b.OverlayControlMessage.Remove,0,0,{name:j.name});b.textViewer.focus();}function u(w){var x=document.getElementById("mainCanvas").getBoundingClientRect();var v={mousePos:{X:Math.round(w.x-x.left),Y:Math.round(w.y-x.top)},modifierKeys:0,buttons:b.MouseButtons.Left};b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.MouseDown,b.ComponentType.TextView,0,v);b.sendCommand(b.Command.ComponentEvent,b.UserInputEventType.MouseUp,b.ComponentType.TextView,0,v);}}function l(){var o;o=document.createElement("input");o.type="date";o.classList.add("txOverlayControl");o.id=j.name;o.value=j.value;o.style.top=j.location.y+m.y+"px";o.style.left=j.location.x+m.x+"px";if(j.size){o.style.height=j.size.height+"px";o.style.width=j.size.width+"px";}o.style.fontFamily=j.fontName;o.style.fontSize=j.fontSize+"pt";i.appendChild(o);b.textViewer.blur();b.overlayControls.datePicker=o;o.addEventListener("change",n);o.addEventListener("keydown",p);function n(s){var r={name:j.name,value:(s.target.value==="null")?null:s.target.value};b.sendCommand(b.Command.OverlayControlCommand,b.OverlayControlMessage.Event,b.OverlayControlType.DatePicker,b.InputControlEventType.Change,r);}function p(r){switch(r.key){case"Esc":case"Escape":case"Enter":q();break;}}function q(){o.style.display="none";b.sendCommand(b.Command.OverlayControlCommand,b.OverlayControlMessage.Remove,0,0,{name:j.name});b.textViewer.focus();}}}function f(j){var i=document.getElementById(j.name);if(!i){console.error("removeOverlayControl(): Element with id "+j.name+" not found.");return;}i.parentNode.removeChild(i);b.textViewer.focus();switch(i.tagName){case"SELECT":b.overlayControls.comboBox=null;break;case"INPUT":b.overlayControls.datePicker=null;break;}}function d(j){var i=document.getElementById(j.name);if(!i){console.error("focusOverlayControl(): Element with id "+j.name+" not found.");return;}i.focus();}function h(j){var i=document.getElementById(j.name);if(!i){throw new Error("updateOverlayControlState(): element with id "+j.name+" not found.");}var o=j.value;switch(j.stateType){case b.OverlayControlStateType.Items:k();break;case b.OverlayControlStateType.Size:n();break;case b.OverlayControlStateType.Location:l();break;case b.OverlayControlStateType.SelectedItem:m();break;default:throw new Error("updateOverlayControlState(): Unknown control state type "+j.stateType);}function k(){var q,p;if(i.tagName!=="SELECT"){console.error("updateOverlayControlState(): Can only update the items of SELECT elements.");return;}p=[].find.call(i.options,function(r){return r.style.display==="none";});if(p){q={text:p.text,value:p.value};}i.innerHTML="";o.forEach(function(r){p=document.createElement("option");p.textContent=r.Text;p.value=r.Value;i.appendChild(p);});if(q){p=[].find.call(i.options,function(r){return r.text===q.text;});if(!p){p=document.createElement("option");p.text=q.text;p.value=q.value;if(i.firstChild){i.insertBefore(p,i.firstChild);}else{i.appendChild(p);}}p.selected=true;}}function n(){if(o){i.style.width=o.width+"px";i.style.height=o.height+"px";}else{i.style.width="";i.style.height="";}}function l(){var p=e();i.style.left=o.x+p.x+"px";i.style.top=o.y+p.y+"px";}function m(){if(o===null){var p=[].find.call(i.options,function(q){return q.style.display==="none";});if(p){i.removeChild(p);}i.selectedIndex=-1;}else{console.error("updateOverlayControlSelectedItem(): Non-null case not implemented yet.");}}}function e(){var j=document.getElementById("mainCanvas"),i=document.getElementById("txTemplateDesignerContainer"),k=j.getBoundingClientRect(),l=i.getBoundingClientRect();return{x:k.left-l.left,y:k.top-l.top};}return g;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(t,a){"use strict";var e=t._private=t._private||{};e.ScrollbarWidth=15;e.StatusBarHeight=22;e.VertRulerWidth=25;e.HorRulerHeight=25;e.MinScrollbarHandleLength=30;e.DEFAULT_RIBBONBAR_HEIGHT=114;e.ribbonBarHeight=e.DEFAULT_RIBBONBAR_HEIGHT;e.DefRes=96;e.ScrollStep=1000;var c=false;var h=false;var b=true;var g=true;var f=true;e.ViewersInvisible=true;e.ScrollPadding=567;var d=false;e.clientSize={Width:0,Height:0};e.textViewSizeInTwips={Width:0,Height:0};e.documentSize={Width:0,Height:0};e.viewLocation={X:-e.ScrollPadding,Y:0};e.SideBarType=Object.freeze({TrackChanges:1});e.SpecialZoomFactor={PageWidth:-1,WholePage:-2,TextWidth:-3};e.zoom=100;var n;e.createTrackChangesSidebar=function(){e.trackChangesSidebar=new e.TXSidebar(document.getElementById("trackChangesSidebar"),210);e.trackChangesSidebar.header=e.TXTextControlResources.ID_TRACKEDCHANGES_CAPTION;var B=document.querySelector("#trackChangesSidebar .refreshbtn");B.addEventListener("click",function(){e.sendCommand(e.Command.TrackedChangesViewerRefresh);});e.trackChangesSidebar.addEventListener("hidden",function(){i();e.sendCommand(e.Command.TrackChangesViewerDispose);});e.trackChangesSidebar.addEventListener("visible",function(){if(e.TXTextControlResources.ID_TRACKEDCHANGES_COUNT){e.trackChangesSidebar.subTitle=e.TXTextControlResources.ID_TRACKEDCHANGES_COUNT+e.trackedChangesCount;}if(e.TXTextControlResources.TOOLTIP_RefreshTrackedChanges){B.title=e.TXTextControlResources.TOOLTIP_RefreshTrackedChanges;}e.sendCommand(e.Command.TrackChangesViewerInitiate);i();});e.trackChangesViewer=new e.TextComponentViewer(trackChangesCanvas,e.ComponentType.TrackChangesView);e.txTrackChangesVerticalScrollbar=new e.Scrollbar(a("#txTrackChangesScrollbar"),e.trackChangesViewer,e.SliderOrientation.Vertical);e.txTrackChangesHorizontalScrollbar=new e.Scrollbar(a("#txTrackChangesHorScrollbar"),e.trackChangesViewer,e.SliderOrientation.Horizontal);i();};e.createScrollbars=function(){var B=a("#slider-horizontal");var C=a("#slider-vertical");C.on("mousedown",z);C.on("touchstart",z);B.on("mousedown",m);B.on("touchstart",m);B.slider({orientation:e.SliderOrientation.Horizontal,min:-e.ScrollPadding,max:100,value:-e.ScrollPadding,slide:function(D,E){o(E.value);},start:function(){d=true;},stop:function(){d=false;}});C.slider({orientation:e.SliderOrientation.Vertical,min:0,max:100,value:100,slide:function(D,E){var F=C.slider("option","max")-E.value;p(F);},start:function(){d=true;},stop:function(){d=false;}});a("#slider-horizontal .txui-slider-handle").unbind("keydown");a("#slider-vertical .txui-slider-handle").unbind("keydown");a("#vertical-scrollbar-wrapper").click(y);a("#horizontal-scrollbar-wrapper").click(l);a("div.scroll-button").click(q);};function o(B){e.sendCommand(e.Command.HScroll,B);}function p(B){e.sendCommand(e.Command.VScroll,B);}e.scrollDelta=function(C,B){e.sendCommand(e.Command.ScrollDelta,C.X,C.Y,B);};e.onContainerResize=function(){e.adaptViewToContainerSize();};e.documentSizeChangedHandler=function(B){var C=B.detail;e.documentSize.Width=C.Width;e.documentSize.Height=C.Height;i();};function ZoomFactorChangedEventArgs(zoomFactor){this.zoomFactor=zoomFactor;}e.txZoomedHandler=function(C){var D=C.detail;var B=new ZoomFactorChangedEventArgs(D.zoomFactor);e.fireEvent(e.EventName.zoomFactorChanged,B);if(!e.isPinchZooming){e.zoom=D.zoomFactor;}i();};function w(){if(d){return;}if(!e.documentSize.Width||!e.documentSize.Height){return;}var E={Width:e.textViewer.width,Height:e.textViewer.height};E=s(E,e.zoom);var B=e.documentSize.Width-E.Width;var F=e.documentSize.Height-E.Height;var C=(e.viewLocation.X+e.ScrollPadding)/B;var D=e.viewLocation.Y/F;if(c){a("#slider-horizontal").slider("option","value",(C*e.documentSize.Width)-e.ScrollPadding);}if(h){a("#slider-vertical").slider("option","value",(1-D)*e.documentSize.Height);}}function v(){var B=b?e.HorRulerHeight:0;var C=g?e.VertRulerWidth:0;u(C,B);x(C,B);}function u(L,F){var I=a("#slider-horizontal");var J=a("#horizontal-scrollbar-wrapper");var B={left:a("#scroll-button-left"),right:a("#scroll-button-right")};var D=a("#slider-horizontal a.txui-slider-handle");var E=J.parent();if(c){E.css("left",e.textViewer.left);E.show();J.show();B.left.show();B.right.show();var C=B.left[0].clientWidth;var H=e.textViewer.width-(2*C);var G=Math.max(e.MinScrollbarHandleLength,(e.textViewSizeInTwips.Width/e.documentSize.Width)*H);D.css({width:G,height:e.ScrollbarWidth,top:0,marginLeft:-(G/2)});I.slider("option","min",-e.ScrollPadding);I.slider("option","max",e.documentSize.Width-e.ScrollPadding);I.css({width:e.textViewer.width-G-(2*C),marginLeft:G/2});var K=e.textViewer.height+e.ribbonBarHeight+F;J.css({width:H,height:e.ScrollbarWidth,left:C,top:K});B.left.css({top:K});B.right.css({left:C+H,top:K});}else{E.hide();J.hide();B.left.hide();B.right.hide();}}function x(K,E){var I=a("#slider-vertical");var J=a("#vertical-scrollbar-wrapper");var C={up:a("#scroll-button-up"),down:a("#scroll-button-down")};var D=a("#slider-vertical a.txui-slider-handle");var H=J.parent();if(h){H.css("left",e.textViewer.left+e.textViewer.width);H.show();J.show();C.up.show();C.down.show();var B=C.up[0].clientHeight;var G=e.textViewer.height-(2*B);var F=Math.max(e.MinScrollbarHandleLength,(e.textViewSizeInTwips.Height/e.documentSize.Height)*G);D.css({width:e.ScrollbarWidth,height:F,left:0,marginBottom:-(F/2)});I.slider("option","min",0);I.slider("option","max",e.documentSize.Height);I.css({height:e.textViewer.height-F-(2*B),marginTop:F/2});J.css({height:G,width:e.ScrollbarWidth,top:e.ribbonBarHeight+B+E});C.up.css({top:e.ribbonBarHeight+E});C.down.css({top:e.ribbonBarHeight+B+G+E});}else{H.hide();}}function y(B){var D=a("#vertical-scrollbar-wrapper")[0];var E=(B.pageY-D.offsetTop)/D.clientHeight;var C=1-(a("#slider-vertical").slider("option","value")/e.documentSize.Height);if(!e.isTouchDevice){e.textViewer.focus();}if(E>C){e.sendCommand(e.Command.ComponentEvent,e.UserInputEventType.KeyDown,e.ComponentType.TextView,0,{key:e.KeyCode.PageDown});}else{e.sendCommand(e.Command.ComponentEvent,e.UserInputEventType.KeyDown,e.ComponentType.TextView,0,{key:e.KeyCode.PageUp});}}function l(B){var D=a("#horizontal-scrollbar-wrapper")[0];var E=(B.pageX-D.offsetLeft)/D.clientWidth;var C=(a("#slider-horizontal").slider("option","value")+e.ScrollPadding)/e.documentSize.Width;if(!e.isTouchDevice){e.textViewer.focus();}if(E>C){e.scrollDelta({X:e.ScrollStep,Y:0},e.ComponentType.TextView);}else{e.scrollDelta({X:-e.ScrollStep,Y:0},e.ComponentType.TextView);}}function z(B){var D=a("#slider-vertical");var C=D.find(".txui-slider-handle");if(B.target!==C[0]){B.stopImmediatePropagation();}}function m(B){var D=a("#slider-horizontal");var C=D.find(".txui-slider-handle");if(B.target!==C[0]){B.stopImmediatePropagation();}}function q(B){switch(B.currentTarget.id){case"scroll-button-up":e.scrollDelta({X:0,Y:-e.ScrollStep},e.ComponentType.TextView);break;case"scroll-button-down":e.scrollDelta({X:0,Y:e.ScrollStep},e.ComponentType.TextView);break;case"scroll-button-left":e.scrollDelta({X:-e.ScrollStep,Y:0},e.ComponentType.TextView);break;case"scroll-button-right":e.scrollDelta({X:e.ScrollStep,Y:0},e.ComponentType.TextView);break;}}e.fadeInViewers=function(){if(e.ViewersInvisible){var I=document.querySelectorAll("#txTemplateDesignerContainer canvas");for(var B=0;B<I.length;++B){I[B].style.opacity="";}var C=document.getElementById("txLoader");C.style.opacity="";setTimeout(function(){var J=document.getElementById("txTemplateDesignerContainer");J.removeChild(C);},500);var E=document.getElementById("txRibbonCover");E.style.backgroundColor="#FFF";E.style.opacity="0.7";var H=document.getElementById("txRibbonContentArea");var G=document.getElementById("txLoader");var D=G.cloneNode(true);D.id="txRibbonLoader";D.style.left=(e.clientSize.Width/2)+"px";D.style.top=(e.DEFAULT_RIBBONBAR_HEIGHT/2)+11+"px";H.appendChild(D);setTimeout(function(){D.style.opacity="1";},50);var F=document.querySelectorAll("#txTemplateDesignerContainer div.txScrollbarContainer");[].forEach.call(F,function(J){J.style.opacity="";});e.ViewersInvisible=false;}};e.imageReceivedHandler=function(B){var D=B.detail;switch(D.Param1){case e.ComponentType.TextView:e.textViewer.setImage(D.Data);break;case e.ComponentType.HorRuler:e.horRulerViewer.setImage(D.Data);break;case e.ComponentType.VertRuler:e.vertRulerViewer.setImage(D.Data);break;case e.ComponentType.StatusBar:e.statusBarViewer.setImage(D.Data);break;case e.ComponentType.TxDialog:var C=new CustomEvent("txDialogImageReceived",{detail:D});document.dispatchEvent(C);break;case e.ComponentType.TrackChangesView:e.trackChangesViewer.setImage(D.Data);break;}};e.imageRegionsUpdatedHandler=function(B){var D=B.detail;switch(D.Param1){case e.ComponentType.TextView:e.textViewer.requestUpdateImageRegions(D.Data.tiles);break;case e.ComponentType.HorRuler:e.horRulerViewer.updateImageRegions(D.Data.tiles);break;case e.ComponentType.VertRuler:e.vertRulerViewer.updateImageRegions(D.Data.tiles);break;case e.ComponentType.StatusBar:e.statusBarViewer.updateImageRegions(D.Data.tiles);break;case e.ComponentType.TxDialog:var C=new CustomEvent("txDialogImageRegionsUpdated",{detail:D});document.dispatchEvent(C);break;case e.ComponentType.TrackChangesView:if(e.trackChangesViewer){e.trackChangesViewer.requestUpdateImageRegions(D.Data.tiles);}break;}};e.viewContentScrolledHandler=function(B){var C=B.detail;switch(C.Param1){case e.ComponentType.TextView:e.textViewer.requestScroll(C.Data.delta,C.Data.images);break;case e.ComponentType.TrackChangesView:e.trackChangesViewer.requestScroll(C.Data.delta,C.Data.images);break;}};e.textViewLocationChangedHandler=function(B){e.viewLocation=B.detail;w();};e.textViewCaretStateChangedHandler=function(B){var C=B.detail;e.textViewer.setCaretState(C.Data);};e.arrangeControls=i;function i(){var C=document.getElementById("trackChangesSidebar");var D=!!e.trackChangesSidebar&&e.trackChangesSidebar.isVisible;var E=D?C.getBoundingClientRect().width:0;var H=(g?e.VertRulerWidth:0)+(D?E:0);var I=b?e.ribbonBarHeight+e.HorRulerHeight:e.ribbonBarHeight;var G=e.clientSize.Width-H;var B=e.clientSize.Height-(f?e.StatusBarHeight:0)-I;var F=s({Width:G,Height:B});c=e.isSocketConnected()&&(e.documentSize.Width>F.Width);if(c){B-=e.ScrollbarWidth;F=s({Width:G,Height:B});}h=e.isSocketConnected()&&(e.documentSize.Height>F.Height);if(h){G-=e.ScrollbarWidth;if(!c){c=e.isSocketConnected()&&(e.documentSize.Width>F.Width);if(c){B-=e.ScrollbarWidth;F=s({Width:G,Height:B});}}}e.textViewSizeInTwips=s({Width:G,Height:B});if((e.textViewer.left!==H)||(e.textViewer.top!==I)||(e.textViewer.width!==G)||(e.textViewer.height!==B)){e.textViewer.bufferContent();e.textViewer.left=H;e.textViewer.top=I;if(e.isSocketConnected()){e.textViewer.width=G;e.textViewer.height=B;}e.textViewer.drawBufferedContent();if(b){e.horRulerViewer.bufferContent();e.horRulerViewer.top=e.ribbonBarHeight;e.horRulerViewer.left=(D?E:0);if(e.isSocketConnected()){e.horRulerViewer.width=G+(g?e.VertRulerWidth:0)+(h?e.ScrollbarWidth:0);e.horRulerViewer.height=e.HorRulerHeight;}e.horRulerViewer.drawBufferedContent();}if(g){e.vertRulerViewer.bufferContent();e.vertRulerViewer.top=I;e.vertRulerViewer.left=(D?E:0);if(e.isSocketConnected()){e.vertRulerViewer.width=e.VertRulerWidth;e.vertRulerViewer.height=B+(c?e.ScrollbarWidth:0);}e.vertRulerViewer.drawBufferedContent();}if(f){e.statusBarViewer.bufferContent();e.statusBarViewer.top=e.ribbonBarHeight+B+(b?e.HorRulerHeight:0)+(c?e.ScrollbarWidth:0);if(e.isSocketConnected()){e.statusBarViewer.width=e.clientSize.Width;e.statusBarViewer.height=e.StatusBarHeight;}e.statusBarViewer.drawBufferedContent();}}if(e.trackChangesSidebar&&e.trackChangesSidebar.isVisible){j();}e.textViewSizeInTwips=s({Width:e.textViewer.width,Height:e.textViewer.height});A();v();w();}function j(){var F=document.getElementById("trackChangesSidebar");F.style.top=e.ribbonBarHeight+"px";F.style.bottom=e.statusBarViewer.height+"px";if(e.trackChangesViewer){e.trackChangesViewer.bufferContent();var B=document.getElementById("trackChangesCanvas");var D=e.ScrollbarWidth;var I=B.parentElement;var C=window.getComputedStyle(I,null);var J=2*parseFloat(C.borderBottomWidth);var L=parseFloat(C.marginBottom);var H=window.getComputedStyle(F);var G=parseFloat(H.paddingBottom);var E=F.getBoundingClientRect().height-G-L-I.offsetTop-J-D;e.trackChangesViewer.height=E;var K=parseFloat(C.borderLeftWidth)+parseFloat(C.borderRightWidth);e.trackChangesViewer.width=I.offsetWidth-e.ScrollbarWidth-K;e.trackChangesViewer.drawBufferedContent();}r();}function r(){if(!e.trackChangesViewer){return;}var C={visible:true,location:{X:e.trackChangesViewer.left,Y:e.trackChangesViewer.top},size:{Width:e.trackChangesViewer.width,Height:e.trackChangesViewer.height}};var B={trackChangesViewerInfo:C};e.sendCommand(e.Command.WindowResized,0,0,0,B);}function A(){var E={location:{X:e.textViewer.left,Y:e.textViewer.top-e.ribbonBarHeight},size:{Width:e.textViewer.width,Height:e.textViewer.height}};var C={visible:b,location:{X:e.horRulerViewer.left,Y:e.horRulerViewer.top-e.ribbonBarHeight},size:{Width:e.horRulerViewer.width,Height:e.horRulerViewer.height}};var F={visible:g,location:{X:e.vertRulerViewer.left,Y:e.vertRulerViewer.top-e.ribbonBarHeight},size:{Width:e.vertRulerViewer.width,Height:e.vertRulerViewer.height}};var D={visible:f,location:{X:e.statusBarViewer.left,Y:e.statusBarViewer.top-e.ribbonBarHeight},size:{Width:e.statusBarViewer.width,Height:e.statusBarViewer.height}};var B={textViewerInfo:E,horRulerInfo:C,vertRulerInfo:F,statusBarInfo:D};e.sendCommand(e.Command.WindowResized,0,0,0,B);}e.showHorizontalRuler=function(show){if(typeof show==="undefined"){show=true;}show=!!show;if(b===show){return;}b=show;if(show){e.horRulerViewer.show();}else{e.horRulerViewer.hide();}i();e.textViewer.refreshCaretLocation();var B=show?e.Command.ShowHorizontalRulerBar:e.Command.HideHorizontalRulerBar;e.sendCommand(B);};e.showVerticalRuler=function(show){if(typeof show==="undefined"){show=true;}show=!!show;if(g===show){return;}g=show;if(show){e.vertRulerViewer.show();}else{e.vertRulerViewer.hide();}i();e.textViewer.refreshCaretLocation();var B=show?e.Command.ShowVerticalRulerBar:e.Command.HideVerticalRulerBar;e.sendCommand(B);};e.showStatusBar=function(show){if(typeof show==="undefined"){show=true;}show=!!show;if(f===show){return;}f=show;if(show){e.statusBarViewer.show();}else{e.statusBarViewer.hide();}i();e.textViewer.refreshCaretLocation();var B=show?e.Command.ShowStatusBar:e.Command.HideStatusBar;e.sendCommand(B);};function k(){e.textViewer.blur();e.horRulerViewer.blur();e.vertRulerViewer.blur();e.statusBarViewer.blur();e.trackChangesViewer.blur();if(e.txDialog){e.txDialog.blur();}}e.adaptViewToContainerSize=function(){var B=document.getElementById("txTemplateDesignerContainer").parentElement;var E,C;if(B.tagName==="BODY"){E=Math.round(window.innerWidth);C=Math.round(window.innerHeight);}else{var D=B.getBoundingClientRect();E=Math.round(D.width);C=Math.round(D.height);}if((e.isTouchDevice)&&((C-e.clientSize.Height)>20)){k();}e.clientSize={Width:E,Height:C};i();e.updateRibbonTabContentOffset();e.updateRibbonScrollArrows();e.updateRibbonHideButtonPos();e.adaptRibbonTabWidths();};e.showSideBar=function(sideBarType,show){if(typeof sideBarType==="undefined"){throw new Error(e.Error.TooFewParameters);}if(typeof sideBarType!=="number"){throw new Error(\'Parameter "sideBarType" must be numeric.\');}if(typeof show==="undefined"){show=true;}show=!!show;e.sendCommand(e.Command.ShowSideBar,Math.round(sideBarType),show?1:0);};e.twips2mm=function(B){return B/1440*25.4;};e.mm2twips=function(B){return B/25.4*1440;};e.twips2px=function(C,D,B){D=D||100;B=B||96;return(C*B*D/144000);};e.px2twips=function(C,D,B){D=D||100;B=B||96;return Math.round(C*144000/(B*D));};function s(C,B){return{Width:e.px2twips(C.Width,B||e.zoom,e.DefRes),Height:e.px2twips(C.Height,B||e.zoom,e.DefRes)};}e.pointPixelToTwips=function(C,B){return{X:e.px2twips(C.X,B||e.zoom,e.DefRes),Y:e.px2twips(C.Y,B||e.zoom,e.DefRes)};};return t;}(TXTextControl||{},j$1_10_2));this.__extends=this.__extends||function(c,d){for(var b in d){if(d.hasOwnProperty(b)){c[b]=d[b];}}function a(){this.constructor=c;}a.prototype=d.prototype;c.prototype=new a();};var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.FieldType={MergeField:0,IfField:1,IncludeTextField:2,DateField:3,NextField:4,NextIfField:5,};b.FieldDisplayMode={ShowFieldText:0,ShowFieldCodes:1,};b.RelationalOperator=Object.freeze({Equals:0,NotEqual:1,LessThan:2,GreaterThan:3,GreaterThanOrEqualTo:4,LessThanOrEqualTo:5});b.DataBaseType=Object.freeze({XML:1,JSON:2});b.FieldAdapter=(function(){function FieldAdapter(preserveFormatting){this.preserveFormatting=!!preserveFormatting;}return FieldAdapter;})();b.IfField=(function(d){__extends(IfField,d);function IfField(){d.call(this,true);this.expression1="";this.expression2="";this.trueText="";this.falseText="";this.operator=b.RelationalOperator.Equals;}IfField.prototype.toPascalCase=function(){return{Expression1:this.expression1,Expression2:this.expression2,TrueText:this.trueText,FalseText:this.falseText,Operator:this.operator,PreserveFormatting:this.preserveFormatting};};return IfField;})(b.FieldAdapter);b.NextIfField=(function(d){__extends(NextIfField,d);function NextIfField(){d.call(this,true);this.expression1="";this.expression2="";this.operator=b.RelationalOperator.Equals;}NextIfField.prototype.toPascalCase=function(){return{Expression1:this.expression1,Expression2:this.expression2,Operator:this.operator,PreserveFormatting:this.preserveFormatting};};return NextIfField;})(b.FieldAdapter);b.NextField=(function(d){__extends(NextField,d);function NextField(){d.call(this,true);}NextField.prototype.toPascalCase=function(){return{};};return NextField;})(b.FieldAdapter);b.DateField=(function(d){__extends(DateField,d);function DateField(format){d.call(this,true);this.format=format||"";}DateField.prototype.toPascalCase=function(){return{Format:this.format,PreserveFormatting:this.preserveFormatting};};return DateField;})(b.FieldAdapter);b.showFieldPropsDialogHandler=function(){if(b.currentFieldData){b.showFieldDialog(b.currentFieldData.fieldAdapter,b.currentFieldData.mergeFieldType);}};b.showFieldDialog=function(e,f,g){var d;switch(f){case b.FieldType.MergeField:d=new b.MergeFieldDialog(e,g);break;case b.FieldType.IfField:d=new b.IfFieldDialog(e,g);break;case b.FieldType.DateField:d=new b.DateFieldDialog(e,g);break;case b.FieldType.IncludeTextField:d=new b.IncludeTextFieldDialog(e,g);break;case b.FieldType.NextIfField:d=new b.NextIfFieldDialog(e,g);break;}if(d){d.showModal();}};b.selectMasterTable=function(d){b.sendCommand(b.Command.SelectMasterTable,0,0,0,d);};return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(l,a){var b=l._private=l._private||{};var c;b.lastMouseUpEvent=null;var f={TextSelection:1,TextInputPosition:2,Header:4,NoHeader:8,Footer:16,NoFooter:32,PageMargin:64,PageNumberField:128,SelectedFrame:256,Table:512,TextField:1024,MisspelledWord:2048};var d="txMenu_";b.initContextMenus=function(){c=a("#txContextMenu").menu().hide();c.on("menuselect",i);};function h(n){var p=[];var o=1;for(var m=0;m<32;++m){switch(n&o){case f.Footer:p.push("Footer");break;case f.Header:p.push("Header");break;case f.MisspelledWord:p.push("MisspelledWord");break;case f.NoFooter:p.push("NoFooter");break;case f.NoHeader:p.push("NoHeader");break;case f.PageMargin:p.push("PageMargin");break;case f.PageNumberField:p.push("PageNumberField");break;case f.SelectedFrame:p.push("SelectedFrame");break;case f.Table:p.push("Table");break;case f.TextField:p.push("TextField");break;case f.TextInputPosition:p.push("TextInputPosition");break;case f.TextSelection:p.push("TextSelection");break;}o<<=1;}return p;}function j(n,q){var p=d.length;for(var o=0;o<n.classList.length;++o){var m=n.classList[o];if(m.substring(0,p)===d){n.classList.remove(m);}}q.forEach(function(r){n.classList.add(d+r);});}b.contextMenuDataReceivedHandler=function(m){var r=m.detail;var q=r.menuItems;var p=h(r.location);var n=document.getElementById("txContextMenu");e(q,n);var o=a("#txContextMenu");o.menu("refresh");b.calcMenuWidths(n);j(n,p);k(b.lastMouseUpEvent);var s=document.querySelectorAll("#txContextMenu > li > ul");[].forEach.call(s,function(t){if(typeof t.dataset.transformStateId==="undefined"){return;}t.style.display="";b.calcMenuScrollInfo(t,false,true);t.style.display="none";});};function e(o,m){var n;var p=false;m.innerHTML="";o.forEach(function(v){if(!v.Text){p=true;return;}var s=document.createElement("li");s.dataset.itemId=v.ID;if(!v.Enabled){s.classList.add("txui-state-disabled");}m.appendChild(s);var q=document.createElement("a");if(p){q.style.borderTop="1px solid lightgray";p=false;}s.appendChild(q);var r=document.createElement("div");r.classList.add("small-menu-item-image-wrapper");if(v.ImageDataURL){n=document.createElement("img");n.src=v.ImageDataURL;r.appendChild(n);}else{if(v.Checked){n=document.createElement("img");n.src=b.imageResources.small.checkmark;r.appendChild(n);r.classList.add("ribbon-button");r.classList.add("ribbon-button-selected");}}if(n){n.style.width=n.style.height="16px";}q.appendChild(r);r=document.createElement("div");r.classList.add("small-menu-item-caption-container");q.appendChild(r);var t=document.createElement("p");t.textContent=v.Text;r.appendChild(t);if(v.Items.length){var u=document.createElement("ul");u.classList.add("dropDownMenu");u.classList.add("contextMenu");s.appendChild(u);if(v.DropDownIsScrollable){b.enableScrollWorkaround(u);}e(v.Items,u);}});}function i(o,q){var n=q.item.context;var m=n.dataset.itemId;if(m){var p=parseInt(m,10);b.sendCommand(b.Command.ContextMenuItemClicked,p);}}b.isInsideElementWithID=function(m,n){if(!m){return false;}else{if(m.parentElement&&(m.parentElement.id===n)){return true;}else{return b.isInsideElementWithID(m.parentElement,n);}}};function g(m,n){if(!m){return null;}else{if(m.parentElement&&(m.parentElement.tagName===n)){return m.parentElement;}else{return g(m.parentElement,n);}}}b.isPartOfMenuItemWithSubMenu=function(m){var n=g(m,"LI");if(n&&n.classList.contains("txui-menu-item")){return(n.querySelectorAll("ul").length>0);}return false;};function k(m){b.fileMenu.hide();c.show().position({my:"left top",at:"left bottom",of:m,});a(document).on("click",function(n){if(!(b.isInsideElementWithID(n.target,"txContextMenu")&&b.isPartOfMenuItemWithSubMenu(n.target))){c.hide();a(document).off(n);}});}return l;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(i,a){var c=i._private=i._private||{};var d={RTF:"text/rtf",HTML:"text/html",Plain:"text/plain"};c.ClipboardDataType=Object.freeze({None:0,RTF:1,HTML:2,Plain:3,File:4,fromValue:function(j){switch(j){case this.RTF:return d.RTF;case this.HTML:return d.HTML;case this.Plain:return d.Plain;}return"";},toValue:function(j){switch(j){case d.RTF:return this.RTF;case d.HTML:return this.HTML;case d.Plain:return this.Plain;}return this.None;}});c.ClipboardMode=Object.freeze({Client:1,Server:2});c.clipboardMode=c.ClipboardMode.Server;var h={Start:0,Data:1,End:2};var b={id:"",data:"",chunksExpected:0,chunksReceived:0,isEmptySelection:false,start:function(j){this.id=j.id;this.data="";this.chunksReceived=0;this.isEmptySelection=j.isEmptySelection;},progress:function(j){this.chunksExpected=j.chunks;},reset:function(){this.id="";this.data="";this.chunksExpected=0;this.chunksReceived=0;}};function g(m,l,j){var p="";var o=false;var q=m.types;j=j||false;var k=[].some.call(q,function(r){return r==="Files";});if(m.types){if(!o&&[].some.call(q,function(r){return r===d.RTF;})){p=m.getData(d.RTF);if(p.length>0){c.pasteText(p,c.ClipboardDataType.RTF,j);o=true;}}if(!o&&[].some.call(q,function(r){return r===d.HTML;})){p=m.getData(d.HTML);if(p.length>0){c.pasteText(p,c.ClipboardDataType.HTML,j);o=true;}}if(!o&&[].some.call(q,function(r){return r===d.Plain;})){p=m.getData(d.Plain);if(p.length>0){c.pasteText(p,c.ClipboardDataType.Plain,j);o=true;}}if(l&&!o){p=m.getData("Text");if(p&&(p.length>0)){c.pasteText(p,c.ClipboardDataType.Plain,j);o=true;}}}if(!o&&m.files&&m.files.length){f(m.files[0],j);o=true;}if(!o&&m.items&&k){var n=[].find.call(m.items,function(r){return r.kind==="file";});if(n){e(n,j);o=true;}}return o;}c.handleClientPaste=function(k,j){if(typeof j==="undefined"){j=true;}if(k&&k.clipboardData){if(g(k.clipboardData,j)){k.stopPropagation();k.preventDefault();return false;}}return true;};c.handleDrop=function(j){j.stopPropagation();j.preventDefault();if(j&&j.dataTransfer){g(j.dataTransfer,true,true);}};function e(l,j){var k=l.getAsFile();f(k,j);}c.FileDroppedEventArgs=(function(){function j(fileBlob,k){this.fileName=fileBlob.name;this.fileType=fileBlob.type;this.cancel=!!k;}return j;})();function f(l,k){if(!c.txProperties.canEdit){return;}var j=new c.FileDroppedEventArgs(l,false);c.fireEvent(c.EventName.fileDropped,j);if(j.cancel){return;}var m=l.name;var o=l.type;var n=new FileReader();n.onload=function(q){var r={dataB64:q.target.result,fileName:m};var p=function(){c.sendCommand(c.Command.ClientPaste,c.ClipboardDataType.File,0,0,r);};if(c.documentDirty&&(o.substring(0,5)!=="image")){c.fileSaveQuestion(p);}else{p();}};n.readAsDataURL(l);}c.TextDroppedEventArgs=(function(){function j(cancel,text,textType){this.cancel=cancel;this.text=text;this.textType=textType;}return j;})();c.TextPastedEventArgs=(function(){function j(cancel,text,textType){this.cancel=cancel;this.text=text;this.textType=textType;}return j;})();c.pasteText=function(m,n,k){var j,l=c.ClipboardDataType.fromValue(n);if(k){j=new c.TextDroppedEventArgs(false,m,l);c.fireEvent(c.EventName.textDropped,j);}else{j=new c.TextPastedEventArgs(false,m,l);c.fireEvent(c.EventName.textPasted,j);}m=""+j.text;n=c.ClipboardDataType.toValue(j.textType);if(!j.cancel){c.sendCommand(c.Command.ClientPaste,n,0,0,m);}};c.ClipboardModeChangedEventArgs=(function(){function j(clipboardMode){this.clipboardMode=clipboardMode;}return j;})();c.setClipboardMode=function(k){c.clipboardMode=k;var j=new c.ClipboardModeChangedEventArgs(k);c.fireEvent(c.EventName.clipboardModeChanged,j);};c.ClipboardTransferStartEventArgs=(function(){function ClipboardTransferStartEventArgs(id){this.id=id;}return ClipboardTransferStartEventArgs;})();c.ClipboardTransferProgressEventArgs=(function(){function ClipboardTransferProgressEventArgs(id,progress){this.id=id;this.progress=progress;}return ClipboardTransferProgressEventArgs;})();c.ClipboardTransferCompleteEventArgs=(function(){function ClipboardTransferCompleteEventArgs(id){this.id=id;}return ClipboardTransferCompleteEventArgs;})();c.ClipboardTransferAbortedEventArgs=(function(){function ClipboardTransferAbortedEventArgs(id){this.id=id;}return ClipboardTransferAbortedEventArgs;})();c.processSelectionHTMLContentMessage=function(k){var j;k=k.Data;if(!c.textViewer){return;}if(c.overlayControls.exist()){return;}switch(k.msgType){case h.Start:if(b.id){j=new c.ClipboardTransferAbortedEventArgs(b.id);c.fireEvent(c.EventName.clipboardDataTransferAborted,j);}b.start(k);if(!k.isEmptySelection){j=new c.ClipboardTransferStartEventArgs(k.id);c.fireEvent(c.EventName.clipboardDataTransferStart,j);}break;case h.Data:if(k.id!==b.id){break;}b.data+=k.data;b.progress(k);++b.chunksReceived;if(!b.isEmptySelection){j=new c.ClipboardTransferProgressEventArgs(k.id,(k.number/k.chunks)*100);c.fireEvent(c.EventName.clipboardDataTransferProgress,j);}break;case h.End:var l=b.isEmptySelection;if((k.id!==b.id)||(b.chunksReceived!=b.chunksExpected)){break;}c.textViewer.setHiddenTextFieldText(b.data);b.reset();c.textViewer.selectHiddenTextfieldContent();if(!l){j=new c.ClipboardTransferCompleteEventArgs(k.id);c.fireEvent(c.EventName.clipboardDataTransferComplete,j);}break;}};return i;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.EventName={ribbonTabsLoaded:"ribbonTabsLoaded",textDropped:"textDropped",fileDropped:"fileDropped",textPasted:"textPasted",documentLoaded:"documentLoaded",webSocketClosed:"webSocketClosed",textControlLoaded:"textControlLoaded",ribbonTabIndexChanged:"ribbonTabIndexChanged",hyperlinkClicked:"hyperlinkClicked",textControlChanged:"textControlChanged",inputPositionChanged:"inputPositionChanged",clipboardDataTransferStart:"clipboardDataTransferStart",clipboardDataTransferProgress:"clipboardDataTransferProgress",clipboardDataTransferComplete:"clipboardDataTransferComplete",clipboardDataTransferAborted:"clipboardDataTransferAborted",textViewLocationChanged:"textViewLocationChanged",zoomFactorChanged:"zoomFactorChanged",clipboardModeChanged:"clipboardModeChanged",unhandledError:"unhandledError"};b.SubTextPartEventType={Entered:0,Left:1,Clicked:2,DoubleClicked:3};b.eventListeners={};c.addEventListener=function(eventName,callback){if(!eventName){throw new Error("Wrong number of parameters.");}if(typeof eventName!=="string"){throw new TypeError(\'Parameter "eventName" must be of type "string".\');}if(!callback){throw new Error("Wrong number of parameters.");}if(typeof callback!=="function"){throw new TypeError(\'Parameter "callback" must be of type "function".\');}b.eventListeners[eventName]=b.eventListeners[eventName]||[];var e=b.eventListeners[eventName];var d=e.indexOf(callback);if(d===-1){e.push(callback);}if(b.TextViewGeneratorEvents.indexOf(eventName)>=0){b.subscribeToEvent(eventName,b.EventCategory.TextViewGenerator);}};c.removeEventListener=function(eventName,callback){if(!eventName){throw new Error("Wrong number of parameters.");}if(typeof eventName!=="string"){throw new TypeError(\'Parameter "eventName" must be of type "string".\');}if(!callback){throw new Error("Wrong number of parameters.");}if(typeof callback!=="function"){throw new TypeError(\'Parameter "callback" must be of type "function".\');}if(!b.eventListeners.hasOwnProperty(eventName)){return;}var g=b.eventListeners[eventName];try{var f=g.indexOf(callback);if(f>-1){g.splice(f,1);if(g.length===0){delete b.eventListeners[eventName];}}}catch(d){}if(b.TextViewGeneratorEvents.indexOf(eventName)>=0){if(g.length===0){b.unsubscribeFromEvent(eventName,b.EventCategory.TextViewGenerator);}}};b.fireEvent=function(h,g){if(!b.eventListeners.hasOwnProperty(h)){return;}var k=b.eventListeners[h];for(var j=0;j<k.length;++j){var d=k[j];try{d(g);}catch(f){}}};return c;}(TXTextControl||{},j$1_10_2));(function(a){if(a.MutationObserver){return;}function c(d){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(d)||d;}function b(d){this._callback=d;}b.prototype={observe:function(e,d){e=c(e);if(!d.childList&&!d.attributes&&!d.characterData||d.attributeOldValue&&!d.attributes||d.attributeFilter&&d.attributeFilter.length&&!d.attributes||d.characterDataOldValue&&!d.characterData){throw new SyntaxError();}}};a.MutationObserver=b;})(this);var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.enableButton=function(e,d){if(typeof d==="undefined"){d=true;}e.disabled=!d;if(d){e.classList.remove("txui-state-disabled");}else{e.classList.add("txui-state-disabled");}};b.HTMLDialog=(function(){function d(){this.dialogData={dialogResult:false};this.resourcesReceivedHandlerBound=this.resourcesReceivedHandler.bind(this);this.dialogContainerID="dialogContainer"+randomIntFromInterval(10000,99999);this.isDialogReady=false;this.closeRequested=false;}d.prototype.OKHandler=function(e){this.dialogData.dialogResult=true;this.close(e);};d.prototype.close=function(e){if(!this.isDialogReady){this.closeRequested=true;return;}this.closing();b.sendCommand(b.Command.DialogResult,this.DialogInfo.DialogType,0,0,this.dialogData);a(e).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();if(!b.isTouchDevice){b.textViewer.focus();}};d.prototype.resourcesReceivedHandler=function(f){if(f.detail.dialogType==this.DialogInfo.DialogType){document.removeEventListener("dialogResourcesReceived",this.resourcesReceivedHandlerBound);this.dialogize(f.detail.resources);}};d.prototype.dialogize=function(f){var g=this;this.caption=f.strings[this.DialogInfo.TitleResourceName];var e=document.getElementById(this.dialogContainerID);e.innerHTML=f.html;a("#"+this.DialogInfo.ElementID).dialog({modal:true,resizable:this.DialogInfo.Resizable||false,width:this.DialogInfo.Width||"auto",height:this.DialogInfo.Height||"auto",dialogClass:this.DialogInfo.DialogClass||"",title:g.caption,buttons:this.DialogInfo.Buttons||{OK:{text:"OK",click:function(){g.OKHandler(this);},id:"btnOK_"+this.dialogContainerID},Cancel:{text:"Cancel",click:function(){g.close(this);},id:"btnCancel_"+this.dialogContainerID}},close:function(){g.close(this);},}).keypress(function(i){if(i.keyCode==a.ui.keyCode.ENTER){var h=document.getElementById("btnOK_"+g.dialogContainerID);if(!h||!h.disabled){g.OKHandler(this);}return false;}});this.applyStringResources(f.strings);this.dialogReady(this);this.isDialogReady=true;if(this.closeRequested){this.close(a("#"+this.DialogInfo.ElementID));}};d.prototype.setDefaultBtnTexts=function(j){var i;var g=document.getElementById("btnOK_"+this.dialogContainerID);if(g&&j.hasOwnProperty("BTN_OK")){i=g.querySelector("span.txui-button-text");i.textContent=j.BTN_OK;}var e=document.getElementById("btnCancel_"+this.dialogContainerID);if(e&&j.hasOwnProperty("BTN_CANCEL")){i=e.querySelector("span.txui-button-text");i.textContent=j.BTN_CANCEL;}var h=document.getElementById("btnYes_"+this.dialogContainerID);if(h&&j.hasOwnProperty("BTN_YES")){i=h.querySelector("span.txui-button-text");i.textContent=j.BTN_YES;}var f=document.getElementById("btnNo_"+this.dialogContainerID);if(f&&j.hasOwnProperty("BTN_NO")){i=f.querySelector("span.txui-button-text");i.textContent=j.BTN_NO;}};d.prototype.showModal=function(g){var e=document.getElementById("txTemplateDesignerContainer"),f=document.createElement("div");f.id=this.dialogContainerID;e.appendChild(f);if(!g){document.addEventListener("dialogResourcesReceived",this.resourcesReceivedHandlerBound);b.sendCommand(b.Command.GetDialogResources,this.DialogInfo.DialogType);}else{this.dialogize(g);}};d.prototype.applyStringResources=function(e){};d.prototype.dialogReady=function(e){};d.prototype.closing=function(){};return d;})();return c;}(TXTextControl||{},j$1_10_2));this.__extends=this.__extends||function(c,d){for(var b in d){if(d.hasOwnProperty(b)){c[b]=d[b];}}function a(){this.constructor=c;}a.prototype=d.prototype;c.prototype=new a();};var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.HyperlinkDialog=(function(d){__extends(e,d);function e(){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.HyperlinkDialog,ElementID:"hyperlinkDialog",TitleResourceName:"HYPLNK_DIALOG_CAPTION",};this.docTargetsReceivedHandlerBound=this.docTargetsReceivedHandler.bind(this);this.txItemReceivedHandlerBound=this.txItemReceivedHandler.bind(this);this.targets=[];}e.prototype.docTargetsReceivedHandler=function(f){this.targets=f.detail.targets;this.updateTargets();};e.prototype.updateTargets=function(){var f=document.getElementById("hyperlinkDialog_selTarget");f.innerHTML="";var g=document.getElementById("hyperlinkDialog_cbAutoGenerated").checked;this.targets.forEach(function(i){if(i.IsAutoGenerated&&!g){return;}var h=document.createElement("option");h.text=i.TargetName;f.add(h);});};e.prototype.txItemReceivedHandler=function(f){var h=f.detail.itemType,g=f.detail.item;if(g===null){return;}switch(h){case b.ItemType.HypertextLink:a("#hyperlinkDialog_txtLinkedText").val(g.Text);a("#hyperlinkDialog_txtLinkTarget").val(g.Target);break;case b.ItemType.DocumentLink:a("#hyperlinkDialog_txtLinkedText").val(g.Text);a("#hyperlinkDialog_txtLinkTarget").val("#"+g.TargetName);break;}};e.prototype.OKHandler=function(f){var g=a("#hyperlinkDialog_txtLinkedText").val(),h=a("#hyperlinkDialog_txtLinkTarget").val();if((g.length>0)&&(h.length>0)){b.sendCommand(b.Command.InsertItem,b.ItemType.HypertextLink,0,0,{linkedText:g,linkTarget:h});}this.close(f);};e.prototype.closing=function(f){document.removeEventListener("documentTargetsReceived",this.docTargetsReceivedHandlerBound);document.removeEventListener("txItemReceived",this.txItemReceivedHandlerBound);};e.prototype.dialogReady=function(){var f=this;document.addEventListener("documentTargetsReceived",this.docTargetsReceivedHandlerBound);document.addEventListener("txItemReceived",this.txItemReceivedHandlerBound);b.sendCommand(b.Command.GetDocumentTargets);b.sendCommand(b.Command.GetItem,b.ItemType.Link);a("#hyperlinkDialog_selTarget").change(function(){var g=a(this).val();a("#hyperlinkDialog_txtLinkTarget").val("#"+g);});document.getElementById("hyperlinkDialog_cbAutoGenerated").addEventListener("click",function(g){f.updateTargets();});};e.prototype.applyStringResources=function(f){a("#HYPLNK_DIALOG_LBL_LINKED_TEXT").text(f.HYPLNK_DIALOG_LBL_LINKED_TEXT);a("#HYPLNK_DIALOG_LBL_LINK_TGT").text(f.HYPLNK_DIALOG_LBL_LINK_TGT);a("#HYPLNK_DIALOG_LBL_SEL_TGT").text(f.HYPLNK_DIALOG_LBL_SEL_TGT);a("#HYPLNK_DIALOG_AUTO_GENERATED_BOOKMARKS").text(f.HYPLNK_DIALOG_AUTO_GENERATED_BOOKMARKS);this.setDefaultBtnTexts(f);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.InputBoxDialog=(function(d){__extends(e,d);function e(g,j,i,h){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.InputBoxDialog};this.caption=g;this.text=j||"";this.label=i||null;this.isPasswordBox=h||false;this.callback=null;this.dialogResult=false;this.dialogContainerID="dialogContainer"+randomIntFromInterval(10000,99999);}e.prototype.OKHandler=function(g){var h=document.getElementById("inputBoxDialog_txtInputBox");this.text=h.value;this.dialogResult=true;this.close(g);};e.prototype.close=function(h){if(this.callback){if(this.dialogResult){this.callback(this.text);}}else{var g={text:this.text,dialogResult:this.dialogResult};b.sendCommand(b.Command.DialogResult,b.HTMLDialogType.InputBoxDialog,0,0,g);}a(h).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();if(!b.isTouchDevice){b.textViewer.focus();}};e.prototype.init=function(h){var j=document.getElementById("inputBoxDialog_txtInputBox");j.value=this.text;if(this.isPasswordBox){j.type="password";}if(this.label){var i=document.getElementById("inputBoxDialog_lblInputoxDialog");var g=document.getElementById("inputBoxDialog");i.style.display="";i.innerHTML=this.label;g.style.height=(g.clientHeight+i.clientHeight+5)+"px";}};function f(j){var h=document.getElementById("btnOK_"+j.dialogContainerID);var i=h.querySelector("span.txui-button-text");i.textContent=b.variousStringResources.BTN_OK;var g=document.getElementById("btnCancel_"+j.dialogContainerID);i=g.querySelector("span.txui-button-text");i.textContent=b.variousStringResources.BTN_CANCEL;}e.prototype.dialogize=function(h){var i=this;var g=document.getElementById(this.dialogContainerID);g.innerHTML=h.html;a("#inputBoxDialog").dialog({modal:true,resizable:false,width:"auto",height:110,title:this.caption||"Input Box",buttons:{OK:{text:"OK",click:function(){i.OKHandler(this);},id:"btnOK_"+this.dialogContainerID},Cancel:{text:"Cancel",click:function(){i.close(this);},id:"btnCancel_"+this.dialogContainerID}},close:function(){i.close(this);},open:function(){i.init(this);},}).keypress(function(j){if(j.keyCode==a.ui.keyCode.ENTER){i.OKHandler(this);return false;}});f(this);this.isDialogReady=true;};e.prototype.showModal_base=e.prototype.showModal;e.prototype.showModal=function(g){this.callback=g;this.showModal_base();};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.LoadDictionaryDialog=(function(d){__extends(g,d);function g(h){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.LoadDictionaryDialog,ElementID:"loadDictionaryDialog",TitleResourceName:"LOAD_DICT_DIALOG_TITLE"};this.availableDicts=h.AvailableDicts;this.loadedDicts=h.LoadedDicts;}function f(n){var m=[];var j=document.querySelectorAll("#loadDictionaryDialog input[type=checkbox]");for(var l=0;l<j.length;++l){var h=j[l];if(!h.disabled&&h.checked){var k=h.dataset.dictName;m.push(k);}}return m;}g.prototype.closing=function(){if(this.dialogData.dialogResult){this.dialogData.selected=f(this);}};function e(h,q){var m=document.getElementById("dictNameCheckBoxContanier");m.innerHTML="";for(var p=0;p<h.length;++p){var l=h[p];var k="chkDictName"+p;var n=document.createElement("input");n.id=k;n.setAttribute("type","checkbox");n.dataset.dictName=l;n.title=l;n.style.cssFloat="left";n.style.clear="left";var j=q.some(function(i){return(l===i);});if(j){n.checked=true;n.disabled=true;}m.appendChild(n);var o=document.createElement("label");o.setAttribute("for",k);o.textContent=l;o.title=l;o.style.cssFloat="left";m.appendChild(o);}}g.prototype.dialogReady=function(h){e(h.availableDicts,h.loadedDicts);};g.prototype.applyStringResources=function(h){this.setDefaultBtnTexts(h);};return g;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.LoadThesaurusDialog=(function(d){__extends(g,d);function g(h){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.LoadThesaurusDialog,ElementID:"loadThesaurusDialog",TitleResourceName:"LOAD_THESAURUS_DIALOG_TITLE"};this.availableThesauri=h.availableThesauri;this.loadedThesauri=h.loadedThesauri;}function f(m){var l=[];var j=document.querySelectorAll("#loadThesaurusDialog input[type=checkbox]");for(var k=0;k<j.length;++k){var h=j[k];if(!h.disabled&&h.checked){var n=h.dataset.thesaurusName;l.push(n);}}return l;}g.prototype.closing=function(){if(this.dialogData.dialogResult){this.dialogData.selected=f(this);}};function e(h,o){var q=document.getElementById("thesaurusNameCheckBoxContanier");q.innerHTML="";for(var n=0;n<h.length;++n){var p=h[n];var k="chkThesaurusName"+n;var l=document.createElement("input");l.id=k;l.setAttribute("type","checkbox");l.dataset.thesaurusName=p;l.title=p;l.style.cssFloat="left";l.style.clear="left";var j=o.some(function(i){return(p===i);});if(j){l.checked=true;l.disabled=true;}q.appendChild(l);var m=document.createElement("label");m.setAttribute("for",k);m.textContent=p;m.title=p;m.style.cssFloat="left";q.appendChild(m);}}g.prototype.dialogReady=function(h){e(h.availableThesauri,h.loadedThesauri);};g.prototype.applyStringResources=function(h){this.setDefaultBtnTexts(h);};return g;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};var d={BMP:1,PNG:2,GIF:3,JPG:4,WMF:5,EMF:6,TIF:7};b.OpenFileDialog=(function(e){__extends(q,e);function q(u,v){e.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.OpenFileDialog,ElementID:"openFileDialog",TitleResourceName:"OPEN_FILE_DIALOG_TITLE"};this.command=u||b.Command.OpenFile;this.fileType=v||b.FileType.Document;this.subFileType=-1;this.imageDataURLs={dir:"",file:""};this.altTexts={fileName:"",dirName:""};this.dirNames=[];this.fileNames=[];this.fileFilters=[];this.fileFilterAll="";this.fileListReceivedHandlerBound=this.fileListReceivedHandler.bind(this);this.fileTypeChangeHandlerBound=this.fileTypeChangeHandler.bind(this);this.fileNameChangeHandlerBound=this.fileNameChangeHandler.bind(this);}q.prototype.closing=function(){var w=this;document.removeEventListener("fileListReceived",this.fileListReceivedHandlerBound);if(this.dialogData.dialogResult){var x=document.getElementById("txOFDTxtFileName");var v=x.value;if(v&&(v!=="")){b.sendCommand(this.command,this.fileType,u(),0,v);}}function u(){return(w.fileType==b.FileType.DataBase)?w.subFileType:0;}};function i(u){while(u&&u.tagName!=="TR"){u=u.parentElement;}return u;}function p(v,u){v.dialogData.dialogResult=true;v.close(a("#"+v.DialogInfo.ElementID));}function o(u){var v=document.getElementById("txOFDTxtFileName");v.value="";b.sendCommand(b.Command.OpenDirectory,0,0,0,u);}function k(u){switch(u){case d.BMP:return["bmp"];case d.EMF:return["emf"];case d.GIF:return["gif"];case d.JPG:return["jpg","jpeg"];case d.PNG:return["png"];case d.TIF:return["tif"];case d.WMF:return["wmf"];}return[];}function f(u){switch(u){case b.DataBaseType.XML:return["xml"];case b.DataBaseType.JSON:return["json"];}return[];}function t(u){switch(u){case b.TXStreamType.MSWord:return["doc"];case b.TXStreamType.WordprocessingML:return["docx"];case b.TXStreamType.SpreadsheetML:return["xlsx"];case b.TXStreamType.HTMLFormat:return["htm","html"];case b.TXStreamType.AdobePDF:return["pdf"];case b.TXStreamType.RichTextFormat:return["rtf"];case b.TXStreamType.InternalUnicodeFormat:return["tx"];case b.TXStreamType.PlainText:return["txt"];}return[];}function g(v,u){if(!v||!v.length){return u;}var w=[];u.forEach(function(y){var x=y.split(".").pop().toLowerCase();if(v.some(function(z){return z===x;})){w.push(y);}});return w;}function h(u,v){if(v==0){return[];}switch(u){case b.FileType.Document:return t(v);case b.FileType.Image:return k(v);case b.FileType.DataBase:return f(v);}}function l(u){if(!u){return false;}return u.classList.contains("txOFDItemTypeDir");}function n(u){if(!u){return false;}return u.classList.contains("txOFDItemTypeFile");}function s(y){var z=document.getElementById("txOFDTblFilesAndFolders");var C=document.getElementById("txOFDSelFileType");for(var x=z.children.length-1;x>=0;--x){var u=z.children[x];if(u.tagName==="TR"){z.removeChild(u);}}y.subFileType=parseInt(C.value,10);var w=h(y.fileType,y.subFileType);var v=g(w,y.fileNames);y.dirNames.forEach(function(D){var H=document.createElement("TR");var F=document.createElement("TD");var G=document.createElement("TD");var E=document.createElement("IMG");H.classList.add("txOFDItemTypeDir");E.alt=y.altTexts.dirName;E.src=y.imageDataURLs.dir;G.textContent=D;F.appendChild(E);H.appendChild(F);H.appendChild(G);z.appendChild(H);});v.forEach(function(H){var G=document.createElement("TR");var E=document.createElement("TD");var F=document.createElement("TD");var D=document.createElement("IMG");G.classList.add("txOFDItemTypeFile");D.alt=y.altTexts.fileName;D.src=y.imageDataURLs.file;F.textContent=H;E.appendChild(D);G.appendChild(E);G.appendChild(F);z.appendChild(G);});function A(E){var D=document.getElementById("btnOK_"+y.dialogContainerID);var G=i(E.target);if(G){a("#txOFDTblFilesAndFolders tr.selected").removeClass("selected");G.classList.add("selected");var H=document.getElementById("txOFDTxtFileName");var F=G.children[1];if(n(G)){b.enableButton(D,true);H.value=F.textContent;}else{if(l(G)){b.enableButton(D,true);H.value="";}}}}function B(E){var D=document.getElementById("btnOK_"+y.dialogContainerID);var G=i(E.target);if(G){var F=G.children[1];if(l(G)){b.enableButton(D,false);o(F.textContent);}else{if(n(G)){p(y,F.textContent);}}}}a("#txOFDTblFilesAndFolders tr").click(A);a("#txOFDTblFilesAndFolders tr").dblclick(B);}function r(x){var y=document.getElementById("txOFDSelFileType");var u=document.createElement("OPTION");u.value="0";u.textContent=x.fileFilterAll;u.selected=true;y.appendChild(u);for(var w=0;w<x.fileFilters.length;++w){var v=x.fileFilters[w];u=document.createElement("OPTION");u.value=v.FileType;u.textContent=v.Text;y.appendChild(u);}}q.prototype.fileTypeChangeHandler=function(v){var u=document.getElementById("btnOK_"+this.dialogContainerID);var w=document.getElementById("txOFDTxtFileName");b.enableButton(u,false);w.value="";s(this);};function j(){return document.querySelector("#txOFDTblFilesAndFolders tr.selected");}function m(){var u=j();return(u&&l(u));}q.prototype.fileNameChangeHandler=function(v){a("#txOFDTblFilesAndFolders tr.selected").removeClass("selected");var u=document.getElementById("btnOK_"+this.dialogContainerID);var w=document.getElementById("txOFDTxtFileName");if(w.value.length||m()){b.enableButton(u,true);}else{b.enableButton(u,false);}};q.prototype.fileListReceivedHandler=function(u){this.fileNames=u.detail.fileNames;this.dirNames=u.detail.dirNames;s(this);};q.prototype.OKHandler=function(v){if(m()){var w=document.querySelector("#txOFDTblFilesAndFolders tr.selected").children[1];var u=document.getElementById("btnOK_"+this.dialogContainerID);b.enableButton(u,false);o(w.textContent);}else{this.dialogData.dialogResult=true;this.close(v);}};q.prototype.dialogReady=function(v){document.addEventListener("fileListReceived",this.fileListReceivedHandlerBound);b.sendCommand(b.Command.GetFileList,this.fileType);var x=document.getElementById("txOFDTxtFileName");x.value="";var u=document.getElementById("btnOK_"+this.dialogContainerID);b.enableButton(u,false);var w=document.getElementById("txOFDSelFileType");w.addEventListener("change",this.fileTypeChangeHandlerBound);x.addEventListener("change",this.fileNameChangeHandlerBound);x.addEventListener("input",this.fileNameChangeHandlerBound);};q.prototype.applyStringResources=function(u){a("#OPEN_FILE_DIALOG_LBL_FILENAME").text(u.OPEN_FILE_DIALOG_LBL_FILENAME);a("#OPEN_FILE_DIALOG_LBL_FILETYPE").text(u.OPEN_FILE_DIALOG_LBL_FILETYPE);this.imageDataURLs.dir=u.ImageDataURLs.Dir;this.altTexts.fileName=u.OPEN_FILE_DIALOG_ALT_TXT_FILE_NAME;this.altTexts.dirName=u.OPEN_FILE_DIALOG_ALT_TXT_DIR_NAME;this.setDefaultBtnTexts(u);this.fileFilterAll=u.FileTypes.All;switch(this.fileType){case b.FileType.Document:this.fileFilters=u.FileTypes.Document;this.imageDataURLs.file=u.ImageDataURLs.Document;break;case b.FileType.Image:this.fileFilters=u.FileTypes.Image;this.imageDataURLs.file=u.ImageDataURLs.Image;break;case b.FileType.DataBase:this.fileFilters=u.FileTypes.DataBase;this.imageDataURLs.file=u.ImageDataURLs.DataBase;break;}r(this);};return q;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.WaitDialog=(function(d){__extends(e,d);function e(){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.WaitDialog,ElementID:"waitDialog",Width:"auto",Height:100,TitleResourceName:"WAIT_DLG_TITLE",DialogClass:"no-close",Buttons:{},};}e.prototype.applyStringResources=function(f){a("#WAIT_DLG_LABEL_MESSAGE").text(f.WAIT_DLG_LABEL_MESSAGE);};e.prototype.dialogReady=function(){var g=a("#waitDialog"),h=g.css("margin-left"),f={width:g.css("border-left-width"),color:g.css("border-left-color"),style:g.css("border-left-style")};g.css("border-bottom-width",f.width);g.css("border-bottom-color",f.color);g.css("border-bottom-style",f.style);g.css("margin-bottom",h);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(f,a){var b=f._private=f._private||{},g={None:0,CreateFile:8192,OverwriteFile:16384,Inline:32768},c={AllowAuthoring:1,AllowAuthoringFields:2,AllowContentAccessibility:4,AllowDocumentAssembly:8,AllowExtractContents:16,AllowGeneralEditing:32,AllowHighLevelPrinting:64,AllowLowLevelPrinting:128,AllowAll:255,},e={Disabled:-1,All:0,OnlyCorrect:1},d={Disabled:-1,All:0,OnlyAtBegin:1,OnlyWhenBeginIsUpper:2};b.OptionsDialog=(function(h){__extends(k,h);function k(o){h.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.OptionsDialog,ElementID:"optionsDialog",Width:540,Height:350,TitleResourceName:"OPTIONS_DIALOG_TITLE"};this.options=o;this.errorMessages={permPwdEmpty:"",samePwd:"",docPwdEmpty:""};}b.arrayBufferToB64=function(p){var o=[],q=new Uint8Array(p),t=q.byteLength;for(var r=0;r<t;r++){o.push(String.fromCharCode(q[r]));}var s=o.join("");return window.btoa(s);};k.prototype.OKHandler=function(p){var o=document.getElementById("chkUserPassword"),q=document.getElementById("txtUserPassword");if(o.checked&&(q.value.length==0)){b.jQueryAlert(this.caption,this.errorMessages.docPwdEmpty);return;}this.dialogData.dialogResult=true;this.close(p);};function j(){var r=document.getElementById("chkIgnoreUpper"),v=document.getElementById("selIgnoreUpper"),p=document.getElementById("chkIgnoreCntNums"),t=document.getElementById("chkIgnoreURLs"),q=document.getElementById("chkIgnoreEmails"),o=document.getElementById("chkFlagRepeatedWords"),s=document.getElementById("chkIgnoreUpperAndLower"),w=document.getElementById("selIgnoreUpperLower");var u={ignoreUpperCaseWords:e.All,ignoreContNums:true,ignoreURLs:true,ignoreEmails:true,flagRepeated:true,ignoreAll:d.OnlyWhenBeginIsUpper};if(!r.checked){u.ignoreUpperCaseWords=e.Disabled;}else{u.ignoreUpperCaseWords=v.selectedIndex;}u.ignoreContNums=p.checked;u.ignoreURLs=t.checked;u.ignoreEmails=q.checked;u.flagRepeated=o.checked;if(!s.checked){u.ignoreAll=d.Disabled;}else{u.ignoreAll=w.selectedIndex;}return u;}k.prototype.close=function(p){var o={dialogResult:this.dialogData.dialogResult};if(this.dialogData.dialogResult){o.cssSaveMode=i();o.reqPDFDocPwd=document.getElementById("chkUserPassword").checked;o.pdfDocPwd=document.getElementById("txtUserPassword").value;o.pdfa=document.getElementById("chkEnPDFAExp").checked;o.hyphEnabled=document.getElementById("chkEnableHyphenation").checked;o.langDetectEnabled=document.getElementById("chkEnableLangDetect").checked;o.spellCheckEnabled=document.getElementById("chkEnableSpellCheck").checked;o.pfxFilePassword=document.getElementById("txtPDFCertPwd").value;if(this.options.IsTXSpellAssemblyPresent){o.spellChecking=j();}var r=document.getElementById("txtPDFCertFile"),q=r.files;if(q.length){var t=this,s=new FileReader();s.onloadend=function(){var u=b.arrayBufferToB64(s.result);o.pfxFile=u;b.sendCommand(b.Command.DialogResult,t.DialogInfo.DialogType,0,0,o);};s.readAsArrayBuffer(q[0]);}else{b.sendCommand(b.Command.DialogResult,this.DialogInfo.DialogType,0,0,o);}}else{b.sendCommand(b.Command.DialogResult,this.DialogInfo.DialogType,0,0,o);}a(p).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();if(!b.isTouchDevice){b.textViewer.focus();}};function i(){if(document.getElementById("rbCSSOptsNoStSh").checked){return g.None;}else{if(document.getElementById("rbCSSOptsInlStSh").checked){return g.Inline;}}}function l(o){switch(o.CssSaveMode){case g.None:document.getElementById("rbCSSOptsNoStSh").checked=true;break;case g.Inline:document.getElementById("rbCSSOptsInlStSh").checked=true;break;}}function m(w){var r=document.getElementById("chkIgnoreUpper"),u=document.getElementById("selIgnoreUpper"),p=document.getElementById("chkIgnoreCntNums"),t=document.getElementById("chkIgnoreURLs"),q=document.getElementById("chkIgnoreEmails"),o=document.getElementById("chkFlagRepeatedWords"),s=document.getElementById("chkIgnoreUpperAndLower"),v=document.getElementById("selIgnoreUpperLower");r.checked=true;switch(w.IgnoreUpperCaseWords){case e.Disabled:r.checked=false;u.disabled=true;break;default:u.selectedIndex=w.IgnoreUpperCaseWords;break;}p.checked=w.IgnoreContainingNumbers;t.checked=w.IgnoreURLs;q.checked=w.IgnoreEmailAddresses;o.checked=w.FlagRepeatedWords;s.checked=true;switch(w.IgnoreAll){case d.Disabled:s.checked=false;v.disabled=true;break;default:v.selectedIndex=w.IgnoreAll;break;}}function n(t){var u=document.getElementById("txtPDFCertPwd"),s=document.getElementById("chkUserPassword"),v=document.getElementById("txtUserPassword"),r=document.getElementById("chkEnPDFAExp"),o=document.getElementById("chkEnableHyphenation"),p=document.getElementById("chkEnableLangDetect"),q=document.getElementById("chkEnableSpellCheck");l(t);u.value=t.PDFCertFilePwd;s.checked=t.RequireUserPwd;v.disabled=!t.RequireUserPwd;v.value=t.PDFUserPwd;r.checked=t.PDFA;if(t.IsTXSpellAssemblyPresent){o.checked=t.IsHyphenationEnabled;p.checked=t.IsLanguageDetectionEnabled;q.checked=t.IsSpellCheckingEnabled;if(t.IsSpellCheckingEnabled){m(t.SpellCheckSettings);}else{a("#optionsDialogTabs").tabs("option","disabled",[4]);}}else{a("#optionsDialogTabs").tabs("option","disabled",[3,4]);}}k.prototype.dialogReady=function(u){a("#optionsDialogTabs").tabs();n(u.options);function s(v){var w=document.getElementById("txtUserPassword");w.disabled=!this.checked;}var t=document.getElementById("chkUserPassword");t.addEventListener("click",s);function r(v){var w=document.getElementById("selIgnoreUpper");w.disabled=!this.checked;}var o=document.getElementById("chkIgnoreUpper");o.addEventListener("click",r);function q(v){var w=document.getElementById("selIgnoreUpperLower");w.disabled=!this.checked;}var p=document.getElementById("chkIgnoreUpperAndLower");p.addEventListener("click",q);};k.prototype.applyStringResources=function(o){a("#OPTIONS_DIALOG_TAB_HTML").text(o.OPTIONS_DIALOG_TAB_HTML);a("#OPTIONS_DIALOG_TAB_PDF_SEC").text(o.OPTIONS_DIALOG_TAB_PDF_SEC);a("#OPTIONS_DIALOG_TAB_PDF_EXP").text(o.OPTIONS_DIALOG_TAB_PDF_EXP);a("#OPTIONS_DIALOG_GRP_STYLESH_SAV_OPTS > legend").text(o.OPTIONS_DIALOG_GRP_STYLESH_SAV_OPTS);a("#OPTIONS_DIALOG_LBL_CSS_OPTS_NO_STSH").text(o.OPTIONS_DIALOG_LBL_CSS_OPTS_NO_STSH);a("#OPTIONS_DIALOG_LBL_CSS_OPTS_INL_STSH").text(o.OPTIONS_DIALOG_LBL_CSS_OPTS_INL_STSH);a("#OPTIONS_DIALOG_GRP_PDF_DIG_SIG > legend").text(o.OPTIONS_DIALOG_GRP_PDF_DIG_SIG);a("#OPTIONS_DIALOG_GRP_PDF_PWD > legend").text(o.OPTIONS_DIALOG_GRP_PDF_PWD);a("#OPTIONS_DIALOG_LBL_PDF_CERT_FILE").text(o.OPTIONS_DIALOG_LBL_PDF_CERT_FILE);a("#OPTIONS_DIALOG_LBL_PDF_CERT_PWD").text(o.OPTIONS_DIALOG_LBL_PDF_CERT_PWD);a("#OPTIONS_DIALOG_LBL_PDF_REQ_PWD").text(o.OPTIONS_DIALOG_LBL_PDF_REQ_PWD);a("#OPTIONS_DIALOG_LBL_PDF_DOC_PWD").text(o.OPTIONS_DIALOG_LBL_PDF_DOC_PWD);a("#OPTIONS_DIALOG_GRP_PDF_EXP_OPTS > legend").text(o.OPTIONS_DIALOG_GRP_PDF_EXP_OPTS);a("#OPTIONS_DIALOG_CHK_EN_PDFA").text(o.OPTIONS_DIALOG_CHK_EN_PDFA);a("#OPTIONS_DIALOG_TAB_PROOFING").text(o.OPTIONS_DIALOG_TAB_PROOFING);a("#OPTIONS_DIALOG_GRP_PROOF_OPTS > legend").text(o.OPTIONS_DIALOG_GRP_PROOF_OPTS);a("#OPTIONS_DIALOG_LBL_PROOF_SPELL_CHECK").text(o.OPTIONS_DIALOG_LBL_PROOF_SPELL_CHECK);a("#OPTIONS_DIALOG_LBL_PROOF_HYPHEN").text(o.OPTIONS_DIALOG_LBL_PROOF_HYPHEN);a("#OPTIONS_DIALOG_LBL_PROOF_LANGDETECT").text(o.OPTIONS_DIALOG_LBL_PROOF_LANGDETECT);a("#OPTIONS_DIALOG_TAB_SPELL_CHECK").text(o.OPTIONS_DIALOG_TAB_SPELL_CHECK);this.setDefaultBtnTexts(o);if(o.TXSpell){a("#LBL_IGNORE_UPPERCASE").text(o.TXSpell.LBL_IGNORE_UPPERCASE);a("#ITM_UPPERCASE_ALL").text(o.TXSpell.ITM_UPPERCASE_ALL);a("#ITM_UPPERCASE_ONLY_CORRECT").text(o.TXSpell.ITM_UPPERCASE_ONLY_CORRECT);a("#LBL_IGNORE_WORD_WITH_NUMBERS").text(o.TXSpell.LBL_IGNORE_WORD_WITH_NUMBERS);a("#LBL_IGNORE_INTERNET_ADDRESSES").text(o.TXSpell.LBL_IGNORE_INTERNET_ADDRESSES);a("#LBL_IGNORE_EMAIL_ADDRESSES").text(o.TXSpell.LBL_IGNORE_EMAIL_ADDRESSES);a("#LBL_FLAG_REPEATED_WORDS").text(o.TXSpell.LBL_FLAG_REPEATED_WORDS);a("#LBL_IGNORE_CASE").text(o.TXSpell.LBL_IGNORE_CASE);a("#ITM_CASE_ALL").text(o.TXSpell.ITM_CASE_ALL);a("#ITM_CASE_WORD_BEGIN_ALWAYS").text(o.TXSpell.ITM_CASE_WORD_BEGIN_ALWAYS);a("#ITM_CASE_WORD_BEGIN_IS_UPPER").text(o.TXSpell.ITM_CASE_WORD_BEGIN_IS_UPPER);}this.errorMessages.docPwdEmpty=o.OPTIONS_DIALOG_DOC_PWD_EMPTY_ERROR;this.errorMessages.permPwdEmpty=o.OPTIONS_DIALOG_PERM_PWD_EMPTY_ERROR;this.errorMessages.samePwd=o.OPTIONS_DIALOG_SAME_PWD_ERROR;};return k;})(b.HTMLDialog);return f;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.SaveDocumentAsDialog=(function(d){__extends(f,d);function f(g,h){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.SaveDocumentAsDialog,ElementID:"saveDocumentAsDialog",Width:280,TitleResourceName:"SAVEDOCAS_DIALOG_TITLE"};this.fileName=g;this.streamType=h;this.errorMessages={fileNameEmpty:""};}f.prototype.OKHandler=function(g){var h=document.getElementById("txtSaveDocAsFilename").value;if(a.trim(h)==""){b.jQueryAlert(this.caption,this.errorMessages.fileNameEmpty);return;}this.dialogData.dialogResult=true;this.close(g);};function e(){var g=document.getElementById("selSaveAsDocType");var h=g.options[g.selectedIndex].value;return parseInt(h,10);}f.prototype.closing=function(g){if(this.dialogData.dialogResult){this.dialogData.fileName=document.getElementById("txtSaveDocAsFilename").value;this.dialogData.streamType=e();}};f.prototype.dialogReady=function(g){var h=document.getElementById("txtSaveDocAsFilename");h.value=g.fileName;a("#selSaveAsDocType").val(""+g.streamType);};f.prototype.applyStringResources=function(g){a("#SAVEDOCAS_DIALOG_LBL_FILENAME").text(g.SAVEDOCAS_DIALOG_LBL_FILENAME);a("#SAVEDOCAS_DIALOG_LBL_DOC_TYPE").text(g.SAVEDOCAS_DIALOG_LBL_DOC_TYPE);this.errorMessages.fileNameEmpty=g.SAVEDOCAS_DIALOG_FILE_NAME_EMPTY_ERROR;this.setDefaultBtnTexts(g);};return f;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.FontStyle=Object.freeze({Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8});b.FontDialog=(function(d){__extends(e,d);function e(f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.FontDialog,ElementID:"txFontDialog",TitleResourceName:"FONT_DLG_TITLE",};this.state=f;}e.prototype.OKHandler=function(f){this.dialogData.dialogResult=true;this.close(f);};e.prototype.close=function(g){var f={state:{fontName:this.state.fontName,fontSize:this.state.fontSize,fontStyle:this.state.fontStyle},dialogResult:this.dialogData.dialogResult};b.sendCommand(b.Command.DialogResult,b.HTMLDialogType.FontDialog,0,0,f);a(g).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();if(!b.isTouchDevice){b.textViewer.focus();}};e.prototype.dialogReady=function(){var s=this,q,l;var t=document.getElementById("selTxFntDlgNames");this.state.fontNames.forEach(f);var y=this.state.fontSizes;if(y.indexOf(this.state.fontSize)===-1){y.push(this.state.fontSize);y.sort(function(z,A){return z-A;});}var v=document.getElementById("selTxFntDlgSizes");y.forEach(g);var p=document.getElementById("FONT_DLG_STYLE_REGULAR");p.value=b.FontStyle.Regular;var o=document.getElementById("FONT_DLG_STYLE_ITALIC");o.value=b.FontStyle.Italic;var m=document.getElementById("FONT_DLG_STYLE_BOLD");m.value=b.FontStyle.Bold;var n=document.getElementById("FONT_DLG_STYLE_BOLD_ITALIC");n.value=(b.FontStyle.Bold|b.FontStyle.Italic);r(this.state.fontStyle);var h=document.getElementById("chkTxFntDlgStrikeThrough");var j=document.getElementById("chkTxFntDlgUnderline");h.checked=!!(this.state.fontStyle&b.FontStyle.Strikeout);j.checked=!!(this.state.fontStyle&b.FontStyle.Underline);t.addEventListener("change",u);v.addEventListener("change",w);document.getElementById("selTxFntDlgStyles").addEventListener("change",x);h.addEventListener("change",i);j.addEventListener("change",k);function f(z){l=document.createElement("option");t.appendChild(l);l.value=l.text=z;if(z===s.state.fontName){l.selected=true;}}function g(z){l=document.createElement("option");v.appendChild(l);l.value=l.text=z;if(z===s.state.fontSize){l.selected=true;}}function r(z){switch(z&3){case b.FontStyle.Italic:o.selected=true;break;case b.FontStyle.Bold:m.selected=true;break;case (b.FontStyle.Italic|b.FontStyle.Bold):n.selected=true;break;case b.FontStyle.Regular:default:p.selected=true;break;}}function u(z){s.state.fontName=t.value;}function w(z){s.state.fontSize=parseInt(v.value,10);}function x(z){var A=z.target;s.state.fontStyle&=~3;s.state.fontStyle|=parseInt(A.value,10);}function i(z){if(h.checked){s.state.fontStyle|=b.FontStyle.Strikeout;}else{s.state.fontStyle&=~b.FontStyle.Strikeout;}}function k(z){if(j.checked){s.state.fontStyle|=b.FontStyle.Underline;}else{s.state.fontStyle&=~b.FontStyle.Underline;}}};e.prototype.applyStringResources=function(f){a("#FONT_DLG_LBL_FONT").text(f.FONT_DLG_LBL_FONT);a("#FONT_DLG_LBL_SIZE").text(f.FONT_DLG_LBL_SIZE);a("#FONT_DLG_LBL_STYLE").text(f.FONT_DLG_LBL_STYLE);a("#FONT_DLG_GRP_EFFECTS > legend").text(f.FONT_DLG_GRP_EFFECTS);a("#FONT_DLG_STRIKEOUT").text(f.FONT_DLG_STRIKEOUT);a("#FONT_DLG_STYLE_BOLD").text(f.FONT_DLG_STYLE_BOLD);a("#FONT_DLG_STYLE_ITALIC").text(f.FONT_DLG_STYLE_ITALIC);a("#FONT_DLG_STYLE_BOLD_ITALIC").text(f.FONT_DLG_STYLE_BOLD_ITALIC);a("#FONT_DLG_STYLE_REGULAR").text(f.FONT_DLG_STYLE_REGULAR);a("#FONT_DLG_UNDERLINE").text(f.FONT_DLG_UNDERLINE);this.setDefaultBtnTexts(f);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c="http://www.w3.org/2000/svg";b.ThesaurusDialogCommand={};b.ThesaurusDialog=(function(e){__extends(o,e);function o(p){e.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.ThesaurusDialog,ElementID:"thesaurusDialog",TitleResourceName:"THESAURUS_DLG_TITLE"};this.dialogStateUpdatedHandlerBound=this.dialogStateUpdatedHandler.bind(this);this.state=p;this.noAltText="";this.lastSelectedSynonym=null;}o.prototype.applyDialogState=function(L){var y,G,I,J,N,D,B,E,C,A,x,z,H;var v=document.getElementById("thesaurusDialog_cbLanguage");var Q=document.getElementById("thesaurusDialog_txtFindSynonymsFor");var r=document.getElementById("thesaurusDialog_btnBack");var P=document.getElementById("thesaurusDialog_tvSynonyms");var u=document.querySelector("#btnOK_"+this.dialogContainerID+" span.txui-button-text");var t=document.getElementById("btnOK_"+this.dialogContainerID);if(L.languages){L.languages.forEach(q);}if(L.findSynonymsFor){Q.value=L.findSynonymsFor;}if(L.backButton){r.disabled=!L.backButton.Enabled;}if(L.insertButton){R(L.insertButton);}if(L.synonyms){S(L.synonyms);}if(L.selectedLanguage){K(L.selectedLanguage);}function q(s){y=document.createElement("option");v.appendChild(y);y.value=y.text=s.text;}function R(s){if(s.Text){u.textContent=s.Text;}F(s.Enabled);}function F(s){t.disabled=!s;if(s){t.classList.remove("txui-state-disabled");}else{t.classList.add("txui-state-disabled");}}function K(s){v.value=s;}function S(T){var s=(document.activeElement==P);self.lastSelectedSynonym=null;P.innerHTML="";if(T.length==0){D=document.createElement("tr");P.appendChild(D);B=document.createElement("td");D.appendChild(B);z=document.createElement("p");B.appendChild(z);z.classList.add("noAltText");z.textContent=self.noAltText;F(false);return;}for(G=0;G<T.length;++G){J=T[G];N=""+(G+1)+". "+J.text;D=document.createElement("tr");D.dataset.collapsed="false";H=J.items[0];D.dataset.word=H.word;D.dataset.text=H.text;P.appendChild(D);D.classList.add("treeNode");D.addEventListener("dblclick",function(U){O(U.currentTarget);});D.addEventListener("click",function(U){m();U.currentTarget.classList.add("selected");});B=document.createElement("td");D.appendChild(B);B.appendChild(i());B.addEventListener("click",w);B=document.createElement("td");D.appendChild(B);z=document.createElement("p");B.appendChild(z);z.textContent=N;E=document.createElement("tr");P.appendChild(E);E.classList.add("treeNodeItemContainer");C=document.createElement("td");E.appendChild(C);C.colSpan=2;x=document.createElement("div");C.appendChild(x);x.classList.add("thesaurusDialog_itemsWrapper");A=document.createElement("table");x.appendChild(A);A.classList.add("thesaurusDialog_tblItems");A.classList.add("unselectable");p(A,J.items,T.length);x.style.height=x.clientHeight+"px";x.dataset.height=x.clientHeight;}F(true);if(s){P.blur();P.focus();}}function M(s){var T=s.currentTarget;b.sendCommand(b.Command.ThesaurusDialogCommand,b.ThesaurusDialogCommand.SelectedNodeChanged,0,0,{word:T.dataset.word,text:T.dataset.text});}function p(s,T,U){for(I=0;I<T.length;++I){H=T[I];D=document.createElement("tr");s.appendChild(D);D.classList.add("treeNodeItem");D.dataset.word=H.word;D.dataset.text=H.text;D.addEventListener("dblclick",M);D.addEventListener("click",function(V){m();V.currentTarget.classList.add("selected");});B=document.createElement("td");D.appendChild(B);if(G<(U-1)){B.appendChild(l());}else{B.appendChild(g());}B=document.createElement("td");D.appendChild(B);if(I<(T.length-1)){B.appendChild(k());}else{B.appendChild(h());}B=document.createElement("td");D.appendChild(B);z=document.createElement("p");B.appendChild(z);z.textContent=H.text;}}function O(s){if(s.dataset.collapsed==="true"){n(s);}else{f(s);}}function w(s){var T=s.currentTarget.parentElement;O(T);}};function f(s){if(!s.classList.contains("treeNode")){throw new Error("Only tree nodes can be collapsed.");}var q=s.cells[0];var t=s.nextSibling;var r=t.cells[0];var p=r.children[0];p.style.height="0px";s.dataset.collapsed="true";q.innerHTML="";q.appendChild(j());}function n(s){if(!s.classList.contains("treeNode")){throw new Error("Only tree nodes can be expanded.");}var q=s.cells[0];var t=s.nextSibling;var r=t.cells[0];var p=r.children[0];p.style.height=p.dataset.height+"px";s.dataset.collapsed="false";q.innerHTML="";q.appendChild(i());}o.prototype.dialogStateUpdatedHandler=function(p){this.applyDialogState(p.detail);};function m(){var p=document.querySelectorAll("#thesaurusDialog_tvSynonyms tr");[].forEach.call(p,function(q){q.classList.remove("selected");});}function i(){var p=document.createElementNS(c,"svg");p.setAttributeNS(null,"width","16");p.setAttributeNS(null,"height","16");var r=document.createElementNS(c,"rect");r.setAttributeNS(null,"x","4");r.setAttributeNS(null,"y","4");r.setAttributeNS(null,"height","8");r.setAttributeNS(null,"width","8");r.setAttributeNS(null,"fill","none");r.setAttributeNS(null,"stroke","gray");p.appendChild(r);var q=document.createElementNS(c,"line");q.setAttributeNS(null,"x1","6");q.setAttributeNS(null,"y1","8");q.setAttributeNS(null,"x2","10");q.setAttributeNS(null,"y2","8");q.setAttributeNS(null,"stroke","gray");p.appendChild(q);return p;}function j(){var p=i();var q=document.createElementNS(c,"line");q.setAttributeNS(null,"x1","8");q.setAttributeNS(null,"y1","6");q.setAttributeNS(null,"x2","8");q.setAttributeNS(null,"y2","10");q.setAttributeNS(null,"stroke","gray");p.appendChild(q);return p;}function l(){var p=document.createElementNS(c,"svg");p.setAttributeNS(null,"width","16");p.setAttributeNS(null,"height","18");var q=document.createElementNS(c,"line");q.setAttributeNS(null,"x1","8");q.setAttributeNS(null,"y1","0");q.setAttributeNS(null,"x2","8");q.setAttributeNS(null,"y2","18");q.setAttributeNS(null,"stroke","gray");q.setAttributeNS(null,"stroke-dasharray","1, 1");p.appendChild(q);return p;}function k(){var p=document.createElementNS(c,"svg");p.setAttributeNS(null,"width","16");p.setAttributeNS(null,"height","18");var q=document.createElementNS(c,"line");q.setAttributeNS(null,"x1","8");q.setAttributeNS(null,"y1","0");q.setAttributeNS(null,"x2","8");q.setAttributeNS(null,"y2","18");q.setAttributeNS(null,"stroke","gray");q.setAttributeNS(null,"stroke-dasharray","1, 1");p.appendChild(q);q=document.createElementNS(c,"line");q.setAttributeNS(null,"x1","8");q.setAttributeNS(null,"y1","8");q.setAttributeNS(null,"x2","16");q.setAttributeNS(null,"y2","8");q.setAttributeNS(null,"stroke","gray");q.setAttributeNS(null,"stroke-dasharray","1, 1");p.appendChild(q);return p;}function g(){var p=document.createElementNS(c,"svg");p.setAttributeNS(null,"width","16");p.setAttributeNS(null,"height","18");return p;}function h(){var p=document.createElementNS(c,"svg");p.setAttributeNS(null,"width","16");p.setAttributeNS(null,"height","18");var q=document.createElementNS(c,"line");q.setAttributeNS(null,"x1","8");q.setAttributeNS(null,"y1","0");q.setAttributeNS(null,"x2","8");q.setAttributeNS(null,"y2","8");q.setAttributeNS(null,"stroke","gray");q.setAttributeNS(null,"stroke-dasharray","1, 1");p.appendChild(q);q=document.createElementNS(c,"line");q.setAttributeNS(null,"x1","8");q.setAttributeNS(null,"y1","8");q.setAttributeNS(null,"x2","16");q.setAttributeNS(null,"y2","8");q.setAttributeNS(null,"stroke","gray");q.setAttributeNS(null,"stroke-dasharray","1, 1");p.appendChild(q);return p;}o.prototype.OKHandler=function(p){this.dialogData.dialogResult=true;this.close(p);};o.prototype.getSelectedSynonym=function(){var p=document.getElementById("thesaurusDialog_tvSynonyms");var q=p.querySelector("tr.selected");if(!q&&this.lastSelectedSynonym){return this.lastSelectedSynonym;}if(!q&&p.rows.length){q=p.rows[0];}if(!q){return null;}return{word:q.dataset.word,text:q.dataset.text};};o.prototype.close=function(q){var p={state:{selectedElement:this.getSelectedSynonym()},dialogResult:this.dialogData.dialogResult};b.sendCommand(b.Command.DialogResult,b.HTMLDialogType.ThesaurusDialog,0,0,p);document.removeEventListener("thesaurusDialogStateUpdated",this.dialogStateUpdatedHandlerBound);a(q).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();if(!b.isTouchDevice){b.textViewer.focus();}};o.prototype.dialogReady=function(){var v=this;this.applyDialogState(this.state);var q=document.getElementById("thesaurusDialog_btnBack");q.addEventListener("click",r);var z=document.getElementById("thesaurusDialog_txtFindSynonymsFor");z.addEventListener("input",A);z.addEventListener("change",A);var s=document.getElementById("thesaurusDialog_cbLanguage");s.addEventListener("change",t);var w=document.getElementById("thesaurusDialog_tvSynonyms");w.addEventListener("keydown",y);w.addEventListener("focus",x);w.addEventListener("blur",function(){v.lastSelectedSynonym=v.getSelectedSynonym();m();});var B=document.getElementById("thesaurusDialog_treeViewWrapper");document.addEventListener("thesaurusDialogStateUpdated",this.dialogStateUpdatedHandlerBound);z.focus();function p(){b.sendCommand(b.Command.ThesaurusDialogCommand,b.ThesaurusDialogCommand.Back);}function r(C){p();}function A(C){b.sendCommand(b.Command.ThesaurusDialogCommand,b.ThesaurusDialogCommand.FindSynonymTextChanged,0,0,{text:z.value});}function t(C){b.sendCommand(b.Command.ThesaurusDialogCommand,b.ThesaurusDialogCommand.LanguageChanged,0,0,{languageName:s.value});}function x(C){var D=document.querySelector("#thesaurusDialog_tvSynonyms tr.selected");if(!D&&(w.rows.length>1)){w.rows[0].classList.add("selected");}}function y(D){var F=D.keyCode||D.which||0;switch(F){case b.KeyCode.DownArrow:H();D.preventDefault();break;case b.KeyCode.UpArrow:H(true);D.preventDefault();break;case b.KeyCode.LeftArrow:C();D.preventDefault();break;case b.KeyCode.RightArrow:E();D.preventDefault();break;case b.KeyCode.Space:G();D.preventDefault();break;case b.KeyCode.Backspace:if(document.activeElement==w){p();D.preventDefault();}break;case b.KeyCode.Enter:v.OKHandler(document.getElementById("thesaurusDialog"));D.preventDefault();break;}function C(){var I=document.querySelector("#thesaurusDialog_tvSynonyms tr.selected");if(I.classList.contains("treeNode")){f(I);u(I);}else{if(I.classList.contains("treeNodeItem")){I.classList.remove("selected");I=I.parentElement.parentElement.parentElement.parentElement.previousSibling;I.classList.add("selected");u(I);}}}function E(){var I=document.querySelector("#thesaurusDialog_tvSynonyms tr.selected");if(I.classList.contains("treeNode")){if(I.dataset.collapsed=="true"){n(I);}else{I.classList.remove("selected");I=I.nextSibling.cells[0].children[0].children[0].rows[0];I.classList.add("selected");}u(I);}}function G(){var I=document.querySelector("#thesaurusDialog_tvSynonyms tr.selected");if(I&&I.classList.contains("treeNodeItem")){b.sendCommand(b.Command.ThesaurusDialogCommand,b.ThesaurusDialogCommand.SelectedNodeChanged,0,0,{word:I.dataset.word,text:I.dataset.text});}}function H(L){var K,J,I;L=!!L;K=document.getElementById("thesaurusDialog_tvSynonyms");J=K.querySelectorAll("tr.treeNode, tr:not([data-collapsed=\'true\']) + tr.treeNodeItemContainer tr.treeNodeItem");for(I=0;I<J.length;++I){if(J[I].classList.contains("selected")){J[I].classList.remove("selected");break;}}if(I==J.length){return;}I=L?(I-1).mod(J.length):(I+1).mod(J.length);J[I].classList.add("selected");u(J[I]);}}function u(E){var C=B.clientHeight;var D=E.clientHeight;var F=E.getBoundingClientRect().top-w.getBoundingClientRect().top;if(F<B.scrollTop){B.scrollTop=F-C+D;}else{if((F+D)>(B.scrollTop+C)){B.scrollTop=F;}}}};o.prototype.applyStringResources=function(p){document.getElementById("THESAURUS_DLG_LBL_FIND_SYN_FOR").textContent=p.THESAURUS_DLG_LBL_FIND_SYN_FOR;document.getElementById("THESAURUS_DLG_LBL_LANGUAGE").textContent=p.THESAURUS_DLG_LBL_LANGUAGE;document.getElementById("THESAURUS_DLG_LBL_SYNONYMS").textContent=p.THESAURUS_DLG_LBL_SYNONYMS;this.noAltText=p.THESAURUS_DLG_NO_ALTERNATIVES;this.setDefaultBtnTexts(p);document.querySelector("#btnOK_"+this.dialogContainerID+" span.txui-button-text").textContent=p.THESAURUS_DLG_BTN_INSERT;};return o;})(b.HTMLDialog);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ClientPasteDialog=(function(d){__extends(f,d);function f(l){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.ClientPasteDialog,ElementID:"clientPasteDialog",Width:300,Height:255,TitleResourceName:"CLIENTPASTE_DIALOG_TITLE",Buttons:{},DialogElement:h()};}function h(){var p=document.createElement("div");p.classList.add("txDialog");var m=document.createElement("form");var o=document.createElement("div");o.style.margin="5px 10px 10px 10px";o.style.cssFloat="left";o.style.clear="left";o.style.border="1px solid #ABABAB";o.style.backgroundColor="white";o.style.overflow="hidden";o.style.padding="10px";var n=document.createElement("div");n.contentEditable=true;n.style.width="200px";n.style.height="150px";n.style.border="3px dashed #c2c2c2";n.style.borderRadius="15px";n.style.textAlign="center";n.style.backgroundColor="white";n.style.overflow="hidden";n.style.fontFamily="Verdana, Arial, sans-serfic !important";n.style.color="#c2c2c2";n.style.fontSize="16px";n.style.padding="10px";n.style.backgroundImage=" url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBRjMwM0VCQjYzODAxMUU0OTUyQ0VGNjhDMEE3MTY0NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBRjMwM0VCQzYzODAxMUU0OTUyQ0VGNjhDMEE3MTY0NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkFGMzAzRUI5NjM4MDExRTQ5NTJDRUY2OEMwQTcxNjQ2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkFGMzAzRUJBNjM4MDExRTQ5NTJDRUY2OEMwQTcxNjQ2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Dn8RgwAAAkdJREFUeNrsms0rhEEcx8d6KwflsFFK/geR6BFuXuOgRA4OiiKKiwMRBydFeyAuktcVR0TUrhRyUIRcECcvByGt1+/Yn4tkPc/OzD6r+dWnPezzzDyf2d35/WZmIzweDwsiYkANKAcZwGny/iuwDRbAOPCZfQDDMD5fHUFI8Ac/BqOgyIIEo3uKqI1jatNSWBUpBBsglYmLVGqzUJVIIpgC0Ux8RFPbiSpEOkA8kxfx1IdUkUhQxeRHFfUlTSQJJCgQSaC+pIk4mbpwyv6N2DK0iBbRIlpEi2gRLaJFtIgW0SJaRIsEGVEgBWTROjk2wPXJCp+tGuQGuMbn9Xpv8LrJRQ5BnA0Huc3Etff8qzXyD75ZbgeZz4axxDpo5CIvzL8hNhaGEoug2DCMx69Z6xXUgv4wkpgAZVzi+/T7DlpBexhIDDL/uYzvtzzSB+rAm00lOkEzDXzAhMgPXiqYhRMkicEHtgH0mM3s86AA3NlA4hlUgiGrJcoayAfXIZR4YP7jOXewtdYulTDnIZC4poFcEVU0noBscKBQ4hLkMP+pr9Dq94Ia3lIgcQQyqQ6UUsbf0ke9LFFihwbsQvZ6hGfSUjAjQWKVBupK1cLKR/WZS6DEHM1O96pXiDxBNYFuARLDlCcsJ2ARS90uErJa0vSCeipcQ75md9HS9NnkfS3Mwp8DZG8+TIMSmgz+UnJw8QG77qLwaTkvQEnzQLPepMiOZWwH8UycDvZ/eO+MKoQl0Z3K2tc6pczcT9XzEy0N0sCejA4/BBgA0lps8gSRfDEAAAAASUVORK5CYII=)";n.style.backgroundRepeat="no-repeat";n.style.backgroundPosition="center bottom 30px";var l=document.createElement("span");p.id="clientPasteDialog";o.id="pasteAreaWrapper";n.id="pasteArea";l.id="CLIENTPASTE_DIALOG_PLACEHLD_TXT";p.appendChild(m);m.appendChild(o);o.appendChild(n);n.appendChild(l);return p;}function i(){var l=document.getElementById("pasteArea");return l.innerHTML;}function k(){var l=i();b.pasteText(l,b.ClipboardDataType.HTML);}f.prototype.closing=function(){b.modifierKeys=0;};function e(l){k();l.close(a("#"+l.DialogInfo.ElementID));}function j(n,l){if(!b.handleClientPaste(l,false)){n.close(a("#"+n.DialogInfo.ElementID));return;}var m=document.getElementById("pasteArea");m.innerHTML="";setTimeout(function(){e(n);},10);return false;}function g(m,l){b.handleDrop(l);m.close(a("#"+m.DialogInfo.ElementID));return false;}f.prototype.dialogReady=function(m){var q=this;var n=a("#clientPasteDialog"),o=n.css("margin-left"),l={width:n.css("border-left-width"),color:n.css("border-left-color"),style:n.css("border-left-style")};n.css("border-bottom-width",l.width);n.css("border-bottom-color",l.color);n.css("border-bottom-style",l.style);n.css("margin-bottom",o);var p=document.getElementById("pasteArea");if(!b.isTouchDevice){p.focus();}p.addEventListener("paste",function(r){j(q,r);});p.addEventListener("drop",function(r){g(q,r);r.stopPropagation();});p.addEventListener("dragenter",function(r){r.preventDefault();r.stopPropagation();});p.addEventListener("dragover",function(r){r.preventDefault();r.stopPropagation();r.dataTransfer.dropEffect="copy";});};f.prototype.applyStringResources=function(l){a("#CLIENTPASTE_DIALOG_PLACEHLD_TXT").text(l.CLIENTPASTE_DIALOG_PLACEHLD_TXT);};return f;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};b.SpellCheckDialogCommand={IgnoreOnce:1,IgnoreAll:2,AddToDict:3,Change:4,ChangeAll:5,SuggestionSelected:6,SuggestionDictSelected:7,PreviewTextChanged:8};var c=false;b.SpellCheckDialog=(function(f){__extends(k,f);function k(l){f.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.SpellCheckDialog,ElementID:"spellCheckDialog",TitleResourceName:"SPELLCHECK_DIALOG_TITLE",Buttons:{}};this.dialogStateUpdatedHandlerBound=this.dialogStateUpdatedHandler.bind(this);this.initialState=l;}k.prototype.btnIgnoreOnceClick=function(l){b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.IgnoreOnce);};k.prototype.btnIgnoreAllClick=function(l){b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.IgnoreAll);};k.prototype.btnAddToDictClick=function(l){b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.AddToDict);};k.prototype.btnChangeClick=function(l){b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.Change);};k.prototype.btnChangeAllClick=function(l){b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.ChangeAll);};var e={spanBefore:null,spanEmph:null,spanAfter:null,textContent:""};function g(l){var m;if(l.target.children.length!=3){l.target.innerHTML="";l.target.appendChild(e.spanBefore);l.target.appendChild(e.spanEmph);l.target.appendChild(e.spanAfter);return;}var r=l.target.children[1],s=r.textContent,t=e.spanEmph.textContent;if(s!==t){b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.PreviewTextChanged,0,0,s);}else{var p=l.target.children[0],n=l.target.children[2],q=e.spanBefore,o=e.spanAfter;if(p.textContent!==q.textContent){p.textContent=q.textContent;}else{if(n.textContent!==o.textContent){n.textContent=o.textContent;}else{if(l.target.textContent!==e.textContent){l.target.innerHTML="";l.target.appendChild(e.spanBefore);l.target.appendChild(e.spanEmph);l.target.appendChild(e.spanAfter);}}}}e.spanBefore=l.target.children[0].cloneNode(true);e.spanEmph=r.cloneNode(true);e.spanAfter=l.target.children[2].cloneNode(true);e.textContent=l.target.textContent;}function j(p,l){l.innerHTML="";var t=p.Text;var n=document.createElement("SPAN");var m=document.createElement("SPAN");var o=document.createElement("SPAN");o.style.fontWeight="bold";o.style.color="red";o.id="txSpellDlgPrevAreaEmphWord";n.contentEditable=false;m.contentEditable=false;if(p.EmphasizedAreaStart!==null){var s=t.substring(p.EmphasizedAreaStart,p.EmphasizedAreaEnd);o.textContent=s;var r=t.substring(0,p.EmphasizedAreaStart);var q=t.substring(p.EmphasizedAreaEnd);n.textContent=r;m.textContent=q;}else{m.textContent=t;}l.appendChild(n);l.appendChild(o);l.appendChild(m);e.spanBefore=n.cloneNode(true);e.spanEmph=o.cloneNode(true);e.spanAfter=m.cloneNode(true);e.textContent=l.textContent;}k.prototype.applyPrevAreaState=function(m){var l=document.getElementById("txSpellCheckPreviewArea");if(m.AreaEnabled){l.contentEditable=true;}else{l.removeAttribute("contenteditable");}if(m.Text!==null){j(m,l);}};k.prototype.setSugDicts=function(p){var m=document.getElementById("txSpellCheckSelSuggDict");m.innerHTML="";for(var n=0;n<p.Names.length;++n){var o=p.Names[n];var l=document.createElement("OPTION");l.textContent=o;l.value=o;m.appendChild(l);}if(p.SelectedDict!==null){m.value=p.SelectedDict;}};function h(l){if(c){return;}b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.SuggestionDictSelected,0,0,l.target.value);}k.prototype.setSuggestions=function(n){var o=n.Suggestions;var l=n.NoSuggestionsCreated;var m=document.getElementById("txSpellCheckSelSuggestions");m.innerHTML="";if(l){m.setAttribute("disabled","disabled");}else{m.removeAttribute("disabled");}o.forEach(function(q){var p=document.createElement("OPTION");p.textContent=q;m.appendChild(p);});if(!l){m.selectedIndex=0;}};function i(l){if(c){return;}b.sendCommand(b.Command.SpellCheckDialogCommand,b.SpellCheckDialogCommand.SuggestionSelected,0,0,l.target.value);}k.prototype.setButtonStates=function(q){var o=document.getElementById("ID_SPELL_BTN_IGNORE_ONCE");if(q.BtnIgnore.Text!==null){o.textContent=q.BtnIgnore.Text;}if(q.BtnIgnore.Enabled!==null){b.enableButton(o,q.BtnIgnore.Enabled);}var p=document.getElementById("ID_SPELL_BTN_IGNORE_ALL");if(q.BtnIgnoreAll.Enabled!==null){b.enableButton(p,q.BtnIgnoreAll.Enabled);}var l=document.getElementById("ID_SPELL_BTN_ADD_TO_DICTIONARY");if(q.BtnAddToDict.Enabled!==null){b.enableButton(l,q.BtnAddToDict.Enabled);}var m=document.getElementById("ID_SPELL_BTN_CHANGE");if(q.BtnChange.Text!==null){m.textContent=q.BtnChange.Text;}if(q.BtnChange.Enabled!==null){b.enableButton(m,q.BtnChange.Enabled);}var n=document.getElementById("ID_SPELL_BTN_CHANGE_ALL");if(q.BtnChangeAll.Text!==null){n.textContent=q.BtnChangeAll.Text;}if(q.BtnChangeAll.Enabled!==null){b.enableButton(n,q.BtnChangeAll.Enabled);}};k.prototype.updateSugArea=function(m){var l=document.getElementById("txSpellCheckSelSuggDict");if(m.CbSugDictsEnabled){l.removeAttribute("disabled");}else{l.setAttribute("disabled","disabled");}};k.prototype.setDialogState=function(m){var l=document.getElementById("txSpellCheckLblLang");if(m.LblLangText!==null){l.textContent=m.LblLangText;}if(m.MessageBoxText!==null){b.jQueryAlert("TXSpell",m.MessageBoxText);}if(m.CloseDialog){this.close(a("#"+this.DialogInfo.ElementID));}};k.prototype.applyDialogState=function(l){c=true;if(l.Preview!==null){this.applyPrevAreaState(l.Preview);}if(l.SugDicts!==null){this.setSugDicts(l.SugDicts);}if(l.Suggestions!==null){this.setSuggestions(l.Suggestions);}if(l.ButtonStates!==null){this.setButtonStates(l.ButtonStates);}if(l.SuggestionsArea!==null){this.updateSugArea(l.SuggestionsArea);}if(l.DialogState!==null){this.setDialogState(l.DialogState);}c=false;};k.prototype.dialogStateUpdatedHandler=function(l){var m=l.detail;this.applyDialogState(m);};k.prototype.applyStringResources=function(l){a("#ID_SPELL_LBL_NOT_IN_DICTIONARIES").text(l.ID_SPELL_LBL_NOT_IN_DICTIONARIES);a("#LBL_LANGUAGE").text(l.LBL_LANGUAGE);a("#ID_SPELL_BTN_IGNORE_ONCE").text(l.ID_SPELL_BTN_IGNORE_ONCE);a("#ID_SPELL_BTN_IGNORE_ALL").text(l.ID_SPELL_BTN_IGNORE_ALL);a("#ID_SPELL_BTN_ADD_TO_DICTIONARY").text(l.ID_SPELL_BTN_ADD_TO_DICTIONARY);a("#ID_SPELL_LBL_SUGGESTIONS").text(l.ID_SPELL_LBL_SUGGESTIONS);a("#ID_SPELL_BTN_CHANGE").text(l.ID_SPELL_BTN_CHANGE);a("#ID_SPELL_BTN_CHANGE_ALL").text(l.ID_SPELL_BTN_CHANGE_ALL);a("#ID_SPELL_LBL_SUGGESTIONS_DICTIONARY").text(l.ID_SPELL_LBL_SUGGESTIONS_DICTIONARY);a("#ID_SPELL_BTN_CANCEL").text(l.ID_SPELL_BTN_CANCEL);};k.prototype.closing=function(){document.removeEventListener("spellCheckDialogStateUpdated",this.dialogStateUpdatedHandlerBound);};k.prototype.dialogReady=function(){var r=this;var m=a("#spellCheckDialog"),q=m.css("margin-left"),l={width:m.css("border-left-width"),color:m.css("border-left-color"),style:m.css("border-left-style")};m.css("border-bottom-width",l.width);m.css("border-bottom-color",l.color);m.css("border-bottom-style",l.style);m.css("margin-bottom",q);a("#ID_SPELL_BTN_IGNORE_ONCE").click(r.btnIgnoreOnceClick);a("#ID_SPELL_BTN_IGNORE_ALL").click(r.btnIgnoreAllClick);a("#ID_SPELL_BTN_ADD_TO_DICTIONARY").click(r.btnAddToDictClick);a("#ID_SPELL_BTN_CHANGE").click(r.btnChangeClick);a("#ID_SPELL_BTN_CHANGE_ALL").click(r.btnChangeAllClick);a("#ID_SPELL_BTN_CANCEL").click(function(){r.close(a("#"+r.DialogInfo.ElementID));});this.applyDialogState(this.initialState);document.addEventListener("spellCheckDialogStateUpdated",this.dialogStateUpdatedHandlerBound);var p=document.getElementById("txSpellCheckSelSuggestions");p.addEventListener("change",i);var o=document.getElementById("txSpellCheckSelSuggDict");o.addEventListener("change",h);var n=document.getElementById("txSpellCheckPreviewArea");n.addEventListener("keyup",g);};return k;})(b.HTMLDialog);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.EdgePrintDialog=(function(d){__extends(e,d);function e(f){d.call(this);var g=this;this.DialogInfo={DialogType:b.HTMLDialogType.EdgePrintDialog,ElementID:"edgePrintDialog",Width:400,TitleResourceName:"EDGE_PRINT_DIALOG_TITLE",Buttons:{Cancel:{text:"Cancel",click:function(){g.close(this);},id:"btnCancel_"+this.dialogContainerID}}};this.printHandlerUrl=f;}e.prototype.dialogReady=function(f){var g=document.getElementById("edgePrintDialog_downloadLink");g.download="print_result.pdf";g.href=this.printHandlerUrl;};e.prototype.applyStringResources=function(h){var f=document.getElementById("EDGE_PRINT_DIALOG_TEXT");f.innerHTML=h.EDGE_PRINT_DIALOG_TEXT;var g=document.getElementById("EDGE_PRINT_DIALOG_DOWNLOAD_LINK_TEXT");g.innerHTML=h.EDGE_PRINT_DIALOG_DOWNLOAD_LINK_TEXT;this.setDefaultBtnTexts(h);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.PermissionsAddUserDialogCommand={};b.PermissionsAddUserDialog=(function(d){__extends(g,d);function g(h){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.PermissionsAddUserDialog,ElementID:"permissionsAddUserDialog",TitleResourceName:"PERMISSIONSADDUSER_DLG_TITLE"};this.dialogStateUpdatedHandlerBound=this.dialogStateUpdatedHandler.bind(this);this.state=h;this.registeredUserNameHintText="";}g.prototype.applyDialogState=function(x){var v=this,o,n;var y=document.getElementById("permissionsAddUserDialog_txtNewUser");var k=document.getElementById("permissionsAddUserDialog_btnDelete");var j=document.getElementById("permissionsAddUserDialog_btnAdd");var q=document.getElementById("permissionsAddUserDialog_lbUsers");var l=document.getElementById("btnOK_"+v.dialogContainerID);var m=document.getElementById("permissionsAddUserDialog_cbRegUsers");var r=document.getElementById("permissionsAddUserDialog_rowLblNewUser");var t=document.getElementById("permissionsAddUserDialog_rowNewUser");var s=document.getElementById("permissionsAddUserDialog_rowLblRegUsers");var u=document.getElementById("permissionsAddUserDialog_rowRegUsers");if(x.userName!==null){y.value=x.userName;}if(x.userNames){i(x.userNames);}if(x.registeredUserNames){if(x.registeredUserNames.length){h(x.registeredUserNames);}else{s.style.display=u.style.display="none";}}if(x.deleteButton){b.enableButton(k,x.deleteButton.Enabled);}if(x.addButton){b.enableButton(j,x.addButton.Enabled);}if(x.okButton){b.enableButton(l,x.okButton.Enabled);}if(x.selectedIndex!==null){w(x.selectedIndex);}if((x.allowAdditional!==null)&&!x.allowAdditional){r.style.display=t.style.display="none";}function i(B){var z,A;q.innerHTML="";for(z=0;z<B.length;++z){A=B[z];o=document.createElement("div");q.appendChild(o);o.dataset.index=z;o.addEventListener("click",p);n=document.createElement("p");o.appendChild(n);n.textContent=A;}}function w(z){f();if(z>-1){var A=document.querySelectorAll("#permissionsAddUserDialog_lbUsers div");if(z<A.length){A[z].classList.add("selected");}}}function p(z){f();z.currentTarget.classList.add("selected");b.sendCommand(b.Command.PermissionsAddUserDialogCommand,b.PermissionsAddUserDialogCommand.SelectedIndexChanged,0,0,{index:parseInt(z.currentTarget.dataset.index,10)});}function h(A){var z;if(!A.length){return;}z=document.createElement("option");m.appendChild(z);z.disabled=true;z.selected=true;z.style.display="none";z.style.color="#AAA";z.textContent=v.registeredUserNameHintText;A.forEach(function(B){z=document.createElement("option");m.appendChild(z);z.textContent=B;});m.selectedIndex=0;}};g.prototype.close=function(i){var h={dialogResult:this.dialogData.dialogResult};b.sendCommand(b.Command.DialogResult,b.HTMLDialogType.PermissionsAddUserDialog,0,0,h);document.removeEventListener("permissionsAddUserDialogUpdated",this.dialogStateUpdatedHandlerBound);a(i).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();if(!b.isTouchDevice){b.textViewer.focus();}};function e(h){b.sendCommand(b.Command.PermissionsAddUserDialogCommand,b.PermissionsAddUserDialogCommand.DeleteButtonClicked);}function f(){var h=document.querySelectorAll("#permissionsAddUserDialog_lbUsers div");[].forEach.call(h,function(i){i.classList.remove("selected");});}g.prototype.dialogReady=function(){var o=this;h();var p=document.getElementById("permissionsAddUserDialog_txtNewUser");var m=document.getElementById("permissionsAddUserDialog_cbRegUsers");m.addEventListener("change",n);var i=document.getElementById("permissionsAddUserDialog_btnAdd");i.addEventListener("keydown",k);var l=document.getElementById("permissionsAddUserDialog_btnDelete");p.addEventListener("input",q);p.addEventListener("change",q);p.addEventListener("keydown",s);p.addEventListener("focus",r);i.addEventListener("click",j);this.applyDialogState(this.state);document.addEventListener("permissionsAddUserDialogUpdated",this.dialogStateUpdatedHandlerBound);function q(t){b.sendCommand(b.Command.PermissionsAddUserDialogCommand,b.PermissionsAddUserDialogCommand.UserNameChanged,0,0,{userName:p.value});}function s(t){var u=t.keyCode||t.which||0;switch(u){case b.KeyCode.Enter:if(!i.disabled){b.sendCommand(b.Command.PermissionsAddUserDialogCommand,b.PermissionsAddUserDialogCommand.AddButtonClicked);t.preventDefault();}break;}}function k(t){s(t);}function r(){f();b.enableButton(l,false);}function j(t){b.sendCommand(b.Command.PermissionsAddUserDialogCommand,b.PermissionsAddUserDialogCommand.AddButtonClicked);p.focus();}function h(){var v=document.getElementById("permissionsAddUserDialog").parentElement;var u=v.querySelector("div.txui-dialog-buttonpane > .txui-dialog-buttonset");var t=document.createElement("button");u.appendChild(t);t.type="button";t.id="permissionsAddUserDialog_btnDelete";t.classList.add("txui-button");t.classList.add("txui-button-text-only");t.classList.add("txui-state-default");var w=document.createElement("span");t.appendChild(w);w.classList.add("txui-button-text");w.textContent=o.stringResources.PERMISSIONSADDUSER_DLG_BTN_DELETE;t.addEventListener("click",e);}function n(t){b.sendCommand(b.Command.PermissionsAddUserDialogCommand,b.PermissionsAddUserDialogCommand.RegisteredUserSelected,0,0,{userName:m.value});m.selectedIndex=0;}};g.prototype.dialogStateUpdatedHandler=function(h){this.applyDialogState(h.detail);};g.prototype.applyStringResources=function(h){document.getElementById("PERMISSIONSADDUSER_DLG_LBL_NEW_USER").textContent=h.PERMISSIONSADDUSER_DLG_LBL_NEW_USER;document.getElementById("PERMISSIONSADDUSER_DLG_LBL_USERS").textContent=h.PERMISSIONSADDUSER_DLG_LBL_USERS;document.getElementById("permissionsAddUserDialog_btnAdd").textContent=h.PERMISSIONSADDUSER_DLG_BTN_ADD;document.getElementById("PERMISSIONSADDUSER_DLG_LBL_REG_USERS").textContent=h.PERMISSIONSADDUSER_DLG_LBL_REG_USERS;this.registeredUserNameHintText=h.PERMISSIONSADDUSER_DLG_REG_USERS_HINT;this.setDefaultBtnTexts(h);this.stringResources=h;};return g;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ManageConditionalInstructionsDialog=(function(d){__extends(e,d);function e(f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.ManageConditionalInstructionsDialog,ElementID:"manageConditionalInstructionsDialog",Width:"auto",TitleResourceName:"ID_MANAGECONDITIONALINSTRUCTIONS_CAPTION"};this.formFields=f.formFields;this.instructions=f.conditionalInstructions;this.deleted=[];this.dialogData.deleted=[];this.dialogData.instructions=null;}e.prototype.closing=function(){if(this.dialogData.dialogResult){this.dialogData.instructions=this.instructions;this.dialogData.deleted=this.deleted;}};e.prototype.populateSelect=function(){var h=document.getElementById("manageConditionalInstructionsDialog_selInstructions");h.innerHTML="";this.instructions.forEach(function(j){var i=document.createElement("option");i.value=i.text=i.title=j.name;h.appendChild(i);});h.selectedIndex=0;var g=document.getElementById("ID_MANAGECONDITIONALINSTRUCTIONS_EDIT");var f=document.getElementById("ID_MANAGECONDITIONALINSTRUCTIONS_DELETE");b.enableButton(g,(this.instructions.length>0));b.enableButton(f,(this.instructions.length>0));};e.prototype.dialogReady=function(){var m=this;var l=document.getElementById("manageConditionalInstructionsDialog_selInstructions");this.populateSelect();var j=document.getElementById("ID_MANAGECONDITIONALINSTRUCTIONS_NEW");var h=document.getElementById("ID_MANAGECONDITIONALINSTRUCTIONS_EDIT");var f=document.getElementById("ID_MANAGECONDITIONALINSTRUCTIONS_DELETE");h.addEventListener("click",i);j.addEventListener("click",k);f.addEventListener("click",g);b.enableButton(j,(this.formFields.length>0));function k(o){var p=m.instructions.map(function(r){return r.name;});var n=new b.ConditionalInstructionDialog(m.formFields,p,q);n.showModal();function q(r){m.instructions.push(r);m.populateSelect();}}function i(o){var p=m.instructions.map(function(t){return t.name;});if(!l.value){return;}var r=m.instructions.find(function(t){return t.name===l.value;});var q=cloneObject(r);var n=new b.ConditionalInstructionDialog(m.formFields,p,s,q);n.showModal();function s(u){for(var t=0;t<m.instructions.length;++t){if(m.instructions[t].name===u.nameOld){m.deleted.push(u.nameOld);m.instructions.splice(t,1,u);m.populateSelect();break;}}}}function g(n){var o;if(!l.value){return;}for(o=0;o<m.instructions.length;++o){var p=m.instructions[o];if(p.name===l.value){m.deleted.push(p.name);m.instructions.splice(o,1);m.populateSelect();break;}}}};e.prototype.applyStringResources=function(f){a("#ID_MANAGECONDITIONALINSTRUCTIONS_ITEMS").text(f.ID_MANAGECONDITIONALINSTRUCTIONS_ITEMS);a("#ID_MANAGECONDITIONALINSTRUCTIONS_NEW").text(f.ID_MANAGECONDITIONALINSTRUCTIONS_NEW);a("#ID_MANAGECONDITIONALINSTRUCTIONS_EDIT").text(f.ID_MANAGECONDITIONALINSTRUCTIONS_EDIT);a("#ID_MANAGECONDITIONALINSTRUCTIONS_DELETE").text(f.ID_MANAGECONDITIONALINSTRUCTIONS_DELETE);this.setDefaultBtnTexts(f);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.InsertBookmarkDialog=(function(d){__extends(e,d);function e(f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.InsertBookmarkDialog,ElementID:"insertBookmarkDialog",Width:"auto",TitleResourceName:f.captionResID};this.existing=f.existing;this.edit=f.edit;this.target=(f.edit&&f.atInputPos)?f.atInputPos:{targetName:"",hashCode:0,deleteable:true};}e.prototype.closing=function(){if(this.dialogData.dialogResult){var f=document.getElementById("insertBookmarkDialog_cbDeleteable");var g=document.getElementById("insertBookmarkDialog_txtTargetName");this.dialogData.targetName=g.value.trim();this.dialogData.targetHashCode=this.target.hashCode;this.dialogData.deleteable=f.checked;}};e.prototype.dialogReady=function(){var k=this,j;var n=document.getElementById("insertBookmarkDialog_txtTargetName");var l=document.getElementById("insertBookmarkDialog_selTargetName");var h=document.getElementById("insertBookmarkDialog_cbDeleteable");var g=document.getElementById("insertBookmarkDialog_cbAutoGenerated");var f=document.getElementById("btnOK_"+this.dialogContainerID);n.value=this.target.targetName.trim();b.enableButton(f,!!n.value);n.addEventListener("input",o);n.addEventListener("change",o);h.checked=this.target.deleteable;g.addEventListener("click",function(p){i();});i();l.addEventListener("change",m);function o(){b.enableButton(f,!!n.value.trim());}function m(){var p=k.existing.find(function(q){return q.hashCode==l.value;});n.value=p.targetName;b.enableButton(f);if(k.edit){k.target=p;h.checked=p.deleteable;}}function i(){var p=g.checked;l.innerHTML="";k.existing.forEach(function(q){if(q.isAutoGenerated&&!p){return;}j=document.createElement("option");j.text=q.targetName;j.value=q.hashCode;l.add(j);});if(k.target.hashCode){l.value=k.target.hashCode;}}};e.prototype.applyStringResources=function(j){var i=document.getElementById("insertBookmarkDialog_lblTargetName");var h=document.getElementById("insertBookmarkDialog_lblSelTargetName");var g=document.getElementById("insertBookmarkDialog_lblDeleteable");var f=document.getElementById("insertBookmarkDialog_lblAutoGenerated");i.innerText=j.ID_INSERTBOOKMARK_NAME;h.innerText=j.ID_INSERTBOOKMARK_NAMES_INSERT;g.innerText=j.ID_INSERTBOOKMARK_DELETABLE;f.innerText=j.ID_INSERTBOOKMARK_AUTOMATICALLY_GENERATED;this.setDefaultBtnTexts(j);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.DeleteBookmarksDialog=(function(d){__extends(e,d);function e(f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.DeleteBookmarksDialog,ElementID:"deleteBookmarksDialog",TitleResourceName:"ID_DELETEBOOKMARKS_CAPTION"};this.bookmarks=f.bookmarks;this.atInputPos=f.atInputPos;this.deletedHashCodes=[];}e.prototype.closing=function(){if(this.dialogData.dialogResult){this.dialogData.deletedHashCodes=this.deletedHashCodes;}};e.prototype.populateSelect=function(f){var g=document.getElementById("deleteBookmarksDialog_cbAutoGenerated").checked;f.innerHTML="";this.bookmarks.forEach(function(i){if(i.isAutoGenerated&&!g){return;}var h=document.createElement("option");h.text=h.title=i.targetName;h.value=i.targetHashCode;f.add(h);});if(this.atInputPos){f.value=this.atInputPos.targetHashCode;}else{f.selectedIndex=0;}};e.prototype.dialogReady=function(){var m=this;var k=document.getElementById("deleteBookmarksDialog_selBookmarks");this.populateSelect(k);var h=document.getElementById("deleteBookmarksDialog_btnGoto");var f=document.getElementById("deleteBookmarksDialog_btnDelete");h.addEventListener("click",i);f.addEventListener("click",g);k.addEventListener("change",l);var j=document.getElementById("deleteBookmarksDialog_cbAutoGenerated");j.addEventListener("click",function(n){m.populateSelect(k);k.focus();});function i(){if(k.value){b.sendCommand(b.Command.GoToItem,b.ItemType.DocumentTarget,0,0,{hashcode:parseInt(k.value,10)});}}function g(){var n=parseInt(k.value,10);k.remove(k.selectedIndex);b.enableButton(f,false);b.enableButton(h,false);if(!m.deletedHashCodes.find(function(o){return o==n;})){m.deletedHashCodes.push(n);}}function l(){var n=k.selectedIndex>-1;b.enableButton(f,n);b.enableButton(h,n);}};e.prototype.applyStringResources=function(j){var i=document.getElementById("deleteBookmarksDialog_lblBookmarks");var g=document.getElementById("deleteBookmarksDialog_btnGoto");var f=document.getElementById("deleteBookmarksDialog_btnDelete");var h=document.getElementById("deleteBookmarksDialog_lblAutoGenerated");i.innerText=j.ID_DELETEBOOKMARKS_LABEL;g.innerText=j.ID_DELETEBOOKMARKS_GOTO;f.innerText=j.ID_DELETEBOOKMARKS_DELETE;h.innerText=j.ID_DELETEBOOKMARKS_AUTOMATICALLY_GENERATED;this.setDefaultBtnTexts(j);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d;b.AdvancedInstructionSettingsDialog=(function(f){__extends(g,f);function g(j,i,h){f.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.AdvancedInstructionSettingsDialog,ElementID:"advancedInstructionSettingsDialog",Width:"auto",TitleResourceName:"ID_INSTRUCTION_ADVANCED_SETTINGS_CAPTION"};this.instruction=i;this.fieldType=h;this._={};this._.successHandler=j;}g.prototype.close=function(h){try{if(this.dialogData.dialogResult){if(this._.successHandler){this._.successHandler(this.instruction);}}}finally{a(h).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();}};g.prototype.dialogReady=function(){var q=this;var o=document.getElementById("conditionalInstructionDialog_lblEnableElsePath");var l=document.getElementById("conditionalInstructionDialog_cbIsInitial");var m=document.getElementById("conditionalInstructionDialog_cbReactsToFormFieldChange");var j=document.getElementById("conditionalInstructionDialog_cbEnableElsePath");var p=document.getElementById("advancedInstructionSettingsDialog_selElseValue");var h=document.getElementById("advancedInstructionSettingsDialog_btnItems");var s=document.getElementById("advancedInstructionSettingsDialog_txtElseValue");var n=document.querySelectorAll("#advancedInstructionSettingsDialog img.aboutIcon");[].forEach.call(n,function(u){u.src=b.imageResources.small.about;});switch(this.instruction.type){case b.InstructionType.SetItems:o.innerText=d.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_SETITEMS;h.style.display="";b.enableButton(h,this.instruction.hasElsePath);h.addEventListener("click",i);break;case b.InstructionType.SetValue:switch(this.fieldType){case b.FormFieldType.CheckFormField:c(p,[{text:d.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_CHECKED,value:"True"},{text:d.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_UNCHECKED,value:"False"}]);p.value=this.instruction.elseValue;p.style.display="";p.disabled=!this.instruction.hasElsePath;break;default:s.value=this.instruction.elseValue;s.disabled=!this.instruction.hasElsePath;s.addEventListener("input",t);s.addEventListener("change",t);s.style.display="";break;}break;case b.InstructionType.IsEnabled:c(p,[{text:d.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_ALLOWFILLIN,value:"True"},{text:d.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_DENYFILLIN,value:"False"}]);p.value=this.instruction.elseValue;p.style.display="";p.disabled=!this.instruction.hasElsePath;break;case b.InstructionType.IsValueValid:c(p,[{text:d.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_SETVALUEASVALID,value:"True"},{text:d.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_SETVALUEASINVALID,value:"False"}]);p.value=this.instruction.elseValue;p.style.display="";p.disabled=!this.instruction.hasElsePath;break;}l.checked=this.instruction.isInitial;j.checked=this.instruction.hasElsePath;m.checked=this.instruction.reactsToFormFieldChange;l.addEventListener("change",function(u){q.instruction.isInitial=l.checked;});m.addEventListener("change",function(u){q.instruction.reactsToFormFieldChange=m.checked;});j.addEventListener("change",k);p.addEventListener("change",r);function k(u){q.instruction.hasElsePath=j.checked;switch(q.instruction.type){case b.InstructionType.SetItems:b.enableButton(h,q.instruction.hasElsePath);break;case b.InstructionType.SetValue:switch(q.fieldType){case b.FormFieldType.CheckFormField:p.disabled=!q.instruction.hasElsePath;break;default:s.disabled=!q.instruction.hasElsePath;break;}break;case b.InstructionType.IsEnabled:case b.InstructionType.IsValueValid:p.disabled=!q.instruction.hasElsePath;break;}}function r(u){q.instruction.elseValue=p.value;}function t(u){q.instruction.elseValue=s.value.trim();}function i(v){var w=q.instruction.elseValue||[];var x=w.join(";");var u=new b.InputBoxDialog(d.USR_INP_FORM_FIELD_ITEMS_TITLE,x,d.USR_INP_FORM_FIELD_ITEMS_LABEL);u.showModal(function(y){w=y.split(";").map(function(z){return z.trim();}).filter(function(z){return !!z;});q.instruction.elseValue=w;});}};g.prototype.applyStringResources=function(o){d=o;var m=document.getElementById("conditionalInstructionDialog_lblInitialInstr");var l=document.getElementById("conditionalInstructionDialog_lblEnableElsePath");var i=document.getElementById("conditionalInstructionDialog_icoAboutInitialInstr");var n=document.getElementById("conditionalInstructionDialog_lblReactsToFormFieldChange");var j=document.getElementById("conditionalInstructionDialog_icoAboutReactsToFormFieldChange");var k=document.getElementById("advancedInstructionSettingsDialog_icoAboutValue");var p=document.getElementById("advancedInstructionSettingsDialog_txtElseValue");var h=document.getElementById("advancedInstructionSettingsDialog_btnItems");this.setDefaultBtnTexts(o);m.innerText=o.ID_INSTRUCTION_ADVANCED_SETTINGS_IS_INITIAL_INSTRUCTION;l.innerText=o.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION;i.title=o.TOOLTIP_IS_INITIAL_INSTRUCTION.replace(/\\r/g,"");n.innerText=o.ID_INSTRUCTION_ADVANCED_SETTINGS_HANDLE_FORM_FIELD_CHANGED;j.title=o.TOOLTIP_IS_FORM_FIELD_CHANGE_INSTRUCTION.replace(/\\r/g,"");k.title=o.TOOLTIP_IS_ELSE_INSTRUCTION.replace(/\\r/g,"");p.placeholder=o.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_EMPTYVALUE;h.innerText=o.ID_INSTRUCTION_ADVANCED_SETTINGS_ELSE_INSTRUCTION_BUTTON;};return g;})(b.HTMLDialog);function c(f,h){var g;h.forEach(function(i){g=document.createElement("option");g.text=i.text;g.value=i.value;f.add(g);});}return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(n,a){var b=n._private=n._private||{};var m;var g;var k;var j;var p;var c;var o=Object.freeze({CheckState:"CheckState",NoValue:"NoValue",CustomText:"CustomText",Regex:"Regex",SpecificItem:"SpecificItem",AnyItem:"AnyItem",Date:"Date",Year:"Year",Month:"Month",DayOfMonth:"DayOfMonth",Weekday:"Weekday"});b.InstructionType=Object.freeze({IsEnabled:"IsEnabled",IsValueValid:"IsValueValid",SetValue:"SetValue",SetItems:"SetItems",});var d={CheckFormField:[],TextFormField:[],SelectionFormField:[],DateFormField:[]};var i={CheckFormField:[],TextFormField:[],SelectionFormField:[],DateFormField:[]};var e=Object.freeze({Is:"Is",IsAListItem:"IsAListItem",IsNot:"IsNot",IsNotAListItem:"IsNotAListItem",MatchesRegex:"MatchesRegex",DoesNotMatchRegex:"DoesNotMatchRegex",Contains:"Contains",StartsWith:"StartsWith",EndsWith:"EndsWith",DoesNotContain:"DoesNotContain",DoesNotStartWith:"DoesNotStartWith",DoesNotEndWith:"DoesNotEndWith",IsGreaterThan:"IsGreaterThan",IsGreaterThanOrEqual:"IsGreaterThanOrEqual",IsLessThan:"IsLessThan",IsLessThanOrEqual:"IsLessThanOrEqual"});b.FormFieldType=Object.freeze({TextFormField:"TextFormField",CheckFormField:"CheckFormField",SelectionFormField:"SelectionFormField",DateFormField:"DateFormField"});b.ConditionalInstructionDialog=(function(q){__extends(r,q);function r(t,s,v,u){q.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.ConditionalInstructionDialog,ElementID:"conditionalInstructionDialog",Width:"auto",TitleResourceName:"ID_CONDITIONALINSTRUCTION_CAPTION"};this.instruction=u=u||{name:"",nameOld:"",conditions:[null],instructions:[null]};this.formFields=t=t||[];this.existingNames=s;this.conditionRows=[];this.instructionRows=[];this._={successHandler:v};}r.prototype.updateInstruction=function(){var s=this;var t=document.getElementById("conditionalInstructionDialog_txtName");this.instruction.name=t.value.trim();if(!this.instruction.nameOld){this.instruction.nameOld=this.instruction.name;}this.instruction.conditions=[];this.conditionRows.forEach(function(u){s.instruction.conditions.push(u.getInfo());});this.instruction.instructions=[];this.instructionRows.forEach(function(u){s.instruction.instructions.push(u.getInfo());});};r.prototype.close=function(s){try{if(this.dialogData.dialogResult){this.updateInstruction();if(this._.successHandler){this._.successHandler(this.instruction);}}}finally{a(s).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();}};r.prototype.dialogReady=function(){var s=this;this.txtName=document.getElementById("conditionalInstructionDialog_txtName");this.btnOK=document.getElementById("btnOK_"+this.dialogContainerID);this.txtName.value=this.instruction.name;b.enableButton(s.btnOK,!!this.instruction.name);this.txtName.addEventListener("change",v);this.txtName.addEventListener("input",v);var t=document.querySelector("#conditionalInstructionDialog_divConditions > table");var u=document.querySelector("#conditionalInstructionDialog_divActions > table");this.populateTable(t,f,this.instruction.conditions,this.conditionRows);this.populateTable(u,h,this.instruction.instructions,this.instructionRows);function v(){var x=s.txtName.value.trim();var w=(x===s.instruction.nameOld)||!s.existingNames.find(function(y){return y===x;});if(!w){s.txtName.classList.add("invalidText");s.txtName.title=m.ERR_CONDITIONALINSTRUCTION_NAME_UNIQUENESS;}else{s.txtName.classList.remove("invalidText");s.txtName.title="";}if(w){w=!!x;}b.enableButton(s.btnOK,w);}};r.prototype.populateTable=function(u,D,x,C){var E=this,v,y;for(v=0;v<x.length;++v){var w=x[v];var t=document.createElement("tr");var s=cloneObject(w);y=new D(s,this.formFields,t,v===0);y.addEventListener("isValidChanged",A);y.addEventListener("addButtonClicked",z);y.addEventListener("removeButtonClicked",B);C.push(y);u.appendChild(t);}if(x.length===1){C[0].isRemoveButtonEnabled=false;}function z(F){var G=document.createElement("tr");var H=new D(null,E.formFields,G);H.addEventListener("isValidChanged",A);H.addEventListener("addButtonClicked",z);H.addEventListener("removeButtonClicked",B);if(C.length===1){C[0].isRemoveButtonEnabled=true;}if(F.nextSibling){for(v=0;v<C.length;++v){if(C[v].tr===F.nextSibling){C.splice(v,0,H);break;}}u.insertBefore(G,F.nextSibling);}else{u.appendChild(G);C.push(H);}}function B(F){for(v=0;v<C.length;++v){var G=C[v].tr;if(G===F){C.splice(v,1);u.removeChild(G);break;}}if(C.length===1){C[0].isRemoveButtonEnabled=false;}if(D===f){C[0].removeLogOp();}}function A(F){b.enableButton(E.btnOK,F);}};r.prototype.applyStringResources=function(s){m=s;a("#ID_CONDITIONALINSTRUCTION_NAME").text(s.ID_CONDITIONALINSTRUCTION_NAME);a("#ID_CONDITIONALINSTRUCTION_CONDITIONS").text(s.ID_CONDITIONALINSTRUCTION_CONDITIONS);a("#ID_CONDITIONALINSTRUCTION_INSTRUCTIONS").text(s.ID_CONDITIONALINSTRUCTION_INSTRUCTIONS);a("#ID_CONDITIONALINSTRUCTION_LBL_ROW_FORMFIELDVALUE").text(s.ID_CONDITIONALINSTRUCTION_LBL_ROW_FORMFIELDVALUE);a("#ID_CONDITIONALINSTRUCTION_LBL_ROW_COMPARISON").text(s.ID_CONDITIONALINSTRUCTION_LBL_ROW_COMPARISON);a("#ID_CONDITIONALINSTRUCTION_LBL_ROW_COMPARETO").text(s.ID_CONDITIONALINSTRUCTION_LBL_ROW_COMPARETO);a("#ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONFORMFIELD").text(s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONFORMFIELD);a("#ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE").text(s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE);this.setDefaultBtnTexts(s);j=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_AND,value:"And"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_OR,value:"Or"},];d.CheckFormField=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_EQUALSTO,value:e.Is},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTEQUALTO,value:e.IsNot}];d.DateFormField=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_EQUALSTODATE,value:e.Is},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTEQUALTODATE,value:e.IsNot},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISGREATERTHANDATE,value:e.IsGreaterThan},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISGREATERTHANOREQUALDATE,value:e.IsGreaterThanOrEqual},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISLESSTHANDATE,value:e.IsLessThan},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISLESSTHANOREQUALDATE,value:e.IsLessThanOrEqual}];d.SelectionFormField=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_EQUALSTO,value:e.Is},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_EQUALSTO+" "+(s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ANYITEM+"")[0].toLowerCase()+(s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ANYITEM+"").substring(1),value:e.IsAListItem},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTEQUALTO,value:e.IsNot},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTEQUALTO+" "+(s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ANYITEM+"")[0].toLowerCase()+(s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ANYITEM+"").substring(1),value:e.IsNotAListItem},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MATCHESREGEX,value:e.MatchesRegex},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTMATCHREGEX,value:e.DoesNotMatchRegex},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_CONTAINS,value:e.Contains},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_STARTSWITH,value:e.StartsWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ENDSWITH,value:e.EndsWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTCONTAIN,value:e.DoesNotContain},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTSTARTWITH,value:e.DoesNotStartWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTENDWITH,value:e.DoesNotEndWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISGREATERTHAN,value:e.IsGreaterThan},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISGREATERTHANOREQUAL,value:e.IsGreaterThanOrEqual},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISLESSTHAN,value:e.IsLessThan},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISLESSTHANOREQUAL,value:e.IsLessThanOrEqual}];d.TextFormField=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_EQUALSTO,value:e.Is},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTEQUALTO,value:e.IsNot},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MATCHESREGEX,value:e.MatchesRegex},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTMATCHREGEX,value:e.DoesNotMatchRegex},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_CONTAINS,value:e.Contains},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_STARTSWITH,value:e.StartsWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ENDSWITH,value:e.EndsWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTCONTAIN,value:e.DoesNotContain},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTSTARTWITH,value:e.DoesNotStartWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DOESNOTENDWITH,value:e.DoesNotEndWith},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISGREATERTHAN,value:e.IsGreaterThan},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISGREATERTHANOREQUAL,value:e.IsGreaterThanOrEqual},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISLESSTHAN,value:e.IsLessThan},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_ISLESSTHANOREQUAL,value:e.IsLessThanOrEqual}];g=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DATE,value:o.Date},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_YEAR,value:o.Year},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH,value:o.Month},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFMONTH,value:o.DayOfMonth},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK,value:o.Weekday}];k=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_0,value:"January"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_1,value:"February"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_2,value:"March"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_3,value:"April"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_4,value:"May"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_5,value:"June"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_6,value:"July"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_7,value:"August"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_8,value:"September"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_9,value:"October"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_10,value:"November"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_MONTH_11,value:"December"}];p=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK_0,value:"Sunday"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK_1,value:"Monday"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK_2,value:"Tuesday"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK_3,value:"Wednesday"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK_4,value:"Thursday"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK_5,value:"Friday"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_DAYOFWEEK_6,value:"Saturday"}];c=[{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_INSTRUCTION_CHECKED,value:"True"},{text:s.ID_CONDITIONALINSTRUCTION_CBX_ROW_INSTRUCTION_UNCHECKED,value:"False"}];i.TextFormField=[{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_ALLOWFILLIN,value:{instr:b.InstructionType.IsEnabled,val:"True"}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_DENYFILLIN,value:{instr:b.InstructionType.IsEnabled,val:"False"}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_SETNEWVALUE,value:{instr:b.InstructionType.SetValue}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_SETVALUEASVALID,value:{instr:b.InstructionType.IsValueValid,val:"True"}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_SETVALUEASINVALID,value:{instr:b.InstructionType.IsValueValid,val:"False"}}];i.SelectionFormField=[{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_ALLOWFILLIN,value:{instr:b.InstructionType.IsEnabled,val:"True"}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_DENYFILLIN,value:{instr:b.InstructionType.IsEnabled,val:"False"}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_SETNEWVALUE,value:{instr:b.InstructionType.SetValue}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_SETNEWITEMS,value:{instr:b.InstructionType.SetItems}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_SETVALUEASVALID,value:{instr:b.InstructionType.IsValueValid,val:"True"}},{text:s.ID_CONDITIONALINSTRUCTION_LBL_ROW_INSTRUCTIONTYPE_SETVALUEASINVALID,value:{instr:b.InstructionType.IsValueValid,val:"False"}}];i.CheckFormField=i.DateFormField=i.TextFormField;};return r;})(b.HTMLDialog);b.RowBase=(function(){function q(r){this.tr=r;this._={eventListeners:{},};}q.prototype.addEventListener=function(s,r){if(!this._.eventListeners[s]){this._.eventListeners[s]=[];}this._.eventListeners[s].push(r);};q.prototype.fireEvent=function(s,r){var t=this._.eventListeners[s];if(t){t.forEach(function(u){u(r);});}};return q;})();var l=(function(q){__extends(r,q);function r(s,u,t){q.call(this,u);this.formFields=s;this.isFirstRow=t||false;this.field=null;this._.isValid=true;}Object.defineProperty(r.prototype,"isValid",{get:function(){return this._.isValid;},set:function(s){if(s!==this._.isValid){this._.isValid=s;this.fireIsValidChangedEvent();}},enumerable:true,configurable:true});r.prototype.fireIsValidChangedEvent=function(){this.fireEvent("isValidChanged",this._.isValid);};Object.defineProperty(r.prototype,"isAddButtonEnabled",{get:function(){var s=this.tr.querySelector("button.conditionalInstructionDialog_btnAdd");return !s.disabled;},set:function(t){var s=this.tr.querySelector("button.conditionalInstructionDialog_btnAdd");b.enableButton(s,t);},enumerable:true,configurable:true});Object.defineProperty(r.prototype,"isRemoveButtonEnabled",{get:function(){var s=this.tr.querySelector("button.conditionalInstructionDialog_btnRem");return !s.disabled;},set:function(t){var s=this.tr.querySelector("button.conditionalInstructionDialog_btnRem");b.enableButton(s,t);},enumerable:true,configurable:true});r.prototype.addFieldNameSelect=function(s,t){var v,w=document.createElement("select"),y=this;this.formFields.forEach(function(z){v=document.createElement("option");v.text=z.name;v.value=z.hashCode;w.add(v);});this.field=u(t);w.value=t;w.addEventListener("change",x);this.tr.cells[s].appendChild(w);function x(z){var B=parseInt(w.value,10);var A=u(B);y.field=A;y.reset();y.addFieldDetails();}function u(A){var z=y.formFields.find(function(B){return B.hashCode===A;});if(!z){throw new Error("Field with hash code \'"+A+"\' not found.");}return z;}};r.prototype.reset=function(){console.error("NOT IMPLEMENTED");};r.prototype.addFieldDetails=function(){console.error("NOT IMPLEMENTED");};r.prototype.validate=function(){console.error("NOT IMPLEMENTED");};r.prototype.getInfo=function(){console.error("NOT IMPLEMENTED");};return r;})(b.RowBase);var f=(function(q){__extends(s,q);function s(z,A,D,B){q.call(this,A,D,B);var C=this;this.condition=z=z||{fieldHashCode:A[0].hashCode,value:"",compOp:d.TextFormField[0].value,compOpInternal:d.TextFormField[0].value,logOp:j[0].value,valueType:o.NoValue};D.innerHTML="<td></td><td></td><td></td><td></td><td></td><td></td><td></td>";D.cells[5].innerHTML=\'<button type="button" class="conditionalInstructionDialog_btnAdd">\\uFE0E</button>\';D.cells[6].innerHTML=\'<button type="button" class="conditionalInstructionDialog_btnRem">\\uFE0E</button>\';var v=D.querySelector("button.conditionalInstructionDialog_btnAdd");v.addEventListener("click",w);var x=D.querySelector("button.conditionalInstructionDialog_btnRem");x.addEventListener("click",y);if(!B){r(D.cells[0],z.logOp);}this.addFieldNameSelect(1,z.fieldHashCode);this.addFieldDetails();function w(){C.fireEvent("addButtonClicked",C.tr);}function y(){C.fireEvent("removeButtonClicked",C.tr);}}Object.defineProperty(s.prototype,"logicalOperator",{get:function(){var v=this.tr.cells[0].querySelector("select");return v?v.value:j[0].value;},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"comparisonOperator",{get:function(){var v=this.tr.cells[2].querySelector("select").value;switch(v){case e.MatchesRegex:case e.IsAListItem:return e.Is;case e.DoesNotMatchRegex:case e.IsNotAListItem:return e.IsNot;default:return v;}},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"comparisonOperatorInternal",{get:function(){return this.tr.cells[2].querySelector("select").value;},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"comparisonValue",{get:function(){var v,w;switch(this.field.fieldType){case b.FormFieldType.DateFormField:v=(this.comparisonValueType!==o.NoValue)?4:null;break;case b.FormFieldType.CheckFormField:switch(this.comparisonOperator){case e.Is:return"True";case e.IsNot:return"False";default:throw new Error("Invalid check form field comparison operator \'"+this.comparisonOperator+"\'. A check form field only allows the operators \'Is\' and \'IsNot\'.");}default:v=3;break;}if(!v){return null;}w=this.tr.cells[v].querySelector("input");if(!w){w=this.tr.cells[v].querySelector("select");}return w.value;},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"comparisonValueType",{get:function(){switch(this.field.fieldType){case b.FormFieldType.DateFormField:return this.tr.cells[3].querySelector("select").value;case b.FormFieldType.CheckFormField:return o.CheckState;default:switch(this.comparisonOperatorInternal){case e.MatchesRegex:case e.DoesNotMatchRegex:return o.Regex;case e.IsAListItem:case e.IsNotAListItem:return o.AnyItem;default:return this.comparisonValue===""?o.NoValue:o.CustomText;}}},enumerable:true,configurable:true});s.prototype.addFieldDetails=function(){this.tr.cells[2].innerHTML="";this.tr.cells[3].innerHTML="";this.tr.cells[4].innerHTML="";switch(this.condition.valueType){case o.CheckState:this.checkState();break;case o.NoValue:this.noValue();break;case o.SpecificItem:this.condition.valueType=o.CustomText;case o.CustomText:case o.AnyItem:this.customText();break;case o.Regex:this.customText();break;case o.Date:this.date();break;case o.Year:this.year();break;case o.Month:this.month();break;case o.DayOfMonth:this.dayOfMonth();break;case o.Weekday:this.weekday();break;default:throw new Error("Unknown condition value type \'"+this.condition.valueType+"\'.");}};function r(x,v){var w=document.createElement("select");j.forEach(function(y){var z=document.createElement("option");z.text=y.text;z.value=y.value;w.add(z);});w.value=v;x.appendChild(w);}s.prototype.reset=function(){var y=this;this.condition.fieldHashCode=this.field.hashCode;switch(this.field.fieldType){case b.FormFieldType.TextFormField:z();break;case b.FormFieldType.CheckFormField:v();break;case b.FormFieldType.SelectionFormField:x();break;case b.FormFieldType.DateFormField:w();break;}function z(){y.condition.value="";y.condition.compOp=y.condition.compOpInternal=d.TextFormField[0].value;y.condition.valueType=o.NoValue;}function v(){y.condition.value=c[0].value;y.condition.compOp=y.condition.compOpInternal=d.CheckFormField[0].value;y.condition.valueType=o.CheckState;}function x(){y.condition.value="";y.condition.compOp=y.condition.compOpInternal=d.SelectionFormField[0].value;y.condition.valueType=o.NoValue;}function w(){var A=new Date();y.condition.value=A.toLocaleDateString(b.getCultures().culture);y.condition.compOp=y.condition.compOpInternal=d.DateFormField[0].value;y.condition.valueType=o.Date;}this.isValid=true;};s.prototype.removeLogOp=function(){this.tr.cells[0].innerHTML="";this.condition.logOp=j[0].value;};s.prototype.addCompOps=function(v){var z=this,w,x=document.createElement("select");v.forEach(function(A){w=document.createElement("option");w.text=A.text;w.value=A.value;x.add(w);});x.value=this.condition.compOpInternal;x.addEventListener("change",y);this.tr.cells[2].appendChild(x);function y(B){var A=x.value,D=o.CustomText;z.condition.compOpInternal=A;var C=z.tr.cells[3].querySelector("input[type=text]");if(!C){throw new Error("\'Comparison value\' textbox not found.");}switch(A){case e.MatchesRegex:A=e.Is;D=o.Regex;break;case e.DoesNotMatchRegex:A=e.IsNot;D=o.Regex;break;case e.IsAListItem:A=e.Is;D=o.AnyItem;break;case e.IsNotAListItem:A=e.IsNot;D=o.AnyItem;break;default:if((z.condition.valueType===o.Regex)||(z.condition.valueType===o.AnyItem)){D=o.CustomText;}break;}if(D===o.AnyItem){C.value="";C.disabled=true;}else{if(z.field.fieldType!==b.FormFieldType.CheckFormField){C.disabled=false;}}z.condition.compOp=A;z.condition.valueType=D;z.validate();}};s.prototype.validate=function(){switch(this.field.fieldType){case b.FormFieldType.TextFormField:case b.FormFieldType.SelectionFormField:this.validateCustomText();break;case b.FormFieldType.CheckFormField:this.validateCheckState();break;case b.FormFieldType.DateFormField:this.validateDate();break;}};s.prototype.validateCustomText=function(){var v=this.tr.cells[3].querySelector("input[type=text]");if(!v){throw new Error("Textbox not found. Cannot validate row.");}this.isValid=u(v,this.condition.valueType,this.condition.compOp);};s.prototype.validateCheckState=function(){this.isValid=true;};s.prototype.validateDate=function(){};s.prototype.checkState=function(){this.addCompOps(d.CheckFormField);var v=document.createElement("input");v.type="text";v.disabled=true;v.value=m.ID_CONDITIONALINSTRUCTION_CBX_ROW_CHECKED;this.tr.cells[3].appendChild(v);};s.prototype.noValue=function(){switch(this.field.fieldType){case b.FormFieldType.TextFormField:case b.FormFieldType.SelectionFormField:this.customText();break;case b.FormFieldType.CheckFormField:this.checkState();break;case b.FormFieldType.DateFormField:this.date();break;}};s.prototype.addDatePickerCompValTypes=function(){var y=this,v,w=document.createElement("select");v=document.createElement("option");v.text=m.ID_CONDITIONALINSTRUCTION_CBX_ROW_EMPTYVALUE;v.value=o.NoValue;w.add(v);g.forEach(function(z){v=document.createElement("option");v.text=z.text;v.value=z.value;w.add(v);});w.value=this.condition.valueType;w.addEventListener("change",x);this.tr.cells[3].appendChild(w);function x(z){var A=new Date();y.tr.cells[4].innerHTML="";switch(w.value){case o.NoValue:y.condition.value=null;break;case o.Date:y.condition.value=A.toLocaleDateString(b.getCultures().culture);y.addDateValue(m.ID_CONDITIONALINSTRUCTION_CBX_ROW_EMPTYVALUE);break;case o.Year:y.condition.value=A.getFullYear().toString();y.addDateValue(m.ID_CONDITIONALINSTRUCTION_CBX_ROW_EMPTYVALUE);break;case o.Month:y.condition.value=k[0].value;y.addMonths();break;case o.DayOfMonth:y.condition.value="1";y.addDaysOfMonth();break;case o.Weekday:y.condition.value=p[0].value;y.addWeekdays();break;}}};s.prototype.addDateValue=function(v){if(this.condition.value===null){return;}var w=document.createElement("input");w.type="text";w.placeholder=v;w.value=this.condition.value?this.condition.value.trim():"";this.tr.cells[4].appendChild(w);};s.prototype.date=function(){this.addCompOps(d.DateFormField);this.addDatePickerCompValTypes();this.addDateValue(m.ID_CONDITIONALINSTRUCTION_CBX_ROW_EMPTYVALUE);};s.prototype.year=function(){this.addCompOps(d.DateFormField);this.addDatePickerCompValTypes();this.addDateValue(m.ID_CONDITIONALINSTRUCTION_CBX_ROW_EMPTYVALUE);};s.prototype.addMonths=function(){var v,w=document.createElement("select");k.forEach(function(x){v=document.createElement("option");v.text=x.text;v.value=x.value;w.add(v);});w.value=this.condition.value;this.tr.cells[4].appendChild(w);};s.prototype.month=function(){this.addCompOps(d.DateFormField);this.addDatePickerCompValTypes();this.addMonths();};s.prototype.addDaysOfMonth=function(){var w,x=document.createElement("select");for(var v=1;v<32;++v){w=document.createElement("option");w.text=w.value=v;x.add(w);}x.value=this.condition.value;this.tr.cells[4].appendChild(x);};s.prototype.dayOfMonth=function(){this.addCompOps(d.DateFormField);this.addDatePickerCompValTypes();this.addDaysOfMonth();};s.prototype.addWeekdays=function(){var v,w=document.createElement("select");p.forEach(function(x){v=document.createElement("option");v.text=x.text;v.value=x.value;w.add(v);});w.value=this.condition.value;this.tr.cells[4].appendChild(w);};s.prototype.weekday=function(){this.addCompOps(d.DateFormField);this.addDatePickerCompValTypes();this.addWeekdays();};function t(w){if(!w){return false;}try{var x=new RegExp(w);return true;}catch(v){return false;}}function u(x,y,v){var w;switch(y){case o.Regex:w=t(x.value);break;default:switch(v){case e.Is:case e.IsNot:w=true;break;default:w=(x.value!=="");break;}break;}if(w){x.classList.remove("invalidText");}else{x.classList.add("invalidText");}return w;}s.prototype.addCustomTextValue=function(){var v=this;this.tr.cells[3].innerHTML="";var w=document.createElement("input");w.type="text";w.placeholder=m.ID_CONDITIONALINSTRUCTION_CBX_ROW_EMPTYVALUE;w.addEventListener("input",x);w.addEventListener("change",x);w.value=this.condition.value?this.condition.value.trim():"";this.tr.cells[3].appendChild(w);if(this.condition.valueType===o.AnyItem){w.disabled=true;}function x(y){v.isValid=u(w,v.condition.valueType,v.condition.compOp);}};s.prototype.customText=function(){switch(this.field.fieldType){case b.FormFieldType.SelectionFormField:this.addCompOps(d.SelectionFormField);break;default:this.addCompOps(d.TextFormField);break;}this.addCustomTextValue();};s.prototype.getInfo=function(){return{fieldHashCode:this.field.hashCode,logOp:this.logicalOperator,compOp:this.comparisonOperator,compOpInternal:this.comparisonOperatorInternal,value:this.comparisonValue,valueType:this.comparisonValueType};};return s;}(l));var h=(function(q){__extends(r,q);function r(z,y,B){q.call(this,y,B);var A=this;this.instruction=z=z||{fieldHashCode:y[0].hashCode,type:b.InstructionType.IsEnabled,value:"True",elseValue:"False",isInitial:true,hasElsePath:true,reactsToFormFieldChange:true};B.innerHTML="<td></td><td></td><td></td><td></td><td></td><td></td>";B.cells[3].innerHTML=\'<button type="button" class="conditionalInstructionDialog_btnSettings">&nbsp;</button>\';B.cells[4].innerHTML=\'<button type="button" class="conditionalInstructionDialog_btnAdd">\\uFE0E</button>\';B.cells[5].innerHTML=\'<button type="button" class="conditionalInstructionDialog_btnRem">\\uFE0E</button>\';var w=B.querySelector("button.conditionalInstructionDialog_btnSettings");w.addEventListener("click",x);var s=B.querySelector("button.conditionalInstructionDialog_btnAdd");s.addEventListener("click",t);var u=B.querySelector("button.conditionalInstructionDialog_btnRem");u.addEventListener("click",v);w.style.backgroundImage="url("+b.imageResources.small.advancedSettings+")";this.addFieldNameSelect(0,z.fieldHashCode);this.addFieldDetails();function x(){var D=cloneObject(z);var C=new b.AdvancedInstructionSettingsDialog(E,D,A.field.fieldType);C.showModal();function E(F){A.instruction.isInitial=F.isInitial;A.instruction.elseValue=F.elseValue;A.instruction.hasElsePath=F.hasElsePath;A.instruction.reactsToFormFieldChange=F.reactsToFormFieldChange;}}function t(){A.fireEvent("addButtonClicked",A.tr);}function v(){A.fireEvent("removeButtonClicked",A.tr);}}Object.defineProperty(r.prototype,"instructionType",{get:function(){var t=this.tr.cells[1].querySelector("select").value;var s=JSON.parse(t);return s.instr;},enumerable:true,configurable:true});Object.defineProperty(r.prototype,"instructionValue",{get:function(){var v=this.tr.cells[1].querySelector("select").value;var s=JSON.parse(v);if(s.val){return s.val;}switch(this.instructionType){case b.InstructionType.SetItems:return this.instruction.value;case b.InstructionType.SetValue:switch(this.field.fieldType){case b.FormFieldType.CheckFormField:var t=this.tr.cells[2].querySelector("select");if(!t){throw new Error("Value drop down element not found.");}return t.value;default:var u=this.tr.cells[2].querySelector("input[type=text]");if(!u){throw new Error("Value textbox not found.");}return u.value;}}throw new Error("Invalid instruction type \'"+this.instructionType+"\'.");},enumerable:true,configurable:true});r.prototype.reset=function(){this.instruction.fieldHashCode=this.field.hashCode;this.resetInstruction();};r.prototype.resetInstruction=function(){this.instruction.type=b.InstructionType.IsEnabled;this.instruction.value="True";this.resetAdditionalSettings();};r.prototype.resetAdditionalSettings=function(){switch(this.instruction.type){case b.InstructionType.IsEnabled:case b.InstructionType.IsValueValid:this.instruction.elseValue=(this.instruction.value==="True")?"False":"True";this.instruction.isInitial=true;this.instruction.hasElsePath=true;this.instruction.reactsToFormFieldChange=true;break;case b.InstructionType.SetItems:case b.InstructionType.SetValue:switch(this.field.fieldType){case b.FormFieldType.CheckFormField:this.instruction.elseValue=(this.instruction.value==="True")?"False":"True";break;default:this.instruction.elseValue=null;break;}this.instruction.isInitial=true;this.instruction.hasElsePath=false;this.instruction.reactsToFormFieldChange=true;break;}};r.prototype.addFieldDetails=function(){this.tr.cells[1].innerHTML="";this.tr.cells[2].innerHTML="";this.addInstructions();switch(this.instruction.type){case b.InstructionType.SetItems:this.addFieldDetails_setItems();break;case b.InstructionType.SetValue:this.addFieldDetails_setValue();break;}};r.prototype.addInstructions=function(){var y=this,v,w=document.createElement("select"),t,s=false;var u=i[this.field.fieldType];u.forEach(function(A){v=document.createElement("option");v.text=A.text;v.value=JSON.stringify(A.value);w.add(v);});for(t=0;t<u.length;++t){v=w.options[t];var z=JSON.parse(v.value);if(z.instr===this.instruction.type){switch(this.instruction.type){case b.InstructionType.IsEnabled:case b.InstructionType.IsValueValid:if(this.instruction.value===z.val){w.selectedIndex=t;s=true;}break;default:w.selectedIndex=t;s=true;break;}}if(s){break;}}w.addEventListener("change",x);this.tr.cells[1].appendChild(w);function x(A){var B=JSON.parse(w.value);y.tr.cells[2].innerHTML="";y.instruction.type=B.instr;switch(B.instr){case b.InstructionType.IsEnabled:case b.InstructionType.IsValueValid:y.instruction.value=B.val;break;case b.InstructionType.SetItems:y.instruction.value=[];y.addFieldDetails_setItems();break;case b.InstructionType.SetValue:switch(y.field.fieldType){case b.FormFieldType.CheckFormField:y.instruction.value=c[0].value;break;default:y.instruction.value="";break;}y.addFieldDetails_setValue();break;}y.resetAdditionalSettings();}};r.prototype.addFieldDetails_setItems=function(){var u=this;var s=document.createElement("button");s.type="button";s.textContent=m.ID_CONDITIONALINSTRUCTION_BTN_ROW_INSTRUCTION_SPECIFYITEMS;s.addEventListener("click",t);this.tr.cells[2].appendChild(s);function t(){var w=u.instruction.value.join(";");var v=new b.InputBoxDialog(m.USR_INP_FORM_FIELD_ITEMS_TITLE,w,m.USR_INP_FORM_FIELD_ITEMS_LABEL);v.showModal(function(y){var x=y.split(";").map(function(z){return z.trim();}).filter(function(z){return !!z;});u.instruction.value=x;});}};r.prototype.addFieldDetails_setValue=function(){var u,w,s,t=this;switch(this.field.fieldType){case b.FormFieldType.CheckFormField:u=document.createElement("select");c.forEach(function(y){s=document.createElement("option");s.text=y.text;s.value=y.value;u.add(s);});u.classList.add("selInstructionValue");u.value=this.instruction.value;u.addEventListener("change",v);this.tr.cells[2].appendChild(u);break;default:w=document.createElement("input");w.type="text";w.value=this.instruction.value;w.placeholder=m.ID_CONDITIONALINSTRUCTION_CBX_ROW_EMPTYVALUE;w.classList.add("txtInstructionValue");w.addEventListener("input",x);w.addEventListener("change",x);this.tr.cells[2].appendChild(w);break;}function x(y){t.instruction.value=w.value.trim();}function v(y){t.instruction.value=u.value;t.instruction.elseValue=(u.value==="True")?"False":"True";}};r.prototype.getInfo=function(){return{fieldHashCode:this.field.hashCode,type:this.instructionType,value:this.instructionValue,elseValue:this.instruction.elseValue,isInitial:this.instruction.isInitial,hasElsePath:this.instruction.hasElsePath,reactsToFormFieldChange:this.instruction.reactsToFormFieldChange};};return r;}(l));return n;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.FieldDialog=(function(d){__extends(e,d);function e(f,g){d.call(this);this.fieldAdapter=f;this.textField=g||null;this.fieldDataReceivedHandlerBound=this.fieldDataReceivedHandler.bind(this);}e.prototype.fieldDataReceivedHandler=function(f){var h=f.detail.fieldType,g=f.detail.field;if(!g||(h!=this.DialogInfo.FieldType)){return;}this.setValues(g);};e.prototype.OKHandler=function(g){if(this.textField){var f={updatedValues:this.getValues(),textField:this.textField};b.sendCommand(b.Command.UpdateField,this.DialogInfo.FieldType,0,0,f);}else{b.sendCommand(b.Command.InsertItem,b.ItemType.FieldAdapter,this.DialogInfo.FieldType,0,this.getValues());}this.close(g);};e.prototype.closing=function(f){if(!this.fieldAdapter){document.removeEventListener("fieldDataReceived",this.fieldDataReceivedHandlerBound);}};e.prototype.dialogize_base=e.prototype.dialogize;e.prototype.dialogize=function(f){this.dialogize_base(f);if(!this.fieldAdapter){document.addEventListener("fieldDataReceived",this.fieldDataReceivedHandlerBound);b.sendCommand(b.Command.GetItem,b.ItemType.FieldAdapter);}else{this.setValues(this.fieldAdapter);}};e.prototype.setValues=function(f){};e.prototype.getValues=function(){return{};};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.IfFieldDialog=(function(d){__extends(e,d);function e(f,g){d.call(this,f,g);this.DialogInfo={DialogType:b.HTMLDialogType.IfFieldDialog,FieldType:b.FieldType.IfField,ElementID:"ifFieldDialog",Width:385,TitleResourceName:"IF_FIELD_DIALOG_TITLE"};}e.prototype.setValues=function(f){a("#txtFieldName").val(f.Expression1);a("#txtCompareTo").val(f.Expression2);a("#txtInsertThis").val(f.TrueText);a("#txtOtherwise").val(f.FalseText);document.getElementById("selIfFldOperators").selectedIndex=f.Operator;};e.prototype.getValues=function(){var f={Expression1:a("#txtFieldName").val(),Expression2:a("#txtCompareTo").val(),TrueText:a("#txtInsertThis").val(),FalseText:a("#txtOtherwise").val(),Operator:document.getElementById("selIfFldOperators").selectedIndex};return f;};e.prototype.applyStringResources=function(f){a("#IF_FIELD_GROUP_BOX > legend").text(f.IF_FIELD_GROUP_BOX);a("#IF_FIELD_LABEL_NAME").text(f.IF_FIELD_LABEL_NAME);a("#IF_FIELD_LABEL_COMPARISON").text(f.IF_FIELD_LABEL_COMPARISON);a("#IF_FIELD_COMBO_BOX_COMPARISON_EQUALS").text(f.IF_FIELD_COMBO_BOX_COMPARISON_EQUALS);a("#IF_FIELD_COMBO_BOX_COMPARISON_NOT_EQUAL").text(f.IF_FIELD_COMBO_BOX_COMPARISON_NOT_EQUAL);a("#IF_FIELD_COMBO_BOX_COMPARISON_LESS").text(f.IF_FIELD_COMBO_BOX_COMPARISON_LESS);a("#IF_FIELD_COMBO_BOX_COMPARISON_GREATER").text(f.IF_FIELD_COMBO_BOX_COMPARISON_GREATER);a("#IF_FIELD_COMBO_BOX_COMPARISON_GREATER_OR_EQUAL").text(f.IF_FIELD_COMBO_BOX_COMPARISON_GREATER_OR_EQUAL);a("#IF_FIELD_COMBO_BOX_COMPARISON_LESS_OR_EQUAL").text(f.IF_FIELD_COMBO_BOX_COMPARISON_LESS_OR_EQUAL);a("#IF_FIELD_LABEL_COMPARE_TO").text(f.IF_FIELD_LABEL_COMPARE_TO);a("#IF_FIELD_LABEL_INSERT_THIS").text(f.IF_FIELD_LABEL_INSERT_THIS);a("#IF_FIELD_LABEL_OTHERWISE").text(f.IF_FIELD_LABEL_OTHERWISE);this.setDefaultBtnTexts(f);};return e;})(b.FieldDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.MergeFieldDialog=(function(d){__extends(e,d);function e(f,g){d.call(this,f,g);this.DialogInfo={DialogType:b.HTMLDialogType.MergeFieldDialog,FieldType:b.FieldType.MergeField,ElementID:"mergeFieldDialog",TitleResourceName:"MERGEFIELD_DIALOG_TITLE",};}e.prototype.setValues=function(f){document.getElementById("txtFieldName").value=f.Name;document.getElementById("selMergeFieldFormat").selectedIndex=f.TextFormat;document.getElementById("txtTextBefore").value=f.TextBefore;document.getElementById("txtTextBefore").disabled=(f.TextBefore.length==0);document.getElementById("chkTextBefore").checked=(f.TextBefore.length>0);document.getElementById("txtTextAfter").value=f.TextAfter;document.getElementById("txtTextAfter").disabled=(f.TextAfter.length==0);document.getElementById("chkTextAfter").checked=(f.TextAfter.length>0);document.getElementById("txtDateTimeFormat").value=f.DateTimeFormat;document.getElementById("txtDateTimeFormat").disabled=(f.DateTimeFormat.length==0);document.getElementById("chkDateTimeFormat").checked=(f.DateTimeFormat.length>0);document.getElementById("txtNumericFormat").value=f.NumericFormat;document.getElementById("txtNumericFormat").disabled=(f.NumericFormat.length==0);document.getElementById("chkNumericFormat").checked=(f.NumericFormat.length>0);document.getElementById("chkPreserveFormat").checked=(f.PreserveFormatting);};e.prototype.getValues=function(){var f={Name:a("#txtFieldName").val(),TextFormat:document.getElementById("selMergeFieldFormat").selectedIndex,TextBefore:document.getElementById("chkTextBefore").checked?document.getElementById("txtTextBefore").value:"",TextAfter:document.getElementById("chkTextAfter").checked?document.getElementById("txtTextAfter").value:"",DateTimeFormat:document.getElementById("chkDateTimeFormat").checked?document.getElementById("txtDateTimeFormat").value:"",NumericFormat:document.getElementById("chkNumericFormat").checked?document.getElementById("txtNumericFormat").value:"",PreserveFormatting:document.getElementById("chkPreserveFormat").checked,};return f;};e.prototype.applyStringResources=function(f){a("#MERGEFIELD_GROUP_FIELD_PROPERTIES > legend").text(f.MERGEFIELD_GROUP_FIELD_PROPERTIES);a("#MERGEFIELD_LABEL_NAME").text(f.MERGEFIELD_LABEL_NAME);a("#MERGEFIELD_LABEL_TEXT").text(f.MERGEFIELD_LABEL_TEXT);a("#MERGEFIELD_LABEL_FORMAT").text(f.MERGEFIELD_LABEL_FORMAT);a("#MERGEFIELD_FORMAT_NONE").text(f.MERGEFIELD_FORMAT_NONE);a("#MERGEFIELD_FORMAT_UPPER").text(f.MERGEFIELD_FORMAT_UPPER);a("#MERGEFIELD_FORMAT_LOWER").text(f.MERGEFIELD_FORMAT_LOWER);a("#MERGEFIELD_FORMAT_FIRST_CAP").text(f.MERGEFIELD_FORMAT_FIRST_CAP);a("#MERGEFIELD_FORMAT_TITLE_CASE").text(f.MERGEFIELD_FORMAT_TITLE_CASE);a("#MERGEFIELD_GROUP_FIELD_OPTIONS > legend").text(f.MERGEFIELD_GROUP_FIELD_OPTIONS);a("#MERGEFIELD_LABEL_TEXT_BEFORE").text(f.MERGEFIELD_LABEL_TEXT_BEFORE);a("#MERGEFIELD_LABEL_TEXT_AFTER").text(f.MERGEFIELD_LABEL_TEXT_AFTER);a("#MERGEFIELD_LABEL_DATE_TIME_FORMAT").text(f.MERGEFIELD_LABEL_DATE_TIME_FORMAT);a("#MERGEFIELD_LABEL_NUMERIC_FORMAT").text(f.MERGEFIELD_LABEL_NUMERIC_FORMAT);a("#MERGEFIELD_CHECK_BOX_PRESERVE_FORMAT").text(f.MERGEFIELD_CHECK_BOX_PRESERVE_FORMAT);this.setDefaultBtnTexts(f);};e.prototype.dialogReady=function(){function i(j){a("#txtTextBefore").prop("disabled",!j.target.checked);}function h(j){a("#txtTextAfter").prop("disabled",!j.target.checked);}function f(j){a("#txtDateTimeFormat").prop("disabled",!j.target.checked);}function g(j){a("#txtNumericFormat").prop("disabled",!j.target.checked);}a("#chkTextBefore").click(i);a("#chkTextAfter").click(h);a("#chkDateTimeFormat").click(f);a("#chkNumericFormat").click(g);};return e;})(b.FieldDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.MergeFieldTextFormat=Object.freeze({None:0,Uppercase:1,Lowercase:2,FirstCapital:3,TitleCase:4,});b.IncludeTextField=(function(d){__extends(IncludeTextField,d);function IncludeTextField(fileName){d.call(this,true);this.fileName=fileName||"";this.textFormat=0;this.bookmark="";}IncludeTextField.prototype.toPascalCase=function(){return{Filename:this.fileName,TextFormat:this.textFormat,Bookmark:this.bookmark,PreserveFormatting:this.preserveFormatting};};return IncludeTextField;})(b.FieldAdapter);b.IncludeTextFieldDialog=(function(d){__extends(e,d);function e(f,g){d.call(this,f,g);this.DialogInfo={DialogType:b.HTMLDialogType.IncludeTextFieldDialog,FieldType:b.FieldType.IncludeTextField,ElementID:"includeTextFieldDialog",Width:300,TitleResourceName:"INCLUDETEXT_DIALOG_TITLE",};}e.prototype.setValues=function(f){a("#txtFilename").val(f.Filename);a("#txtBookmark").val(f.Bookmark);document.getElementById("selectTextFormat").selectedIndex=f.TextFormat;document.getElementById("chkPresFmt").checked=f.PreserveFormatting;};e.prototype.getValues=function(){var f={Filename:a("#txtFilename").val(),Bookmark:a("#txtBookmark").val(),TextFormat:document.getElementById("selectTextFormat").selectedIndex,PreserveFormatting:document.getElementById("chkPresFmt").checked};return f;};e.prototype.applyStringResources=function(f){a("#INCLUDETEXT_GROUP_FIELD_OPTIONS > legend").text(f.INCLUDETEXT_GROUP_FIELD_OPTIONS);a("#INCLUDETEXT_LABEL_FILENAME").text(f.INCLUDETEXT_LABEL_FILENAME);a("#INCLUDETEXT_LABEL_BOOKMARK").text(f.INCLUDETEXT_LABEL_BOOKMARK);a("#INCLUDETEXT_LABEL_TEXT_FORMAT").text(f.INCLUDETEXT_LABEL_TEXT_FORMAT);a("#INCLUDETEXT_LIST_FORMAT_NONE").text(f.INCLUDETEXT_LIST_FORMAT_NONE);a("#INCLUDETEXT_LIST_FORMAT_UPPER").text(f.INCLUDETEXT_LIST_FORMAT_UPPER);a("#INCLUDETEXT_LIST_FORMAT_LOWER").text(f.INCLUDETEXT_LIST_FORMAT_LOWER);a("#INCLUDETEXT_LIST_FORMAT_FIRST_CAP").text(f.INCLUDETEXT_LIST_FORMAT_FIRST_CAP);a("#INCLUDETEXT_LIST_FORMAT_TITLE_CASE").text(f.INCLUDETEXT_LIST_FORMAT_TITLE_CASE);a("#INCLUDETEXT_CHECK_BOX_PRESERVE_FORMAT").text(f.INCLUDETEXT_CHECK_BOX_PRESERVE_FORMAT);this.setDefaultBtnTexts(f);};e.prototype.dialogReady=function(){var f=document.getElementById("selectTextFormat");if(f.selectedIndex<0){f.selectedIndex=0;}};return e;})(b.FieldDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.DateFieldDialog=(function(d){__extends(e,d);function e(f,g){d.call(this,f,g);this.DialogInfo={DialogType:b.HTMLDialogType.DateFieldDialog,FieldType:b.FieldType.DateField,ElementID:"dateFieldDialog",Width:280,TitleResourceName:"DATEFIELD_DIALOG_TITLE",};}e.prototype.setValues=function(f){a("#txtDateFormat").val(f.Format);a("#chkPresFmt").prop("checked",f.PreserveFormatting);};e.prototype.getValues=function(){var f={Format:a("#txtDateFormat").val(),PreserveFormatting:document.getElementById("chkPresFmt").checked,};return f;};e.prototype.applyStringResources=function(h){var f=["dd.MM.yyyy","dddd, d. MMMM yyyy","d. MMMM yyyy","dd.MM.yy","yyyy-MM-dd","yy-MM-dd","dd. MMM. yyyy","dd/MM/yy","MMMM yy","MMM-yy","dd.MM.yyyy HH:mm","dd.MM.yyyy HH:mm:ss","h:mm tt","h:mm:ss tt","HH:mm","HH:mm:ss",];a("#DATEFIELD_LABEL_DATE_FORMATS").text(h.DATEFIELD_LABEL_DATE_FORMATS);a("#DATEFIELD_CHECK_BOX_PRESERVE_FORMAT").text(h.DATEFIELD_CHECK_BOX_PRESERVE_FORMAT);var g=document.getElementById("selDateFormats");f.forEach(function(k){var i=h[k];if(i){var j=document.createElement("option");g.appendChild(j);j.value=k;j.text=i;}});this.setDefaultBtnTexts(h);};e.prototype.dialogReady=function(){var f=document.getElementById("selDateFormats");var g=document.getElementById("txtDateFormat");if(f.selectedIndex<0){f.selectedIndex=0;}f.addEventListener("change",function(){var h=f.options[f.selectedIndex];g.value=h.value;});};return e;})(b.FieldDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.NextIfFieldDialog=(function(d){__extends(e,d);function e(f,g){d.call(this,f,g);this.DialogInfo={DialogType:b.HTMLDialogType.NextIfFieldDialog,FieldType:b.FieldType.NextIfField,ElementID:"ifFieldDialog",Width:385,TitleResourceName:"NEXTIF_FIELD_DIALOG_TITLE",};}e.prototype.setValues=function(f){a("#txtFieldName").val(f.Expression1);a("#txtCompareTo").val(f.Expression2);document.getElementById("selIfFldOperators").selectedIndex=f.Operator;};e.prototype.getValues=function(){var f={Expression1:a("#txtFieldName").val(),Expression2:a("#txtCompareTo").val(),Operator:document.getElementById("selIfFldOperators").selectedIndex,};return f;};e.prototype.applyStringResources=function(f){a("#IF_FIELD_GROUP_BOX > legend").text(f.IF_FIELD_GROUP_BOX);a("#IF_FIELD_LABEL_NAME").text(f.IF_FIELD_LABEL_NAME);a("#IF_FIELD_LABEL_COMPARISON").text(f.IF_FIELD_LABEL_COMPARISON);a("#IF_FIELD_COMBO_BOX_COMPARISON_EQUALS").text(f.IF_FIELD_COMBO_BOX_COMPARISON_EQUALS);a("#IF_FIELD_COMBO_BOX_COMPARISON_NOT_EQUAL").text(f.IF_FIELD_COMBO_BOX_COMPARISON_NOT_EQUAL);a("#IF_FIELD_COMBO_BOX_COMPARISON_LESS").text(f.IF_FIELD_COMBO_BOX_COMPARISON_LESS);a("#IF_FIELD_COMBO_BOX_COMPARISON_GREATER").text(f.IF_FIELD_COMBO_BOX_COMPARISON_GREATER);a("#IF_FIELD_COMBO_BOX_COMPARISON_GREATER_OR_EQUAL").text(f.IF_FIELD_COMBO_BOX_COMPARISON_GREATER_OR_EQUAL);a("#IF_FIELD_COMBO_BOX_COMPARISON_LESS_OR_EQUAL").text(f.IF_FIELD_COMBO_BOX_COMPARISON_LESS_OR_EQUAL);a("#IF_FIELD_LABEL_COMPARE_TO").text(f.IF_FIELD_LABEL_COMPARE_TO);a("#IF_FIELD_LABEL_INSERT_THIS").remove();a("#txtInsertThis").remove();a("#IF_FIELD_LABEL_OTHERWISE").remove();a("#txtOtherwise").remove();this.setDefaultBtnTexts(f);};return e;})(b.FieldDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.MaxPreviewRowsDialog=(function(d){__extends(e,d);function e(f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.MaxPreviewRowsDialog,ElementID:"maxPreviewRowsDialog",Width:"auto",Height:120,TitleResourceName:"MAXPREVROWS_DIALOG_TITLE",};this.value=f;}e.prototype.closing=function(f){if(this.dialogData.dialogResult){this.value=parseInt(a("#spinNum").val(),10);this.dialogData.value=this.value;}};e.prototype.applyStringResources=function(f){a("#MAXPREVROWS_LABEL_NUM_RESULTS").text(f.MAXPREVROWS_LABEL_NUM_RESULTS);this.setDefaultBtnTexts(f);};e.prototype.dialogReady=function(){a("#spinNum").spinner({max:100,min:1});a("#spinNum").val(this.value);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{},c={Table:0,Paragraph:1,};b.InsertMergeBlockDialog=(function(e){__extends(h,e);function h(m,l){e.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.InsertMergeBlockDialog,ElementID:"insertMergeBlockDialog",Width:"auto",TitleResourceName:"INS_MERGE_BLOCK_DLG_TITLE"};this.blockName=m;this.dbScheme=l;this.filters=[];this.sortingInstructions=[];this.table=l.Tables.find(function(n){return(n.TableName.toLowerCase()===m.toLowerCase());});}function g(){var m=[];var l=document.querySelectorAll("div#tblColContainer input[type=checkbox]");[].forEach.call(l,function(n){if(n.checked){m.push(n.dataset.columnName);}});return m;}h.prototype.getValues=function(){var l={type:document.getElementById("radioTableRow").checked?c.Table:c.Paragraph,name:this.blockName,headerRow:document.getElementById("chkAddHeaderRow").checked,columnNames:g(),filterAndSortInfo:{Filters:this.filters,SortingInstructions:this.sortingInstructions}};return l;};function f(n){var m=document.getElementById("INS_MERGE_BLOCK_DLG_MOVE_UP");var l=document.getElementById("INS_MERGE_BLOCK_DLG_MOVE_DOWN");b.enableButton(m,(n.previousElementSibling!==null));b.enableButton(l,(n.nextElementSibling!==null));}function i(m){var o=m.currentTarget;var n=o.parentElement;for(var p=0;p<n.children.length;++p){var l=n.children[p];l.classList.remove("selected");}o.classList.add("selected");f(o);var q=g().length?"enable":"disable";a("#btnOK_"+this.dialogContainerID).button(q);}h.prototype.createColumnCheckBoxes=function(l){var n=0,o=this,m=document.getElementById("tblColContainer");l.forEach(function(q){var s=document.createElement("div");s.style.cssFloat="left";s.style.clear="left";s.style.width="100%";s.addEventListener("click",i.bind(o));m.appendChild(s);var p="chkColName"+n++,r=document.createElement("input");r.id=p;r.setAttribute("type","checkbox");r.dataset.columnName=q.ColumnName;r.title=q.ColumnName;r.style.cssFloat="left";r.style.clear="left";s.appendChild(r);var t=document.createElement("label");t.setAttribute("for",p);t.textContent=q.ColumnName;t.title=q.ColumnName;t.style.cssFloat="left";s.appendChild(t);});};h.prototype.OKHandler=function(m){var l=this.getValues();if(l.columnNames.length>0){b.sendCommand(b.Command.InsertItem,b.ItemType.MergeBlock,0,0,l);}this.close(m);};h.prototype.btnMoveUpClick=function(l){var n=document.querySelector("#tblColContainer > div.selected");if(n===null){return;}var o=n.previousElementSibling;var m=document.getElementById("tblColContainer");m.removeChild(n);m.insertBefore(n,o);f(n);};h.prototype.btnMoveDownClick=function(l){var n=document.querySelector("#tblColContainer > div.selected");if(n===null){return;}var o=n.nextElementSibling;var m=document.getElementById("tblColContainer");m.removeChild(n);m.insertBefore(n,o.nextElementSibling);f(n);};h.prototype.btnFltSortClick=function(n){var o=this;var l=this.table.Columns.map(function(q){return q.ColumnName;});var m=new b.MergeBlockFilterAndSortDialog(l,this.filters,this.sortingInstructions,p);m.showModal();function p(q,r){o.filters=q;o.sortingInstructions=r;}};function k(m){var l=document.getElementById("chkAddHeaderRow");l.disabled=!m.currentTarget.checked;}function j(m){var l=document.getElementById("chkAddHeaderRow");l.disabled=m.currentTarget.checked;}h.prototype.dialogReady=function(){this.createColumnCheckBoxes(this.table.Columns);a("#btnOK_"+this.dialogContainerID).button("disable");a("#INS_MERGE_BLOCK_DLG_MOVE_UP").click(this.btnMoveUpClick.bind(this));a("#INS_MERGE_BLOCK_DLG_MOVE_DOWN").click(this.btnMoveDownClick.bind(this));a("#INS_MERGE_BLOCK_DLG_FLT_AND_SORT").click(this.btnFltSortClick.bind(this));document.getElementById("radioTableRow").addEventListener("click",k);document.getElementById("radioPlainPar").addEventListener("click",j);};h.prototype.applyStringResources=function(o){a("#INS_MERGE_BLOCK_DLG_LBL_SEL_TBL_COLS").text(o.INS_MERGE_BLOCK_DLG_LBL_SEL_TBL_COLS);a("#INS_MERGE_BLOCK_DLG_PLAIN_PAR").text(o.INS_MERGE_BLOCK_DLG_PLAIN_PAR);a("#INS_MERGE_BLOCK_DLG_TBL_ROW").text(o.INS_MERGE_BLOCK_DLG_TBL_ROW);a("#INS_MERGE_BLOCK_DLG_ADD_HEADER_ROW").text(o.INS_MERGE_BLOCK_DLG_ADD_HEADER_ROW);var n=document.getElementById("INS_MERGE_BLOCK_DLG_MOVE_UP");n.textContent=o.INS_MERGE_BLOCK_DLG_MOVE_UP;var m=document.getElementById("INS_MERGE_BLOCK_DLG_MOVE_DOWN");m.textContent=o.INS_MERGE_BLOCK_DLG_MOVE_DOWN;var l=document.getElementById("INS_MERGE_BLOCK_DLG_FLT_AND_SORT");l.textContent=o.INS_MERGE_BLOCK_DLG_FLT_AND_SORT;this.setDefaultBtnTexts(o);};return h;})(b.HTMLDialog);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.EditDataRelationsDialog=(function(d){__extends(e,d);function e(g,f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.EditDataRelationsDialog,ElementID:"editDataRelationsDialog",Width:"auto",TitleResourceName:"EDIT_DATA_RELS_DIALOG_TITLE"};this.relations=g;this.deletedRelations=[];this.dbScheme=f;}e.prototype.closing=function(){if(this.dialogData.dialogResult){this.dialogData.relations=this.relations;this.dialogData.deletedRelations=this.deletedRelations;}};e.prototype.addDataRelation=function(){var g=this,f=new b.CreateDataRelationDialog(g.dbScheme);f.showModal(function(h){if(!h){return;}g.relations.push(h);g.populateSelect();});};e.prototype.deleteSelectedRelation=function(){var f=document.getElementById("selDataRelations"),l=f.options[f.selectedIndex],j=this.relations;for(var g=0;g<j.length;++g){var h=j[g],k=h.RelationName||b.getRelDesc(h);if(k===l.value){this.deletedRelations.push(l.value);j.splice(g,1);this.populateSelect();return;}}};e.prototype.populateSelect=function(){var g=this,f=document.getElementById("selDataRelations");f.innerHTML="";this.relations.forEach(function(i){var h=document.createElement("option"),j=b.getRelDesc(i);h.value=h.text=i.RelationName||j;h.title=j;f.appendChild(h);});f.selectedIndex=0;};e.prototype.dialogReady=function(){var h=this;this.populateSelect();function f(i){h.addDataRelation();}function g(i){h.deleteSelectedRelation();}a("#EDIT_DATA_RELS_DIALOG_BTN_ADD").click(f);a("#EDIT_DATA_RELS_DIALOG_BTN_DELETE").click(g);};e.prototype.applyStringResources=function(f){a("#EDIT_DATA_RELS_DIALOG_LBL_SEL_DATA_REL").text(f.EDIT_DATA_RELS_DIALOG_LBL_SEL_DATA_REL);a("#EDIT_DATA_RELS_DIALOG_BTN_ADD").text(f.EDIT_DATA_RELS_DIALOG_BTN_ADD);a("#EDIT_DATA_RELS_DIALOG_BTN_DELETE").text(f.EDIT_DATA_RELS_DIALOG_BTN_DELETE);this.setDefaultBtnTexts(f);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.CreateDataRelationDialog=(function(d){__extends(e,d);function e(f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.CreateDataRelationDialog,ElementID:"createDataRelationDialog",Width:"auto",TitleResourceName:"CREATE_DATA_REL_DIALOG_TITLE",};this.dbScheme=f;this.callback=null;this.newRelation={RelationName:"",ParentTableName:"",ChildTableName:"",ParentColumnName:"",ChildColumnName:""};}e.prototype.dialogReady=function(){var h=this,g=document.getElementById("selMainTable"),f=document.getElementById("selChildTable");g.onchange=function(){h.newRelation.ParentTableName=this.value;h.populateColumnNameContainer(document.getElementById("mainTblColContainer"),this.value,"parent");};f.onchange=function(){h.newRelation.ChildTableName=this.value;h.populateColumnNameContainer(document.getElementById("childTblColContainer"),this.value,"child");};this.dbScheme.Tables.forEach(function(j){var i=document.createElement("option");i.value=i.text=i.title=j.TableName;g.appendChild(i);f.appendChild(i.cloneNode(true));});this.populateColumnNameContainers(this.dbScheme.Tables[0].TableName);this.newRelation.ParentTableName=this.newRelation.ChildTableName=this.dbScheme.Tables[0].TableName;this.newRelation.ParentColumnName=this.newRelation.ChildColumnName=this.dbScheme.Tables[0].Columns[0].ColumnName;};e.prototype.populateColumnNameContainers=function(f){this.populateColumnNameContainer(document.getElementById("mainTblColContainer"),f,"parent");this.populateColumnNameContainer(document.getElementById("childTblColContainer"),f,"child");};e.prototype.populateColumnNameContainer=function(f,j,k){var h=this,g=0;f.innerHTML="";var i=this.dbScheme.Tables.find(function(l){return l.TableName.toLowerCase()===j.toLowerCase();});if(!i){console.assert(i);return;}i.Columns.forEach(function(l){var o=f.id+"_opt_"+g++,n=document.createElement("input");n.id=o;n.setAttribute("type","radio");n.setAttribute("name","group_"+k);n.dataset.columnName=l.ColumnName;n.dataset.tableRole=k;n.title=l.ColumnName;n.style.cssFloat="left";n.style.clear="left";f.appendChild(n);n.addEventListener("click",function(p){h.columnSelected(this.dataset.columnName,this.dataset.tableRole);});if(g==1){n.checked=true;h.columnSelected(l.ColumnName,k);}var m=document.createElement("label");m.setAttribute("for",o);m.textContent=l.ColumnName;m.title=l.ColumnName;m.style.cssFloat="left";f.appendChild(m);});};e.prototype.columnSelected=function(f,g){switch(g){case"parent":this.newRelation.ParentColumnName=f;break;case"child":this.newRelation.ChildColumnName=f;break;}};b.getRelDesc=function(f){if(!f){return"NO RELATION GIVEN";}return f.ParentTableName+\'["\'+f.ParentColumnName+\'"] -> \'+f.ChildTableName+\'["\'+f.ChildColumnName+\'"]\';};e.prototype.OKHandler=function(f){if(this.callback&&this.relationIsValid(this.newRelation)){var g=document.getElementById("txtRelName");if(g.value){this.newRelation.RelationName=g.value;}else{this.newRelation.RelationName=b.getRelDesc(this.newRelation);}this.callback(this.newRelation);}this.close(f);};e.prototype.close=function(f){a(f).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();};e.prototype.showModal_base=e.prototype.showModal;e.prototype.showModal=function(f){this.callback=f;this.showModal_base();};e.prototype.applyStringResources=function(f){a("#CREATE_DATA_REL_DIALOG_LBL_MAIN_TBL").text(f.CREATE_DATA_REL_DIALOG_LBL_MAIN_TBL);a("#CREATE_DATA_REL_DIALOG_LBL_MAIN_COL").text(f.CREATE_DATA_REL_DIALOG_LBL_MAIN_COL);a("#CREATE_DATA_REL_DIALOG_LBL_CHILD_TBL").text(f.CREATE_DATA_REL_DIALOG_LBL_CHILD_TBL);a("#CREATE_DATA_REL_DIALOG_LBL_CHILD_COL").text(f.CREATE_DATA_REL_DIALOG_LBL_CHILD_COL);a("#CREATE_DATA_REL_DIALOG_LBL_REL_NAME").text(f.CREATE_DATA_REL_DIALOG_LBL_REL_NAME);a("#txtRelName").attr("placeholder",f.CREATE_DATA_REL_DIALOG_INP_REL_NAME_PLACEHLD);this.setDefaultBtnTexts(f);};e.prototype.relationIsValid=function(f){return(f.ParentTableName!=="")&&(f.ChildTableName!=="")&&(f.ParentColumnName!=="")&&(f.ChildColumnName!=="");};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(l,a){var b=l._private=l._private||{};var e,g;var f=Object.freeze({And:"And",Or:"Or"});var h=Object.freeze({Equals:"Equals",NotEqual:"NotEqual",GreaterThan:"GreaterThan",GreaterThanOrEqualTo:"GreaterThanOrEqualTo",LessThan:"LessThan",LessThanOrEqualTo:"LessThanOrEqualTo",IsBlank:"IsBlank",IsNotBlank:"IsNotBlank"});var k=Object.freeze({Ascending:"Ascending",Descending:"Descending"});var c=Object.freeze({fieldNameSelected:"fieldNameSelected",removeButtonClicked:"removeButtonClicked",clearButtonClicked:"clearButtonClicked"});b.MergeBlockFilterAndSortDialog=(function(m){__extends(n,m);function n(o,p,r,s){m.call(this);var q=this;if(!o){throw new Error("Please provide column names.");}if(!s){throw new Error("Please provide a callback function via parameter \'successHandler\'.");}this.DialogInfo={DialogType:b.HTMLDialogType.MergeBlockFilterAndSortDialog,ElementID:"mergeBlockFilterAndSortDialog",Width:"auto",TitleResourceName:"FILTERANDSORTDLG_TITLE"};this.filters=p||[];this.sortingInstructions=r||[];this.columnNames=o;this.filterRows=[];this.sortingInstrRows=[];this._={successHandler:s};this.filters.forEach(function(t){if(!q.columnNames.includes(t.columnName)){q.columnNames.push(t.columnName);}});this.sortingInstructions.forEach(function(t){if(!q.columnNames.includes(t.orderBy)){q.columnNames.push(t.orderBy);}});}n.prototype.populateFilterTable=function(){var y=this,s,v,q,r;var z=document.getElementById("mergeBlockFilterAndSortDialog_tableFilter");z.innerHTML=z.rows[0].outerHTML;this.filterRows=[];if(this.filters.length===0){q=document.createElement("tr");v=new d(q,null,this.columnNames,true);v.addEventListener(c.fieldNameSelected,w);v.addEventListener(c.removeButtonClicked,x);this.filterRows.push(v);z.appendChild(q);q=document.createElement("tr");v=new d(q,null,this.columnNames,false,true);v.addEventListener(c.fieldNameSelected,w);v.addEventListener(c.removeButtonClicked,x);this.filterRows.push(v);z.appendChild(q);}else{for(s=0;s<this.filters.length;++s){r=this.filters[s];q=document.createElement("tr");v=new d(q,r,this.columnNames,s===0);v.addEventListener(c.fieldNameSelected,w);v.addEventListener(c.removeButtonClicked,x);this.filterRows.push(v);z.appendChild(q);}p();}function w(A){if(u(A)){o();}else{if(t(A)){p();}}}function x(B){var A=0;for(;A<y.filterRows.length;++A){if(y.filterRows[A]===B){break;}}if(A===y.filterRows.length){throw new Error("Row not found.");}y.filters=y.getFilters();y.filters.splice(A,1);y.populateFilterTable();}function u(A){return(y.filterRows[y.filterRows.length-2]===A);}function t(A){return(y.filterRows[y.filterRows.length-1]===A);}function o(){y.filterRows[y.filterRows.length-1].activate();}function p(){q=document.createElement("tr");v=new d(q,null,y.columnNames);v.addEventListener(c.fieldNameSelected,w);v.addEventListener(c.removeButtonClicked,x);y.filterRows.push(v);z.appendChild(q);}};n.prototype.initSortTab=function(){var o=this.sortingInstructions.length,p,q,u,t=this;var v=document.getElementById("mergeBlockFilterAndSortDialog_tableSort");if(o>3){throw new Error("There must not be more than 3 sorting instructions.");}this.sortingInstrRows=[];for(p=0;p<3;++p){u=(p<o)?this.sortingInstructions[p]:null;q=new j(v.rows[(p*2)+1],u,this.columnNames,p===0);if(p<2){q.addEventListener(c.fieldNameSelected,(function(w){return function(){s(w);};})(p));}q.addEventListener(c.clearButtonClicked,r);this.sortingInstrRows.push(q);}if(o&&(o<3)){this.sortingInstrRows[o].activate();}function s(w){t.sortingInstrRows[w+1].activate();}function r(x){var w=0;for(;w<t.sortingInstrRows.length;++w){if(t.sortingInstrRows[w]===x){break;}}if(w===t.sortingInstrRows.length){throw new Error("Row not found.");}t.sortingInstructions=t.getSortingInstructions();t.sortingInstructions.splice(w,1);t.initSortTab();}};n.prototype.dialogReady=function(){a("#mergeBlockFilterAndSortDialog_divTabs").tabs();this.populateFilterTable();this.initSortTab();};n.prototype.getFilters=function(){var o=[];this.filterRows.forEach(function(p){if(!p.hasValues()){return;}o.push(p.getValues());});return o;};n.prototype.getSortingInstructions=function(){var o=[];this.sortingInstrRows.forEach(function(p){if(!p.hasValues()){return;}o.push(p.getValues());});return o;};n.prototype.close=function(o){try{if(this.dialogData.dialogResult){if(this._.successHandler){this._.successHandler(this.getFilters(),this.getSortingInstructions());}}}finally{a(o).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();}};n.prototype.applyStringResources=function(s){document.getElementById("FILTERANDSORTDLG_TAB_FILTER").textContent=s.FILTERANDSORTDLG_TAB_FILTER;document.getElementById("FILTERANDSORTDLG_TAB_SORT").textContent=s.FILTERANDSORTDLG_TAB_SORT;document.getElementById("FILTERDESIGNER_LBL_FIELD").textContent=s.FILTERDESIGNER_LBL_FIELD;document.getElementById("FILTERDESIGNER_LBL_COMPARISON").textContent=s.FILTERDESIGNER_LBL_COMPARISON;document.getElementById("FILTERDESIGNER_LBL_COMPARE_TO").textContent=s.FILTERDESIGNER_LBL_COMPARE_TO;var q=document.querySelectorAll("#mergeBlockFilterAndSortDialog .SORTDESIGNER_SORT_BY");[].forEach.call(q,function(t){t.textContent=s.SORTDESIGNER_SORT_BY;});var r=document.querySelectorAll("#mergeBlockFilterAndSortDialog .SORTDESIGNER_THEN_BY");[].forEach.call(r,function(t){t.textContent=s.SORTDESIGNER_THEN_BY;});var o=document.querySelectorAll("#mergeBlockFilterAndSortDialog .SORTDESIGNER_ASCENDING");[].forEach.call(o,function(t){t.textContent=s.SORTDESIGNER_ASCENDING;});var p=document.querySelectorAll("#mergeBlockFilterAndSortDialog .SORTDESIGNER_DESCENDING");[].forEach.call(p,function(t){t.textContent=s.SORTDESIGNER_DESCENDING;});e=[{text:s.FILTERDESIGNER_LOG_OP_AND,value:f.And},{text:s.FILTERDESIGNER_LOG_OP_OR,value:f.Or}];g=[{text:s.FILTERDESIGNER_REL_OP_EQUALS,value:h.Equals},{text:s.FILTERDESIGNER_REL_OP_NOT_EQUAL,value:h.NotEqual},{text:s.FILTERDESIGNER_REL_OP_GREATER_THAN,value:h.GreaterThan},{text:s.FILTERDESIGNER_REL_OP_GREATER_THAN_OR_EQUAL,value:h.GreaterThanOrEqualTo},{text:s.FILTERDESIGNER_REL_OP_LESS_THAN,value:h.LessThan},{text:s.FILTERDESIGNER_REL_OP_LESS_THAN_OR_EQUAL,value:h.LessThanOrEqualTo},{text:s.FILTERDESIGNER_REL_OP_IS_BLANK,value:h.IsBlank},{text:s.FILTERDESIGNER_REL_OP_IS_NOT_BLANK,value:h.IsNotBlank},];this.setDefaultBtnTexts(s);};return n;})(b.HTMLDialog);var i=(function(m){__extends(n,m);function n(q,o,p){m.call(this,q);this.isInactive=!!p;this.columnNames=o;this.selColName=null;}n.prototype.hasValues=function(){return !this.isInactive&&(this.selColName.value!=="__EMPTY__");};n.prototype.getValues=function(){console.error("NOT IMPLEMENTED");};n.prototype.activate=function(){console.error("NOT IMPLEMENTED");};return n;})(b.RowBase);var d=(function(m){__extends(n,m);function n(w,r,q,s,t){m.call(this,w,q,t);var v=this,u;this.filter=r;this.isFirstRow=s;this.selLogOp=null;this.selRelOp=null;this.txtCompVal=null;w.innerHTML="<td></td><td></td><td></td><td></td><td></td>";if(!s){this.selLogOp=document.createElement("select");e.forEach(function(x){u=document.createElement("option");u.text=x.text;u.value=x.value;v.selLogOp.add(u);});this.selLogOp.disabled=t;this.selLogOp.value=r?r.logOp:f.And;w.cells[0].appendChild(this.selLogOp);}this.selColName=document.createElement("select");q.forEach(function(x){u=document.createElement("option");u.text=u.value=x;v.selColName.add(u);});this.selColName.addEventListener("change",function(){v.txtCompVal.disabled=false;v.selRelOp.disabled=false;b.enableButton(o);v.fireEvent(c.fieldNameSelected,v);});u=document.createElement("option");u.value="__EMPTY__";u.style.display="none";u.disabled=true;this.selColName.add(u);this.selColName.disabled=t;this.selColName.value=r?r.columnName:"__EMPTY__";w.cells[1].appendChild(this.selColName);this.selRelOp=document.createElement("select");g.forEach(function(x){u=document.createElement("option");u.text=x.text;u.value=x.value;v.selRelOp.add(u);});this.selRelOp.addEventListener("change",function(x){switch(x.target.value){case h.IsBlank:case h.IsNotBlank:v.txtCompVal.value="";v.txtCompVal.disabled=true;break;default:v.txtCompVal.disabled=false;break;}});this.selRelOp.disabled=!r;this.selRelOp.value=r?r.relOp:h.Equals;w.cells[2].appendChild(this.selRelOp);this.txtCompVal=document.createElement("input");this.txtCompVal.type="text";this.txtCompVal.disabled=!r||(r.relOp===h.IsBlank)||(r.relOp===h.IsNotBlank);this.txtCompVal.value=r?r.compareTo:"";w.cells[3].appendChild(this.txtCompVal);w.cells[4].innerHTML=\'<button type="button" class="mergeBlockFilterAndSortDialog_btnRemFlt">\\uFE0E</button>\';var o=w.querySelector("button.mergeBlockFilterAndSortDialog_btnRemFlt");b.enableButton(o,!t&&(this.selColName.value!=="__EMPTY__"));o.addEventListener("click",p);function p(){v.fireEvent(c.removeButtonClicked,v);}}n.prototype.activate=function(){if(this.selLogOp){this.selLogOp.disabled=false;}this.selColName.disabled=false;this.isInactive=false;};n.prototype.getValues=function(){return{logOp:this.selLogOp?this.selLogOp.value:f.And,columnName:this.selColName.value,relOp:this.selRelOp.value,compareTo:this.txtCompVal.value};};return n;})(i);var j=(function(m){__extends(n,m);function n(t,s,o,p){m.call(this,t,o,!s);var r=this,q;this.isFirstRow=!!p;this.sortingInstruction=s;this.selColName=t.cells[0].querySelector("select");if(!this.selColName){throw new Error("\'Order by\' drop down element not found.");}this.rbAsc=t.cells[1].querySelector("input[type=radio]");if(!this.rbAsc){throw new Error("\'Ascending\' radio button element not found.");}this.lblAsc=t.cells[1].querySelector("label");if(!this.lblAsc){throw new Error("\'Ascending\' label element not found.");}this.rbDesc=t.cells[2].querySelector("input[type=radio]");if(!this.rbDesc){throw new Error("\'Descending\' radio button element not found.");}this.lblDesc=t.cells[2].querySelector("label");if(!this.lblDesc){throw new Error("\'Descending\' label element not found.");}this.btnClear=t.querySelector("button.mergeBlockFilterAndSortDialog_btnClearSortInstr");if(!this.btnClear){throw new Error("\'Clear\' button element not found.");}this.init();o.forEach(function(u){q=document.createElement("option");q.text=q.value=u;r.selColName.add(q);});this.selColName.addEventListener("change",function(){r.enable();r.fireEvent(c.fieldNameSelected,r);});q=document.createElement("option");q.value="__EMPTY__";q.style.display="none";q.disabled=true;this.selColName.add(q);this.btnClear.addEventListener("click",function(){r.fireEvent(c.clearButtonClicked,r);});this.selColName.value=s?s.orderBy:"__EMPTY__";if(s){switch(s.sortOrder){case k.Ascending:this.rbAsc.checked=true;break;case k.Descending:this.rbDesc.checked=true;break;}this.enable();}}n.prototype.getValues=function(){return{orderBy:this.selColName.value,sortOrder:this.rbAsc.checked?k.Ascending:k.Descending};};n.prototype.activate=function(){this.selColName.disabled=false;};n.prototype.enable=function(){this.isInactive=false;this.selColName.disabled=this.rbAsc.disabled=this.rbDesc.disabled=this.btnClear.disabled=false;this.rbAsc.classList.remove("txui-state-disabled");this.rbDesc.classList.remove("txui-state-disabled");this.lblAsc.classList.remove("txui-state-disabled");this.lblDesc.classList.remove("txui-state-disabled");this.btnClear.classList.remove("txui-state-disabled");};n.prototype.init=function(){this.selColName.innerHTML="";if(!this.isFirstRow){this.selColName.disabled=true;}this.tr.cells[0].innerHTML=this.selColName.outerHTML;this.selColName=this.tr.cells[0].querySelector("select");this.rbAsc.checked=true;this.rbAsc.disabled=this.rbDesc.disabled=this.btnClear.disabled=true;this.rbAsc.classList.add("txui-state-disabled");this.rbDesc.classList.add("txui-state-disabled");this.lblAsc.classList.add("txui-state-disabled");this.lblDesc.classList.add("txui-state-disabled");this.btnClear.classList.add("txui-state-disabled");this.tr.cells[3].innerHTML=this.btnClear.outerHTML;this.btnClear=this.tr.cells[3].querySelector("button");};return n;})(i);return l;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.EditMergeBlocksDialog=(function(d){__extends(e,d);function e(f){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.EditMergeBlocksDialog,ElementID:"editMergeBlocksDialog",Width:"auto",TitleResourceName:"EDIT_MERGE_BLOCK_DLG_TITLE"};this.blocks=f;this.deletedBlocks=[];this.renamedBlocks=[];this.updatedFilterAndSortInfo={};}e.prototype.closing=function(){this.dialogData.deletedBlocks=this.deletedBlocks;this.dialogData.renamedBlocks=this.renamedBlocks;this.dialogData.updatedFilterAndSortInfo=this.updatedFilterAndSortInfo;};e.prototype.populateSelect=function(){var f=document.getElementById("selMergeBlocks");f.innerHTML="";this.blocks.forEach(function(g){var h=(g.NewName!=="")?g.NewName:g.Name;var i=document.createElement("option");i.value=i.text=i.title=h;f.appendChild(i);});f.selectedIndex=0;};e.prototype.goToSelectedBlock=function(){var g=document.getElementById("selMergeBlocks"),h=g.options[g.selectedIndex],f=this.blocks.find(function(i){return i.Name===h.value;});if(!f){return;}b.sendCommand(b.Command.GoToItem,b.ItemType.MergeBlock,0,0,{name:f.Name});};e.prototype.renameSelectedBlock=function(){var n=this,k=document.getElementById("selMergeBlocks"),m=k.options[k.selectedIndex],g=this.blocks.find(function(i){if(i.NewName!==""){return i.NewName===m.value;}else{return i.Name===m.value;}});if(!g){return;}if(g.NewName!==""){for(var l=0;l<this.renamedBlocks.length;++l){var f=this.renamedBlocks[l];if(f.NewName===g.NewName){this.renamedBlocks.splice(l,1);break;}}}var h=(g.NewName!=="")?g.NewName:g.Name,j=new b.InputBoxDialog(b.variousStringResources.INPUT_BOX_DLG_TITLE_RENAME_MERGE_BLOCK,h);j.showModal(function(i){if(i!==""){g.NewName=i;n.renamedBlocks.push(cloneObject(g));n.populateSelect();}});};e.prototype.deleteSelectedBlock=function(){var j=document.getElementById("selMergeBlocks"),l=j.options[j.selectedIndex],h=this.blocks;for(var k=0;k<h.length;++k){var f=h[k],g=(f.NewName!=="")?f.NewName:f.Name;if(g===l.value){this.deletedBlocks.push(f.Name);h.splice(k,1);this.populateSelect();return;}}};e.prototype.filterAndSort=function(){var j=this,h;var k=document.getElementById("selMergeBlocks");var g=k.value;var f=this.blocks.find(function(m){var n=m.NewName?m.NewName:m.Name;return n===g;});if(!f){throw new Error("Block not found");}var i=this.updatedFilterAndSortInfo[f.Name];if(i){h=new b.MergeBlockFilterAndSortDialog(f.ColumnNames,i.Filters,i.SortingInstructions,l);}else{h=new b.MergeBlockFilterAndSortDialog(f.ColumnNames,f.Filters,f.SortingInstructions,l);}h.showModal();function l(m,n){j.updatedFilterAndSortInfo[f.Name]={Filters:m,SortingInstructions:n};}};e.prototype.dialogReady=function(){var j=this;this.populateSelect();function h(k){j.goToSelectedBlock();}function i(k){j.renameSelectedBlock();}function f(k){j.deleteSelectedBlock();}function g(k){j.filterAndSort();}document.getElementById("EDIT_MERGE_BLOCK_DLG_BTN_GOTO").addEventListener("click",h);document.getElementById("EDIT_MERGE_BLOCK_DLG_BTN_RENAME").addEventListener("click",i);document.getElementById("EDIT_MERGE_BLOCK_DLG_BTN_DEL").addEventListener("click",f);document.getElementById("EDIT_MERGE_BLOCK_DLG_BTN_FLT_SORT").addEventListener("click",g);};e.prototype.applyStringResources=function(f){a("#EDIT_MERGE_BLOCK_DLG_LBL_SEL_MERGE_BLOCK").text(f.EDIT_MERGE_BLOCK_DLG_LBL_SEL_MERGE_BLOCK);a("#EDIT_MERGE_BLOCK_DLG_BTN_GOTO").text(f.EDIT_MERGE_BLOCK_DLG_BTN_GOTO);a("#EDIT_MERGE_BLOCK_DLG_BTN_RENAME").text(f.EDIT_MERGE_BLOCK_DLG_BTN_RENAME);a("#EDIT_MERGE_BLOCK_DLG_BTN_DEL").text(f.EDIT_MERGE_BLOCK_DLG_BTN_DEL);a("#EDIT_MERGE_BLOCK_DLG_BTN_FLT_SORT").text(f.EDIT_MERGE_BLOCK_DLG_BTN_FLT_SORT);this.setDefaultBtnTexts(f);};return e;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.SetChartDataRelationDialog=(function(d){__extends(h,d);function h(i){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.SetChartDataRelationDialog,ElementID:"setChartDataRelationDialog",Width:"auto",TitleResourceName:"SET_CHART_DATA_REL_DLG_TITLE"};this.dataSource=i.DataSource;this.currentChartRelation=i.CurrentChartRelation;this.mainTable=null;}function f(j){var i=j.target;var k=i.options[i.selectedIndex].value;this.mainTable=this.dataSource.Tables.find(function(l){return l.TableName===k;});this.updateChildTableDropDown(k);}function e(l){var i=l.target;var k=i.options[i.selectedIndex].value;var j=this.mainTable.ChildTables.find(function(m){return m.TableName===k;});g(j);}function g(k){var i=document.getElementById("txDialog_cbAxisLabels");var j=document.getElementById("txDialog_cbValues");i.innerHTML="";j.innerHTML="";k.Columns.forEach(function(l){var m=document.createElement("option");var n=document.createElement("option");m.innerHTML=n.innerHTML=l.ColumnName;m.value=n.value=l.ColumnName;i.appendChild(m);j.appendChild(n);});}h.prototype.updateChildTableDropDown=function(k){var i=document.getElementById("txDialog_cbChildTable");var l=this.dataSource.Tables.find(function(m){return m.TableName===k;});if(!l){return;}i.innerHTML="";var j=document.createDocumentFragment();l.ChildTables.forEach(function(n){var m=document.createElement("option");m.innerHTML=n.TableName;m.value=n.TableName;j.appendChild(m);});i.appendChild(j);g(l.ChildTables[0]);};h.prototype.populateComboboxes=function(){var l=document.getElementById("txDialog_cbMainTable");var k=document.getElementById("txDialog_cbChildTable");var m=document.createDocumentFragment();this.dataSource.Tables.forEach(function(q){var i=document.createElement("option");i.innerHTML=q.TableName;i.value=q.TableName;m.appendChild(i);});l.appendChild(m);var j=false;var o=this.dataSource.MasterTable.TableName;for(var n=0;n<l.options.length;++n){var p=l.options[n].value;if(o===p){l.selectedIndex=n;j=true;break;}}if(!j){o=this.dataSource.Tables[0].TableName;}o=l.options[l.selectedIndex].value;this.mainTable=this.dataSource.Tables.find(function(i){return i.TableName===o;});this.updateChildTableDropDown(o);l.addEventListener("change",f.bind(this));k.addEventListener("change",e.bind(this));};h.prototype.closing=function(){if(this.dialogData.dialogResult){var j=document.getElementById("txDialog_cbChildTable");var i=document.getElementById("txDialog_cbAxisLabels");var k=document.getElementById("txDialog_cbValues");this.dialogData.chartName=j.options[j.selectedIndex].value;this.dialogData.chartAreaName=i.options[i.selectedIndex].value;this.dialogData.seriesName=k.options[k.selectedIndex].value;}};h.prototype.dialogReady=function(){this.populateComboboxes();};h.prototype.applyStringResources=function(i){a("#txDialog_lblMainTbl").text(i.SET_CHART_DATA_REL_DLG_LBL_MAIN_TBL);a("#txDialog_lblChildTbl").text(i.SET_CHART_DATA_REL_DLG_LBL_CHILD_TBL);a("#txDialog_lblAxisLbls").text(i.SET_CHART_DATA_REL_DLG_LBL_AXIS_LBLS);a("#txDialog_lblValues").text(i.SET_CHART_DATA_REL_DLG_LBL_VALUES);this.setDefaultBtnTexts(i);};return h;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.txDialog=null;b.SectionFormatDialogTab={MarginsAndPaper:0,HeadersAndFooters:1,Columns:2,Borders:3};b.TableFormatDialogTab={FrameAndColor:0,SizeAndFormatting:1};b.TxDialog=(function(){function d(g,i,e,f,h){this.dialogType=f;this.initialImage=g;this.size=i;this.caption=e;this.dialogContainer=null;this.depth=h?h.depth+1:0;this.dialogContainerID="txDlgContainer_"+this.depth;this.parentDialog=h||null;this.childDialog=null;this.viewer=null;this.caretStateBuffer=null;this.caretStateChangedBound=this.caretStateChanged.bind(this);this.imageReceivedBound=this.imageReceived.bind(this);this.imageRegionsUpdatedBound=this.imageRegionsUpdated.bind(this);this.dialogClosedBound=this.dialogClosed.bind(this);this.resourcesReceivedHandlerBound=this.resourcesReceivedHandler.bind(this);if(!this.parentDialog){document.addEventListener("dialogCaretStateChanged",this.caretStateChangedBound);}}d.prototype.close=function(e,f){f=f||false;if(!this.parentDialog){document.removeEventListener("dialogCaretStateChanged",this.caretStateChangedBound);document.removeEventListener("txDialogImageReceived",this.imageReceivedBound);document.removeEventListener("txDialogImageRegionsUpdated",this.imageRegionsUpdatedBound);document.removeEventListener("txDialogClosed",this.dialogClosedBound);}if(!f){b.sendCommand(b.Command.CloseDialog,this.depth);}a(e).dialog("destroy").remove();if(this.dialogContainer){this.dialogContainer.parentElement.removeChild(this.dialogContainer);}b.mouseOwner=null;if(!this.parentDialog){b.txDialog=null;if(!b.isTouchDevice){b.textViewer.focus();}}else{this.parentDialog.childDialog=null;if(!b.isTouchDevice){this.parentDialog.focus();}}};d.prototype.dialogReady=function(){var g=document.getElementById("txDialogContent");g.id=g.id+"_"+this.depth;g.width=this.size.Width;g.height=this.size.Height;this.viewer=new b.ComponentViewer(g,b.ComponentType.TxDialog,this.dialogType,this.depth);this.viewer.setImage(this.initialImage);delete this.initialImage;if(this.caretStateBuffer){this.viewer.setCaretState(this.caretStateBuffer);this.caretStateBuffer=null;}var f=a("#txDialog"),i=f.css("margin-left"),e={width:f.css("border-left-width"),color:f.css("border-left-color"),style:f.css("border-left-style")};f.css("border-bottom-width",e.width);f.css("border-bottom-style",e.style);f.css("border-bottom-color",e.color);f.css("margin-bottom",i);var h=document.getElementById("txDialog");h.id=h.id+"_"+this.depth;a("div.txui-dialog button.txui-dialog-titlebar-close").blur();if(!b.isTouchDevice){this.viewer.focus();}};d.prototype.dialogize=function(e){var f=this;this.dialogContainer=document.getElementById(this.dialogContainerID);this.dialogContainer.innerHTML=e.html;a("#txDialog").dialog({modal:true,resizable:false,width:"auto",height:"auto",title:this.caption,buttons:{},close:function(){f.close(this);},});if(!this.parentDialog){document.addEventListener("txDialogImageReceived",this.imageReceivedBound);document.addEventListener("txDialogImageRegionsUpdated",this.imageRegionsUpdatedBound);document.addEventListener("txDialogClosed",this.dialogClosedBound);}this.dialogReady();};d.prototype.showChildDialog=function(f,g,e){if(this.childDialog){this.childDialog.showChildDialog(f,g,e);}else{this.childDialog=new d(f,g,e,b.TXDialogType.ChildDialog,this);this.childDialog.showModal();}};d.prototype.caretStateChanged=function(f){var g=f.detail;if(this.depth<g.Param3){this.childDialog.caretStateChanged(f);}else{if(g.Param2==this.dialogType){if(this.viewer){this.viewer.setCaretState(g.Data);}else{this.caretStateBuffer=g.Data;}}}};d.prototype.dialogClosed=function(f){var g=f.detail;if(this.depth<g.nestingDepth){if(this.childDialog){this.childDialog.dialogClosed(f);}}else{if(g.dialogType==this.dialogType){this.close(a("#txDialog_"+this.depth),true);}}};d.prototype.imageReceived=function(f){var g=f.detail;if(this.depth<g.Param3){this.childDialog.imageReceived(f);}else{if(g.Param2==this.dialogType){if(this.viewer){this.viewer.setImage(g.Data);}}}};d.prototype.imageRegionsUpdated=function(f){var g=f.detail;if(this.depth<g.Param3){this.childDialog.imageRegionsUpdated(f);}else{if(g.Param2==this.dialogType){this.viewer.updateImageRegions(g.Data.tiles);}}};d.prototype.resourcesReceivedHandler=function(f){if(f.detail.dialogType==b.HTMLDialogType.TxDialogFrame){this.dialogize(f.detail.resources);document.removeEventListener("dialogResourcesReceived",this.resourcesReceivedHandlerBound);}};d.prototype.getActiveViewer=function(){if(!this.childDialog){return this.viewer;}else{return this.childDialog.getActiveViewer();}};d.prototype.focus=function(){if(!this.childDialog){this.viewer.focus();}else{this.childDialog.focus();}};d.prototype.blur=function(){if(!this.childDialog){this.viewer.blur();}else{this.childDialog.blur();}};d.prototype.showModal=function(){var e=document.getElementById("txTemplateDesignerContainer");var f=document.createElement("div");f.id=this.dialogContainerID;e.appendChild(f);document.addEventListener("dialogResourcesReceived",this.resourcesReceivedHandlerBound);b.sendCommand(b.Command.GetDialogResources,b.HTMLDialogType.TxDialogFrame);};return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};b.ColorPalette=[4278190080,4288230144,4281545472,4278203136,4278203238,4278190208,4281545625,4281545523,4286578688,4294927872,4286611456,4278222848,4278222976,4278190335,4284901017,4286611584,4294901760,4294940928,4288269312,4281571686,4281584844,4281558783,4286578816,4288256409,4294902015,4294953984,4294967040,4278255360,4278255615,4278242559,4288230246,4290822336,4294941132,4294954137,4294967193,4291624908,4291624959,4288269567,4291598847,4294967295];function c(f,e){var i=document.createElement("li");var h=document.createElement("div");i.style.position="relative";i.style.width="16px";i.style.height="16px";i.style.cssFloat="left";i.style.clear=e?"left":"none";i.style.padding="2px";i.style.marginLeft=e?"3px":"2px";i.style.display="block";i.style.overflow="hidden";var g=document.createElement("a");h.style.position="relative";h.style.width="14px";h.style.height="14px";h.style.border="1px solid lightgray";h.style.overflow="hidden";h.style.background=h.style.color=b.toCSSColor(f);h.textContent=".";g.appendChild(h);i.appendChild(g);var j=b.toColorObject(f);i.txColor=j;i.dataset.tag=JSON.stringify(j);return i;}b.makeSmallColorButtons=function(){var g,h,e=[];for(h=0;h<5;++h){for(g=0;g<8;++g){var k=(8*h)+g;var f=b.ColorPalette[k];e.push(c(f,(g==0)));}}return e;};b.MinColorPickerMenuWidth=180;b.generateColorPalette=function(h,j){var g,e;j=j||0;if(!h){return;}h.style.minWidth=b.MinColorPickerMenuWidth+"px";j=Math.min(h.children.length-1,j);e=b.makeSmallColorButtons();for(g=(e.length-1);g>=0;--g){var f=e[g];h.insertBefore(f,h.children[j]);}};b.toCSSColor=function(g){var e=b.toColorObject(g),f="rgba("+e.r+", "+e.g+", "+e.b+", "+(e.a/255)+")";return f;};b.toColorObject=function(f){var e={a:(f>>>24),r:(f>>>16)&255,g:(f>>>8)&255,b:f&255};return e;};return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=d.ribbonPermissionsTab=d.ribbonPermissionsTab||{};b.ribbonPermissionsTab={allowAdditionalUserNames:true,registeredUserNames:[]};b.RibbonTabType={};Object.defineProperty(c,"allowAdditionalUserNames",{get:function(){return b.ribbonPermissionsTab.allowAdditionalUserNames;},set:function(allowAdditionalUserNames){if(typeof allowAdditionalUserNames!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}b.sendCommand(b.Command.SetRibbonTabProperty,b.RibbonTabType.RibbonPermissionsTab,0,0,{propertyName:"allowAdditionalUserNames",value:allowAdditionalUserNames});b.ribbonPermissionsTab.allowAdditionalUserNames=allowAdditionalUserNames;},enumerable:true});Object.defineProperty(c,"registeredUserNames",{get:function(){return b.ribbonPermissionsTab.registeredUserNames;},set:function(registeredUserNames){if((registeredUserNames===null)||(registeredUserNames.constructor!==Array)){throw new TypeError(\'"registeredUserNames" must be an array.\');}registeredUserNames.forEach(function(e){if((typeof e!=="string")&&!(e instanceof String)){throw new TypeError(\'"registeredUserNames" must be an array of strings.\');}});b.sendCommand(b.Command.SetRibbonTabProperty,b.RibbonTabType.RibbonPermissionsTab,0,0,{propertyName:"registeredUserNames",value:registeredUserNames});b.ribbonPermissionsTab.registeredUserNames=registeredUserNames;},enumerable:true});return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};b.ribbonStringResources={};b.setFileMenuStrings=function(){var g=b.ribbonStringResources;for(var f in g){if(g.hasOwnProperty(f)){if(typeof g[f]==="string"){g[f]=g[f].replace(/\\r?\\n/g,"<br>");}}}b.adaptRibbonTabWidths();var e=document.getElementById("tabFile");if(e){e.textContent=e.dataset.text=g.RIBBON_MNU_FILE_TITLE;c("fileMnuItemNew",g.RIBBON_MNU_FILE_NEW);c("fileMnuItemOpen",g.RIBBON_MNU_FILE_OPEN);c("fileMnuItemSave",g.RIBBON_MNU_FILE_SAVE);c("fileMnuItemSaveAs",g.RIBBON_MNU_FILE_SAVE_AS);c("fileMnuItemPrintToPDF",g.RIBBON_MNU_FILE_PRINT);c("fileMnuItemOptions",g.RIBBON_MNU_FILE_OPTIONS);}};function c(h,i){var f=document.getElementById(h);if(!f){return;}var e=f.getElementsByClassName("large-menu-item-caption-container");if(!e.length){console.error("Menu item caption container div not found.");return;}var g=document.createElement("P");g.textContent=i;e[0].appendChild(g);}return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(ar,a){var d=ar._private=ar._private||{};var b=null;d.ApplicationMode=Object.freeze({Normal:0,MailMergePreview:1,});d.EditMode=Object.freeze({Edit:1,ReadAndSelect:2,ReadOnly:3,UsePassword:2048});d.MenuType=Object.freeze({InsertShapes:1,InsertChart:2});d.RibbonMenuItemType=Object.freeze({Default:0,Category:1,Symbol:2,ColorPicker:3,TableWizard:4,CheckMark:5,ImageUploader:6,ListType_Bullet:7,ListType_Number:8});d.RibbonGroupElementType={};d.RibbonControlType={};d.RibbonMenuItemSize={};d.RibbonButtonSize={};d.RibbonMenuEventType={};d.RibbonButtonSize={};d.RibbonButtonEventType={};d.RibbonControlStateType={};d.RibbonButtonStateType={};d.RibbonMenuItemBorder={};d.RibbonMenuItemStateType={};d.RibbonTextBoxEventType={};d.RibbonTextBoxStateType={};d.RibbonCheckBoxStateType={};d.ListBoxEventType={};d.ListItemStateType={};d.ListBoxStateType={};d.InputControlEventType={};d.ComboBoxStateType={};d.ParagraphStructureLevelEntryStateType={};d.ParagraphStructureLevelEntryEventType={};d.ComboBoxCommand={};d.ImageKind={};d.jQueryMenus={};var c=[];var f="";d.appMode=d.ApplicationMode.Normal;var g=0;var e=null;d.isRibbonVisible=true;d.isRibbonBarRemoved=false;d.editModeCur=d.EditMode.Edit;var h="";var Q=false;d.PlaceholderImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=";function W(){var au=function(){d.sendCommand(d.Command.NewFile);d.switchTabs(a("#tabDefault"));a("#fileMnuItemSave").addClass("txui-state-disabled");};if(d.documentDirty){d.fileSaveQuestion(au);}else{au();}}d.initRibbon=function(){d.fileMenu=a("#fileMenu").menu().hide();a("#fileMenu").on("menuselect",X);d.setFileMenuStrings();d.sendCommand(d.Command.RequestRibbonTabsAsync);};function X(au,av){switch(av.item.context.id){case"fileMnuItemOpen":d.openFile();break;case"fileMnuItemSave":ai();break;case"fileMnuItemSaveAs":aj();break;case"fileMnuItemNew":W();break;case"fileMnuItemPrintToPDF":d.print();break;case"fileMnuItemOptions":aq();break;}}d.openFile=function(aw,au){aw=aw||d.FileType.Document;au=au||d.Command.OpenFile;var av=function(){var ax=new d.OpenFileDialog(d.Command.OpenFile,aw);ax.showModal();};if((aw==d.FileType.Document)&&d.documentDirty){d.fileSaveQuestion(av);}else{av();}};function ai(){d.sendCommand(d.Command.Save);}function aj(){d.sendCommand(d.Command.ShowDialog,d.DialogCategory.HTMLDialog,d.HTMLDialogType.SaveDocumentAsDialog);}function Y(au){if(au.attr("id")==="tabFile"){ap(au);return false;}else{d.switchTabs(au);}}function ap(av){d.hideAllOtherMenus();var au=document.getElementById("fileMenu");if(!au){return;}d.calcMenuWidths(au);d.fileMenu.show().position({my:"left top",at:"left bottom",of:av});a(document).one("click",function(){d.fileMenu.hide();});}function aq(){d.sendCommand(d.Command.ShowDialog,d.DialogCategory.HTMLDialog,d.HTMLDialogType.OptionsDialog);}function O(av){var au=document.getElementById("txRibbonTabContentContainer");if(au.clientWidth>32){return au.clientWidth;}return 0;}d.updateRibbonTabContentOffset=function(){var av=O(f);if((g<0)&&(av+g)<d.clientSize.Width){var au=document.getElementById("txRibbonTabContentContainer");var aw=Math.min(0,(d.clientSize.Width-av));au.style.transform="translate("+aw+"px, 0px)";g=aw;}};d.updateRibbonScrollArrows=function(){var aA=O(f);var aw=document.getElementById("txRibbonScrollButtonRight");var au=document.getElementById("txRibbonScrollButtonLeft");var az=aw.clientWidth;var av=d.clientSize.Width-az;aw.style.left=av+"px";var ax=(g<0);var ay=(d.clientSize.Width<(aA+g));au.style.opacity=ax?"":0;aw.style.opacity=ay?"":0;};d.updateRibbonHideButtonPos=function(){var au=document.getElementById("txBtnRibbonHide");var aw=au.getBoundingClientRect().width;if(aw>100){aw=20;}var av=d.clientSize.Width-aw-5;au.style.left=av+"px";};d.adaptRibbonTabWidths=function(){var az,aE,aF=document.querySelectorAll("div#ribbonbar > ul.tabs > li > a"),ay=22,au,aA,aB,av,aC,aw=document.getElementById("txTemplateDesignerContainer"),ax=aw.getBoundingClientRect();aF=[].filter.call(aF,function(aH){return aH.style.display!=="none";});if(!aF||aF.length===0){return;}aF.sort(function(aH,aI){return aH.offsetLeft-aI.offsetLeft;});av=d.clientSize.Width-ay;aC=aF[aF.length-1];aG();if(aB>av){for(az=aF.length-1;az>=0;--az){aE=aF[az];aG();if(aB>av){aD();}else{break;}}}else{for(az=0;az<aF.length;++az){aE=aF[az];if(!aE.dataset.wasShrunk){continue;}aG();if(aB<av){aE.textContent=aE.dataset.text;aG();if(aB>av){aD();break;}delete (aE.dataset.wasShrunk);aE.title="";}}}function aD(){if(!aE.dataset.text){return;}aE.textContent=aE.dataset.text.substring(0,1)+"";aE.title=aE.dataset.text;aE.dataset.wasShrunk=true;}function aG(){au=aC.getBoundingClientRect();aA=au.left-ax.left;aB=aA+au.width;}};d.resetRibbonTabContentPos=function(){g=0;var au=document.getElementById("txRibbonTabContentContainer");au.style.transform=null;d.updateRibbonScrollArrows();};function an(aw){var av,au=null;av=document.querySelector("#ribbonbar > ul.tabs > li > a[rel=\'"+aw+"\']");if(av){au=window.getComputedStyle(av,null).getPropertyValue("border-top-color");}av=document.querySelector("#txRibbonContentArea");av.style.borderTop=(au!==null)?"1px solid "+au:"";}d.RibbonTabIndexChangedEventArgs=(function(){function au(name){this.name=name;}return au;})();d.switchTabs=function(aw){d.showRibbonBar(true);a("#txRibbonTabContentContainer div.tab-content").css("display","none");a("#ribbonbar ul.tabs a").removeClass("selected");var av=aw.attr("rel");a("#"+av).css("display","inline-block");aw.addClass("selected");an(av);f=av;d.resetRibbonTabContentPos();d.setDlgLauncherPos();var ax=aw.attr("id");if(ax!==h){var au=new d.RibbonTabIndexChangedEventArgs(ax);d.fireEvent(d.EventName.ribbonTabIndexChanged,au);d.sendCommand(d.Command.RibbonTabChanged,0,0,0,{tabID:ax});h=ax;}};function P(au){return(au.offsetParent===null);}d.setDlgLauncherPos=function(){var av=document.querySelectorAll("div.ribbon-group img.txDialogLauncher");var az=d.isTouchDevice?(-1):1;if(d.BrowserDetect.browser==="Firefox"){az+=3;}for(var ax=0;ax<av.length;++ax){var au=av[ax];var aw=au.previousElementSibling;if(!P(au)&&!au.style.marginLeft){var ay=parseInt(getComputedStyle(au.parentElement).paddingLeft,10);var aA=au.parentElement.clientWidth;au.style.marginLeft=aA-au.clientWidth-ay-1+"px";au.style.marginTop=-(d.ribbonBarHeight-aw.offsetTop)+az+"px";au.style.opacity="";}}};d.ribbonTabsLoaded=function(){setTimeout(d.setDlgLauncherPos,1000);am();d.updateRibbonScrollArrows();d.fireEvent(d.EventName.ribbonTabsLoaded);};function am(){var au;au=document.querySelector("#fileMnuItemNew div.large-menu-item-image-container img");if(au){au.src=d.imageResources.large.newpage;}au=document.querySelector("#fileMnuItemOpen div.large-menu-item-image-container img");if(au){au.src=d.imageResources.large.open;}au=document.querySelector("#fileMnuItemSave div.large-menu-item-image-container img");if(au){au.src=d.imageResources.large.save;}au=document.querySelector("#fileMnuItemSaveAs div.large-menu-item-image-container img");if(au){au.src=d.imageResources.large.saveas;}au=document.querySelector("#fileMnuItemPrintToPDF div.large-menu-item-image-container img");if(au){au.src=d.imageResources.large.print;}au=document.querySelector("#fileMnuItemOptions div.large-menu-item-image-container img");if(au){au.src=d.imageResources.large.options;}var av=document.querySelectorAll("#txTemplateDesignerContainer div.sidebar img.closebtn");[].forEach.call(av,function(aw){aw.src=d.imageResources.small.close;});av=document.querySelectorAll("#txTemplateDesignerContainer div.sidebar img.refreshbtn");[].forEach.call(av,function(aw){aw.src=d.imageResources.small.refresh;});au=document.getElementById("txArrowRibbonHideWrapper");if(au){au.src=d.imageResources.small.chevron_up;}}d.setEditMode=function(au){d.editModeCur=au;};function at(au){var av=au.detail;if(av.show&&!b){b=new d.WaitDialog();b.showModal(av.resources);}else{if(!av.show&&b){b.close(a("#waitDialog"));b=null;}}}function ag(ay,az){if(ay&&(ay.style.opacity!=="")){return;}var au=document.getElementById("txRibbonTabContentContainer");var av=au.clientWidth;var ax=(av+g)-d.clientSize.Width;var aw=-Math.min(ax,d.clientSize.Width);if(az){au.style.transition="transform 0s";}au.style.transform="translate("+(g+aw)+"px, 0px)";g+=aw;d.updateRibbonScrollArrows();if(az){au.style.transition="";}}function af(ax,ay){if(ax&&(ax.style.opacity!=="")){return;}var au=document.getElementById("txRibbonTabContentContainer");var aw=-g;var av=Math.min(aw,d.clientSize.Width);if(ay){au.style.transition="transform 0s";}au.style.transform="translate("+(g+av)+"px, 0px)";g+=av;d.updateRibbonScrollArrows();if(ay){au.style.transition="";}}function ae(au){switch(au.target.id){case"txRibbonScrollButtonRight":ag(au.target);break;case"txBlackTriangleR":if(au.target.parentElement.id==="txRibbonScrollButtonRight"){ag(au.target.parentElement);}break;case"txRibbonScrollButtonLeft":af(au.target);break;case"txBlackTriangleL":if(au.target.parentElement.id==="txRibbonScrollButtonLeft"){af(au.target.parentElement);}break;}}function ah(au){if(d.isRibbonVisible){d.showRibbonBar(false);}else{d.showRibbonBar(true);}}d.fadeInRibbon=function(){if(Q){return;}Q=true;var av=document.getElementById("txRibbonLoader");if(av){av.style.opacity="0";setTimeout(function(){av.parentNode.removeChild(av);},500);}var au=document.getElementById("txRibbonCover");if(!au){return;}au.style.opacity="0";setTimeout(function(){au.parentElement.removeChild(au);},1000);d.switchTabs(a("#tabDefault"));};d.showRibbonBar=function(show){if(typeof show==="undefined"){show=true;}show=!!show;if((d.isRibbonVisible===show)||d.isRibbonBarRemoved){return;}var ax=document.getElementById("ribbonbar");var aw=document.querySelector("#ribbonbar ul.tabs");var au=document.querySelectorAll("div.ribbon-group img.txDialogLauncher");var av;if(!show){e={menuBackground:aw.style.background,ribbonBarOverflow:ax.style.overflow,};aw.style.backgroundColor="white";ax.style.overflow="hidden";ax.style.height=aw.clientHeight+"px";d.ribbonBarHeight=aw.clientHeight;for(av=0;av<au.length;++av){au[av].style.display="none";}a("#txArrowRibbonHideWrapper").addClass("down");d.isRibbonVisible=false;}else{if(e!==null){aw.style.backgroundColor=e.menuBackground;ax.style.overflow=e.ribbonBarOverflow;ax.style.height="";d.ribbonBarHeight=d.DEFAULT_RIBBONBAR_HEIGHT;a("#txArrowRibbonHideWrapper").removeClass("down");for(av=0;av<au.length;++av){au[av].style.display="";}d.isRibbonVisible=true;}}d.resetRibbonTabContentPos();d.adaptViewToContainerSize();};d.ribbonTabTransferCompleted=function(){a("ul.tabs a").click(function(){return Y(a(this));});d.switchTabs(a("#tabDefault"));d.adaptRibbonTabWidths();document.addEventListener("waitDialogMessageReceived",at);a("#txTemplateDesignerContainer .txRibbonScrollArrow").click(ae);a("#txTemplateDesignerContainer .txTriangle").click(ae);a("#txBtnRibbonHide").click(ah);d.sendCommand(d.Command.FinalizeRibbon);};d.addRibbonTab=function(ax){var az=document.querySelector("div#txTemplateDesignerContainer ul.tabs");if(!az){throw new Error("Mssing ribbon tab header container. Cannot create ribbon tabs.");}var aw=document.getElementById("txRibbonTabContentContainer");if(!aw){throw new Error("Mssing ribbon tab content container. Cannot create ribbon tabs.");}var av=document.createElement("li");av.style.opacity="0";var ay=document.createElement("a");ay.id=ax.tabHeaderName;ay.rel=ax.name;ay.tabIndex=-1;ay.textContent=ay.dataset.text=ax.title;av.appendChild(ay);az.appendChild(av);setTimeout(function(){av.style.opacity="1";},100);var au=document.getElementById(ax.name);if(!au){au=document.createElement("div");au.classList.add("tab-content");au.style.display="none";au.style.opacity="0";au.id=ax.name;aw.appendChild(au);}ax.groups.forEach(function(aA){d.addRibbonGroup(au,aA);});setTimeout(function(){au.style.opacity="1";},100);if(!ax.visible){a("#"+ay.id).hide();}d.adaptRibbonTabWidths();d.requestRequiredImages();};d.addRibbonGroup=function(av,aw){var au=document.getElementById(aw.name);if(!au){au=document.createElement("div");au.id=aw.name;au.classList.add("ribbon-group");au.dataset.applicationmodes="0";av.appendChild(au);}d.populateRibbonGroup(au,aw);};d.populateRibbonGroup=function(av,ay){av.innerHTML="";var au=document.createElement("div");au.classList.add("ribbon-group-content");av.appendChild(au);var aw=document.createElement("div");aw.classList.add("ribbon-group-label-container");av.appendChild(aw);var ax=document.createElement("p");ax.classList.add("ribbon-group-label");ax.innerText=ay.title;aw.appendChild(ax);ay.children.forEach(function(az){d.addRibbonGroupElement(au,az);});if(ay.dialogLauncher){m(av,ay.dialogLauncher);}if(!ay.visible){av.style.display="none";}};function m(av,au){var aw=document.createElement("img");aw.classList.add("txDialogLauncher");aw.src=au.imageDataURL;if(au.name){aw.id=au.name;}aw.style.width=aw.style.height="16px";aw.style.opacity=0;aw.title=au.tooltip;aw.addEventListener("click",function(ax){if(typeof au.dialogTab!=="undefined"){d.sendCommand(d.Command.ShowDialog,au.dialogCategory,au.dialogID,au.dialogTab);}else{d.sendCommand(d.Command.ShowDialog,au.dialogCategory,au.dialogID);}});av.appendChild(aw);}d.addRibbonGroupElement=function(au,av){switch(av.controlType){case d.RibbonControlType.StackedButtonWrapper:d.addStackedRibbonButtonWrapper(au,av);break;case d.RibbonControlType.LayoutTable:d.addRibbonLayoutTable(au,av);break;case d.RibbonControlType.Button:v(au,av);break;case d.RibbonControlType.RibbonStringListBox:p(au,av);break;case d.RibbonControlType.ComboBox:k(au,av);break;case d.RibbonControlType.CheckBox:w(au,av);break;case d.RibbonControlType.SmallControlGroup:D(au,av);break;case d.RibbonControlType.ListView:q(au,av);break;}};function H(au,av){if(!au){return;}for(var aw in au){av.style[aw]=au[aw];}}d.addStackedRibbonButtonWrapper=function(au,aw){var av=document.createElement("div");au.appendChild(av);av.classList.add("ribbon-button-wrapper-small-stacked-buttons");H(aw.customCSS,av);aw.buttons.forEach(function(ax){v(av,ax);});};d.addRibbonLayoutTable=function(au,aw){var av=document.createElement("table");if(aw.rows.length<=2){av.style.borderCollapse="separate";av.style.borderSpacing="0px 5px";}av.classList.add("ribbon-group-layout-table");H(aw.customCSS,av);au.appendChild(av);aw.rows.forEach(function(ax){o(av,ax);});};function o(av,aw){var au=document.createElement("tr");av.appendChild(au);aw.forEach(function(ax){var ay=document.createElement("td");ay.style.padding="0px";if(ax.colSpan>1){ay.colSpan=ax.colSpan;}if(ax.rowSpan>1){ay.rowSpan=ax.rowSpan;}if(ax.cellWidth!==null){ay.style.width=ax.cellWidth+"px";}au.appendChild(ay);if(ax===null){ay.innerText="\\u00A0";}else{x(ay,ax);}});}function x(av,au){switch(au.controlType){case d.RibbonControlType.Image:y(av,au);break;case d.RibbonControlType.Label:z(av,au);break;case d.RibbonControlType.TextBox:C(av,au);break;case d.RibbonControlType.Button:v(av,au);break;case d.RibbonControlType.LayoutTable:d.addRibbonLayoutTable(av,au);break;case d.RibbonControlType.RibbonStringListBox:p(av,au);break;case d.RibbonControlType.ComboBox:k(av,au);break;case d.RibbonControlType.SmallControlGroup:D(av,au);break;case d.RibbonControlType.ListView:q(av,au);break;case d.RibbonControlType.ParagraphStructureLevelEntry:u(av,au);break;}}function D(av,au){var aw=document.createElement("div");av.appendChild(aw);aw.classList.add("ribbon-group-control-group");if(au.customCSS){H(au.customCSS,aw);}if(!au.enabled){aw.classList.add("txui-state-disabled");}au.children.forEach(function(ax){d.addRibbonGroupElement(aw,ax);});}function y(au,aw){var av=document.createElement("img");if(aw.name){av.id=aw.tabName+"_"+aw.name;}if(!aw.enabled){av.classList.add("txui-state-disabled");}av.src=aw.imageDataURL;av.style.padding="3px 3px 0px 3px";av.style.width=av.style.height="16px";au.appendChild(av);}function z(au,aw){var av=document.createElement("label");av.style.marginLeft=av.style.marginRight="2px";av.textContent=aw.text;av.id=aw.tabName+"_"+aw.name;av.dataset.name=aw.name;if(aw.for_){av.setAttribute("for",aw.tabName+"_"+aw.for_);}if(!aw.enabled){av.classList.add("txui-state-disabled");}au.appendChild(av);}function C(av,aB){var aw=document.createElement("input");aw.type=aB.isNumeric?"number":"text";aw.setAttribute("form","txNovalidateForm");if(aB.isNumeric){aw.setAttribute("step",aB.step||"0.1");if(typeof aB.min!=="undefined"){aw.setAttribute("min",aB.min);}if(typeof aB.max!=="undefined"){aw.setAttribute("max",aB.max);}}aw.id=aB.tabName+"_"+aB.name;aw.dataset.name=aB.name;if(aB.isNumeric){aw.value=+aB.number.toFixed(1);}else{if(aB.text){aw.value=aB.text;}}if(aB.width){aw.style.width=aB.width+"px";}aw.style.height="14px";aw.style.marginLeft=aw.style.marginRight="2px";if(aB.textAlign){aw.style.textAlign=aB.textAlign;}if(aB.keyDownCausesChangeEvent){aw.addEventListener("keydown",function(){setTimeout(au,20);});}aw.addEventListener("change",au);aw.addEventListener("focus",ax);aw.addEventListener("blur",aA);aw.addEventListener("keypress",az);if(!aB.enabled){aw.disabled=true;}function ay(aC){var aD={tabName:aB.tabName,textBoxName:aB.name,};if(aC){if(aB.isNumeric){aD.number=parseFloat(aw.value);}else{aD.text=aw.value;}if(aw.selectionStart){aD.selectionStart=aw.selectionStart;}if(aw.selectionStart){aD.selectionEnd=aw.selectionEnd;}}return aD;}function au(){d.sendCommand(d.Command.RibbonTextBoxEvent,d.RibbonTextBoxEventType.Changed,0,0,ay(true));}function ax(){d.sendCommand(d.Command.RibbonTextBoxEvent,d.RibbonTextBoxEventType.Entered,0,0,ay());}function aA(){d.sendCommand(d.Command.RibbonTextBoxEvent,d.RibbonTextBoxEventType.Left,0,0,ay());}function az(aD){var aC=ay();aC.key=""+aD.key;d.sendCommand(d.Command.RibbonTextBoxEvent,d.RibbonTextBoxEventType.KeyPress,0,0,aC);}av.appendChild(aw);}function w(aA,au){var aw=document.createElement("div");aw.classList.add("ribbon-checkbox");aA.appendChild(aw);var ay=document.createElement("div");ay.classList.add("ribbon-checkbox-input-element-container");aw.appendChild(ay);var ax=document.createElement("input");ax.type="checkbox";ax.id=au.tabName+"_"+au.name;if(au.isChecked){ax.checked=au.isChecked;}ay.appendChild(ax);aw.addEventListener("change",av);var az=document.createElement("div");az.classList.add("ribbon-button-small-label-container");aw.appendChild(az);var aB=document.createElement("label");aB.classList.add("ribbon-button-label");aB.textContent=au.label;aB.setAttribute("for",ax.id);if(!au.enabled){aB.classList.add("txui-state-disabled");}az.appendChild(aB);function av(aD){var aE=aD.srcElement;var aC={tabName:au.tabName,ribbonControlName:au.name,propertyName:"checked",newValue:aE.checked,oldValue:!aE.checked};d.sendCommand(d.Command.RibbonCheckBoxEvent,0,0,0,aC);}}function v(aw,au){var av;var ax=(d.settings&&d.settings.NoFileSystemAccess);if(ax&&au.needsFSAccess){return;}switch(au.buttonSize){case d.RibbonButtonSize.Small:av=E(aw,au);break;case d.RibbonButtonSize.Large:av=n(aw,au);break;}if(typeof au.clear!=="undefined"&&au.clear!=null){av.style.clear=au.clear;}if(!au.visible){av.style.display="none";}return av;}function E(ay,au){var aw=document.createElement("div");ay.appendChild(aw);aw.id=au.tabName+"_"+au.name;aw.dataset.name=au.name;aw.classList.add("ribbon-button");if(au.text){aw.classList.add("ribbon-button-small");}else{aw.classList.add("ribbon-button-tiny");}if(au.tooltip){aw.title=au.tooltip;}if(au.isToggleButton&&au.text){aw.classList.add("ribbon-stacked-toggle-button");}if(!au.enabled){aw.classList.add("txui-state-disabled");}var aA;if(!au.text){aA=aw;if(au.isToggleButton&&au.isToggled){aw.classList.add("ribbon-button-selected");}}else{aA=document.createElement("div");aw.appendChild(aA);if(au.isToggleButton){aA.classList.add("ribbon-button");aA.classList.add("ribbon-button-tiny");if(au.isToggled){aA.classList.add("ribbon-button-selected");}}else{aA.classList.add("ribbon-button-small-image-container");}}if(!au.buttonText){var az=document.createElement("img");az.classList.add("ribbon-button-small-image");az.style.width=az.style.height="16px";if(au.imageDataURL){az.src=au.imageDataURL;}else{if(au.imageInfo){var av=d.getCachedImageDataURL(au.imageInfo);if(av){az.src=av;}else{az.src=d.PlaceholderImage;az.dataset.txImageInfo=JSON.stringify(au.imageInfo);d.requiredImages.push(au.imageInfo);}}}aA.appendChild(az);}else{var ax=document.createElement("div");ax.style.height=ax.style.width="16px";ax.style.marginTop="-3pt";ax.style.padding="0pt";ax.style.fontSize="12pt";ax.textContent=au.buttonText;aA.appendChild(ax);}var aC=null;if(au.text){var aB=document.createElement("div");aw.appendChild(aB);aB.classList.add("ribbon-button-small-label-container");aC=document.createElement("p");aB.appendChild(aC);aC.classList.add("ribbon-button-label");var aD=document.createElement("span");aD.classList.add("ribbon-button-label-text");aD.textContent=au.text;aC.appendChild(aD);}s(aw,aC,au);return aw;}function n(ay,au){if(au.border){var aw=document.createElement("div");ay.appendChild(aw);aw.classList.add("large-ribbon-button-container");ay=aw;}var ax=document.createElement("div");ay.appendChild(ax);ax.id=au.tabName+"_"+au.name;ax.dataset.name=au.name;if(au.tooltip){ax.title=au.tooltip;}ax.classList.add("ribbon-button");ax.classList.add("ribbon-button-big");if(au.isToggleButton&&au.isToggled){ax.classList.add("ribbon-button-selected");}if(!au.enabled){ax.classList.add("txui-state-disabled");}if(au.border){ao(ay,au.border);}var aA=document.createElement("div");aA.classList.add("ribbon-button-big-image-container");var az=document.createElement("img");az.classList.add("ribbon-button-big-image");az.style.width=az.style.height="32px";if(au.imageDataURL){az.src=au.imageDataURL;}else{if(au.imageInfo){var av=d.getCachedImageDataURL(au.imageInfo);if(av){az.src=av;}else{az.src=d.PlaceholderImage;az.dataset.txImageInfo=JSON.stringify(au.imageInfo);d.requiredImages.push(au.imageInfo);}}}aA.appendChild(az);ax.appendChild(aA);var aB=document.createElement("div");ax.appendChild(aB);aB.classList.add("ribbon-button-big-label-container");var aC=document.createElement("p");aB.appendChild(aC);aC.classList.add("ribbon-button-label");var aD=document.createElement("span");aD.classList.add("ribbon-button-label-text");aD.innerHTML=au.text.replace(/\\r?\\n/g,"<br>");aC.appendChild(aD);s(ax,aC,au);return ax;}function ao(av,au){if(au.Left){aw(av,"Left",au.Left);}if(au.Top){aw(av,"Top",au.Top);}if(au.Right){aw(av,"Right",au.Right);}if(au.Bottom){aw(av,"Bottom",au.Bottom);}function aw(ay,az,ax){if(ax.Color){ay.style["border"+az+"Color"]=ax.Color;}if(ax.Width){ay.style["border"+az+"Width"]=ax.Width;}if(ax.Style){ay.style["border"+az+"Style"]=ax.Style;}if(az==="Left"||az==="Right"){ay.style["margin"+az]="5px";}}}function s(aw,ax,au){if(au.menu){if(ax){var ay=document.createElement("span");ay.classList.add("drop-down-arrow-large");ay.textContent="";if(au.buttonSize==d.RibbonButtonSize.Small){ay.style.marginLeft="3px";}ax.appendChild(ay);}else{if(aw.classList.contains("ribbon-button-tiny")){aw.classList.remove("ribbon-button-tiny");aw.classList.add("ribbon-dropdown-button-tiny");ax=document.createElement("p");ax.textContent="";aw.appendChild(ax);}}var az=K(aw);d.addDropDownMenu(au.menu,az);a("#"+aw.id).click(aA);}else{aw.addEventListener("click",av);}function av(aC){var aB={buttonName:au.name,tabName:au.tabName};d.sendCommand(d.Command.RibbonButtonEvent,d.RibbonButtonEventType.Click,0,0,aB);}function aA(aC){var aE=au.tabName+"_"+au.menu.name;var aB=document.getElementById(aE);d.fileMenu.hide();d.hideAllOtherMenus();if(typeof aB.dataset.transformStateId!=="undefined"){ac(aB);}L(au.tabName,au.menu.name);if(!au.menu.autoSize){d.calcMenuWidths(aB);}var aD=d.jQueryMenus[au.menu.name];aD.show().position({my:"left top",at:"left bottom",of:aC.currentTarget});if(au.menu.limitHeight){d.limitMenuHeight(aE);}else{if(typeof aB.dataset.transformStateId!=="undefined"){d.calcMenuScrollInfo(aB);}}a(document).on("click",function(aF){if(!(d.isInsideElementWithID(aF.target,aE)&&d.isPartOfMenuItemWithSubMenu(aF.target))){aD.hide();a(document).off(aF);}});return false;}}function L(aw,av){var au={menuName:av,tabName:aw};d.sendCommand(d.Command.RibbonMenuEvent,d.RibbonMenuEventType.Opening,0,0,au);}function q(au,aw){var av=document.createElement("div");au.appendChild(av);av.id=aw.tabName+"_"+aw.name;av.dataset.name=aw.name;av.classList.add("list-box");av.style.width=aw.width+"px";av.style.height=aw.height+"px";ab(av,aw.items,aw.tabName,aw.name);}function ab(au,aw){au.innerHTML="";var av=document.createElement("table");au.appendChild(av);av.classList.add("list-box-item-container");av.style.borderCollapse="separate";av.style.borderSpacing="2px";aw.forEach(function(ay){var ax=document.createElement("tr");av.appendChild(ax);ax.classList.add("list-box-item");switch(ay.controlType){case d.RibbonControlType.ParagraphStructureLevelEntry:u(ax,ay);break;default:throw new Error("The RibbonListView only supports paragraph structure level entries for now.");}});}function u(av,az){if(!(av instanceof HTMLTableRowElement)){throw new Error("Paragraph structure level entries can only be added to existing table row elements for now.");}var ay=document.createElement("td");av.appendChild(ay);ay.style.padding="0px 5px";var aw=document.createElement("p");ay.appendChild(aw);aw.style.margin="0px";aw.innerText=az.styleName;ay=document.createElement("td");av.appendChild(ay);var ax=document.createElement("select");ay.appendChild(ax);ax.style.fontSize="11px";au(ax,d.TXTextControlResources.HEADER_StructureLevelStyles_BodyText,0);au(ax,d.TXTextControlResources.HEADER_StructureLevelStyles_Level1,1);au(ax,d.TXTextControlResources.HEADER_StructureLevelStyles_Level2,2);au(ax,d.TXTextControlResources.HEADER_StructureLevelStyles_Level3,3);au(ax,d.TXTextControlResources.HEADER_StructureLevelStyles_Level4,4);au(ax,d.TXTextControlResources.HEADER_StructureLevelStyles_Level5,5);au(ax,d.TXTextControlResources.HEADER_StructureLevelStyles_Level6,6);au(ax,d.TXTextControlResources.HEADER_StructureLevelStyles_Level7,7);au(ax,d.TXTextControlResources.HEADER_StructureLevelStyles_Level8,8);au(ax,d.TXTextControlResources.HEADER_StructureLevelStyles_Level9,9);au(ax,d.TXTextControlResources.HEADER_StructureLevelStyles_Level10,10);ax.value=az.level;ax.addEventListener("change",function(){var aA={tabName:az.tabName,level:ax.value,elementName:az.name,};d.sendCommand(d.Command.ParagraphStructureLevelEntryEvent,d.ParagraphStructureLevelEntryEventType.StructureLevelChanged,0,0,aA);});function au(aB,aC,aD){if(typeof aD==="undefined"){aD=aC;}var aA=document.createElement("option");aA.text=aC;aA.value=aD;aB.add(aA);}}function p(au,aw){var av=document.createElement("div");au.appendChild(av);av.id=aw.tabName+"_"+aw.name;av.dataset.name=aw.name;av.classList.add("list-box");if(aw.itemsAreCheckable){av.classList.add("items-are-checkable");}if(aw.itemsAreSelectable){av.classList.add("items-are-selectable");}av.dataset.itemsAreCheckable=aw.itemsAreCheckable;av.dataset.itemsAreSelectable=aw.itemsAreSelectable;av.style.width=aw.width+"px";av.style.height=aw.height+"px";aa(av,aw.items,aw.tabName,aw.name);}function aa(av,aC,aF,aE){var ax,aD=av.dataset.itemsAreSelectable;av.innerHTML="";var aw=document.createElement("table");av.appendChild(aw);aw.classList.add("list-box-item-container");for(var az=0;az<aC.length;++az){au(az,aC[az]);}function au(aJ,aK){var aI=document.createElement("tr");aw.appendChild(aI);aI.classList.add("list-box-item");aI.dataset.index=aJ;aI.dataset.itemUid=aK.uid;if(aD){aI.addEventListener("click",aB);}var aL=av.id+"_checkbox_"+aJ;if(aK.isCheckable){ax=document.createElement("td");aI.appendChild(ax);var aG=document.createElement("input");ax.appendChild(aG);ax.dataset.itemUid=aK.uid;ax.style.minHeight="14px";aG.id=aL;aG.type="checkbox";aG.dataset.index=aJ;aG.dataset.text=aK.text;aG.checked=aK.isChecked;aG.addEventListener("change",aA);aG.dataset.itemUid=aK.uid;}ax=document.createElement("td");aI.appendChild(ax);var aH=aK.isCheckable?document.createElement("label"):document.createElement("div");ax.appendChild(aH);if(aK.isCheckable){aH.htmlFor=aL;}aH.dataset.itemUid=aK.uid;aH.textContent=aK.text;}function aA(aI){var aG=aI.currentTarget;var aH={tabName:aF,itemIndex:aG.dataset.index,listBoxName:aE,isChecked:aG.checked};d.sendCommand(d.Command.ListBoxEvent,d.ListBoxEventType.ItemCheckChanged,0,0,aH);}function aB(aH){ay();var aI=aH.currentTarget;var aG={tabName:aF,itemIndex:aI.dataset.index,listBoxName:aE};d.sendCommand(d.Command.ListBoxEvent,d.ListBoxEventType.ItemClicked,0,0,aG);}function ay(){var aG={tabName:aF,listBoxName:aE};d.sendCommand(d.Command.ListBoxEvent,d.ListBoxEventType.Focused,0,0,aG);}}function k(ax,av){var aw=document.createElement("select");ax.appendChild(aw);aw.id=av.tabName+"_"+av.name;aw.dataset.name=av.name;if(av.width){if(av.width===-1){aw.style.width="90%";}else{aw.style.width=av.width+"px";}}if(av.height){aw.style.height=av.height+"px";}aw.style.marginLeft=aw.style.marginRight="2px";H(av.customCSS,aw);aw.addEventListener("change",au);l(aw,av.items,av.tabName,av.name);function au(az){var ay={tabName:av.tabName,comboBoxName:av.name,value:(az.target.value==="null")?null:az.target.value};d.sendCommand(d.Command.InputControlEvent,d.InputControlEventType.Change,0,0,ay);}}function l(au,aw,ay,ax){au.innerHTML="";var av=document.createElement("option");av.style.display="none";av.disabled=true;au.appendChild(av);aw.forEach(function(az){av=document.createElement("option");au.appendChild(av);av.value=az.value;av.text=az.text;});}function al(au,av){var aw=au.querySelectorAll("tr");[].forEach.call(aw,function(ax){ax.classList.remove("selected");});if(av==-1){return;}if(av>=aw.length){console.error(\'List box "\'+au.id+": selected item index out of range.");return;}aw[av].classList.add("selected");}function K(au){var av=au.parentElement;while(av){if(av.classList.contains("tab-content")){return av;}av=av.parentElement;}return null;}d.addDropDownMenu=function(ay,av){if(typeof ay.tabName==="undefined"||ay.tabName==null){throw new TypeError();}var au=document.createElement("ul");au.classList.add("dropDownMenu");if(ay.maxHeight){au.style.maxHeight=ay.maxHeight+"px";au.style.overflowY="auto";}var az=ay.tabName+"_"+ay.name;au.id=az;if(ay.useScrollWorkaround){d.enableScrollWorkaround(au);}r(au,ay.items,ay.itemSize,ay.name,true);av.appendChild(au);var aw=a("#"+az).menu().hide();d.jQueryMenus[ay.name]=aw;aw.on("menuselect",ax);function ax(aB,aD){var aC=aD.item.context;var aA={menuName:aC.dataset.menuName,menuItemName:aC.dataset.menuItemName,tabName:ay.tabName,tag:null};if(aC.dataset.tag){aA.tag=JSON.parse(aC.dataset.tag);}if(aC.dataset.menuItemParameter){aA.parameter=aC.dataset.menuItemParameter;}d.sendCommand(d.Command.RibbonMenuEvent,d.RibbonMenuEventType.ItemSelect,0,0,aA);}};function r(au,aw,ax,ay,av){var az=(d.settings&&d.settings.NoFileSystemAccess);aw.forEach(function(aA){if(aA.needsFSAccess&&az){return;}switch(aA.itemType){case d.RibbonMenuItemType.Category:i(au,aA,ay);break;case d.RibbonMenuItemType.Symbol:F(au,aA,ay);break;case d.RibbonMenuItemType.ColorPicker:j(au,aA,ax,ay);break;case d.RibbonMenuItemType.TableWizard:G(au,aA,ax,ay);break;default:t(au,aA,ax,ay);break;}if(typeof aA.itemType==="undefined"){console.warn(\'Menu item "\'+aA.name+\'" has no item type.\');}});}function F(aw,ax,az){if(!az){throw new TypeError();}var av=document.createElement("li"),ay;av.classList.add("menu-item-symbol");if(!ax.enabled){av.classList.add("txui-state-disabled");}if(ax.clear){av.style.clear=ax.clear;}if(ax.border&d.RibbonMenuItemBorder.Top){av.style.borderTop=V;}if(ax.border&d.RibbonMenuItemBorder.Bottom){av.style.borderBottom=V;}if(ax.name){ay=ax.tabName+"_"+ax.name;av.id=ay;av.dataset.menuItemName=ax.name;}if(ax.parameter){av.dataset.menuItemParameter=ax.parameter;}av.dataset.menuName=az;var au=document.createElement("a");au.textContent=ax.text;av.appendChild(au);aw.appendChild(av);aw.style.width="auto";}function i(aw,ax,az){if(!az){throw new TypeError();}var av=document.createElement("li"),ay;if(!ax.enabled){av.classList.add("txui-state-disabled");}if(ax.border&d.RibbonMenuItemBorder.Top){av.style.borderTop=V;}if(ax.border&d.RibbonMenuItemBorder.Bottom){av.style.borderBottom=V;}if(ax.name){ay=ax.tabName+"_"+ax.name;av.id=ay;av.dataset.menuItemName=ax.name;}if(ax.parameter){av.dataset.menuItemParameter=ax.parameter;}av.dataset.menuName=az;var au=document.createElement("a");av.appendChild(au);au.appendChild(J(ax.text));aw.appendChild(av);}function J(aw){var au=document.createElement("div");au.classList.add("menu-item-category-header");var av=document.createElement("h1");av.textContent=aw;au.appendChild(av);return au;}var V="1px solid lightgray";function t(aB,aF,aI,aK,aH){var aA=document.createElement("li"),aG,aM="",aJ=null;if(!aF.enabled){aA.classList.add("txui-state-disabled");}if(aI==d.RibbonMenuItemSize.Auto){if(aF.imageInfo){switch(aF.imageInfo.ImageKind){case d.ImageKind.Small_16x16:aI=d.RibbonMenuItemSize.Small;break;default:aI=d.RibbonMenuItemSize.Large;break;}}else{if(aF.smallImageDataURL){aI=d.RibbonMenuItemSize.Small;}else{if(aF.largeImageDataURL){aI=d.RibbonMenuItemSize.Large;}}}}switch(aI){case d.RibbonMenuItemSize.Large:aA.classList.add("txui-menu-item-large");break;case d.RibbonMenuItemSize.Small:aA.classList.add("txui-menu-item-small");break;}if(aF.clear){aA.style.clear=aF.clear;}if(aF.border&d.RibbonMenuItemBorder.Top){aA.style.borderTop=V;}if(aF.border&d.RibbonMenuItemBorder.Bottom){aA.style.borderBottom=V;}if(aF.tooltip){aA.title=aF.tooltip;}if(aF.name){aG=aF.tabName+"_"+aF.name;aA.id=aG;aA.dataset.menuItemName=aF.name;}if(aF.parameter){aA.dataset.menuItemParameter=aF.parameter;}aA.dataset.menuName=aK;var av=document.createElement("a");aA.appendChild(av);var ay=document.createElement("div");var aw=document.createElement("div");switch(aI){case d.RibbonMenuItemSize.Large:ay.classList.add("large-menu-item-image-container");if(aF.header){aw.classList.add("large-menu-item-long-caption-container");}else{aw.classList.add("large-menu-item-caption-container");}break;case d.RibbonMenuItemSize.Small:if(aF.isCheckable){ay.classList.add("ribbon-button");ay.classList.add("ribbon-button-tiny");}else{ay.classList.add("small-menu-item-image-wrapper");}aw.classList.add("small-menu-item-caption-container");break;}if(aF.itemType===d.RibbonMenuItemType.CheckMark){ay.classList.add("ribbon-button-checkmark");}if(aF.isChecked){ay.classList.add("ribbon-button-selected");}if(aF.smallImageDataURL||aF.largeImageDataURL||aF.imageInfo){var aL="",aE=false;var az=document.createElement("img");switch(aI){case d.RibbonMenuItemSize.Small:aL="16px";break;case d.RibbonMenuItemSize.Large:switch(aF.itemType){case d.RibbonMenuItemType.ListType_Bullet:aL="42px";aJ="18px";aE=true;break;case d.RibbonMenuItemType.ListType_Number:aL="76px";aJ="36px";aE=true;break;default:aL="32px";break;}break;}if(aF.smallImageDataURL||aF.largeImageDataURL){switch(aI){case d.RibbonMenuItemSize.Small:aM=aF.smallImageDataURL;break;case d.RibbonMenuItemSize.Large:aM=aF.largeImageDataURL;break;}}else{if(aF.imageInfo){var au=d.getCachedImageDataURL(aF.imageInfo);if(au){aM=au;}else{aM=d.PlaceholderImage;az.dataset.txImageInfo=JSON.stringify(aF.imageInfo);d.requiredImages.push(aF.imageInfo);}}}az.src=aM;az.style.width=az.style.height=aL;if(aE){az.style.outline="1px solid #D3D3D3";}ay.appendChild(az);av.appendChild(ay);}if(aF.header){var ax=document.createElement("h1");ax.textContent=aF.header;aw.appendChild(ax);}var aC=document.createElement("p");aC.style.whiteSpace="pre";if(aJ){aC.style.marginTop=aJ;}aC.textContent=aF.text;aw.appendChild(aC);av.appendChild(aw);if(aF.menu&&aF.menu.items.length){var aD=document.createElement("ul");aD.id=aF.tabName+"_"+aF.menu.name;if(aF.menu.useScrollWorkaround){d.enableScrollWorkaround(aD);}else{if(aF.menu.maxHeight){aD.style.maxHeight=aF.menu.maxHeight+"px";aD.style.overflowY="auto";}}r(aD,aF.menu.items,aF.menu.itemSize,aF.menu.name,false);aA.appendChild(aD);}if((aH!=null)&&(aH<aB.childNodes.length&&aH>=0)){aB.insertBefore(aA,aB.childNodes[aH]);}else{aB.appendChild(aA);}if(aF.itemType===d.RibbonMenuItemType.ImageUploader){aA.addEventListener("click",d.insertLocalImageFile);}}d.addNormalMenuItem=t;d.enableScrollWorkaround=function(au){au.style.overflowY="initial";au.style.maxHeight="initial";var av=au.id||""+Math.floor(1000000000+(Math.random()*9000000000));c[av]=new d.MenuTransformState();au.dataset.transformStateId=av;au.addEventListener("mousewheel",R);au.addEventListener("DOMMouseScroll",R);if(d.isTouchDevice){au.addEventListener("touchstart",U);au.addEventListener("touchend",S);au.addEventListener("touchcancel",S);au.addEventListener("touchmove",T);}};function j(aw,ay,az,aA){var ax,av=d.makeSmallColorButtons();aw.style.minWidth=d.MinColorPickerMenuWidth+"px";for(ax=0;ax<av.length;++ax){var au=av[ax];au.dataset.menuName=aA;au.dataset.menuItemName=ay.name;aw.appendChild(au);}}function G(az,aF,aH,aI){var ay=document.createElement("li"),aG,aL,aJ;var aM,aK;if(!aF.enabled){ay.classList.add("txui-state-disabled");}if(aF.border&d.RibbonMenuItemBorder.Top){ay.style.borderTop=V;}if(aF.border&d.RibbonMenuItemBorder.Bottom){ay.style.borderBottom=V;}if(aF.name){aG=aF.tabName+"_"+aF.name;ay.id=aG;ay.dataset.menuItemName=aF.name;}if(aF.parameter){ay.dataset.menuItemParameter=aF.parameter;}ay.dataset.menuName=aI;var ax=document.createElement("a");ay.appendChild(ax);var aP=document.createElement("div");aP.classList.add("menu-item-category-header");ax.appendChild(aP);var aC=document.createElement("h1");var aD=document.createElement("span");aD.classList.add("txTblWizHdrFirstPart");aD.textContent=d.ribbonStringResources.RIBBON_TAB_INSERT_GRP_TABLES_INS_MNU_HEADER+" ";var aE=document.createElement("span");aE.classList.add("txTblWizHdrSecondPart");aC.appendChild(aD);aC.appendChild(aE);var aB=document.createElement("div");aB.classList.add("txInsertTableWizard");var aA=document.createElement("table");aB.appendChild(aA);aA.addEventListener("click",function(){aw();});aB.addEventListener("mouseleave",function(aQ){aQ.target.parentElement.querySelector(".txTblWizHdrSecondPart").textContent="";});aA.addEventListener("mouseleave",function(aQ){var aR=document.elementFromPoint(aQ.clientX,aQ.clientY);if(!aR||((aR.tagName!=="TD")&&(aR.tagName!=="TABLE")&&(aR.tagName!=="TR"))){av();}});for(aL=1;aL<=8;++aL){var aN=document.createElement("tr");aA.appendChild(aN);for(aJ=1;aJ<=10;++aJ){var au=document.createElement("td");aN.appendChild(au);au.txCol=aJ;au.txRow=aL;au.addEventListener("click",function(){aw();});au.addEventListener("mouseover",function(aQ){aO(aQ.target.txCol,aQ.target.txRow);});}}aP.appendChild(aC);aP.appendChild(aB);az.appendChild(ay);function av(){var aQ=aB.querySelectorAll("td.glowing");[].forEach.call(aQ,function(aR){aR.classList.remove("glowing");});aM=aK=0;aE.textContent="";}function aO(aV,aR){av();for(var aT=0;aT<aR;++aT){var aU=aA.rows[aT];for(var aS=0;aS<aV;++aS){var aQ=aU.cells[aS];aQ.classList.add("glowing");}}aM=aR;aK=aV;aE.textContent=aV+"x"+aR;}function aw(){d.sendCommand(d.Command.TableCommand,d.TableCommand.Create,aK,aM);av();}}d.changeRibbonControlState=function(aw){var av,ax,au;av=aw.controlName;au=document.getElementById(av);if(!au){if(aw.tabName!==null){av=aw.tabName+"_"+aw.controlName;au=document.getElementById(av);if(!au){return;}}else{return;}}switch(aw.stateType){case d.RibbonControlStateType.Enabled:switch(au.tagName){case"INPUT":au.disabled=!aw.value;break;default:if(aw.value){au.classList.remove("txui-state-disabled");}else{au.classList.add("txui-state-disabled");}break;}break;case d.RibbonControlStateType.Visible:ax=document.querySelector("a[rel="+av+"]");if(ax){if(aw.value){a("#"+ax.id).show();}else{a("#"+ax.id).hide();if(a("#"+av).is(":visible")){d.switchTabs(a("#tabDefault"));}}d.adaptRibbonTabWidths();}else{if(aw.value){au.style.display="";d.setDlgLauncherPos();}else{au.style.display="none";if(au.classList.contains("ribbon-group")){d.resetRibbonTabContentPos();}}}d.updateRibbonScrollArrows();break;}};d.changeRibbonButtonState=function(ay){var av=ay.tabName+"_"+ay.buttonName;var au=document.getElementById(av);if(!au){return;}switch(ay.stateType){case d.RibbonButtonStateType.Toggled:if(au.classList.contains("ribbon-button-big")){if(ay.value){au.classList.add("ribbon-button-selected");}else{au.classList.remove("ribbon-button-selected");}}else{var az=au.getElementsByTagName("div")[0];if(!az){az=au;}if(ay.value){az.classList.add("ribbon-button-selected");}else{az.classList.remove("ribbon-button-selected");}}break;case d.RibbonButtonStateType.ImageDataURL:var ax=au.querySelector("div > img");if(ax){ax.src=ay.value;}break;case d.RibbonButtonStateType.ButtonText:var aw=au.getElementsByTagName("div")[0];if(!aw){console.error("changeRibbonButtonState(): Text container div of small button "+ay.buttonName+" not found.");break;}aw.textContent=(ay.value.length==1)?ay.value+"\\uFE0E":ay.value;break;}};d.changeRibbonMenuItemState=function(aw){var av=document.getElementById(aw.tabName+"_"+aw.menuItemName);if(!av){return;}switch(aw.stateType){case d.RibbonMenuItemStateType.IsChecked:I(av,aw.value);break;case d.RibbonMenuItemStateType.SmallImageDataURL:var au=av.querySelector("a > div > img");if(au){au.src=aw.value;}break;}};function I(av,au){var aw=av.querySelector("a > div");if(au){aw.classList.add("ribbon-button-selected");}else{aw.classList.remove("ribbon-button-selected");}}d.changeRibbonTextBoxState=function(au){var aw=document.getElementById(au.tabName+"_"+au.textBoxName);if(!aw){return;}switch(au.stateType){case d.RibbonTextBoxStateType.Number:aw.value=+au.value.toFixed(1);break;case d.RibbonTextBoxStateType.Text:aw.value=au.value;break;case d.RibbonTextBoxStateType.Selection:if(au.value.text||(au.value.text==="")){av();}else{if(au.value.selectionLength){aw.focus();aw.setSelectionRange(au.value.selectionStart,au.value.selectionStart+au.value.selectionLength);}}break;}function av(){var aD=aw.selectionStart;var ay=aw.selectionEnd;var ax=aw.value;var az=ax.substring(0,aD)+au.value.text+ax.substring(ay,ax.length);aw.value=az;aw.focus();var aC=aD+au.value.selectionStart;var aB=au.value.selectionLength;var aA=aC+aB;aw.setSelectionRange(aC,aA);}};d.changeRibbonCheckBoxState=function(av){var au=document.getElementById(av.tabName+"_"+av.checkBoxName);if(!au){return;}switch(av.stateType){case d.RibbonCheckBoxStateType.IsChecked:au.checked=av.value;break;}};d.changeParagraphStructureLevelEntryState=function(av){var au=document.getElementById(av.tabName+"_"+av.name);if(!au){return;}switch(av.stateType){case d.ParagraphStructureLevelEntryStateType.Level:break;}};d.changeRibbonComboBoxState=function(av){var au=document.getElementById(av.tabName+"_"+av.name);if(!au){return;}switch(av.stateType){case d.ComboBoxStateType.SelectedItem:aw();break;case d.ComboBoxStateType.Items:ax();break;}function ax(){au.innerHTML="";l(au,av.value.items,av.tabName,av.name);}function aw(){var aA=av.value.selectedItem;var az=-1;if(aA===null){az=0;}else{for(var ay=0;ay<au.length;ay++){if(au[ay].value===aA.Value){az=ay;break;}}}if(az!=-1){au.selectedIndex=az;}}};d.processRibbonComboBoxCommand=function(aw){var av=document.getElementById(aw.tabName+"_"+aw.name);if(!av){return;}switch(aw.command){case d.ComboBoxCommand.AddItem:au(aw.value);break;case d.ComboBoxCommand.AddItems:aw.value.forEach(function(ax){au(ax);});break;case d.ComboBoxCommand.Clear:av.innerHTML="";break;default:console.error("Unknown combobox command in _private.processRibbonComboBoxCommand(): "+aw.command);break;}function au(ay){var ax=[].find.call(av.options,function(az){return az.text===ay.text;});if(!ax){ax=document.createElement("option");ax.value=ay.value;ax.text=ay.text;av.appendChild(ax);}if(ay.hidden){ax.style.display="none";ax.disabled=true;}else{ax.style.display="";ax.disabled=false;}}};d.changeListItemState=function(ax){var av=ax.tabName+"_"+ax.listBoxName;switch(ax.stateType){case d.ListItemStateType.IsChecked:au();break;case d.ListItemStateType.Text:ay();break;case d.ListItemStateType.Editable:aw();break;}function au(){var aA=document.querySelectorAll("#"+av+" input[type=checkbox]");var az=[].find.call(aA,function(aB){return aB.dataset.itemUid===ax.uid;});if(!az){console.error(\'checkItem(): Check box for item with uid "\'+ax.uid+\'" not found in list box "\'+ax.listBoxName+\'".\');return;}az.checked=ax.value;}function ay(){var aA=document.querySelectorAll("#"+av+" td label, #"+av+" td div");var az=[].find.call(aA,function(aB){return aB.dataset.itemUid===ax.uid;});if(!az){console.error(\'setItemText(): Item with uid "\'+ax.uid+\'" not found in list box "\'+ax.listBoxName+\'".\');return;}if(az.tagName==="LABEL"){az.text=ax.value;}else{if(az.tagName==="DIV"){az.textContent=ax.value;}else{console.error(\'changeListItemState(), setItemText(): Unexpected tag "\'+az.tagName+\'".\');}}}function aw(){if(!ax.value){console.error("changeListItemState(), makeListItemEditable(): Making items read only again is not implemented yet.");return;}var aC=document.getElementById(ax.tabName+"_"+ax.listBoxName);if(!aC){return;}aI();var aG=aC.querySelectorAll("tr");[].forEach.call(aG,function(aK){aK.classList.remove("selected");});var aF=[].find.call(aG,function(aK){return aK.dataset.itemUid===ax.uid;});if(!aF){console.error(\'changeListItemState(), makeListItemEditable(): list item with uid "\'+ax.uid+\'" not found.\');return;}var aD=aF.children[0],aE=aD.children[0];if(aE.tagName==="INPUT"){return;}aE.parentNode.removeChild(aE);var az=document.createElement("input");az.type="text";az.setAttribute("form","txNovalidateForm");az.style.width="98%";az.value=aE.textContent;aD.appendChild(az);az.addEventListener("blur",aA);az.addEventListener("keydown",aB);setTimeout(function(){az.focus();},100);function aA(){az.removeEventListener("keydown",aB);aH();if(az.value){if(az.value!==aE.textContent){aE.textContent="";}aJ();}}function aB(aK){switch(aK.key){case"Esc":case"Escape":az.removeEventListener("blur",aA);aH();break;case"Enter":az.removeEventListener("blur",aA);aH();if(az.value!==aE.textContent){aE.textContent="";}aJ();break;}}function aJ(aL){var aK={tabName:ax.tabName,listBoxName:ax.listBoxName,text:az.value,itemUid:aF.dataset.itemUid};d.sendCommand(d.Command.ListBoxEvent,d.ListBoxEventType.ItemTextChanged,0,0,aK);}function aH(){az.parentNode.removeChild(az);aD.appendChild(aE);}function aI(){var aL=aC.getBoundingClientRect();var aK=document.getElementById("mainCanvas");var aM=aK.getBoundingClientRect();if(aL.right>aM.right){ag(null,true);}else{if(aL.left<aM.left){af(null,true);}}}}};d.changeListBoxState=function(av){var au=document.getElementById(av.tabName+"_"+av.name);if(!au){return;}switch(av.stateType){case d.ListBoxStateType.Items:aa(au,av.value,av.tabName,av.name,av.itemsAreCheckable,av.itemsAreSelectable);break;case d.ListBoxStateType.SelectedIndex:al(au,av.value);break;}};d.ribbonMenu_collectionChanged=function(au){switch(au.eventArgs.action){case"Add":B(au.sender,au.eventArgs.newItems,au.eventArgs.newStartingIndex);break;case"Remove":Z(au.eventArgs.oldItems);break;case"Reset":av(au.sender);break;}function av(ax){var aw=document.getElementById(M(ax));if(!aw){return;}aw.innerHTML="";}};function Z(au){au.forEach(function(ax){var aw=M(ax);var av=document.getElementById(aw);av.parentNode.removeChild(av);});}function B(aA,ax,aw){var ay=aA.itemSize;var aB=M(aA);var au=document.getElementById(aB);if(!au){return;}for(var av=0;av<ax.length;++av){d.addNormalMenuItem(au,ax[av],ay,aA.name,(aw!==null)?aw+av:null);}au=document.getElementById(aB);var az=a(au);az.menu("refresh");d.calcMenuWidths(au);}d.ribbonListView_collectionChanged=function(au){switch(au.eventArgs.action){case"Add":A(au.sender,au.eventArgs.newItems,au.eventArgs.newStartingIndex);break;case"Reset":ad(au.sender);break;}};function A(ay,ax,aw){var au=document.getElementById(M(ay));var av=au.querySelector("table.list-box-item-container");ax.forEach(function(aA){var az=document.createElement("tr");av.appendChild(az);az.classList.add("list-box-item");switch(aA.controlType){case d.RibbonControlType.ParagraphStructureLevelEntry:u(az,aA);break;default:throw new Error("The RibbonListView only supports paragraph structure level entries for now.");}});}function ad(aw){var au=document.getElementById(M(aw));if(!au){return;}var av=au.querySelector("table.list-box-item-container");av.innerHTML="";}function M(au){return au.tabName+"_"+au.name;}d.calcMenuWidths=function(aw){if(!aw||!aw.children){return;}var aB=[];for(var ay=0;ay<aw.children.length;++ay){var av=aw.children[ay];if(av.tagName==="LI"){for(var az=0;az<av.children.length;++az){var au=av.children[az];if(au.tagName==="UL"){aB.push(au);}}}}for(ay=0;ay<aB.length;++ay){var aA=aB[ay];d.calcMenuWidths(aA);}aw.style.width=ax(aw)+"px";function ax(aG){var aP=0,aS,aT,aD,aF,aJ,aH,aQ,aE;var aC=aK(aG)?27:10;for(var aM=0;aM<aG.children.length;++aM){aJ=aG.children[aM];if(!aJ.children.length){continue;}aH=aJ.children[0];if(aH.nodeName!=="A"){continue;}aQ=document.createElement("TABLE");aQ.style.position="fixed";aQ.style.left="-9999px";aQ.style.whiteSpace="nowrap";aQ.style.borderCollapse="collapse";aT=document.createElement("TR");aQ.appendChild(aT);for(var aN=0;aN<aH.childNodes.length;++aN){aD=aH.childNodes[aN];if(aD.nodeType===Node.ELEMENT_NODE){var aR=aD.querySelector("div.txInsertTableWizard > table");if(aR){aD=aR;aC=-1;}}aF=(aD instanceof HTMLElement)?getComputedStyle(aD):getComputedStyle(aH);aS=document.createElement("TD");aS.style.fontFamily=aF.fontFamily;aS.style.fontSize=aF.fontSize;aE=aD.cloneNode(true);if(aE instanceof HTMLElement){aE.style.fontFamily=aF.fontFamily;aE.style.fontSize=aF.fontSize;if(aE.tagName==="TABLE"){aE.style.width=aF.width;}}switch(aE.nodeType){case Node.ELEMENT_NODE:if((aE.tagName==="DIV")&&(aE.classList.contains("menu-item-category-header"))){break;}var aL=aE.querySelectorAll("h1");for(var aO=0;aO<aL.length;++aO){aL[aO].style.fontSize=aF.fontSize;aL[aO].style.fontWeight="bold";}aS.appendChild(aE);aT.appendChild(aS);break;case Node.TEXT_NODE:aS.textContent=aE.data;aT.appendChild(aS);break;}}var aI=document.getElementById("txTemplateDesignerContainer");aI.appendChild(aQ);var aU=aQ.clientWidth+aC;aP=Math.max(aP,aU);aI.removeChild(aQ);}return aP;function aK(aV){return(aV.style.overflowY==="auto")||(aV.style.overflowY==="scroll");}}};d.hideAllOtherMenus=function(){for(var au in d.jQueryMenus){d.jQueryMenus[au].hide();}};d.limitMenuHeight=function(ax){var au=document.getElementById(ax);au.style.height="";var av=au.clientHeight;var aw=d.clientSize.Height-d.ribbonBarHeight-d.StatusBarHeight-d.ScrollbarWidth;if(aw<av){au.style.height=aw+"px";au.style.overflowY="auto";}};d.MenuTransformState=(function(){function au(){this.scrollEnabled=false;this.deltaY=0;this.maxDelta=0;this.touchInProgress=false;this.touchPrev=null;this.deltaFactor=1;this.direction=null;}au.prototype.reset=function(){this.scrollEnabled=false;this.deltaY=this.maxDelta=0;this.touchInProgress=false;this.touchPrev=null;this.direction=null;};return au;})();function N(au){if(!au){throw new Error(\'Argument "menu" is null.\');}var av=au.dataset.transformStateId;if(!av){throw new Error("Menu transform / scroll state id not found in element dataset.");}return c[av];}function ak(ax,au,ay){var av=null;if(!ay.scrollEnabled){return;}if(ay.direction===null){aw();}if(ay.direction===null){console.error("Sub menu scroll direction could not be determined for unknown reasons.");ay.direction=-1;}switch(ay.direction){case 1:ay.deltaY=Math.min(Math.max((ay.deltaY+au),0),ay.maxDelta);break;case -1:ay.deltaY=Math.min(Math.max((ay.deltaY+au),-ay.maxDelta),0);break;}ax.style.transform="translate(0px, "+ay.deltaY+"px)";function aw(){var aD=az(ax);if(aD==0){ay.direction=-1;}else{var aC=ax.getBoundingClientRect().bottom;if(aD==1){var aB=ax.parentElement;if(aB.tagName==="LI"){av=(aC-aB.getBoundingClientRect().bottom);}}else{av=aC-aA(ax).getBoundingClientRect().bottom;}if(av!==null){ay.direction=(av<=2)?1:-1;}}function az(aG){var aF=0;var aH=aA(aG);var aE=(aH!==null);if(aE){aF=az(aH)+1;}return aF;}function aA(aF){var aG=aF.parentElement.parentElement;var aE=aG&&aG.tagName==="UL";if(aE){return aG;}else{return null;}}}}function R(av){var aw=N(av.currentTarget);var au=((av.wheelDelta||-(av.detail*40))/4)*aw.deltaFactor;ak(av.currentTarget,au,aw);if(av.cancelable){av.preventDefault();}av.stopPropagation();}function U(au){var av=N(au.currentTarget);av.touchInProgress=(au.touches.length===1);if(av.touchInProgress){av.touchPrev=d.cloneTouch(au.touches[0]);}au.stopPropagation();}function S(au){var av=N(au.currentTarget);av.touchInProgress=false;av.touchPrev=null;au.stopPropagation();}function T(av){var aw=N(av.currentTarget);if(!aw.touchInProgress){return;}if(av.touches.length!==1){aw.touchInProgress=false;return;}var au=av.changedTouches[0].clientY-aw.touchPrev.clientY;aw.touchPrev=d.cloneTouch(av.changedTouches[0]);ak(av.currentTarget,au,aw);if(av.cancelable){av.preventDefault();}av.stopPropagation();}d.calcMenuScrollInfo=function(az,ax,aw){ax=!!ax;aw=!!aw;var av=az.getBoundingClientRect().height;var ay=aw?0:d.clientSize.Height-d.ribbonBarHeight-d.StatusBarHeight;var aA;try{aA=N(az);}catch(au){c[az.id]=new d.MenuTransformState();aA=c[az.id];}if((av>ay)||ax){aA.scrollEnabled=true;aA.maxDelta=ax?av:(av-ay);}else{aA.reset();}if(!ax){var aB=az.querySelectorAll("ul");[].forEach.call(aB,function(aC){aC.style.display="";});[].forEach.call(aB,function(aC){d.calcMenuScrollInfo(aC,true);});[].forEach.call(aB,function(aC){aC.style.display="none";});}};function ac(av){for(var au in c){if(c.hasOwnProperty(au)){c[au].reset();}}av.style.transform="";var aw=av.querySelectorAll("ul");[].forEach.call(aw,function(ax){ax.style.transform="";});}return ar;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(f,a){var b=f._private=f._private||{};b.SubTextPartCommand=Object.freeze({GetAll:1,SetProperty:2,GetItem:3,AddItem:4,RemoveItem:5,ScrollTo:6,});b.SubTextPartProperty=Object.freeze({Name:1,Start:2,Length:3,ID:4,HighlightColor:5,HighlightMode:6});b.HighlightMode=Object.freeze({Never:1,Activated:2,Always:3});b.AddResult=Object.freeze({Error:0,Successful:1,NoSelection:2,SelectionTooComplex:3,PositionInvalid:4,AlreadyExists:5,Overlapping:7,Combined:8,});b.Color=(function(){function Color(r,g,b,a){if(a===undefined){a=255;}if((r===undefined)||(g===undefined)||(b===undefined)||(r<0)||(r>255)||(g<0)||(g>255)||(b<0)||(b>255)||(a<0)||(a>255)){throw new TypeError("r, g, and b parameters must be integer values between 0 and 255.");}this.r=Math.round(r);this.g=Math.round(g);this.b=Math.round(b);this.a=Math.round(a);}return Color;})();b.LegacySubTextPart=(function(){function SubTextPart(serverSubTextPartObject){this._subTextPart=serverSubTextPartObject;var g=this;Object.defineProperties(this,{name:{get:function(){return g._subTextPart.name;},set:function(name){if(name===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(typeof name!=="string"){throw new TypeError(\'"name" must be a string.\');}g._subTextPart.name=name;var h={subTextPart:g._subTextPart};b.sendCommand(b.Command.ClientSubTextPart,b.SubTextPartCommand.SetProperty,b.SubTextPartProperty.Name,0,h);},enumerable:true},id:{get:function(){return g._subTextPart.id;},set:function(id){if(id===undefined){id=0;}if(!isInteger(id)){throw new TypeError(\'"id" must be an integer.\');}g._subTextPart.id=id;var h={subTextPart:g._subTextPart};b.sendCommand(b.Command.ClientSubTextPart,b.SubTextPartCommand.SetProperty,b.SubTextPartProperty.ID,0,h);},enumerable:true},highlightColor:{get:function(){return g._subTextPart.highlightColor;},set:function(highlightColor){if(highlightColor===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(!highlightColor.hasOwnProperty("r")||!highlightColor.hasOwnProperty("g")||!highlightColor.hasOwnProperty("b")||!highlightColor.hasOwnProperty("a")){throw new TypeError("The color object must have the properties \'r\', \'g\', \'b\' and \'a\'.");}if(!isInteger(highlightColor.r)||!isInteger(highlightColor.g)||!isInteger(highlightColor.b)||!isInteger(highlightColor.a)){throw new TypeError("All color channel values must be integers between 0 and 255.");}g._subTextPart.highlightColor=highlightColor;var h={subTextPart:g._subTextPart};b.sendCommand(b.Command.ClientSubTextPart,b.SubTextPartCommand.SetProperty,b.SubTextPartProperty.HighlightColor,0,h);},enumerable:true},highlightMode:{get:function(){return g._subTextPart.highlightMode;},set:function(highlightMode){if(highlightMode===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(!isInteger(highlightMode)){throw new TypeError(\'"highlightMode" must be one of the values defined in TXTextControl.HighlightMode.\');}g._subTextPart.highlightMode=highlightMode;var h={subTextPart:g._subTextPart};b.sendCommand(b.Command.ClientSubTextPart,b.SubTextPartCommand.SetProperty,b.SubTextPartProperty.HighlightMode,0,h);},enumerable:true},text:{get:function(){return g._subTextPart.text;},enumerable:true},number:{get:function(){return g._subTextPart.number;},enumerable:true},start:{get:function(){return g._subTextPart.start;},enumerable:true},length:{get:function(){return g._subTextPart.length;},enumerable:true},nestedLevel:{get:function(){return g._subTextPart.nestedLevel;},enumerable:true},});}SubTextPart.prototype.scrollTo=function(){var g={subTextPart:this._subTextPart};b.sendCommand(b.Command.ClientSubTextPart,b.SubTextPartCommand.ScrollTo,0,0,g);};return SubTextPart;})();b.processSubTextPartDataMessage=function(i){var g=i.Data.Content;var h=i.Data.ExcMsg;switch(g.SubTextPartCommand){case b.SubTextPartCommand.GetAll:d(g,h);break;case b.SubTextPartCommand.AddItem:c(g,h);break;case b.SubTextPartCommand.RemoveItem:e(g,h);break;}};function d(i,k){var g=b.documentTaskCallbacks.getSubTextParts.shift();if(g===undefined){return;}if(k){throw new Error(k);}var h=[];i.SubTextParts.forEach(function(l){h.push(new b.LegacySubTextPart(l));});try{g(h);}catch(j){}}function c(h,j){var g=b.documentTaskCallbacks.addSubTextPart.shift();if(g===undefined){return;}if(j){throw new Error(j);}try{g(h.AddResult);}catch(i){}}function e(h,j){var g=b.documentTaskCallbacks.removeSubTextPart.shift();if(g===undefined){return;}if(j){throw new Error(j);}try{g(h.Removed);}catch(i){}}return f;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(f,a){var b=f._private=f._private||{};var e=f.Proofing=f.Proofing||{};b.SpellCheckCommand=Object.freeze({LoadUserDictionary:1,AddWordToUserDict:2,RemoveWordFromUserDict:3,ClientSaveUserDictionary:4,RemoveUserDictionary:5,ClientGetUserDictInfo:6});b.proofingTaskCallbacks={saveUserDictionary:[],getUserDictionaryInfo:[]};b.UserDictionaryInfo=(function(){function UserDictionaryInfo(info){for(var g in info){this[g]=info[g];}}return UserDictionaryInfo;})();e.loadUserDictionary=function(name,words,language){if(!name||(typeof name!=="string")){throw new TypeError(\'"name" must be a non empty string.\');}if((language===undefined)||(typeof language!=="string")){throw new TypeError(\'"language" must be a string.\');}if(words===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(words.constructor!==Array){throw new TypeError(\'"words" must be an array.\');}words.forEach(function(h){if((typeof h!=="string")&&!(h instanceof String)){throw new TypeError(\'"words" must be an array of strings.\');}});var g={words:words,name:name,lang:language};b.sendCommand(b.Command.SpellCheck,b.SpellCheckCommand.LoadUserDictionary,0,0,g);};e.addWordToUserDictionary=function(name,word){if(!name||(typeof name!=="string")){throw new TypeError(\'"name" must be a non empty string.\');}if(word===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(!word||(typeof word!=="string")){throw new TypeError(\'"word" must be a non empty string.\');}var g={word:word,name:name};b.sendCommand(b.Command.SpellCheck,b.SpellCheckCommand.AddWordToUserDict,0,0,g);};e.removeWordFromUserDictionary=function(name,word){if(!name||(typeof name!=="string")){throw new TypeError(\'"name" must be a non empty string.\');}if(word===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(!word||(typeof word!=="string")){throw new TypeError(\'"word" must be a non empty string.\');}var g={word:word,name:name};b.sendCommand(b.Command.SpellCheck,b.SpellCheckCommand.RemoveWordFromUserDict,0,0,g);};e.saveUserDictionary=function(name,callback){if(!name||(typeof name!=="string")){throw new TypeError(\'"name" must be a non empty string.\');}if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}b.proofingTaskCallbacks.saveUserDictionary.push(callback);b.sendCommand(b.Command.SpellCheck,b.SpellCheckCommand.ClientSaveUserDictionary,0,0,{name:name});};e.removeUserDictionary=function(name){if(!name||(typeof name!=="string")){throw new TypeError(\'"name" must be a non empty string.\');}b.sendCommand(b.Command.SpellCheck,b.SpellCheckCommand.RemoveUserDictionary,0,0,{name:name});};e.getUserDictionaryInfo=function(callback){if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}b.proofingTaskCallbacks.getUserDictionaryInfo.push(callback);b.sendCommand(b.Command.SpellCheck,b.SpellCheckCommand.ClientGetUserDictInfo);};b.processSpellCheckCommandResponse=function(j){var i=j.Data.ExcMsg;var g=j.Data.Content.command;var h=j.Data.Content.content;switch(g){case b.SpellCheckCommand.ClientSaveUserDictionary:d(h,i);break;case b.SpellCheckCommand.ClientGetUserDictInfo:c(h,i);break;}};function d(h,j){var g=b.proofingTaskCallbacks.saveUserDictionary.shift();if(g===undefined){return;}if(j){throw new Error(j);}try{g(h.name,h.words);}catch(i){}}function c(h,j){var g=b.proofingTaskCallbacks.getUserDictionaryInfo.shift();if(g===undefined){return;}if(j){throw new Error(j);}var k=[];h.info.forEach(function(l){k.push(new b.UserDictionaryInfo(l));});try{g(k);}catch(i){}}return f;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};c.documentPermissions=c.documentPermissions||{};b.documentPermissions={readOnly:true,allowCopy:true,allowFormatting:true,allowFormattingStyles:true,allowPrinting:true,allowEditingFormFields:true};b.DocumentPermissionsProperty={};Object.defineProperty(c.documentPermissions,"readOnly",{get:function(){return b.documentPermissions.readOnly;},set:function(readOnly){if(typeof readOnly!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}b.sendCommand(b.Command.SetDocumentPermissions,b.DocumentPermissionsProperty.ReadOnly,readOnly?1:0);},enumerable:true});Object.defineProperty(c.documentPermissions,"allowCopy",{get:function(){return b.documentPermissions.allowCopy;},set:function(allowCopy){if(typeof allowCopy!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}b.sendCommand(b.Command.SetDocumentPermissions,b.DocumentPermissionsProperty.AllowCopy,allowCopy?1:0);},enumerable:true});Object.defineProperty(c.documentPermissions,"allowFormatting",{get:function(){return b.documentPermissions.allowFormatting;},set:function(allowFormatting){if(typeof allowFormatting!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}b.sendCommand(b.Command.SetDocumentPermissions,b.DocumentPermissionsProperty.AllowFormatting,allowFormatting?1:0);},enumerable:true});Object.defineProperty(c.documentPermissions,"allowFormattingStyles",{get:function(){return b.documentPermissions.allowFormattingStyles;},set:function(allowFormattingStyles){if(typeof allowFormattingStyles!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}b.sendCommand(b.Command.SetDocumentPermissions,b.DocumentPermissionsProperty.AllowFormattingStyles,allowFormattingStyles?1:0);},enumerable:true});Object.defineProperty(c.documentPermissions,"allowPrinting",{get:function(){return b.documentPermissions.allowPrinting;},set:function(allowPrinting){if(typeof allowPrinting!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}b.sendCommand(b.Command.SetDocumentPermissions,b.DocumentPermissionsProperty.AllowPrinting,allowPrinting?1:0);},enumerable:true});Object.defineProperty(c.documentPermissions,"allowEditingFormFields",{get:function(){return b.documentPermissions.allowEditingFormFields;},set:function(d){if(typeof d!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}b.sendCommand(b.Command.SetDocumentPermissions,b.DocumentPermissionsProperty.AllowEditingFormFields,d?1:0);},enumerable:true});b.setDocumentPermission=function(d){var e=d.Param1;var f=(d.Param2!==0);switch(e){case b.DocumentPermissionsProperty.ReadOnly:b.documentPermissions.readOnly=f;break;case b.DocumentPermissionsProperty.AllowCopy:b.documentPermissions.allowCopy=f;break;case b.DocumentPermissionsProperty.AllowFormatting:b.documentPermissions.allowFormatting=f;break;case b.DocumentPermissionsProperty.AllowFormattingStyles:b.documentPermissions.allowFormattingStyles=f;break;case b.DocumentPermissionsProperty.AllowPrinting:b.documentPermissions.allowPrinting=f;break;case b.DocumentPermissionsProperty.AllowEditingFormFields:b.documentPermissions.allowEditingFormFields=f;break;}};return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.Ribbon=(function(){function Ribbon(){Object.defineProperties(this,{selectedTab:{get:function(){var d=document.querySelector("#ribbonbar ul.tabs a[rel].selected");if(d){return d.getAttribute("id");}else{return"";}},set:function(tabName){if(typeof tabName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}var g=document.querySelectorAll("#ribbonbar ul.tabs a[rel]");var f=false;for(var d=0;d<g.length;++d){var e=g[d];if((e.id===tabName)&&(e.style.display!=="none")){f=true;break;}}if(!f){throw new Error(b.ErrorText.RibbonTabDoesNotExist);}b.switchTabs(a("#"+tabName));},enumerable:true}});}Ribbon.prototype.minimize=function(){b.showRibbonBar(false);};Ribbon.prototype.expand=function(){b.showRibbonBar(true);};return Ribbon;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.EventManager=(function(){function d(){this.callbacks={};}d.prototype.addEventListener=function(eventName,callback){if(!eventName){throw new Error("Wrong number of parameters.");}if(typeof eventName!=="string"){throw new TypeError(\'Parameter "eventName" must be of type "string".\');}if(!callback){throw new Error("Wrong number of parameters.");}if(typeof callback!=="function"){throw new TypeError(\'Parameter "callback" must be of type "function".\');}this.callbacks[eventName]=this.callbacks[eventName]||[];var e=this.callbacks[eventName];var f=e.indexOf(callback);if(f==-1){e.push(callback);}};d.prototype.removeEventListener=function(eventName,callback){if(!eventName){throw new Error("Wrong number of parameters.");}if(typeof eventName!=="string"){throw new TypeError(\'Parameter "eventName" must be of type "string".\');}if(!callback){throw new Error("Wrong number of parameters.");}if(typeof callback!=="function"){throw new TypeError(\'Parameter "callback" must be of type "function".\');}if(!this.callbacks.hasOwnProperty(eventName)){return;}var f=this.callbacks[eventName];try{var h=f.indexOf(callback);if(h>-1){f.splice(h,1);if(f.length==0){delete this.callbacks[eventName];}}}catch(g){}};d.prototype.fireEvent=function(k,j){if(!this.callbacks.hasOwnProperty(k)){return;}var g=this.callbacks[k];for(var l=0;l<g.length;++l){var f=g[l];try{f(j);}catch(h){}}};return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.EventSubscriber=(function(){function d(){this._={eventManager:new b.EventManager()};}d.prototype.addEventListener=function(f,e){if(!e){throw new Error(b.ErrorText.TooFewParameters);}if(typeof e!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this._.eventManager.addEventListener(f,e);};d.prototype.fireEvent=function(f,e){f=""+f;this._.eventManager.fireEvent(f,e);};d.prototype.removeEventListener=function(f,e){if(f!=b.TXEventNames.AccessTextControlMember){this._.eventManager.removeEventListener(f,e);}};return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.MemberType=Object.freeze({Property:1,Method:2});b.MemberInfo=(function(){function d(e,f){if(typeof e!=="string"){throw new TypeError("Method name must be a string.");}if(typeof f!=="number"){throw new TypeError("Type must be one of the _private.MemberType values.");}this.name=e;this.type=f;}d.createInstance=function(e,g,f){switch(g){case b.MemberType.Method:return b.MethodInfo.createInstance(e,f);case b.MemberType.Property:return new b.PropertyInfo(e,(f&&f.length)?f[0]:null);}throw new Error("MemberInfo.createInstance(): Unknown member type "+g+".");};return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.MethodInfo=(function(d){__extends(e,d);function e(f,g){d.call(this,f,b.MemberType.Method);this.parameters=(typeof g!=="undefined")?g:[];}e.createInstance=function(g,h){if(typeof g!=="string"){throw new TypeError(\'Parameter "methodName" has invalid type.\');}var j=[];if(typeof h!=="undefined"){for(var f=0;f<h.length;f++){if(typeof h[f]!=="undefined"){j.push(new b.ParameterInfo(h[f]));}}}return new b.MethodInfo(g,j);};return e;})(b.MemberInfo);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ParameterInfo=(function(){function d(e){if(typeof e==="function"){throw new Error("A method parameter must not be a function.");}this.value=e;}return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.PropertyInfo=(function(d){__extends(e,d);function e(f,g){d.call(this,f,b.MemberType.Property);this.value=(typeof g!=="undefined")?g:null;}return e;})(b.MemberInfo);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.CallDirection=Object.freeze({None:0,Get:1,Set:2});b.TXEventNames=Object.freeze({AccessTextControlMember:"accessTextControlMember"});b.TextControlClassAdapter=(function(d){__extends(TextControlClassAdapter,d);function TextControlClassAdapter(e,f){d.call(this);if(typeof e!=="number"){e=0;}if(typeof f!=="number"){f=-1;}this._.hashcode=e;this._.index=f;}TextControlClassAdapter.prototype.callMethod=function(g,e,h,f){if(typeof g==="undefined"){throw new Error("Missing method name.");}if((e!==null)&&(typeof e!=="undefined")&&(typeof e!=="function")){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(typeof h==="undefined"){h=[];}if((f!==null)&&(typeof f!=="undefined")&&(typeof f!=="function")){throw new TypeError(b.ErrorText.ErrorCallBackIsNoFunction);}this.accessTextControlMember(g,b.MemberType.Method,b.CallDirection.None,h,e,null,f);};TextControlClassAdapter.prototype.setPropertyValue=function(g,h,e,f){if(typeof g==="undefined"){throw new Error("Missing property name.");}if(typeof h==="undefined"){throw new TypeError(b.ErrorText.TooFewParameters);}if((e!==null)&&(typeof e!=="undefined")&&(typeof e!=="function")){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if((f!==null)&&(typeof f!=="undefined")&&(typeof f!=="function")){throw new TypeError(b.ErrorText.ErrorCallBackIsNoFunction);}this.accessTextControlMember(g,b.MemberType.Property,b.CallDirection.Set,[h],e,null,f);};TextControlClassAdapter.prototype.getPropertyValue=function(g,e,f){if(typeof g==="undefined"){throw new TypeError(b.ErrorText.TooFewParameters);}if(typeof e!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if((f!==null)&&(typeof f!=="undefined")&&(typeof f!=="function")){throw new TypeError(b.ErrorText.ErrorCallBackIsNoFunction);}this.accessTextControlMember(g,b.MemberType.Property,b.CallDirection.Get,[],e,null,f);};TextControlClassAdapter.prototype.invokeTextControlMemberAccessEvent=function(e,f){if(!(e instanceof b.TextControlMemberAccessEventArgs)){throw new TypeError();}if(typeof f!=="undefined"&&f!=null){e.prepend(f);}this.fireEvent(b.TXEventNames.AccessTextControlMember,e);};TextControlClassAdapter.prototype.accessTextControlMember=function(j,k,g,l,f,e,h){var i=b.MemberInfo.createInstance(j,k,l);if((e===null)||(typeof e==="undefined")){this.invokeTextControlMemberAccessEvent(new b.TextControlMemberAccessEventArgs(i,f,g,h));}else{this.invokeTextControlMemberAccessEvent(e,i);}};TextControlClassAdapter.prototype.addPropertyAccessEventListener=function(f,g,e){if(!g){throw new TypeError("Missing property name.");}var h=this;f.addEventListener(b.TXEventNames.AccessTextControlMember,function(i){h.accessTextControlMember(g,b.MemberType.Property,b.CallDirection.Get,[],e,i);});};TextControlClassAdapter.prototype.addMethodCallEventListener=function(g,f,h,e){if(!f){throw new TypeError("Missing method name.");}var i=this;g.addEventListener(b.TXEventNames.AccessTextControlMember,function(j){i.accessTextControlMember(f,b.MemberType.Method,b.CallDirection.None,h,e,j);});};return TextControlClassAdapter;})(b.EventSubscriber);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TextControlMemberAccessEventArgs=(function(){function d(h,e,f,g){if((e===null)||(typeof e==="undefined")){e=function(){};}if(typeof e!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(typeof f==="undefined"){f=b.CallDirection.None;}else{if(typeof f!=="number"){throw new TypeError(\'Parameter "dir" must be one of the _private.CallDirection values.\');}}this.m_sequence=[h];this.m_callback=e;this.m_dir=f;this.m_errorCallback=g;}d.prototype.prepend=function(e){if(typeof e==="undefined"){throw new TypeError("TextControlMemberAccessEventArgs.prepend(): memberInfo is undefined.");}this.m_sequence.unshift(e);};Object.defineProperty(d.prototype,"callback",{get:function(){return this.m_callback;},enumerable:true,});Object.defineProperty(d.prototype,"sequence",{get:function(){return this.m_sequence;},enumerable:true,});Object.defineProperty(d.prototype,"callDirection",{get:function(){return this.m_dir;},enumerable:true,});Object.defineProperty(d.prototype,"errorCallback",{get:function(){return this.m_errorCallback;},enumerable:true,});return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TextControlMemberAccessMessage=(function(){function d(g,e,f){if((typeof g!=="string")||!g){throw new TypeError("Invalid message uid.");}if(!Array.isArray(e)){throw new TypeError("Sequence is not an array.");}if(typeof f==="undefined"){f=b.CallDirection.None;}else{if(typeof f!=="number"){throw new TypeError(\'Parameter "dir" must be one of the _private.CallDirection values.\');}}this.m_uid=g;this.m_callSequence=e;this.m_dir=f;Object.defineProperties(this,{commandID:{get:function(){return b.Command.AccessTextControlMember;},enumerable:true},param1:{get:function(){return this.m_dir;},enumerable:true},param2:{get:function(){return 0;},enumerable:true},param3:{get:function(){return 0;},enumerable:true},data:{get:function(){return{callSequence:this.m_callSequence,messageUID:this.m_uid};},enumerable:true}});}return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({ActiveFormFieldColor:"ActiveFormFieldColor",DarkShadowColor:"DarkShadowColor",DesktopColor:"DesktopColor",FormFieldColor:"FormFieldColor",HeaderFooterLabelColor:"HeaderFooterLabelColor",HeaderFooterLineColor:"HeaderFooterLineColor",LightShadowColor:"LightShadowColor"});var c=Object.freeze({ResetDarkShadowColor:"ResetDarkShadowColor",ResetDesktopColor:"ResetDesktopColor",ResetHeaderFooterLabelColor:"ResetHeaderFooterLabelColor",ResetHeaderFooterLineColor:"ResetHeaderFooterLineColor",ResetLightShadowColor:"ResetLightShadowColor"});b.DisplayColors=(function(f){__extends(DisplayColors,f);function DisplayColors(){f.call(this);}DisplayColors.prototype.setActiveFormFieldColor=function(color,callback,errorCallback){this.setPropertyValue(d.ActiveFormFieldColor,color,callback,errorCallback);};DisplayColors.prototype.getActiveFormFieldColor=function(callback,errorCallback){this.getPropertyValue(d.ActiveFormFieldColor,callback,errorCallback);};DisplayColors.prototype.setDarkShadowColor=function(color,callback,errorCallback){this.setPropertyValue(d.DarkShadowColor,color,callback,errorCallback);};DisplayColors.prototype.getDarkShadowColor=function(callback,errorCallback){this.getPropertyValue(d.DarkShadowColor,callback,errorCallback);};DisplayColors.prototype.setDesktopColor=function(color,callback,errorCallback){this.setPropertyValue(d.DesktopColor,color,callback,errorCallback);};DisplayColors.prototype.getDesktopColor=function(callback,errorCallback){this.getPropertyValue(d.DesktopColor,callback,errorCallback);};DisplayColors.prototype.setFormFieldColor=function(color,callback,errorCallback){this.setPropertyValue(d.FormFieldColor,color,callback,errorCallback);};DisplayColors.prototype.getFormFieldColor=function(callback,errorCallback){this.getPropertyValue(d.FormFieldColor,callback,errorCallback);};DisplayColors.prototype.setHeaderFooterLabelColor=function(color,callback,errorCallback){this.setPropertyValue(d.HeaderFooterLabelColor,color,callback,errorCallback);};DisplayColors.prototype.getHeaderFooterLabelColor=function(callback,errorCallback){this.getPropertyValue(d.HeaderFooterLabelColor,callback,errorCallback);};DisplayColors.prototype.setHeaderFooterLineColor=function(color,callback,errorCallback){this.setPropertyValue(d.HeaderFooterLineColor,color,callback,errorCallback);};DisplayColors.prototype.getHeaderFooterLineColor=function(callback,errorCallback){this.getPropertyValue(d.HeaderFooterLineColor,callback,errorCallback);};DisplayColors.prototype.setLightShadowColor=function(color,callback,errorCallback){this.setPropertyValue(d.LightShadowColor,color,callback,errorCallback);};DisplayColors.prototype.getLightShadowColor=function(callback,errorCallback){this.getPropertyValue(d.LightShadowColor,callback,errorCallback);};DisplayColors.prototype.resetDarkShadowColor=function(callback,errorCallback){this.callMethod(c.ResetDarkShadowColor,callback,[],errorCallback);};DisplayColors.prototype.resetDesktopColor=function(callback,errorCallback){this.callMethod(c.ResetDesktopColor,callback,[],errorCallback);};DisplayColors.prototype.resetHeaderFooterLabelColor=function(callback,errorCallback){this.callMethod(c.ResetHeaderFooterLabelColor,callback,[],errorCallback);};DisplayColors.prototype.resetHeaderFooterLineColor=function(callback,errorCallback){this.callMethod(c.ResetHeaderFooterLineColor,callback,[],errorCallback);};DisplayColors.prototype.resetLightShadowColor=function(callback,errorCallback){this.callMethod(c.ResetLightShadowColor,callback,[],errorCallback);};return DisplayColors;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.CollectionPropertyName=Object.freeze({Current:"Current",CanAdd:"CanAdd",CanRemove:"CanRemove",Count:"Count"});b.CollectionMethodName=Object.freeze({Add:"Add",Clear:"Clear",GetItem:"GetItem",GetAdapterByHashcode:"GetAdapterByHashcode",Remove:"Remove",MoveNext:"MoveNext",Reset:"Reset",ElementAt:"ElementAt"});b.Collection=(function(d){__extends(Collection,d);function Collection(){d.call(this);}Collection.prototype.getCount=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.Count,callback,errorCallback);};Collection.prototype.elementAt=function(index,callback,errorCallback){var e=this;this.callMethod(b.CollectionMethodName.ElementAt,function(g){var f=(g!==null)?e._adapt(g):null;callback(f);},[index],errorCallback);};Collection.prototype.forEach=function(callback,errorCallback){var f=this,e;this.getCount(function(g){for(e=0;e<g;++e){f.elementAt(e,(function(h){return function(i){callback(i,h,g);};})(e),errorCallback);}},errorCallback);};Collection.prototype._adapt=function(e){throw new Error("NOT IMPLEMENTED. Override this method in your derived class.");};return Collection;})(b.TextControlClassAdapter);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({AllFrameLines:"AllFrameLines",Bold:"Bold",BottomAligned:"BottomAligned",BottomDistance:"BottomDistance",BottomFrameLine:"BottomFrameLine",BoxFrame:"BoxFrame",BulletCharacter:"BulletCharacter",BulletedList:"BulletedList",Centered:"Centered",FontFamily:"FontFamily",FontSize:"FontSize",FrameFillColor:"FrameFillColor",FrameLineColor:"FrameLineColor",FrameLineWidth:"FrameLineWidth",HangingIndent:"HangingIndent",InnerHorizontalFrameLines:"InnerHorizontalFrameLines",InnerVerticalFrameLines:"InnerVerticalFrameLines",Italic:"Italic",Justified:"Justified",LeftAligned:"LeftAligned",LeftFrameLine:"LeftFrameLine",LeftIndent:"LeftIndent",LeftToRight:"LeftToRight",LineSpacing:"LineSpacing",NumberedList:"NumberedList",NumberedListFormat:"NumberedListFormat",NumberFormats:"NumberFormats",RightAligned:"RightAligned",RightFrameLine:"RightFrameLine",RightIndent:"RightIndent",RightToLeft:"RightToLeft",Strikeout:"Strikeout",StructuredList:"StructuredList",StructuredListFormat:"StructuredListFormat",StructureLevel:"StructureLevel",StyleName:"StyleName",StyleNames:"StyleNames",Subscript:"Subscript",Superscript:"Superscript",TextBackColor:"TextBackColor",TextColor:"TextColor",TopAligned:"TopAligned",TopDistance:"TopDistance",TopFrameLine:"TopFrameLine",Underline:"Underline",UnderlineStyle:"UnderlineStyle",UnderlineStyles:"UnderlineStyles",VerticallyCentered:"VerticallyCentered"});var c=Object.freeze({GetFontFamilies:"GetFontFamilies",GetFontSizes:"GetFontSizes"});b.InputFormat=(function(f){__extends(InputFormat,f);function InputFormat(){f.call(this);}InputFormat.prototype.addEventListener=function(eventName,callback){if(b.TXEventNames.AccessTextControlMember===eventName){this._.eventManager.addEventListener(eventName,callback);return true;}else{if(b.subscribeToEvent(eventName,b.EventCategory.InputFormat)){this._.eventManager.addEventListener(eventName,callback);return true;}}return false;};InputFormat.prototype.removeEventListener=function(eventName,callback){this._.eventManager.removeEventListener(eventName,callback);if(!this._.eventManager.callbacks.hasOwnProperty(eventName)||this._.eventManager.callbacks[eventName].length===0){b.unsubscribeFromEvent(eventName,b.EventCategory.InputFormat);}};InputFormat.prototype.getAllFrameLines=function(callback,errorCallback){this.getPropertyValue(d.AllFrameLines,callback,errorCallback);};InputFormat.prototype.setAllFrameLines=function(allFrameLines,callback,errorCallback){if(typeof allFrameLines!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.AllFrameLines,allFrameLines,callback,errorCallback);};InputFormat.prototype.getBold=function(callback,errorCallback){this.getPropertyValue(d.Bold,callback,errorCallback);};InputFormat.prototype.setBold=function(bold,callback,errorCallback){if(typeof bold!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Bold,bold,callback,errorCallback);};InputFormat.prototype.getBottomAligned=function(callback,errorCallback){this.getPropertyValue(d.BottomAligned,callback,errorCallback);};InputFormat.prototype.setBottomAligned=function(bottomAligned,callback,errorCallback){if(typeof bottomAligned!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.BottomAligned,bottomAligned,callback,errorCallback);};InputFormat.prototype.getBottomDistance=function(callback,errorCallback){this.getPropertyValue(d.BottomDistance,callback,errorCallback);};InputFormat.prototype.setBottomDistance=function(bottomDistance,callback,errorCallback){if(typeof bottomDistance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.BottomDistance,bottomDistance,callback,errorCallback);};InputFormat.prototype.getBoxFrame=function(callback,errorCallback){this.getPropertyValue(d.BoxFrame,callback,errorCallback);};InputFormat.prototype.setBoxFrame=function(boxFrame,callback,errorCallback){if(typeof boxFrame!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.BoxFrame,boxFrame,callback,errorCallback);};InputFormat.prototype.getBulletCharacter=function(callback,errorCallback){this.getPropertyValue(d.BulletCharacter,callback,errorCallback);};InputFormat.prototype.setBulletCharacter=function(bulletCharacter,g,h){if(typeof bulletCharacter!=="string"&&bulletCharacter.length>0){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.BulletCharacter,bulletCharacter[0],g,h);};InputFormat.prototype.getBulletedList=function(callback,errorCallback){this.getPropertyValue(d.BulletedList,callback,errorCallback);};InputFormat.prototype.setBulletedList=function(bulletedList,callback,errorCallback){if(typeof bulletedList!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.BulletedList,bulletedList,callback,errorCallback);};InputFormat.prototype.getCentered=function(callback,errorCallback){this.getPropertyValue(d.Centered,callback,errorCallback);};InputFormat.prototype.setCentered=function(centered,callback,errorCallback){if(typeof centered!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Centered,centered,callback,errorCallback);};InputFormat.prototype.getFontFamily=function(callback,errorCallback){this.getPropertyValue(d.FontFamily,callback,errorCallback);};InputFormat.prototype.setFontFamily=function(fontFamily,callback,errorCallback){if(typeof fontFamily!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.FontFamily,fontFamily,callback,errorCallback);};InputFormat.prototype.getFrameFillColor=function(callback,errorCallback){this.getPropertyValue(d.FrameFillColor,callback,errorCallback);};InputFormat.prototype.setFrameFillColor=function(frameFillColor,callback,errorCallback){if(typeof frameFillColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.FrameFillColor,frameFillColor,callback,errorCallback);};InputFormat.prototype.getFrameLineColor=function(callback,errorCallback){this.getPropertyValue(d.FrameLineColor,callback,errorCallback);};InputFormat.prototype.setFrameLineColor=function(frameLineColor,callback,errorCallback){if(typeof frameLineColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.FrameLineColor,frameLineColor,callback,errorCallback);};InputFormat.prototype.getFrameLineWidth=function(callback,errorCallback){this.getPropertyValue(d.FrameLineWidth,callback,errorCallback);};InputFormat.prototype.setFrameLineWidth=function(frameLineWidth,callback,errorCallback){if(typeof frameLineWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.FrameLineWidth,frameLineWidth,callback,errorCallback);};InputFormat.prototype.getHangingIndent=function(callback,errorCallback){this.getPropertyValue(d.HangingIndent,callback,errorCallback);};InputFormat.prototype.setHangingIndent=function(hangingIndent,callback,errorCallback){if(typeof hangingIndent!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.HangingIndent,hangingIndent,callback,errorCallback);};InputFormat.prototype.getInnerHorizontalFrameLines=function(callback,errorCallback){this.getPropertyValue(d.InnerHorizontalFrameLines,callback,errorCallback);};InputFormat.prototype.setInnerHorizontalFrameLines=function(innerHorizontalFrameLines,callback,errorCallback){if(typeof innerHorizontalFrameLines!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.InnerHorizontalFrameLines,innerHorizontalFrameLines,callback,errorCallback);};InputFormat.prototype.getInnerVerticalFrameLines=function(callback,errorCallback){this.getPropertyValue(d.InnerVerticalFrameLines,callback,errorCallback);};InputFormat.prototype.setInnerVerticalFrameLines=function(innerVerticalFrameLines,callback,errorCallback){if(typeof innerVerticalFrameLines!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.InnerVerticalFrameLines,innerVerticalFrameLines,callback,errorCallback);};InputFormat.prototype.getItalic=function(callback,errorCallback){this.getPropertyValue(d.Italic,callback,errorCallback);};InputFormat.prototype.setItalic=function(italic,callback,errorCallback){if(typeof italic!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Italic,italic,callback,errorCallback);};InputFormat.prototype.getJustified=function(callback,errorCallback){this.getPropertyValue(d.Justified,callback,errorCallback);};InputFormat.prototype.setJustified=function(justified,callback,errorCallback){if(typeof justified!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Justified,justified,callback,errorCallback);};InputFormat.prototype.getLeftAligned=function(callback,errorCallback){this.getPropertyValue(d.LeftAligned,callback,errorCallback);};InputFormat.prototype.setLeftAligned=function(leftAligned,callback,errorCallback){if(typeof leftAligned!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.LeftAligned,leftAligned,callback,errorCallback);};InputFormat.prototype.getLeftFrameLine=function(callback,errorCallback){this.getPropertyValue(d.LeftFrameLine,callback,errorCallback);};InputFormat.prototype.setLeftFrameLine=function(leftFrameLine,callback,errorCallback){if(typeof leftFrameLine!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.LeftFrameLine,leftFrameLine,callback,errorCallback);};InputFormat.prototype.getLeftIndent=function(callback,errorCallback){this.getPropertyValue(d.LeftIndent,callback,errorCallback);};InputFormat.prototype.setLeftIndent=function(leftIndent,callback,errorCallback){if(typeof leftIndent!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.LeftIndent,leftIndent,callback,errorCallback);};InputFormat.prototype.getLeftToRight=function(callback,errorCallback){this.getPropertyValue(d.LeftToRight,callback,errorCallback);};InputFormat.prototype.setLeftToRight=function(leftToRight,callback,errorCallback){if(typeof leftToRight!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.LeftToRight,leftToRight,callback,errorCallback);};InputFormat.prototype.getLinespacing=function(callback,errorCallback){this.getPropertyValue(d.LineSpacing,callback,errorCallback);};InputFormat.prototype.setLinespacing=function(lineSpacing,callback,errorCallback){if(typeof lineSpacing!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.LineSpacing,lineSpacing,callback,errorCallback);};InputFormat.prototype.getNumberedList=function(callback,errorCallback){this.getPropertyValue(d.NumberedList,callback,errorCallback);};InputFormat.prototype.setNumberedList=function(isNumberedList,callback,errorCallback){if(typeof isNumberedList!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.NumberedList,isNumberedList,callback,errorCallback);};InputFormat.prototype.getNumberedListFormat=function(callback,errorCallback){this.getPropertyValue(d.NumberedListFormat,callback,errorCallback);};InputFormat.prototype.setNumberedListFormat=function(numberedListFormat,callback,errorCallback){if(typeof numberedListFormat!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.NumberedListFormat,numberedListFormat,callback,errorCallback);};InputFormat.prototype.getNumberFormats=function(callback,errorCallback){this.getPropertyValue(d.NumberFormats,callback,errorCallback);};InputFormat.prototype.getRightAligned=function(callback,errorCallback){this.getPropertyValue(d.RightAligned,callback,errorCallback);};InputFormat.prototype.setRightAligned=function(isRightAligned,callback,errorCallback){if(typeof isRightAligned!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.RightAligned,isRightAligned,callback,errorCallback);};InputFormat.prototype.getRightFrameLine=function(callback,errorCallback){this.getPropertyValue(d.RightFrameLine,callback,errorCallback);};InputFormat.prototype.setRightFrameLine=function(hasRightFrameLine,callback,errorCallback){if(typeof hasRightFrameLine!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.RightFrameLine,hasRightFrameLine,callback,errorCallback);};InputFormat.prototype.getRightIndent=function(callback,errorCallback){this.getPropertyValue(d.RightIndent,callback,errorCallback);};InputFormat.prototype.setRightIndent=function(rightIndent,callback,errorCallback){if(typeof rightIndent!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.RightIndent,rightIndent,callback,errorCallback);};InputFormat.prototype.getRightToLeft=function(callback,errorCallback){this.getPropertyValue(d.RightToLeft,callback,errorCallback);};InputFormat.prototype.setRightToLeft=function(rightToLeft,callback,errorCallback){if(typeof rightToLeft!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.RightToLeft,rightToLeft,callback,errorCallback);};InputFormat.prototype.getStrikeout=function(callback,errorCallback){this.getPropertyValue(d.Strikeout,callback,errorCallback);};InputFormat.prototype.setStrikeout=function(hasStrikeout,callback,errorCallback){if(typeof hasStrikeout!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Strikeout,hasStrikeout,callback,errorCallback);};InputFormat.prototype.getStructuredList=function(callback,errorCallback){this.getPropertyValue(d.StructuredList,callback,errorCallback);};InputFormat.prototype.setStructuredList=function(isStructuredList,callback,errorCallback){if(typeof isStructuredList!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.StructuredList,isStructuredList,callback,errorCallback);};InputFormat.prototype.getStructuredListFormat=function(callback,errorCallback){this.getPropertyValue(d.StructuredListFormat,callback,errorCallback);};InputFormat.prototype.setStructuredListFormat=function(structuredListFormat,callback,errorCallback){if(typeof structuredListFormat!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.StructuredListFormat,structuredListFormat,callback,errorCallback);};InputFormat.prototype.getStructureLevel=function(callback,errorCallback){this.getPropertyValue(d.StructureLevel,callback,errorCallback);};InputFormat.prototype.setStructureLevel=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.StructureLevel,value,callback,errorCallback);};InputFormat.prototype.getStyleName=function(callback,errorCallback){this.getPropertyValue(d.StyleName,callback,errorCallback);};InputFormat.prototype.setStyleName=function(styleName,callback,errorCallback){if(typeof styleName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.StyleName,styleName,callback,errorCallback);};InputFormat.prototype.getStyleNames=function(callback,errorCallback){this.getPropertyValue(d.StyleNames,callback,errorCallback);};InputFormat.prototype.getSubscript=function(callback,errorCallback){this.getPropertyValue(d.Subscript,callback,errorCallback);};InputFormat.prototype.setSubscript=function(subscript,callback,errorCallback){if(typeof subscript!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Subscript,subscript,callback,errorCallback);};InputFormat.prototype.getSuperscript=function(callback,errorCallback){this.getPropertyValue(d.Superscript,callback,errorCallback);};InputFormat.prototype.setSuperscript=function(superscript,callback,errorCallback){if(typeof superscript!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Superscript,superscript,callback,errorCallback);};InputFormat.prototype.getTextBackColor=function(callback,errorCallback){this.getPropertyValue(d.TextBackColor,callback,errorCallback);};InputFormat.prototype.setTextBackColor=function(textBackColor,callback,errorCallback){if(typeof textBackColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.TextBackColor,textBackColor,callback,errorCallback);};InputFormat.prototype.getTextColor=function(callback,errorCallback){this.getPropertyValue(d.TextColor,callback,errorCallback);};InputFormat.prototype.setTextColor=function(textColor,callback,errorCallback){if(typeof textColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.TextColor,textColor,callback,errorCallback);};InputFormat.prototype.getTopAligned=function(callback,errorCallback){this.getPropertyValue(d.TopAligned,callback,errorCallback);};InputFormat.prototype.setTopAligned=function(isTopAligned,callback,errorCallback){if(!(typeof isTopAligned==="boolean")){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.TopAligned,isTopAligned,callback,errorCallback);};InputFormat.prototype.getTopDistance=function(callback,errorCallback){this.getPropertyValue(d.TopDistance,callback,errorCallback);};InputFormat.prototype.setTopDistance=function(topDistance,callback,errorCallback){if(!(typeof topDistance==="number")){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.TopDistance,topDistance,callback,errorCallback);};InputFormat.prototype.getTopFrameLine=function(callback,errorCallback){this.getPropertyValue(d.TopFrameLine,callback,errorCallback);};InputFormat.prototype.setTopFrameLine=function(topFrameLine,callback,errorCallback){if(!(typeof topFrameLine==="boolean")){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.TopFrameLine,topFrameLine,callback,errorCallback);};InputFormat.prototype.getUnderline=function(callback,errorCallback){this.getPropertyValue(d.Underline,callback,errorCallback);};InputFormat.prototype.setUnderline=function(underline,callback,errorCallback){if(!(typeof underline==="boolean")){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Underline,underline,callback,errorCallback);};InputFormat.prototype.getUnderlineStyle=function(callback,errorCallback){this.getPropertyValue(d.UnderlineStyle,callback,errorCallback);};InputFormat.prototype.setUnderlineStyle=function(fontUnderlineStyle,callback,errorCallback){if(typeof fontUnderlineStyle!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.UnderlineStyle,fontUnderlineStyle,callback,errorCallback);};InputFormat.prototype.getVerticallyCentered=function(callback,errorCallback){this.getPropertyValue(d.VerticallyCentered,callback,errorCallback);};InputFormat.prototype.setVerticallyCentered=function(verticallyCentered,callback,errorCallback){if(!(typeof verticallyCentered==="boolean")){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.VerticallyCentered,verticallyCentered,callback,errorCallback);};InputFormat.prototype.getFontSize=function(callback,errorCallback){this.getPropertyValue(d.FontSize,callback,errorCallback);};InputFormat.prototype.setFontSize=function(fontSize,callback,errorCallback){if(typeof fontSize!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.FontSize,fontSize,callback,errorCallback);};InputFormat.prototype.getSupportedFontFamilies=function(callback,errorCallback){this.callMethod(c.GetFontFamilies,callback,[],errorCallback);};InputFormat.prototype.getSupportedUnderlineStyles=function(callback,errorCallback){this.callMethod(d.UnderlineStyles,callback,[],errorCallback);};InputFormat.prototype.getSupportedFontSizes=function(callback,fontFamily,g){if(typeof fontFamily!=="undefined"){if(typeof fontFamily!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.callMethod(c.GetFontSizes,callback,[fontFamily],g);}else{this.callMethod(c.GetFontSizes,callback,[],g);}};InputFormat.prototype.activateEvent=function(i,g,h){this.callMethod("ActivateEvent",g,[i],h);};InputFormat.prototype.deactivateEvent=function(i,g,h){this.callMethod("DeactivateEvent",g,[i],h);};return InputFormat;})(b.TextControlClassAdapter);b.isColor=function(g){var f=new Option().style;f.color=g.toLowerCase();return f.color===g.toLowerCase()||b.isValidHexColor(g);};return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};b.ListFormatPropertyName=Object.freeze({BulletCharacter:"BulletCharacter",BulletSize:"BulletSize",FirstNumber:"FirstNumber",FontName:"FontName",FormatCharacter:"FormatCharacter",HangingIndent:"HangingIndent",LeftIndent:"LeftIndent",Level:"Level",NumberFormat:"NumberFormat",RestartNumbering:"RestartNumbering",TextAfterNumber:"TextAfterNumber",TextBeforeNumber:"TextBeforeNumber",Type:"Type",});var c=b.ListFormatPropertyName;b.ListFormat=(function(e){__extends(ListFormat,e);function ListFormat(){e.call(this);}ListFormat.prototype.setBulletCharacter=function(bulletCharacter,callback,errorCallback){if(typeof bulletCharacter!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.BulletCharacter,bulletCharacter,callback,errorCallback);};ListFormat.prototype.setBulletSize=function(size,callback,errorCallback){if(typeof size!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.BulletSize,size,callback,errorCallback);};ListFormat.prototype.setFirstNumber=function(firstNumber,callback,errorCallback){if(typeof firstNumber!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.FirstNumber,firstNumber,callback,errorCallback);};ListFormat.prototype.setFontName=function(fontName,callback,errorCallback){if(typeof fontName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.FontName,fontName,callback,errorCallback);};ListFormat.prototype.setFormatCharacter=function(formatCharacter,callback,errorCallback){if(typeof formatCharacter!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.FormatCharacter,formatCharacter,callback,errorCallback);};ListFormat.prototype.setHangingIndent=function(indent,callback,errorCallback){if(typeof indent!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.HangingIndent,indent,callback,errorCallback);};ListFormat.prototype.setLeftIndent=function(indent,callback,errorCallback){if(typeof indent!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.LeftIndent,indent,callback,errorCallback);};ListFormat.prototype.setLevel=function(level,callback,errorCallback){if(typeof level!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Level,level,callback,errorCallback);};ListFormat.prototype.setNumberFormat=function(numberFormat,callback,errorCallback){if(typeof numberFormat!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.NumberFormat,numberFormat,callback,errorCallback);};ListFormat.prototype.setRestartNumbering=function(restartNumbering,callback,errorCallback){if(typeof restartNumbering!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.RestartNumbering,restartNumbering,callback,errorCallback);};ListFormat.prototype.setTextAfterNumber=function(textAfterNumber,callback,errorCallback){if(typeof textAfterNumber!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.TextAfterNumber,textAfterNumber,callback,errorCallback);};ListFormat.prototype.setTextBeforeNumber=function(textBeforeNumber,callback,errorCallback){if(typeof textBeforeNumber!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.TextBeforeNumber,textBeforeNumber,callback,errorCallback);};ListFormat.prototype.setType=function(type,callback,errorCallback){if(typeof type!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Type,type,callback,errorCallback);};ListFormat.prototype.getBulletCharacter=function(callback,errorCallback){this.getPropertyValue(c.BulletCharacter,callback,errorCallback);};ListFormat.prototype.getBulletSize=function(callback,errorCallback){this.getPropertyValue(c.BulletSize,callback,errorCallback);};ListFormat.prototype.getFirstNumber=function(callback,errorCallback){this.getPropertyValue(c.FirstNumber,callback,errorCallback);};ListFormat.prototype.getFontName=function(callback,errorCallback){this.getPropertyValue(c.FontName,callback,errorCallback);};ListFormat.prototype.getFormatCharacter=function(callback,errorCallback){this.getPropertyValue(c.FormatCharacter,callback,errorCallback);};ListFormat.prototype.getHangingIndent=function(callback,errorCallback){this.getPropertyValue(c.HangingIndent,callback,errorCallback);};ListFormat.prototype.getLeftIndent=function(callback,errorCallback){this.getPropertyValue(c.LeftIndent,callback,errorCallback);};ListFormat.prototype.getLevel=function(callback,errorCallback){this.getPropertyValue(c.Level,callback,errorCallback);};ListFormat.prototype.getNumberFormat=function(callback,errorCallback){this.getPropertyValue(c.NumberFormat,callback,errorCallback);};ListFormat.prototype.getRestartNumbering=function(callback,errorCallback){this.getPropertyValue(c.RestartNumbering,callback,errorCallback);};ListFormat.prototype.getTextAfterNumber=function(callback,errorCallback){this.getPropertyValue(c.TextAfterNumber,callback,errorCallback);};ListFormat.prototype.getTextBeforeNumber=function(callback,errorCallback){this.getPropertyValue(c.TextBeforeNumber,callback,errorCallback);};ListFormat.prototype.getType=function(callback,errorCallback){this.getPropertyValue(c.Type,callback,errorCallback);};return ListFormat;})(b.TextControlClassAdapter);b.ListFormat.Attribute={Level:1,LeftIndent:2,FormatCharacter:4,NumberFormat:8,FirstNumber:16,CharBeforeNumber:32,CharAfterNumber:64,RestartNumbering:128,BulletCharacter:256,BulletSize:512,HangingIndent:1024,Type:2048,TextBeforeNumber:4096,TextAfterNumber:8192,FontName:16384,All:32767,};return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.MergeField=(function(d){__extends(e,d);function e(name){d.call(this,true);this.name=name||"MERGEFIELD";this.text=""+this.name+"";this.textFormat=0;this.textBefore="";this.textAfter="";this.dateTimeFormat="";this.numericFormat="";}e.prototype.toPascalCase=function(){return{Name:this.name,Text:this.text,TextFormat:this.textFormat,TextBefore:this.textBefore,TextAfter:this.textAfter,DateTimeFormat:this.dateTimeFormat,NumericFormat:this.numericFormat,PreserveFormatting:this.preserveFormatting};};return e;})(b.FieldAdapter);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({BottomDistance:"BottomDistance",BottomLineColor:"BottomLineColor",BottomLineWidth:"BottomLineWidth",FirstPageOnly:"FirstPageOnly",LeftDistance:"LeftDistance",LeftLineColor:"LeftLineColor",LeftLineWidth:"LeftLineWidth",MeasureFromText:"MeasureFromText",OmitFirstPage:"OmitFirstPage",RightDistance:"RightDistance",RightLineColor:"RightLineColor",RightLineWidth:"RightLineWidth",SurroundFooter:"SurroundFooter",SurroundHeader:"SurroundHeader",TopDistance:"TopDistance",TopLineColor:"TopLineColor",TopLineWidth:"TopLineWidth",});b.PageBorder=(function(e){__extends(PageBorder,e);function PageBorder(){e.call(this);}PageBorder.prototype.getBottomDistance=function(callback,errorCallback){this.getPropertyValue(c.BottomDistance,callback,errorCallback);};PageBorder.prototype.getBottomLineColor=function(callback,errorCallback){this.getPropertyValue(c.BottomLineColor,callback,errorCallback);};PageBorder.prototype.getBottomLineWidth=function(callback,errorCallback){this.getPropertyValue(c.BottomLineWidth,callback,errorCallback);};PageBorder.prototype.getFirstPageOnly=function(callback,errorCallback){this.getPropertyValue(c.FirstPageOnly,callback,errorCallback);};PageBorder.prototype.getLeftDistance=function(callback,errorCallback){this.getPropertyValue(c.LeftDistance,callback,errorCallback);};PageBorder.prototype.getLeftLineColor=function(callback,errorCallback){this.getPropertyValue(c.LeftLineColor,callback,errorCallback);};PageBorder.prototype.getLeftLineWidth=function(callback,errorCallback){this.getPropertyValue(c.LeftLineWidth,callback,errorCallback);};PageBorder.prototype.getMeasureFromText=function(callback,errorCallback){this.getPropertyValue(c.MeasureFromText,callback,errorCallback);};PageBorder.prototype.getOmitFirstPage=function(callback,errorCallback){this.getPropertyValue(c.OmitFirstPage,callback,errorCallback);};PageBorder.prototype.getRightDistance=function(callback,errorCallback){this.getPropertyValue(c.RightDistance,callback,errorCallback);};PageBorder.prototype.getRightLineColor=function(callback,errorCallback){this.getPropertyValue(c.RightLineColor,callback,errorCallback);};PageBorder.prototype.getRightLineWidth=function(callback,errorCallback){this.getPropertyValue(c.RightLineWidth,callback,errorCallback);};PageBorder.prototype.getSurroundFooter=function(callback,errorCallback){this.getPropertyValue(c.SurroundFooter,callback,errorCallback);};PageBorder.prototype.getSurroundHeader=function(callback,errorCallback){this.getPropertyValue(c.SurroundHeader,callback,errorCallback);};PageBorder.prototype.getTopDistance=function(callback,errorCallback){this.getPropertyValue(c.TopDistance,callback,errorCallback);};PageBorder.prototype.getTopLineColor=function(callback,errorCallback){this.getPropertyValue(c.TopLineColor,callback,errorCallback);};PageBorder.prototype.getTopLineWidth=function(callback,errorCallback){this.getPropertyValue(c.TopLineWidth,callback,errorCallback);};PageBorder.prototype.setBottomDistance=function(bottomDistance,callback,errorCallback){if(typeof bottomDistance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.BottomDistance,bottomDistance,callback,errorCallback);};PageBorder.prototype.setBottomLineColor=function(bottomLineColor,callback,errorCallback){if(typeof bottomLineColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.BottomLineColor,bottomLineColor,callback,errorCallback);};PageBorder.prototype.setBottomLineWidth=function(bottomLineWidth,callback,errorCallback){if(typeof bottomLineWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.BottomLineWidth,bottomLineWidth,callback,errorCallback);};PageBorder.prototype.setFirstPageOnly=function(firstPageOnly,callback,errorCallback){if(typeof firstPageOnly!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.FirstPageOnly,firstPageOnly,callback,errorCallback);};PageBorder.prototype.setLeftDistance=function(leftDistance,callback,errorCallback){if(typeof leftDistance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.LeftDistance,leftDistance,callback,errorCallback);};PageBorder.prototype.setLeftLineColor=function(leftLineColor,callback,errorCallback){if(typeof leftLineColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.LeftLineColor,leftLineColor,callback,errorCallback);};PageBorder.prototype.setLeftLineWidth=function(leftLineWidth,callback,errorCallback){if(typeof leftLineWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.LeftLineWidth,leftLineWidth,callback,errorCallback);};PageBorder.prototype.setMeasureFromText=function(measureFromText,callback,errorCallback){if(typeof measureFromText!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.MeasureFromText,measureFromText,callback,errorCallback);};PageBorder.prototype.setOmitFirstPage=function(omitFirstPage,callback,errorCallback){if(typeof omitFirstPage!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.OmitFirstPage,omitFirstPage,callback,errorCallback);};PageBorder.prototype.setRightDistance=function(rightDistance,callback,errorCallback){if(typeof rightDistance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.RightDistance,rightDistance,callback,errorCallback);};PageBorder.prototype.setRightLineColor=function(rightLineColor,callback,errorCallback){if(typeof rightLineColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.RightLineColor,rightLineColor,callback,errorCallback);};PageBorder.prototype.setRightLineWidth=function(rightLineWidth,callback,errorCallback){if(typeof rightLineWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.RightLineWidth,rightLineWidth,callback,errorCallback);};PageBorder.prototype.setSurroundFooter=function(surroundFooter,callback,errorCallback){if(typeof surroundFooter!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.SurroundFooter,surroundFooter,callback,errorCallback);};PageBorder.prototype.setSurroundHeader=function(surroundHeader,callback,errorCallback){if(typeof surroundHeader!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.SurroundHeader,surroundHeader,callback,errorCallback);};PageBorder.prototype.setTopDistance=function(topDistance,callback,errorCallback){if(typeof topDistance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.TopDistance,topDistance,callback,errorCallback);};PageBorder.prototype.setTopLineColor=function(topLineColor,callback,errorCallback){if(typeof topLineColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.TopLineColor,topLineColor,callback,errorCallback);};PageBorder.prototype.setTopLineWidth=function(topLineWidth,callback,errorCallback){if(typeof topLineWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.TopLineWidth,topLineWidth,callback,errorCallback);};return PageBorder;})(b.TextControlClassAdapter);b.PageBorder.Attribute={LeftLineWidth:1,TopLineWidth:2,RightLineWidth:4,BottomLineWidth:8,LeftLineColor:16,TopLineColor:32,RightLineColor:64,BottomLineColor:128,LeftDistance:256,TopDistance:512,RightDistance:1024,BottomDistance:2048,MeasureFromText:4096,FirstPageOnly:8192,OmitFirstPage:16384,SurroundHeader:32768,SurroundFooter:65536,All:131071,};return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Bottom:"Bottom",Left:"Left",Right:"Right",Top:"Top",});b.PageMargins=(function(e){__extends(PageMargins,e);function PageMargins(){e.call(this);}PageMargins.prototype.getBottom=function(callback,errorCallback){this.getPropertyValue(c.Bottom,callback,errorCallback);};PageMargins.prototype.getTop=function(callback,errorCallback){this.getPropertyValue(c.Top,callback,errorCallback);};PageMargins.prototype.getRight=function(callback,errorCallback){this.getPropertyValue(c.Right,callback,errorCallback);};PageMargins.prototype.getLeft=function(callback,errorCallback){this.getPropertyValue(c.Left,callback,errorCallback);};PageMargins.prototype.setBottom=function(bottom,callback,errorCallback){if(typeof bottom!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Bottom,bottom,callback,errorCallback);};PageMargins.prototype.setTop=function(top,callback,errorCallback){if(typeof top!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Top,top,callback,errorCallback);};PageMargins.prototype.setRight=function(right,callback,errorCallback){if(typeof right!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Right,right,callback,errorCallback);};PageMargins.prototype.setLeft=function(left,callback,errorCallback){if(typeof left!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Left,left,callback,errorCallback);};return PageMargins;})(b.TextControlClassAdapter);b.PageMargins.Attribute={Left:1,Top:2,Right:4,Bottom:8,All:15,};return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Height:"Height",Width:"Width",});b.PageSize=(function(e){__extends(PageSize,e);function PageSize(){e.call(this);}PageSize.prototype.getHeight=function(callback,errorCallback){this.getPropertyValue(c.Height,callback,errorCallback);};PageSize.prototype.getWidth=function(callback,errorCallback){this.getPropertyValue(c.Width,callback,errorCallback);};PageSize.prototype.setHeight=function(height,callback,errorCallback){if(typeof height!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Height,height,callback,errorCallback);};PageSize.prototype.setWidth=function(width,callback,errorCallback){if(typeof width!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Width,width,callback,errorCallback);};return PageSize;})(b.TextControlClassAdapter);b.PageSize.Attribute={Width:1,Height:2,All:3,};return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({AbsoluteLineSpacing:"AbsoluteLineSpacing",Alignment:"Alignment",BackColor:"BackColor",BottomDistance:"BottomDistance",Direction:"Direction",Frame:"Frame",FrameDistance:"FrameDistance",FrameLineColor:"FrameLineColor",FrameLineWidth:"FrameLineWidth",FrameStyle:"FrameStyle",HangingIndent:"HangingIndent",Justification:"Justification",KeepLinesTogether:"KeepLinesTogether",KeepWithNext:"KeepWithNext",LeftIndent:"LeftIndent",LineSpacing:"LineSpacing",PageBreakBefore:"PageBreakBefore",RightIndent:"RightIndent",StructureLevel:"StructureLevel",TabLeaders:"TabLeaders",TabPositions:"TabPositions",TabTypes:"TabTypes",TopDistance:"TopDistance",WidowOrphanLines:"WidowOrphanLines",});b.TabLeader={};b.ParagraphFormat=(function(e){__extends(ParagraphFormat,e);function ParagraphFormat(){e.call(this);}ParagraphFormat.prototype.setAbsoluteLineSpacing=function(absoluteLineSpacing,callback,errorCallback){if(typeof absoluteLineSpacing!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.AbsoluteLineSpacing,absoluteLineSpacing,callback,errorCallback);};ParagraphFormat.prototype.setAlignment=function(alignment,callback,errorCallback){if(typeof alignment!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Alignment,alignment,callback,errorCallback);};ParagraphFormat.prototype.setBackColor=function(backColor,callback,errorCallback){if(typeof backColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.BackColor,backColor,callback,errorCallback);};ParagraphFormat.prototype.setBottomDistance=function(bottomDistance,callback,errorCallback){if(typeof bottomDistance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.BottomDistance,bottomDistance,callback,errorCallback);};ParagraphFormat.prototype.setDirection=function(direction,callback,errorCallback){if(typeof direction!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Direction,direction,callback,errorCallback);};ParagraphFormat.prototype.setFrame=function(frame,callback,errorCallback){if(typeof frame!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Frame,frame,callback,errorCallback);};ParagraphFormat.prototype.setFrameDistance=function(distance,callback,errorCallback){if(typeof distance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Distance,distance,callback,errorCallback);};ParagraphFormat.prototype.setFrameLineColor=function(frameLineColor,callback,errorCallback){if(typeof frameLineColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.FrameLineColor,frameLineColor,callback,errorCallback);};ParagraphFormat.prototype.setFrameLineWidth=function(frameLineWidth,callback,errorCallback){if(typeof frameLineWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.FrameLineWidth,frameLineWidth,callback,errorCallback);};ParagraphFormat.prototype.setFrameStyle=function(frameStyle,callback,errorCallback){if(typeof frameStyle!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.FrameStyle,frameStyle,callback,errorCallback);};ParagraphFormat.prototype.setHangingIndent=function(indent,callback,errorCallback){if(typeof indent!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.HangingIndent,indent,callback,errorCallback);};ParagraphFormat.prototype.setJustification=function(justification,callback,errorCallback){if(typeof justification!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Justification,justification,callback,errorCallback);};ParagraphFormat.prototype.setKeepLinesTosether=function(keepLinesTogether,callback,errorCallback){if(typeof keepLinesTogether!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.KeepLinesTogether,keepLinesTogether,callback,errorCallback);};ParagraphFormat.prototype.setKeepWithNext=function(keepWithNext,callback,errorCallback){if(typeof keepWithNext!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.KeepWithNext,keepWithNext,callback,errorCallback);};ParagraphFormat.prototype.setLeftIndent=function(indent,callback,errorCallback){if(typeof indent!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.LeftIndent,indent,callback,errorCallback);};ParagraphFormat.prototype.setLineSpacing=function(lineSpacing,callback,errorCallback){if(typeof lineSpacing!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.LineSpacing,lineSpacing,callback,errorCallback);};ParagraphFormat.prototype.setPageBreakBefore=function(pageBreakBefore,callback,errorCallback){if(typeof pageBreakBefore!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.PageBreakBefore,pageBreakBefore,callback,errorCallback);};ParagraphFormat.prototype.setRightIndent=function(rightIndent,callback,errorCallback){if(typeof rightIndent!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.RightIndent,rightIndent,callback,errorCallback);};ParagraphFormat.prototype.setStructureLevel=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.StructureLevel,value,callback,errorCallback);};ParagraphFormat.prototype.setTabLeaders=function(value,callback,errorCallback){if(!Array.isArray(value)){throw new TypeError(b.ErrorText.ParamNotAnArray);}this.setPropertyValue(c.TabLeaders,value,callback,errorCallback);};ParagraphFormat.prototype.setTabPositions=function(tabPositions,callback,errorCallback){this.setPropertyValue(c.TabPositions,tabPositions,callback,errorCallback);};ParagraphFormat.prototype.setTabTypes=function(tabTypes,callback,errorCallback){this.setPropertyValue(c.TabTypes,tabTypes,callback,errorCallback);};ParagraphFormat.prototype.setTopDistance=function(distance,callback,errorCallback){if(typeof distance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.TopDistance,distance,callback,errorCallback);};ParagraphFormat.prototype.setWidowOrphanLines=function(lines,callback,errorCallback){if(typeof lines!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.WidowOrphanLines,lines,callback,errorCallback);};ParagraphFormat.prototype.getAbsoluteLineSpacing=function(callback,errorCallback){this.getPropertyValue(c.AbsoluteLineSpacing,callback,errorCallback);};ParagraphFormat.prototype.getAlignment=function(callback,errorCallback){this.getPropertyValue(c.Alignment,callback,errorCallback);};ParagraphFormat.prototype.getBackColor=function(callback,errorCallback){this.getPropertyValue(c.BackColor,callback,errorCallback);};ParagraphFormat.prototype.getBottomDistance=function(callback,errorCallback){this.getPropertyValue(c.BottomDistance,callback,errorCallback);};ParagraphFormat.prototype.getDirection=function(callback,errorCallback){this.getPropertyValue(c.Direction,callback,errorCallback);};ParagraphFormat.prototype.getFrame=function(callback,errorCallback){this.getPropertyValue(c.Frame,callback,errorCallback);};ParagraphFormat.prototype.getFrameDistance=function(callback,errorCallback){this.getPropertyValue(c.FrameDistance,callback,errorCallback);};ParagraphFormat.prototype.getFrameLineColor=function(callback,errorCallback){this.getPropertyValue(c.FrameLineColor,callback,errorCallback);};ParagraphFormat.prototype.getFrameLineWidth=function(callback,errorCallback){this.getPropertyValue(c.FrameLineWidth,callback,errorCallback);};ParagraphFormat.prototype.getFrameStyle=function(callback,errorCallback){this.getPropertyValue(c.FrameStyle,callback,errorCallback);};ParagraphFormat.prototype.getHangingIndent=function(callback,errorCallback){this.getPropertyValue(c.HangingIndent,callback,errorCallback);};ParagraphFormat.prototype.getJustification=function(callback,errorCallback){this.getPropertyValue(c.Justification,callback,errorCallback);};ParagraphFormat.prototype.getKeepLinesTogether=function(callback,errorCallback){this.getPropertyValue(c.KeepLinesTogether,callback,errorCallback);};ParagraphFormat.prototype.getKeepWithNext=function(callback,errorCallback){this.getPropertyValue(c.KeepWithNext,callback,errorCallback);};ParagraphFormat.prototype.getLeftIndent=function(callback,errorCallback){this.getPropertyValue(c.LeftIndent,callback,errorCallback);};ParagraphFormat.prototype.getLineSpacing=function(callback,errorCallback){this.getPropertyValue(c.LineSpacing,callback,errorCallback);};ParagraphFormat.prototype.getPageBreakBefore=function(callback,errorCallback){this.getPropertyValue(c.PageBreakBefore,callback,errorCallback);};ParagraphFormat.prototype.getRightIndent=function(callback,errorCallback){this.getPropertyValue(c.RightIndent,callback,errorCallback);};ParagraphFormat.prototype.getStructureLevel=function(callback,errorCallback){this.getPropertyValue(c.StructureLevel,callback,errorCallback);};ParagraphFormat.prototype.getTabLeaders=function(callback,errorCallback){this.getPropertyValue(c.TabLeaders,callback,errorCallback);};ParagraphFormat.prototype.getTabPositions=function(callback,errorCallback){this.getPropertyValue(c.TabPositions,callback,errorCallback);};ParagraphFormat.prototype.getTabTypes=function(callback,errorCallback){this.getPropertyValue(c.TabTypes,callback,errorCallback);};ParagraphFormat.prototype.getTopDistance=function(callback,errorCallback){this.getPropertyValue(c.TopDistance,callback,errorCallback);};ParagraphFormat.prototype.getWidowOrphanLines=function(callback,errorCallback){this.getPropertyValue(c.WidowOrphanLines,callback,errorCallback);};return ParagraphFormat;})(b.TextControlClassAdapter);b.ParagraphFormat._adapt=function(g,e,h){var f=new b.ParagraphFormat();g.addPropertyAccessEventListener(f,h);return f;};b.ParagraphFormat.Attribute=Object.freeze({Alignment:1,LeftIndent:2,RightIndent:4,TopDistance:8,BottomDistance:16,LineSpacing:32,AbsoluteLineSpacing:64,TabPositions:128,TabTypes:256,Frame:512,FrameStyle:1024,FrameLineWidth:2048,FrameDistance:4096,HangingIndent:8192,KeepLinesTogether:16384,KeepWithNext:32768,PageBreakBefore:65536,WidowOrphanLines:131072,Direction:262144,Justification:524288,BackColor:1048576,FrameLineColor:2097152,All:4194303,});return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Format:"Format",Length:"Length",Number:"Number",Start:"Start"});var c=Object.freeze({Select:"Select",});b.Section=(function(f){__extends(Section,f);function Section(g,h){f.call(this,g,h);}Object.defineProperty(Section.prototype,"format",{get:function(){var g=new b.SectionFormat();this.addPropertyAccessEventListener(g,d.Format);return g;},enumerable:true,configurable:true});Section.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};Section.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(d.Number,callback,errorCallback);};Section.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};Section.prototype.select=function(callback,errorCallback){this.callMethod(c.Select,callback,[],errorCallback);};return Section;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.SectionCollection=(function(d){__extends(SectionCollection,d);function SectionCollection(){d.call(this);}SectionCollection.prototype.add=function(sectionBreakKind,callback){if(typeof sectionBreakKind!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(b.CollectionMethodName.Add,callback,[sectionBreakKind],errorCallback);};SectionCollection.prototype.addAtTextPosition=function(sectionBreakKind,textPosition,callback){if(typeof textPosition!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof sectionBreakKind!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(b.CollectionMethodName.Add,callback,[sectionBreakKind,textPosition],errorCallback);};SectionCollection.prototype.getItem=function(callback,e,errorCallback){var g=this;if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if((typeof e!=="undefined")&&(typeof e!=="number")){throw new TypeError(b.ErrorText.ParamNotANumber);}var f=(typeof e!=="undefined")?[e]:[];this.callMethod(b.CollectionMethodName.GetItem,function(h){callback(g._adapt(h));},f,errorCallback);};SectionCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.Section(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return SectionCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({BreakKind:"BreakKind",ColumnDistances:"ColumnDistances",ColumnLineColor:"ColumnLineColor",ColumnLineWidth:"ColumnLineWidth",Columns:"Columns",ColumnWidths:"ColumnWidths",EqualColumnWidth:"EqualColumnWidth",Landscape:"Landscape",PageBorder:"PageBorder",PageMargins:"PageMargins",PageSize:"PageSize",RestartPageNumbering:"RestartPageNumbering"});b.SectionFormat=(function(e){__extends(SectionFormat,e);function SectionFormat(){e.call(this);}Object.defineProperty(SectionFormat.prototype,"pageBorder",{get:function(){var f=new b.PageBorder();this.addPropertyAccessEventListener(f,c.PageBorder);return f;},enumerable:true,configurable:true});Object.defineProperty(SectionFormat.prototype,"pageMargins",{get:function(){var f=new b.PageMargins();this.addPropertyAccessEventListener(f,c.PageMargins);return f;},enumerable:true,configurable:true});Object.defineProperty(SectionFormat.prototype,"pageSize",{get:function(){var f=new b.PageSize();this.addPropertyAccessEventListener(f,c.PageSize);return f;},enumerable:true,configurable:true});SectionFormat.prototype.getBreakKind=function(callback,errorCallback){this.getPropertyValue(c.BreakKind,callback,errorCallback);};SectionFormat.prototype.getColumnDistances=function(callback,errorCallback){this.getPropertyValue(c.ColumnDistances,callback,errorCallback);};SectionFormat.prototype.getColumnLineColor=function(callback,errorCallback){this.getPropertyValue(c.ColumnLineColor,callback,errorCallback);};SectionFormat.prototype.getColumnLineWidth=function(callback,errorCallback){this.getPropertyValue(c.ColumnLineWidth,callback,errorCallback);};SectionFormat.prototype.getColumns=function(callback,errorCallback){this.getPropertyValue(c.Columns,callback,errorCallback);};SectionFormat.prototype.getColumnWidths=function(callback,errorCallback){this.getPropertyValue(c.ColumnWidths,callback,errorCallback);};SectionFormat.prototype.getEqualColumnWidth=function(callback,errorCallback){this.getPropertyValue(c.EqualColumnWidth,callback,errorCallback);};SectionFormat.prototype.getLandscape=function(callback,errorCallback){this.getPropertyValue(c.Landscape,callback,errorCallback);};SectionFormat.prototype.getRestartPageNumbering=function(callback,errorCallback){this.getPropertyValue(c.RestartPageNumbering,callback,errorCallback);};SectionFormat.prototype.setBreakKind=function(breakKind,callback,errorCallback){if(typeof breakKind!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.BreakKind,breakKind,callback,errorCallback);};SectionFormat.prototype.setColumnLineColor=function(color,callback,errorCallback){if(typeof color!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.ColumnLineColor,color,callback,errorCallback);};SectionFormat.prototype.setColumnLineWidth=function(columnLineWidth,errorCallback){if(typeof columnLineWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.ColumnLineWidth,columnLineWidth,callback,errorCallback);};SectionFormat.prototype.setColumns=function(columns,callback,errorCallback){if(typeof columns!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Columns,columns,callback,errorCallback);};SectionFormat.prototype.setColumnWidths=function(columnWidths,callback,errorCallback){this.setPropertyValue(c.ColumnWidths,columnWidths,callback,errorCallback);};SectionFormat.prototype.setEqualColumnWidth=function(equalColumnWidth,callback,errorCallback){if(typeof equalColumnWidth!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.EqualColumnWidth,equalColumnWidth,callback,errorCallback);};SectionFormat.prototype.setLandscape=function(landscape,callback,errorCallback){if(typeof landscape!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.Landscape,landscape,callback,errorCallback);};SectionFormat.prototype.setRestartPageNumbering=function(restartPageNumbering,callback,errorCallback){if(typeof restartPageNumbering!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.RestartPageNumbering,restartPageNumbering,callback,errorCallback);};return SectionFormat;})(b.TextControlClassAdapter);b.SectionFormat.Attribute=Object.freeze({BreakKind:1,Landscape:4,Columns:8,ColumnWidths:16,ColumnDistances:32,ColumnLineWidth:64,ColumnLineColor:128,EqualColumnWidth:256,RestartPageNumbering:512,All:1023,});return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(f,a){var b=f._private=f._private||{};var e=Object.freeze({Baseline:"Baseline",Bold:"Bold",Culture:"Culture",FontName:"FontName",FontSize:"FontSize",ForeColor:"ForeColor",FormattingStyle:"FormattingStyle",Italic:"Italic",Length:"Length",ParagraphFormat:"ParagraphFormat",SectionFormat:"SectionFormat",Start:"Start",Strikeout:"Strikeout",Text:"Text",TextBackColor:"TextBackColor",Underline:"Underline",Bounds:"Bounds"});var c=b.ListFormatPropertyName;var d=Object.freeze({Load:"Load",Save:"Save",SetListFormatProperty:"SetListFormatProperty",GetListFormatProperty:"GetListFormatProperty",IsCommonValueSelected_Selection:"IsCommonValueSelected_Selection",IsCommonValueSelected_ParagraphFormat:"IsCommonValueSelected_ParagraphFormat",IsCommonValueSelected_ListFormat:"IsCommonValueSelected_ListFormat",IsCommonValueSelected_SectionFormat:"IsCommonValueSelected_SectionFormat",IsCommonValueSelected_PageMargins:"IsCommonValueSelected_PageMargins",IsCommonValueSelected_PageSize:"IsCommonValueSelected_PageSize",IsCommonValueSelected_PageBorder:"IsCommonValueSelected_PageBorder"});b.Selection=(function(g){__extends(Selection,g);function Selection(){g.call(this);}Object.defineProperty(Selection.prototype,"listFormat",{get:function(){var h=this;return{setBulletCharacter:function(value,callback,errorCallback){if(value!==null&&typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}h.callMethod(d.SetListFormatProperty,callback,[c.BulletCharacter,value],errorCallback);},getBulletCharacter:function(callback,errorCallback){h.callMethod(d.GetListFormatProperty,callback,[c.BulletCharacter],errorCallback);},setBulletSize:function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}h.callMethod(d.SetListFormatProperty,callback,[c.BulletSize,value],errorCallback);},getBulletSize:function(callback,errorCallback){h.callMethod(d.GetListFormatProperty,callback,[c.BulletSize],errorCallback);},setFirstNumber:function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}h.callMethod(d.SetListFormatProperty,callback,[c.FirstNumber,value],errorCallback);},getFirstNumber:function(callback,errorCallback){h.callMethod(d.GetListFormatProperty,callback,[c.FirstNumber],errorCallback);},setFontName:function(value,callback,errorCallback){if(value!==null&&typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}h.callMethod(d.SetListFormatProperty,callback,[c.FontName,value],errorCallback);},getFontName:function(callback,errorCallback){h.callMethod(d.GetListFormatProperty,callback,[c.FontName],errorCallback);},setFormatCharacter:function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}h.callMethod(d.SetListFormatProperty,callback,[c.FormatCharacter,value],errorCallback);},getFormatCharacter:function(callback,errorCallback){h.callMethod(d.GetListFormatProperty,callback,[c.FormatCharacter],errorCallback);},setHangingIndent:function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}h.callMethod(d.SetListFormatProperty,callback,[c.HangingIndent,value],errorCallback);},getHangingIndent:function(callback,errorCallback){h.callMethod(d.GetListFormatProperty,callback,[c.HangingIndent],errorCallback);},setLeftIndent:function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}h.callMethod(d.SetListFormatProperty,callback,[c.LeftIndent,value],errorCallback);},getLeftIndent:function(callback,errorCallback){h.callMethod(d.GetListFormatProperty,callback,[c.LeftIndent],errorCallback);},setLevel:function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}h.callMethod(d.SetListFormatProperty,callback,[c.Level,value],errorCallback);},getLevel:function(callback,errorCallback){h.callMethod(d.GetListFormatProperty,callback,[c.Level],errorCallback);},setNumberFormat:function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}h.callMethod(d.SetListFormatProperty,callback,[c.NumberFormat,value],errorCallback);},getNumberFormat:function(callback,errorCallback){h.callMethod(d.GetListFormatProperty,callback,[c.NumberFormat],errorCallback);},setRestartNumbering:function(value,callback,errorCallback){if(typeof value!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}h.callMethod(d.SetListFormatProperty,callback,[c.RestartNumbering,value],errorCallback);},getRestartNumbering:function(callback,errorCallback){h.callMethod(d.GetListFormatProperty,callback,[c.RestartNumbering],errorCallback);},setTextAfterNumber:function(value,callback,errorCallback){if(value!==null&&typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}h.callMethod(d.SetListFormatProperty,callback,[c.TextAfterNumber,value],errorCallback);},getTextAfterNumber:function(callback,errorCallback){h.callMethod(d.GetListFormatProperty,callback,[c.TextAfterNumber],errorCallback);},setTextBeforeNumber:function(value,callback,errorCallback){if(value!==null&&typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}h.callMethod(d.SetListFormatProperty,callback,[c.TextBeforeNumber,value],errorCallback);},getTextBeforeNumber:function(callback,errorCallback){h.callMethod(d.GetListFormatProperty,callback,[c.TextBeforeNumber],errorCallback);},setType:function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}h.callMethod(d.SetListFormatProperty,callback,[c.Type,value],errorCallback);},getType:function(callback,errorCallback){h.callMethod(d.GetListFormatProperty,callback,[c.Type],errorCallback);}};},enumerable:true,configurable:true});Object.defineProperty(Selection.prototype,"paragraphFormat",{get:function(){var h=new b.ParagraphFormat();this.addPropertyAccessEventListener(h,e.ParagraphFormat);return h;},enumerable:true,configurable:true});Object.defineProperty(Selection.prototype,"sectionFormat",{get:function(){var h=new b.SectionFormat();this.addPropertyAccessEventListener(h,e.SectionFormat);return h;},enumerable:true,configurable:true});Selection.prototype.setBounds=function(bounds,callback,errorCallback){if(!(bounds.hasOwnProperty("start")&&bounds.hasOwnProperty("length"))){throw new Error(b.ErrorText.SelectionObjectProps);}this.setPropertyValue(e.Bounds,bounds,callback,errorCallback);};Selection.prototype.getFormattingStyle=function(callback,errorCallback){this.getPropertyValue(e.FormattingStyle,callback,errorCallback);};Selection.prototype.setFormattingStyle=function(formattingStyle,callback,errorCallback){if(typeof formattingStyle!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(e.FormattingStyle,formattingStyle,callback,errorCallback);};Selection.prototype.getCulture=function(callback,errorCallback){this.getPropertyValue(e.Culture,callback,errorCallback);};Selection.prototype.setCulture=function(culture,callback,errorCallback){if(typeof culture!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(e.Culture,culture,callback,errorCallback);};Selection.prototype.getBold=function(callback,errorCallback){this.getPropertyValue(e.Bold,callback,errorCallback);};Selection.prototype.setBold=function(bold,callback,errorCallback){if(typeof bold!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(e.Bold,bold,callback,errorCallback);};Selection.prototype.getFontName=function(callback,errorCallback){this.getPropertyValue(e.FontName,callback,errorCallback);};Selection.prototype.setFontName=function(fontName,callback,errorCallback){if(typeof fontName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(e.FontName,fontName,callback,errorCallback);};Selection.prototype.getItalic=function(callback,errorCallback){this.getPropertyValue(e.Italic,callback,errorCallback);};Selection.prototype.setItalic=function(italic,callback,errorCallback){if(typeof italic!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(e.Italic,italic,callback,errorCallback);};Selection.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(e.Length,callback,errorCallback);};Selection.prototype.setLength=function(length,callback,errorCallback){if(typeof length!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(e.Length,length,callback,errorCallback);};Selection.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(e.Start,callback,errorCallback);};Selection.prototype.setStart=function(start,callback,errorCallback){if(typeof start!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(e.Start,start,callback,errorCallback);};Selection.prototype.getStrikeout=function(callback,errorCallback){this.getPropertyValue(e.Strikeout,callback,errorCallback);};Selection.prototype.setStrikeout=function(strikeout,callback,errorCallback){if(typeof strikeout!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(e.Strikeout,strikeout,callback,errorCallback);};Selection.prototype.getText=function(callback,errorCallback){this.getPropertyValue(e.Text,callback,errorCallback);};Selection.prototype.setText=function(text,callback,errorCallback){if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(e.Text,text,callback,errorCallback);};Selection.prototype.getUnderline=function(callback,errorCallback){this.getPropertyValue(e.Underline,callback,errorCallback);};Selection.prototype.setUnderline=function(underline,callback,errorCallback){if(typeof underline!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(e.Underline,underline,callback,errorCallback);};Selection.prototype.getBaseline=function(callback,errorCallback){this.getPropertyValue(e.Baseline,callback,errorCallback);};Selection.prototype.setBaseline=function(baseline,callback,errorCallback){if(typeof baseline!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(e.Baseline,baseline,callback,errorCallback);};Selection.prototype.getFontSize=function(callback,errorCallback){this.getPropertyValue(e.FontSize,callback,errorCallback);};Selection.prototype.setFontSize=function(fontSize,callback,errorCallback){if(typeof fontSize!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(e.FontSize,fontSize,callback,errorCallback);};Selection.prototype.getForeColor=function(callback,errorCallback){this.getPropertyValue(e.ForeColor,callback,errorCallback);};Selection.prototype.setForeColor=function(foreColor,callback,errorCallback){if(typeof foreColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(e.ForeColor,foreColor,callback,errorCallback);};Selection.prototype.getTextBackColor=function(callback,errorCallback){this.getPropertyValue(e.TextBackColor,callback,errorCallback);};Selection.prototype.setTextBackColor=function(textBackColor,callback,errorCallback){if(typeof textBackColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(e.TextBackColor,textBackColor,callback,errorCallback);};Selection.prototype.isCommonSelectionValueSelected=function(selectionAttribute,callback,errorCallback){if(typeof selectionAttribute!=="number"){throw new Error(b.ErrorText.ParamNotANumber);}this.callMethod(d.IsCommonValueSelected_Selection,callback,[selectionAttribute],errorCallback);};Selection.prototype.isCommonParagraphFormatValueSelected=function(paragraphFormatAttribute,callback,errorCallback){if(typeof paragraphFormatAttribute!=="number"){throw new Error(b.ErrorText.ParamNotANumber);}this.callMethod(d.IsCommonValueSelected_ParagraphFormat,callback,[paragraphFormatAttribute],errorCallback);};Selection.prototype.isCommonListFormatValueSelected=function(listFormatAttribute,callback,errorCallback){if(typeof listFormatAttribute!=="number"){throw new Error(b.ErrorText.ParamNotANumber);}this.callMethod(d.IsCommonValueSelected_ListFormat,callback,[listFormatAttribute],errorCallback);};Selection.prototype.isCommonSectionFormatValueSelected=function(sectionFormatAttribute,callback,errorCallback){if(typeof sectionFormatAttribute!=="number"){throw new Error(b.ErrorText.ParamNotANumber);}this.callMethod(d.IsCommonValueSelected_SectionFormat,callback,[sectionFormatAttribute],errorCallback);};Selection.prototype.isCommonPageMarginsValueSelected=function(pageMarginsAttribute,callback,errorCallback){if(typeof pageMarginsAttribute!=="number"){throw new Error(b.ErrorText.ParamNotANumber);}this.callMethod(d.IsCommonValueSelected_PageMargins,callback,[pageMarginsAttribute],errorCallback);};Selection.prototype.isCommonPageSizeValueSelected=function(pageSizeAttribute,callback,errorCallback){if(typeof pageSizeAttribute!=="number"){throw new Error(b.ErrorText.ParamNotANumber);}this.callMethod(d.IsCommonValueSelected_PageSize,callback,[pageSizeAttribute],errorCallback);};Selection.prototype.isCommonPageBorderValueSelected=function(pageBorderAttribute,callback,errorCallback){if(typeof pageBorderAttribute!=="number"){throw new Error(b.ErrorText.ParamNotANumber);}this.callMethod(d.IsCommonValueSelected_PageBorder,callback,[pageBorderAttribute],errorCallback);};Selection.prototype.load=function(streamType,base64Data,callback,loadSettings,errorCallback){if(!streamType){throw new Error(b.ErrorText.NoStreamType);}if(!base64Data){throw new Error(b.ErrorText.NoDocumentData);}loadSettings=loadSettings||null;this.callMethod(d.Load,callback,[base64Data,streamType,loadSettings],errorCallback);};Selection.prototype.save=function(streamType,callback,saveSettings,errorCallback){if(!streamType){throw new Error(b.ErrorText.NoStreamType);}if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}saveSettings=saveSettings||null;this.callMethod(d.Save,callback,[streamType,saveSettings],errorCallback);};return Selection;})(b.TextControlClassAdapter);b.Selection.Attribute=Object.freeze({Baseline:1,Bold:2,Italic:4,FontName:8,FontSize:16,Strikeout:32,Underline:64,ForeColor:256,TextBackColor:512,Start:1024,Length:2048,Text:4096,FormattingStyle:8192,Culture:16384,All:32767,});return f;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({CanMergeCells:"CanMergeCells",CanSplit:"CanSplit",CanSplitCells:"CanSplitCells",Cells:"Cells",Columns:"Columns",ID:"ID",NestedLevel:"NestedLevel",NestedTables:"NestedTables",OuterMostTable:"OuterMostTable",OuterTable:"OuterTable",Rows:"Rows"});var c=Object.freeze({MergeCells:"MergeCells",Select:"Select",Split:"Split",SplitCells:"SplitCells"});b.Table=(function(f){__extends(Table,f);function Table(g,h){f.call(this,g,h);}Object.defineProperty(Table.prototype,"cells",{get:function(){var g=new b.TableCellCollection();this.addPropertyAccessEventListener(g,d.Cells);return g;},enumerable:true,configurable:true});Object.defineProperty(Table.prototype,"columns",{get:function(){var g=new b.TableColumnCollection();this.addPropertyAccessEventListener(g,d.Columns);return g;},enumerable:true,configurable:true});Object.defineProperty(Table.prototype,"nestedTables",{get:function(){var g=new b.TableBaseCollection();this.addPropertyAccessEventListener(g,d.NestedTables);return g;},enumerable:true,configurable:true});Object.defineProperty(Table.prototype,"rows",{get:function(){var g=new b.TableRowCollection();this.addPropertyAccessEventListener(g,d.Rows);return g;},enumerable:true,configurable:true});Table.prototype.setID=function(id,callback,errorCallback){if(typeof id!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.ID,id,callback,errorCallback);};Table.prototype.getID=function(callback,errorCallback){this.getPropertyValue(d.ID,callback,errorCallback);};Table.prototype.getCanMergeCells=function(callback,errorCallback){this.getPropertyValue(d.CanMergeCells,callback,errorCallback);};Table.prototype.getCanSplit=function(callback,errorCallback){this.getPropertyValue(d.CanSplit,callback,errorCallback);};Table.prototype.getCanSplitCells=function(callback,errorCallback){this.getPropertyValue(d.CanSplitCells,callback,errorCallback);};Table.prototype.getNestedLevel=function(callback,errorCallback){this.getPropertyValue(d.NestedLevel,callback,errorCallback);};Table.prototype.getOuterMostTable=function(callback,errorCallback){var g=this;this.getPropertyValue(d.OuterMostTable,function(i){if(i){var h=new b.Table(i.hashcode);g.addPropertyAccessEventListener(h,d.OuterMostTable);callback(h);}else{callback(null);}},errorCallback);};Table.prototype.getOuterTable=function(callback,errorCallback){var g=this;this.getPropertyValue(d.OuterTable,function(i){if(i){var h=new b.Table(i.hashcode);g.addPropertyAccessEventListener(h,d.OuterTable);callback(h);}else{callback(null);}},errorCallback);};Table.prototype.mergeCells=function(callback,errorCallback){this.callMethod(c.MergeCells,callback,[],errorCallback);};Table.prototype.select=function(callback,errorCallback){this.callMethod(c.Select,callback,[],errorCallback);};Table.prototype.selectCells=function(startRow,startColumn,stopRow,stopColumn,callback,errorCallback){if(!(typeof startRow==="number"&&typeof startColumn==="number"&&typeof stopRow==="number"&&typeof startColumn==="number")){throw new TypeError(b.ErrorText.TooFewParameters);}var g=[startRow,startColumn,stopRow,stopColumn];this.callMethod(c.Select,callback,g,errorCallback);};Table.prototype.split=function(tableAddPosition,callback,errorCallback){if(tableAddPosition!=b.TableAddPosition.After&&tableAddPosition!=b.TableAddPosition.Before){throw new TypeError(b.ErrorText.ParamNotATableAddPosition);}this.callMethod(c.Split,callback,[tableAddPosition],errorCallback);};Table.prototype.splitCells=function(callback,errorCallback){this.callMethod(c.SplitCells,callback,[],errorCallback);};return Table;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TableBaseCollection=(function(d){__extends(TableBaseCollection,d);function TableBaseCollection(){d.call(this);}TableBaseCollection.prototype.removeById=function(id,callback,errorCallback){if(typeof id!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(b.CollectionMethodName.Remove,callback,[id],errorCallback);};TableBaseCollection.prototype.removeAtInputPosition=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[],errorCallback);};TableBaseCollection.prototype.getItem=function(callback,errorCallback,id){var e=this;if((typeof id==="undefined")||(typeof id!=="number")){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[id],errorCallback);};TableBaseCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.Table(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return TableBaseCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TableCellPropertyName=Object.freeze({CellFormat:"CellFormat",Column:"Column",Formula:"Formula",Length:"Length",Name:"Name",Position:"Position",Row:"Row",Start:"Start",Text:"Text",Width:"Width"});b.TableCellMethodName=Object.freeze({Select:"Select"});b.TableCell=(function(d){__extends(TableCell,d);function TableCell(e,f){d.call(this,e,f);}TableCell.prototype.select=function(callback,errorCallback){this.callMethod(b.TableCellMethodName.Select,callback,[],errorCallback);};TableCell.prototype.getCellFormat=function(callback,errorCallback){var e=new b.TableCellFormat();this.addPropertyAccessEventListener(e,b.TableCellPropertyName.CellFormat);callback(e);};TableCell.prototype.getColumn=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Column,callback,errorCallback);};TableCell.prototype.getFormula=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Formula,callback,errorCallback);};TableCell.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Length,callback,errorCallback);};TableCell.prototype.getName=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Name,callback,errorCallback);};TableCell.prototype.getPosition=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Position,callback,errorCallback);};TableCell.prototype.getRow=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Row,callback,errorCallback);};TableCell.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Start,callback,errorCallback);};TableCell.prototype.getText=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Text,callback,errorCallback);};TableCell.prototype.getWidth=function(callback,errorCallback){this.getPropertyValue(b.TableCellPropertyName.Width,callback,errorCallback);};TableCell.prototype.setFormula=function(formula,callback,errorCallback){if(typeof formula!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(b.TableCellPropertyName.Formula,formula,callback,errorCallback);};TableCell.prototype.setName=function(name,callback,errorCallback){if(typeof name!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(b.TableCellPropertyName.Name,name,callback,errorCallback);};TableCell.prototype.setPosition=function(position,callback,errorCallback){if(typeof position!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.TableCellPropertyName.Position,position,callback,errorCallback);};TableCell.prototype.setText=function(text,callback,errorCallback){if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(b.TableCellPropertyName.Text,text,callback,errorCallback);};TableCell.prototype.setWidth=function(width,callback,errorCallback){if(typeof width!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.TableCellPropertyName.Width,width,callback,errorCallback);};return TableCell;})(b.TextControlClassAdapter);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TableCellBorderPosition=Object.freeze({Left:"Left",Right:"Right",Top:"Top",Bottom:"Bottom"});b.TableCellBorder=(function(){function TableCellBorder(g,h){this._.position=g;this._.tableCell=h;}TableCellBorder.prototype.getColor=function(callback,errorCallback){var g=d(this._.position);tableCell.getPropertyValue(g,callback,errorCallback);};TableCellBorder.prototype.getWidth=function(callback,errorCallback){var g=f(this._.position);tableCell.getPropertyValue(g,callback,errorCallback);};TableCellBorder.prototype.getTextDistance=function(callback,errorCallback){var g=e(this._.position);tableCell.getPropertyValue(g,callback,errorCallback);};TableCellBorder.prototype.setColor=function(color,callback,errorCallback){if(typeof color!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}var g=d(this._.position);tableCell.setPropertyValue(g,color,callback,errorCallback);};TableCellBorder.prototype.setWidth=function(width,callback,errorCallback){if(typeof width!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}var g=f(this._.position);tableCell.setPropertyValue(g,width,callback,errorCallback);};TableCellBorder.prototype.setTextDistance=function(textDistance,callback,errorCallback){if(typeof textDistance!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}var g=e(this._.position);tableCell.setPropertyValue(g,textDistance,callback,errorCallback);};function d(g){switch(g){case b.TableCellBorderPosition.Bottom:return b.TableCellFormatPropertyName.BottomBorderColor;case b.TableCellBorderPosition.Top:return b.TableCellFormatPropertyName.TopBorderColor;case b.TableCellBorderPosition.Right:return b.TableCellFormatPropertyName.RightBorderColor;case b.TableCellBorderPosition.Left:return b.TableCellFormatPropertyName.LeftBorderColor;default:throw new Error("Invalid table cell border position.");}}function f(g){switch(g){case b.TableCellBorderPosition.Bottom:return b.TableCellFormatPropertyName.BottomBorderWidth;case b.TableCellBorderPosition.Top:return b.TableCellFormatPropertyName.TopBorderWidth;case b.TableCellBorderPosition.Right:return b.TableCellFormatPropertyName.RightBorderWidth;case b.TableCellBorderPosition.Left:return b.TableCellFormatPropertyName.LeftBorderWidth;default:throw new Error("Invalid table cell border position.");}}function e(g){switch(g){case b.TableCellBorderPosition.Bottom:return b.TableCellFormatPropertyName.BottomTextDistance;case b.TableCellBorderPosition.Top:return b.TableCellFormatPropertyName.TopTextDistance;case b.TableCellBorderPosition.Right:return b.TableCellFormatPropertyName.RightTextDistance;case b.TableCellBorderPosition.Left:return b.TableCellFormatPropertyName.LeftTextDistance;default:throw new Error("Invalid table cell border position.");}}return TableCellBorder;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TableCellCollection=(function(d){__extends(TableCellCollection,d);function TableCellCollection(){d.call(this);}TableCellCollection.prototype.getItemAtInputPosition=function(callback,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[],errorCallback);};TableCellCollection.prototype.getItem=function(callback,errorCallback,row,column){if(typeof row!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof column!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[row,column],errorCallback);};TableCellCollection.prototype.remove=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[],errorCallback);};TableCellCollection.prototype.getCanRemove=function(callback,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.getPropertyValue(b.CollectionPropertyName.CanRemove,callback,[],errorCallback);};TableCellCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.TableCell(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return TableCellCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TableCellFormatPropertyName=Object.freeze({BackColor:"BackColor",NumberFormat:"NumberFormat",TextType:"TextType",VerticalAlignment:"VerticalAlignment",BottomBorderColor:"BottomBorderColor",BottomBorderWidth:"BottomBorderWidth",BottomTextDistance:"BottomTextDistance",TopBorderColor:"TopBorderColor",TopBorderWidth:"TopBorderWidth",TopTextDistance:"TopTextDistance",LeftBorderColor:"LeftBorderColor",LeftBorderWidth:"LeftBorderWidth",LeftTextDistance:"LeftTextDistance",RightBorderColor:"RightBorderColor",RightBorderWidth:"RightBorderWidth",RightTextDistance:"RightTextDistance",});b.TableCellFormat=(function(d){__extends(TableCellFormat,d);function TableCellFormat(){d.call(this);}Object.defineProperty(TableCellFormat.prototype,"bottomBorder",{get:function(){var e=b.TableCellBorderPosition.Bottom;return new b.TableCellBorder(e,this);},enumerable:true,configurable:true});Object.defineProperty(TableCellFormat.prototype,"leftBorder",{get:function(){var e=b.TableCellBorderPosition.Left;return new b.TableCellBorder(e,this);},enumerable:true,configurable:true});Object.defineProperty(TableCellFormat.prototype,"rightBorder",{get:function(){var e=b.TableCellBorderPosition.Right;return new b.TableCellBorder(e,this);},enumerable:true,configurable:true});Object.defineProperty(TableCellFormat.prototype,"topBorder",{get:function(){var e=b.TableCellBorderPosition.Top;return new b.TableCellBorder(e,this);},enumerable:true,configurable:true});TableCellFormat.prototype.getBackColor=function(callback,errorCallback){this.getPropertyValue(b.TableCellFormatPropertyName.BackColor,callback,errorCallback);};TableCellFormat.prototype.getNumberFormat=function(callback,errorCallback){this.getPropertyValue(b.TableCellFormatPropertyName.NumberFormat,callback,errorCallback);};TableCellFormat.prototype.getTextType=function(callback,errorCallback){this.getPropertyValue(b.TableCellFormatPropertyName.TextType,callback,errorCallback);};TableCellFormat.prototype.getVerticalAlignment=function(callback,errorCallback){this.getPropertyValue(b.TableCellFormatPropertyName.VerticalAlignment,callback,errorCallback);};TableCellFormat.prototype.setBackColor=function(backColor,callback,errorCallback){if(typeof backColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(b.TableCellFormatPropertyName.BackColor,backColor,callback,errorCallback);};TableCellFormat.prototype.setNumberFormat=function(numberFormat,callback,errorCallback){if(typeof numberFormat!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(b.TableCellFormatPropertyName.NumberFormat,numberFormat,callback,errorCallback);};TableCellFormat.prototype.setTextType=function(textType,callback,errorCallback){if(typeof textType!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.TableCellFormatPropertyName.TextType,textType,callback,errorCallback);};TableCellFormat.prototype.setVerticalAlignment=function(verticalAlignment,callback,errorCallback){if(typeof verticalAlignment!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.TableCellFormatPropertyName.VerticalAlignment,verticalAlignment,callback,errorCallback);};return TableCellFormat;})(b.TextControlClassAdapter);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({GridLines:"GridLines"});b.TableCollection=(function(e){__extends(TableCollection,e);function TableCollection(){e.call(this);}TableCollection.prototype.add=function(rows,columns,id,callback,errorCallback){if(typeof id!=="undefined"&&typeof id!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof rows!=="number"||typeof columns!=="number"){throw new TypeError(b.ErrorText.TooFewParameters);}var f=(typeof id!=="undefined")?[rows,columns,id]:[rows,columns];this.callMethod(b.CollectionMethodName.Add,callback,f,errorCallback);};TableCollection.prototype.setGridLines=function(value,callback,errorCallback){if(typeof value!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.GridLines,value,callback,errorCallback);};TableCollection.prototype.getGridLines=function(callback,errorCallback){this.getPropertyValue(c.GridLines,callback,errorCallback);};TableCollection.prototype.getCanAdd=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.CanAdd,callback,errorCallback);};TableCollection.prototype.getItem=function(callback,errorCallback,id){var g=this;if((typeof id!=="undefined")&&(typeof id!=="number")){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=(typeof id!=="undefined")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,function(h){callback(g._adapt(h));},f,errorCallback);};return TableCollection;})(b.TableBaseCollection);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({CellFormat:"CellFormat",Column:"Column",Position:"Position",Width:"Width"});var c=Object.freeze({Select:"Select"});b.TableColumn=(function(f){__extends(TableColumn,f);function TableColumn(g,h){f.call(this,g,h);}TableColumn.prototype.select=function(callback){this.callMethod(c.Select,callback);};TableColumn.prototype.getCellFormat=function(callback,errorCallback){var g=new b.format();this.addPropertyAccessEventListener(g,d.CellFormat);callback(g);};TableColumn.prototype.getColumn=function(callback,errorCallback){this.getPropertyValue(d.Column,callback,errorCallback);};TableColumn.prototype.getPosition=function(callback,errorCallback){this.getPropertyValue(d.Position,callback,errorCallback);};TableColumn.prototype.setPosition=function(position,callback,errorCallback){if(typeof position!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.Position,position,callback,errorCallback);};TableColumn.prototype.getWidth=function(callback,errorCallback){this.getPropertyValue(d.Width,callback,errorCallback);};TableColumn.prototype.setWidth=function(width,callback,errorCallback){if(typeof width!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.Width,width,callback,errorCallback);};return TableColumn;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TableColumnCollection=(function(d){__extends(TableColumnCollection,d);function TableColumnCollection(){d.call(this);}TableColumnCollection.prototype.add=function(tableAddPosition,callback,errorCallback){if(typeof tableAddPosition!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(b.CollectionMethodName.Add,callback,[tableAddPosition],errorCallback);};TableColumnCollection.prototype.getItem=function(callback,errorCallback,column){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=this;var e=(typeof column==="number")?[column]:[];this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},e,errorCallback);};TableColumnCollection.prototype.remove=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[],errorCallback);};TableColumnCollection.prototype.getCanRemove=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.CanRemove,callback,errorCallback);};TableColumnCollection.prototype.getCanAdd=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.CanAdd,callback,errorCallback);};TableColumnCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.TableColumn(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return TableColumnCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({AllowPageBreak:"AllowPageBreak",CellFormat:"CellFormat",IsHeader:"IsHeader",MinimumHeight:"MinimumHeight",Row:"Row"});var c=Object.freeze({Select:"Select"});b.TableRow=(function(f){__extends(TableRow,f);function TableRow(g,h){f.call(this,g,h);}TableRow.prototype.select=function(callback,errorCallback){this.callMethod(c.Select,callback,[],errorCallback);};TableRow.prototype.getCellFormat=function(callback,errorCallback){var g=new b.TableCellFormat();this.addPropertyAccessEventListener(g,b.TableCellPropertyName.CellFormat,callback);callback(g);};TableRow.prototype.getRow=function(callback,errorCallback){this.getPropertyValue(d.Row,callback,errorCallback);};TableRow.prototype.getAllowPageBreak=function(callback,errorCallback){this.getPropertyValue(d.AllowPageBreak,callback,errorCallback);};TableRow.prototype.setAllowPageBreak=function(allowPageBreak,callback,errorCallback){if(typeof allowPageBreak!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.AllowPageBreak,allowPageBreak,callback,errorCallback);};TableRow.prototype.getIsHeader=function(callback,errorCallback){this.getPropertyValue(d.IsHeader,callback,errorCallback);};TableRow.prototype.setIsHeader=function(isHeader,callback,errorCallback){if(typeof isHeader!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.IsHeader,isHeader,callback,errorCallback);};TableRow.prototype.getMinimumHeight=function(callback,errorCallback){this.getPropertyValue(d.MinimumHeight,callback,errorCallback);};TableRow.prototype.setMinimumHeight=function(minimumHeight,callback,errorCallback){if(typeof minimumHeight!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.MinimumHeight,minimumHeight,callback,errorCallback);};return TableRow;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TableRowCollection=(function(d){__extends(TableRowCollection,d);function TableRowCollection(){d.call(this);}TableRowCollection.prototype.add=function(tableAddPosition,count,callback,errorCallback){if(typeof tableAddPosition!=="number"||typeof count!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(b.CollectionMethodName.Add,callback,[tableAddPosition,count],errorCallback);};TableRowCollection.prototype.getItem=function(callback,errorCallback,row){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=this;var e=(typeof row!=="undefined")?[row]:[];this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},e,errorCallback);};TableRowCollection.prototype.remove=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[],errorCallback);};TableRowCollection.prototype.getCanRemove=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.CanRemove,callback,errorCallback);};TableRowCollection.prototype.getCanAdd=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.CanAdd,callback,errorCallback);};TableRowCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.TableRow(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return TableRowCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({ApplicationFields:"ApplicationFields",DocumentLinks:"DocumentLinks",DocumentTargets:"DocumentTargets",Selection:"Selection",Tables:"Tables",TextFields:"TextFields",TrackedChanges:"TrackedChanges",EditableRegions:"EditableRegions",HypertextLinks:"HypertextLinks",Lines:"Lines",MisspelledWords:"MisspelledWords",Paragraphs:"Paragraphs",SubTextParts:"SubTextParts",TablesOfContents:"TablesOfContents",TextChars:"TextChars",});var c=Object.freeze({Find:"Find"});b.FormattedText=(function(f){__extends(FormattedText,f);function FormattedText(g,h,i){f.call(this,g,h);this._.textPartType=i||"unknown";Object.defineProperties(this,{applicationFields:{get:function(){var j=new b.ApplicationFieldCollection();this.addPropertyAccessEventListener(j,d.ApplicationFields);return j;},enumerable:true,configurable:true},documentTargets:{get:function(){var j=new b.DocumentTargetCollection();this.addPropertyAccessEventListener(j,d.DocumentTargets);return j;},enumerable:true,configurable:true},documentLinks:{get:function(){var j=new b.DocumentLinkCollection();this.addPropertyAccessEventListener(j,d.DocumentLinks);return j;},enumerable:true,configurable:true},editableRegions:{get:function(){var j=new b.EditableRegionCollection();this.addPropertyAccessEventListener(j,d.EditableRegions);return j;},enumerable:true,configurable:true},hypertextLinks:{get:function(){var j=new b.HypertextLinkCollection();this.addPropertyAccessEventListener(j,d.HypertextLinks);return j;},enumerable:true,configurable:true},lines:{get:function(){var j=new b.LineCollection();this.addPropertyAccessEventListener(j,d.Lines);return j;},enumerable:true,configurable:true},misspelledWords:{get:function(){var j=new b.MisspelledWordCollection();this.addPropertyAccessEventListener(j,d.MisspelledWords);return j;},enumerable:true,configurable:true},paragraphs:{get:function(){var j=new b.ParagraphCollection();this.addPropertyAccessEventListener(j,d.Paragraphs);return j;},enumerable:true,configurable:true},selection:{get:function(){var j=new b.Selection();this.addPropertyAccessEventListener(j,d.Selection);return j;},enumerable:true,configurable:true},subTextParts:{get:function(){var j=new b.SubTextPartCollection();this.addPropertyAccessEventListener(j,d.SubTextParts);return j;},enumerable:true,configurable:true},tablesOfContents:{get:function(){var j=new b.TableOfContentsCollection();this.addPropertyAccessEventListener(j,d.TablesOfContents);return j;},enumerable:true,configurable:true},tables:{get:function(){var j=new b.TableCollection();this.addPropertyAccessEventListener(j,d.Tables);return j;},enumerable:true,configurable:true},textChars:{get:function(){var j=new b.TextCharCollection();this.addPropertyAccessEventListener(j,d.TextChars);return j;},enumerable:true,configurable:true},textFields:{get:function(){var j=new b.TextFieldCollection();this.addPropertyAccessEventListener(j,d.TextFields);return j;},enumerable:true,configurable:true},textPartType:{get:function(){return this._.textPartType;},enumerable:true,configurable:true},trackedChanges:{get:function(){var j=new b.TrackedChangeCollection();this.addPropertyAccessEventListener(j,d.TrackedChanges);return j;},enumerable:true,configurable:true}});}FormattedText.prototype.find=function(text,start,options,callback,errorCallback){if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(typeof start!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof options!=="undefined"&&typeof options!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof options==="undefined"){options=0;}this.callMethod(c.Find,callback,[text,start,options],errorCallback);};return FormattedText;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({ActivationState:"ActivationState",AllowUndo:"AllowUndo",BackColor:"BackColor",Barcodes:"Barcodes",Baseline:"Baseline",ControlChars:"ControlChars",DisplayColors:"DisplayColors",Drawings:"Drawings",CanCharacterFormat:"CanCharacterFormat",CanCopy:"CanCopy",CanDocumentFormat:"CanDocumentFormat",CanEdit:"CanEdit",CanParagraphFormat:"CanParaphFormat",CanPaste:"CanPaste",CanPrint:"CanPrint",CanRedo:"CanRedo",CanStyleFormat:"CanStyleFormat",CanTableFormat:"CanTableFormat",CanUndo:"CanUndo",DocumentSettings:"DocumentSettings",DocumentTargetMarkers:"DocumentTargetMarkers",DrawingMarkerLines:"DrawingMarkerLines",EditMode:"EditMode",Frames:"Frames",Images:"Images",IsTrackChangesEnabled:"IsTrackChangesEnabled",PageUnit:"PageUnit",PermanentControlChars:"PermanentControlChars",SelectObjects:"SelectObjects",RedoActionName:"RedoActionName",Text:"Text",TextBackColor:"TextBackColor",TextFrameMarkerLines:"TextFrameMarkerLines",UndoActionName:"UndoActionName",UserNames:"UserNames",ViewMode:"ViewMode",FontUnderlineStyle:"FontUnderlineStyle",ForeColor:"ForeColor",FormulaReferenceStyle:"FormulaReferenceStyle",Landscape:"Landscape",ListFormat:"ListFormat",InputFormat:"InputFormat",InputPosition:"InputPosition",PageMargins:"PageMargins",PageSize:"PageSize",Pages:"Pages",ParagraphFormat:"ParagraphFormat",Sections:"Sections",Selection:"Selection",TextFrames:"TextFrames",TextParts:"TextParts",FormFields:"FormFields",HeadersAndFooters:"HeadersAndFooters",InlineStyles:"InlineStyles",ParagraphStyles:"ParagraphStyles",IsFormulaCalculationEnabled:"IsFormulaCalculationEnabled",IsHyphenationEnabled:"IsHyphenationEnabled",IsLanguageDetectionEnabled:"IsLanguageDetectionEnabled",IsSpellCheckingEnabled:"IsSpellCheckingEnabled",});var c=Object.freeze({GetSupportedPaperSizes:"GetSupportedPaperSizes",GetSupportedFonts:"GetSupportedFonts",ResetContents:"ResetContents",Undo:"Undo",Redo:"Redo",Zoom:"Zoom",Clear:"Clear",Load:"Load",Save:"Save",Select:"Select",SelectAll:"SelectAll",SelectWord:"SelectWord",GetPages:"GetPages",});b.TextControlMemberAccessCallbacks={};b.TextControl=(function(f){__extends(TextControl,f);function TextControl(){f.call(this);this.addEventListener(b.TXEventNames.AccessTextControlMember,function(l){j(l.callback,l.sequence,l.callDirection,l.errorCallback);});var k=new b.InputFormat();this.addPropertyAccessEventListener(k,d.InputFormat);Object.defineProperties(this,{barcodes:{get:function(){var l=new b.BarcodeCollection();this.addPropertyAccessEventListener(l,d.Barcodes);return l;},enumerable:true,configurable:true},displayColors:{get:function(){var l=new b.DisplayColors();this.addPropertyAccessEventListener(l,d.DisplayColors);return l;},enumerable:true,configurable:true},documentSettings:{get:function(){var l=new b.DocumentSettings();this.addPropertyAccessEventListener(l,d.DocumentSettings);return l;},enumerable:true,configurable:true},formFields:{get:function(){var l=new b.FormFieldCollection();this.addPropertyAccessEventListener(l,d.FormFields);return l;},enumerable:true,configurable:true},frames:{get:function(){var l=new b.FrameCollection();this.addPropertyAccessEventListener(l,d.Frames);return l;},enumerable:true,configurable:true},headersAndFooters:{get:function(){var l=new b.HeaderFooterCollection();this.addPropertyAccessEventListener(l,d.HeadersAndFooters);return l;},enumerable:true,configurable:true},inlineStyles:{get:function(){var l=new b.InlineStyleCollection();this.addPropertyAccessEventListener(l,d.InlineStyles);return l;},enumerable:true,configurable:true},inputPosition:{get:function(){var l=new b.InputPosition();this.addPropertyAccessEventListener(l,d.InputPosition);return l;},enumerable:true,configurable:true},images:{get:function(){var l=new b.ImageCollection();this.addPropertyAccessEventListener(l,d.Images);return l;},enumerable:true,configurable:true},inputFormat:{get:function(){return k;},enumerable:true,configurable:true},listFormat:{get:function(){var l=new b.ListFormat();this.addPropertyAccessEventListener(l,d.ListFormat);return l;},enumerable:true,configurable:true},pages:{get:function(){var l=new b.PageCollection();this.addPropertyAccessEventListener(l,c.GetPages);return l;},enumerable:true,configurable:true},pageMargins:{get:function(){var l=new b.PageMargins();this.addPropertyAccessEventListener(l,d.PageMargins);return l;},enumerable:true,configurable:true},pageSize:{get:function(){var l=new b.PageSize();this.addPropertyAccessEventListener(l,d.PageSize);return l;},enumerable:true,configurable:true},paragraphFormat:{get:function(){var l=new b.ParagraphFormat();this.addPropertyAccessEventListener(l,d.ParagraphFormat);return l;},enumerable:true,configurable:true},paragraphStyles:{get:function(){var l=new b.ParagraphStyleCollection();this.addPropertyAccessEventListener(l,d.ParagraphStyles);return l;},enumerable:true,configurable:true},sections:{get:function(){var l=new b.SectionCollection();this.addPropertyAccessEventListener(l,d.Sections);return l;},enumerable:true,configurable:true},textFrames:{get:function(){var l=new b.TextFrameCollection();this.addPropertyAccessEventListener(l,d.TextFrames);return l;},enumerable:true,configurable:true},textParts:{get:function(){var l=new b.TextPartCollection();this.addPropertyAccessEventListener(l,d.TextParts);return l;},enumerable:true,configurable:true}});}function j(k,p,l,m){var n=i(p,k,m);var o=new b.TextControlMemberAccessMessage(n,p,l);b.sendCommand(o.commandID,o.param1,o.param2,o.param3,o.data);}b.getTextControlMemberAccessCallback=function(k){if(!b.TextControlMemberAccessCallbacks.hasOwnProperty(k)){throw new Error("_private.getTextControlMemberAccessCallback(): Callback queue "+k+" does not exist.");}var l=b.TextControlMemberAccessCallbacks[k];delete b.TextControlMemberAccessCallbacks[k];return l;};function g(){return""+Math.floor(1000000000+(Math.random()*9000000000));}function i(n,k,l){var m=g();b.TextControlMemberAccessCallbacks[m]={callback:k,errorCallback:l};return m;}TextControl.prototype.setActivationState=function(activationState,callback,errorCallback){this.setPropertyValue(d.ActivationState,activationState,callback,errorCallback);};TextControl.prototype.getActivationState=function(callback,errorCallback){this.getPropertyValue(d.ActivationState,callback,errorCallback);};TextControl.prototype.setAllowUndo=function(allowUndo,callback,errorCallback){if(typeof allowUndo!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.AllowUndo,allowUndo,callback,errorCallback);};TextControl.prototype.getAllowUndo=function(callback,errorCallback){this.getPropertyValue(d.AllowUndo,callback,errorCallback);};TextControl.prototype.setBackColor=function(htmlColor,k,l){if(typeof htmlColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.BackColor,htmlColor,k,l);};TextControl.prototype.getBackColor=function(callback,errorCallback){this.getPropertyValue(d.BackColor,callback,errorCallback);};TextControl.prototype.setBaseline=function(baseline,callback,errorCallback){if(typeof baseline!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.Baseline,baseline,callback,errorCallback);};TextControl.prototype.getBaseline=function(callback,errorCallback){this.getPropertyValue(d.Baseline,callback,errorCallback);};TextControl.prototype.setControlChars=function(controlChars,callback,errorCallback){if(typeof controlChars!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.ControlChars,controlChars,callback,errorCallback);};TextControl.prototype.getControlChars=function(callback,errorCallback){this.getPropertyValue(d.ControlChars,callback,errorCallback);};TextControl.prototype.getCanCharacterFormat=function(callback,errorCallback){this.getPropertyValue(d.CanCharacterFormat,callback,errorCallback);};TextControl.prototype.getCanCopy=function(callback,errorCallback){this.getPropertyValue(d.CanCopy,callback,errorCallback);};TextControl.prototype.getCanDocumentFormat=function(callback,errorCallback){this.getPropertyValue(d.CanDocumentFormat,callback,errorCallback);};TextControl.prototype.getCanPaste=function(callback,errorCallback){this.getPropertyValue(d.CanPaste,callback,errorCallback);};TextControl.prototype.getCanPrint=function(callback,errorCallback){this.getPropertyValue(d.CanPrint,callback,errorCallback);};TextControl.prototype.getCanRedo=function(callback,errorCallback){this.getPropertyValue(d.CanRedo,callback,errorCallback);};TextControl.prototype.getCanStyleFormat=function(callback,errorCallback){this.getPropertyValue(d.CanStyleFormat,callback,errorCallback);};TextControl.prototype.getCanTableFormat=function(callback,errorCallback){this.getPropertyValue(d.CanTableFormat,callback,errorCallback);};TextControl.prototype.getCanUndo=function(callback,errorCallback){this.getPropertyValue(d.CanUndo,callback,errorCallback);};TextControl.prototype.getDocumentTargetMarkers=function(callback,errorCallback){this.getPropertyValue(d.DocumentTargetMarkers,callback,errorCallback);};TextControl.prototype.setDocumentTargetMarkers=function(documentMarkerLines,callback,errorCallback){if(typeof documentMarkerLines!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.DocumentTargetMarkers,documentMarkerLines,callback,errorCallback);};TextControl.prototype.getIsFormulaCalculationEnabled=function(callback,errorCallback){this.getPropertyValue(d.IsFormulaCalculationEnabled,callback,errorCallback);};TextControl.prototype.setIsFormulaCalculationEnabled=function(enable,callback,errorCallback){if(typeof enable!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.IsFormulaCalculationEnabled,enable,callback,errorCallback);};TextControl.prototype.getIsHyphenationEnabled=function(callback,errorCallback){this.getPropertyValue(d.IsHyphenationEnabled,callback,errorCallback);};TextControl.prototype.setIsHyphenationEnabled=function(enable,callback,errorCallback){if(typeof enable!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.IsHyphenationEnabled,enable,callback,errorCallback);};TextControl.prototype.getIsLanguageDetectionEnabled=function(callback,errorCallback){this.getPropertyValue(d.IsLanguageDetectionEnabled,callback,errorCallback);};TextControl.prototype.setIsLanguageDetectionEnabled=function(enable,callback,errorCallback){if(typeof enable!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.IsLanguageDetectionEnabled,enable,callback,errorCallback);};TextControl.prototype.getIsSpellCheckingEnabled=function(callback,errorCallback){this.getPropertyValue(d.IsSpellCheckingEnabled,callback,errorCallback);};TextControl.prototype.setIsSpellCheckingEnabled=function(enable,callback,errorCallback){if(typeof enable!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.IsSpellCheckingEnabled,enable,callback,errorCallback);};TextControl.prototype.getDrawingMarkerLines=function(callback,errorCallback){this.getPropertyValue(d.DrawingMarkerLines,callback,errorCallback);};TextControl.prototype.setDrawingMarkerLines=function(drawingMarkerLines,callback,errorCallback){if(typeof drawingMarkerLines!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.DrawingMarkerLines,drawingMarkerLines,callback,errorCallback);};TextControl.prototype.getEditMode=function(callback,errorCallback){this.getPropertyValue(d.EditMode,callback,errorCallback);};TextControl.prototype.setEditMode=function(editMode,callback,errorCallback){if(typeof editMode!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.EditMode,editMode,callback,errorCallback);};TextControl.prototype.getFontUnderlineStyle=function(k,l){this.getPropertyValue(d.FontUnderlineStyle,k,l);};TextControl.prototype.setFontUnderlineStyle=function(style,k,l){this.setPropertyValue(d.FontUnderlineStyle,style,k,l);};TextControl.prototype.getForeColor=function(k,l){this.getPropertyValue(d.ForeColor,k,l);};TextControl.prototype.setForeColor=function(foreColor,k,l){this.setPropertyValue(d.ForeColor,foreColor,k,l);};TextControl.prototype.getFormulaReferenceStyle=function(k,l){this.getPropertyValue(d.FormulaReferenceStyle,k,l);};TextControl.prototype.setFormulaReferenceStyle=function(m,k,l){this.setPropertyValue(d.FormulaReferenceStyle,m,k,l);};TextControl.prototype.getLandscape=function(callback,errorCallback){this.getPropertyValue(d.Landscape,callback,errorCallback);};TextControl.prototype.setLandscape=function(isLandscape,callback,errorCallback){if(typeof isLandscape!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Landscape,isLandscape,callback,errorCallback);};TextControl.prototype.getIsTrackChangesEnabled=function(callback,errorCallback){this.getPropertyValue(d.IsTrackChangesEnabled,callback,errorCallback);};TextControl.prototype.setIsTrackChangesEnabled=function(isTrackChangesEnabled,callback,errorCallback){if(typeof isTrackChangesEnabled!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.IsTrackChangesEnabled,isTrackChangesEnabled,callback,errorCallback);};TextControl.prototype.getPageCount=function(callback,errorCallback){this.getPropertyValue(d.Pages,callback,errorCallback);};TextControl.prototype.getPageUnit=function(callback,errorCallback){this.getPropertyValue(d.PageUnit,callback,errorCallback);};TextControl.prototype.setPageUnit=function(pageUnit,k,l){if(typeof pageUnit!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.PageUnit,pageUnit,k,l);};TextControl.prototype.getPermanentControlChars=function(callback,errorCallback){this.getPropertyValue(d.PermanentControlChars,callback,errorCallback);};TextControl.prototype.setPermanentControlChars=function(permanentControlChars,callback,errorCallback){if(typeof permanentControlChars!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.PermanentControlChars,permanentControlChars,callback,errorCallback);};TextControl.prototype.getRedoActionName=function(callback,errorCallback){this.getPropertyValue(d.RedoActionName,callback,errorCallback);};TextControl.prototype.getSelectObjects=function(callback,errorCallback){this.getPropertyValue(d.SelectObjects,callback,errorCallback);};TextControl.prototype.setSelectObjects=function(selectObjects,callback,errorCallback){if(typeof selectObjects!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.SelectObjects,selectObjects,callback,errorCallback);};TextControl.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};TextControl.prototype.setText=function(text,callback,errorCallback){if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Text,text,callback,errorCallback);};TextControl.prototype.getTextBackColor=function(callback,errorCallback){this.getPropertyValue(d.TextBackColor,callback,errorCallback);};TextControl.prototype.setTextBackColor=function(color,callback,errorCallback){if(typeof color!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.TextBackColor,color,callback,errorCallback);};TextControl.prototype.getTextFrameMarkerLines=function(callback,errorCallback){this.getPropertyValue(d.TextFrameMarkerLines,callback,errorCallback);};TextControl.prototype.setTextFrameMarkerLines=function(textFrameMarkerLines,callback,errorCallback){if(typeof textFrameMarkerLines!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.TextFrameMarkerLines,textFrameMarkerLines,callback,errorCallback);};TextControl.prototype.getUndoActionName=function(callback,errorCallback){this.getPropertyValue(d.UndoActionName,callback,errorCallback);};TextControl.prototype.getUserNames=function(callback,errorCallback){this.getPropertyValue(d.UserNames,callback,errorCallback);};TextControl.prototype.getViewMode=function(callback,errorCallback){this.getPropertyValue(d.ViewMode,callback,errorCallback);};TextControl.prototype.setViewMode=function(viewMode,callback,errorCallback){this.setPropertyValue(d.ViewMode,viewMode,callback,errorCallback);};TextControl.prototype.redo=function(callback,errorCallback){this.callMethod(c.Redo,callback,[],errorCallback);};TextControl.prototype.undo=function(callback,errorCallback){this.callMethod(c.Undo,callback,[],errorCallback);};TextControl.prototype.zoom=function(zoomFactor,callback,errorCallback){this.callMethod(c.Zoom,callback,[zoomFactor],errorCallback);};TextControl.prototype.clear=function(callback,errorCallback){this.callMethod(c.Clear,callback,[],errorCallback);};TextControl.prototype.getSupportedFonts=function(callback,errorCallback){this.callMethod(c.GetSupportedFonts,callback,[],errorCallback);};TextControl.prototype.getSupportedPaperSizes=function(callback,errorCallback){this.callMethod(c.GetSupportedPaperSizes,callback,[],errorCallback);};TextControl.prototype.load=function(streamType,k,callback,loadSettings,errorCallback){loadSettings=loadSettings||null;this.callMethod(c.Load,callback,[k,streamType,loadSettings],errorCallback);};TextControl.prototype.save=function(streamType,callback,saveSettings,errorCallback){if(!streamType){throw new Error(b.ErrorText.NoStreamType);}if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}saveSettings=saveSettings||null;this.callMethod(c.Save,callback,[streamType,saveSettings],errorCallback);};TextControl.prototype.resetContents=function(callback,errorCallback){this.callMethod(c.ResetContents,callback,[],errorCallback);};TextControl.prototype.select=function(start,length,callback,errorCallback){if(typeof start!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof length!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(c.Select,callback,[start,length],errorCallback);};TextControl.prototype.selectAll=function(callback,errorCallback){this.callMethod(c.SelectAll,callback,[],errorCallback);};TextControl.prototype.selectWord=function(callback,errorCallback){this.callMethod(c.SelectWord,callback,[],errorCallback);};function h(l,k){if(l&&typeof l==="object"&&l.constructor===Array){l.forEach(function(m){if(typeof m!==k){return false;}});return true;}return false;}return TextControl;})(b.FormattedText);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.Size=(function(){function Size(width,height){if((typeof width!=="number")||(typeof height!=="number")){throw new TypeError("Parameters have to be numerical values.");}this.width=width;this.height=height;}return Size;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Bounds:"Bounds",ContainsInputPosition:"ContainsInputPosition",Deleteable:"Deleteable",DoubledInputPosition:"DoubledInputPosition",Editable:"Editable",FormattingBounds:"FormattingBounds",HighlightColor:"HighlightColor",HighlightMode:"HighlightMode",ID:"ID",IsSpellCheckingEnabled:"IsSpellCheckingEnabled",Length:"Length",Name:"Name",Start:"Start",Text:"Text"});var c=Object.freeze({ScrollTo:"ScrollTo"});b.TextField=(function(f){__extends(TextField,f);function TextField(g,h){f.call(this,g,h);}TextField.prototype.getBounds=function(callback,errorCallback){this.getPropertyValue(d.Bounds,callback,errorCallback);};TextField.prototype.getContainsInputPosition=function(callback,errorCallback){this.getPropertyValue(d.ContainsInputPosition,callback,errorCallback);};TextField.prototype.getDeleteable=function(callback,errorCallback){this.getPropertyValue(d.Deleteable,callback,errorCallback);};TextField.prototype.setDeleteable=function(deleteable,callback,errorCallback){if(typeof deleteable!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Deleteable,deleteable,callback,errorCallback);};TextField.prototype.getDoubledInputPosition=function(callback,errorCallback){this.getPropertyValue(d.DoubledInputPosition,callback);};TextField.prototype.setDoubledInputPosition=function(doubledInputPosition,callback,errorCallback){if(typeof doubledInputPosition!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.DoubledInputPosition,doubledInputPosition,callback,errorCallback);};TextField.prototype.getEditable=function(callback,errorCallback){this.getPropertyValue(d.Editable,callback,errorCallback);};TextField.prototype.setEditable=function(editable,callback,errorCallback){if(typeof editable!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Editable,editable,callback,errorCallback);};TextField.prototype.getFormattingBounds=function(callback,errorCallback){this.getPropertyValue(d.FormattingBounds,callback,errorCallback);};TextField.prototype.getHighlightMode=function(callback,errorCallback){this.getPropertyValue(d.HighlightMode,callback,errorCallback);};TextField.prototype.setHighlightMode=function(highlightMode,callback,errorCallback){if(typeof highlightMode!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.HighlightMode,highlightMode,callback,errorCallback);};TextField.prototype.getHighlightColor=function(callback,errorCallback){this.getPropertyValue(d.HighlightColor,callback,errorCallback);};TextField.prototype.setHighlightColor=function(highlightColor,callback,errorCallback){if(typeof highlightColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.HighlightColor,highlightColor,callback,errorCallback);};TextField.prototype.getID=function(callback,errorCallback){this.getPropertyValue(d.ID,callback,errorCallback);};TextField.prototype.setID=function(id,callback,errorCallback){if(typeof id!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.ID,id,callback,errorCallback);};TextField.prototype.getIsSpellCheckingEnabled=function(callback,errorCallback){this.getPropertyValue(d.IsSpellCheckingEnabled,callback,errorCallback);};TextField.prototype.setIsSpellCheckingEnabled=function(isSpellCheckingEnabled,callback,errorCallback){if(typeof isSpellCheckingEnabled!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.IsSpellCheckingEnabled,isSpellCheckingEnabled,callback,errorCallback);};TextField.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};TextField.prototype.getName=function(callback,errorCallback){this.getPropertyValue(d.Name,callback,errorCallback);};TextField.prototype.setName=function(name,callback,errorCallback){if(typeof name!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Name,name,callback,errorCallback);};TextField.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};TextField.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};TextField.prototype.setText=function(text,callback,errorCallback){if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Text,text,callback,errorCallback);};TextField.prototype.scrollTo=function(callback,errorCallback){this.callMethod(c.ScrollTo,callback,[],errorCallback);};return TextField;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TextFieldCollectionBase=(function(d){__extends(TextFieldCollectionBase,d);function TextFieldCollectionBase(){d.call(this);}TextFieldCollectionBase.prototype.getCanAdd=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.CanAdd,callback,errorCallback);};return TextFieldCollectionBase;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TextFieldCollection=(function(d){__extends(TextFieldCollection,d);function TextFieldCollection(){d.call(this);}TextFieldCollection.prototype.add=function(callback,errorCallback){var e=this;this.callMethod(b.CollectionMethodName.Add,callback?function(f){callback(e._adapt(f));}:undefined,[],errorCallback);};TextFieldCollection.prototype.clear=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Clear,callback,[],errorCallback);};TextFieldCollection.prototype.getItem=function(callback,errorCallback,id){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=this;var e=(typeof id==="number")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},e,errorCallback);};TextFieldCollection.prototype.remove=function(textField,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[textField._.hashcode,textField._.index],errorCallback);};TextFieldCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.TextField(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return TextFieldCollection;})(b.TextFieldCollectionBase);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Format:"Format",Parameters:"Parameters",TypeName:"TypeName"});b.ApplicationFieldFormat=Object.freeze({None:0,MSWord:7,HighEdit:8,MSWordTXFormFields:12});b.ApplicationField=(function(e){__extends(ApplicationField,e);function ApplicationField(f,g){e.call(this,f,g);}ApplicationField.prototype.getFormat=function(callback,errorCallback){this.getPropertyValue(c.Format,callback,errorCallback);};ApplicationField.prototype.setFormat=function(format,callback,errorCallback){this.setPropertyValue(c.Format,format,callback,errorCallback);};ApplicationField.prototype.getParameters=function(callback,errorCallback){this.getPropertyValue(c.Parameters,callback,errorCallback);};ApplicationField.prototype.setParameters=function(parameters,callback,errorCallback){this.setPropertyValue(c.Parameters,parameters,callback,errorCallback);};ApplicationField.prototype.getTypeName=function(callback,errorCallback){this.getPropertyValue(c.TypeName,callback,errorCallback);};ApplicationField.prototype.setTypeName=function(typeName,callback,errorCallback){this.setPropertyValue(c.TypeName,typeName,callback,errorCallback);};ApplicationField.prototype.showDialog=function(){};return ApplicationField;})(b.TextField);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ApplicationFieldCollection=(function(d){__extends(ApplicationFieldCollection,d);function ApplicationFieldCollection(){d.call(this);}ApplicationFieldCollection.prototype.add=function(format,typeName,text,parameters,callback,errorCallback){if(!isInteger(format)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}if(typeof typeName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isArrayOfType(parameters,"string")){throw new TypeError(b.ErrorText.ParamNotArrayOfStrings);}var e=this;this.callMethod(b.CollectionMethodName.Add,callback?function(f){callback(e._adapt(f));}:null,[format,typeName,text,parameters],errorCallback);};ApplicationFieldCollection.prototype.getItem=function(callback,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[],errorCallback);};ApplicationFieldCollection.prototype.remove=function(applicationField,keepText,callback,errorCallback){if(typeof keepText!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}var e=this;this.callMethod(b.CollectionMethodName.Remove,callback,[applicationField._.hashcode,applicationField._.index,keepText],errorCallback);};ApplicationFieldCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.ApplicationField(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return ApplicationFieldCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(g,a){var b=g._private=g._private||{};b.TextPartCommand=Object.freeze({GetCount:0,GetTextPart:1,Activate:2,GetAll:3,GetItem:4,AccessTextControlMember:5});b.TextPartType=Object.freeze({Undefined:-1,Auto:0,MainText:1,HeaderFooter:2,TextFrame:3,fromTypeName:function(h){switch(h){case b.TextPartTypeName.Auto:return this.Auto;case b.TextPartTypeName.MainText:return this.MainText;case b.TextPartTypeName.HeaderFooter:return this.HeaderFooter;case b.TextPartTypeName.TextFrame:return this.TextFrame;}return -1;}});b.TextPartTypeName=Object.freeze({Auto:"auto",MainText:"mainText",HeaderFooter:"headerFooter",TextFrame:"textFrame",fromType:function(h){switch(h){case b.TextPartType.Auto:return this.Auto;case b.TextPartType.MainText:return this.MainText;case b.TextPartType.HeaderFooter:return this.HeaderFooter;case b.TextPartType.TextFrame:return this.TextFrame;}return"";}});var f=Object.freeze({Tables:"Tables",Selection:"Selection",TextFields:"TextFields"});var c=[];b.LegacyTextPart=(function(h){__extends(TextPart,h);function TextPart(l,j,i){h.call(this,i);this.addEventListener(b.TXEventNames.AccessTextControlMember,function(n){var o=p(n.sequence,n.callback);var m=n.callDirection;b.sendCommand(b.Command.ClientTextPart,b.TextPartCommand.AccessTextControlMember,0,0,{TextPartIndex:j,TextPartType:b.TextPartType.fromTypeName(l),callSequence:n.sequence,messageUID:o,direction:m});function p(s,q){var r=""+Math.floor(1000000000+(Math.random()*9000000000));c[r]=q;return r;}});this.type=l||b.TextPartTypeName.Auto;this.index=j||0;var k=this;Object.defineProperties(this,{selection:{get:function(){var m=new b.Selection();k.addPropertyAccessEventListener(m,f.Selection);return m;},set:function(bounds){var m=new b.Selection();k.addPropertyAccessEventListener(m,f.Selection);m.setBounds(bounds);},enumerable:true}});}TextPart.prototype.getTextFields=function(callback,atInputPosition){if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}b.documentTaskCallbacks.getTextFields.push(callback);var j={TextPartType:b.TextPartType.fromTypeName(this.type),TextPartIndex:this.index};var i=atInputPosition?b.TextFieldCommand.GetItem:b.TextFieldCommand.GetAll;b.sendCommand(b.Command.ClientTextField,i,0,0,j);};TextPart.prototype.getSubTextParts=function(callback,atInputPosition){if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}b.documentTaskCallbacks.getSubTextParts.push(callback);var j={TextPartType:b.TextPartType.fromTypeName(this.type),TextPartIndex:this.index};var i=atInputPosition?b.SubTextPartCommand.GetItem:b.SubTextPartCommand.GetAll;b.sendCommand(b.Command.ClientSubTextPart,i,0,0,j);};TextPart.prototype.addSubTextPart=function(callback,subTextPart){if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}b.documentTaskCallbacks.addSubTextPart.push(callback);var k={};if(!subTextPart.name){throw new TypeError(\'Passed SubTextPart object does not have a "name" property.\');}subTextPart.id=subTextPart.id||0;k[b.SubTextPartProperty.Name]=subTextPart.name;k[b.SubTextPartProperty.ID]=subTextPart.id;if(!!subTextPart.start&&!!subTextPart.length){k[b.SubTextPartProperty.Start]=subTextPart.start;k[b.SubTextPartProperty.Length]=subTextPart.length;}if(!!subTextPart.highlightColor){k[b.SubTextPartProperty.HighlightColor]=subTextPart.highlightColor;}if(!!subTextPart.highlightMode){k[b.SubTextPartProperty.HighlightMode]=subTextPart.highlightMode;}var j={TextPartType:b.TextPartType.fromTypeName(this.type),TextPartIndex:this.index,SubTextPart:k,};var i=b.SubTextPartCommand.AddItem;b.sendCommand(b.Command.ClientSubTextPart,i,0,0,j);};TextPart.prototype.removeSubTextPart=function(callback,keepText,keepNested,subTextPart){if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}keepText=keepText||false;keepNested=keepNested||false;b.documentTaskCallbacks.removeSubTextPart.push(callback);var j=null;if(!!subTextPart){var k={};if(!subTextPart.name){throw new TypeError(\'Passed SubTextPart object does not have a "name" property.\');}subTextPart.id=subTextPart.id||0;k[b.SubTextPartProperty.Name]=subTextPart.name;k[b.SubTextPartProperty.ID]=subTextPart.id;j={TextPartType:b.TextPartType.fromTypeName(this.type),TextPartIndex:this.index,SubTextPart:k,KeepText:keepText,KeepNested:keepNested};}else{j={TextPartType:b.TextPartType.fromTypeName(this.type),TextPartIndex:this.index,KeepText:keepText,KeepNested:keepNested};}var i=b.SubTextPartCommand.RemoveItem;b.sendCommand(b.Command.ClientSubTextPart,i,0,0,j);};TextPart.prototype.addTextField=function(textField){if(!textField||((textField.constructor!==b.LegacyApplicationField)&&(textField.constructor!==b.LegacyTextField))){throw new TypeError(\'Parameter "applicationField" cannot be omitted and must be of type TXTextControl.ApplicationField or TXTextControl.TextField.\');}textField._field.textPart.type=b.TextPartType.fromTypeName(this.type);textField._field.textPart.index=this.index;b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.Add,0,0,{textField:textField._field});};return TextPart;})(b.TextControlClassAdapter);b.processTextPartDataMessage=function(j){if(!j.Data){throw new Error("processTextPartDataMessage(): Received message does not contain data.");}var h=j.Data.Content;var i=j.Data.ExcMsg;switch(h.textPartCommand){case b.TextPartCommand.GetAll:case b.TextPartCommand.GetItem:e(h,i);break;case b.TextPartCommand.AccessTextControlMember:d(h,i);break;default:console.error("processTextPartDataMessage(): Unknown TextPartCommand "+h.textPartCommand+".");break;}};function d(i,j){var k=i.messageUID;if(!c.hasOwnProperty(k)){throw new Error("processAccessTextControlMemberResponse(): Callback queue "+k+" does not exist.");return null;}var h=c[k];delete c[k];if(typeof h==="function"){h(i.result,j?new Error(j):undefined);}}function e(i,k){var h=b.documentTaskCallbacks.getTextParts.shift();if(k){throw new Error(k);}if(h===undefined){return;}var l=[];i.textParts.forEach(function(n){var m=new b.LegacyTextPart(b.TextPartTypeName.fromType(n.type),n.index,n.hashcode);l.push(m);});try{h(l);}catch(j){}}return g;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Activate:"Activate",GetMainText:"GetMainText",});b.TextPartCollection=(function(e){__extends(TextPartCollection,e);function TextPartCollection(){e.call(this);}TextPartCollection.prototype.activate=function(formattedText,callback,errorCallback){if(formattedText._&&formattedText._.hashcode){this.callMethod(c.Activate,callback,[formattedText._.hashcode,formattedText._.index],errorCallback);}else{throw new TypeError("The passed object is not a FormattedText.");}};TextPartCollection.prototype.getItem=function(callback,errorCallback){var f=this;this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},[],errorCallback);};TextPartCollection.prototype.getMainText=function(callback,errorCallback){var f=this;this.callMethod(c.GetMainText,function(g){callback(f._adapt(g));},[],errorCallback);};TextPartCollection.prototype._adapt=function(g){var f;if(g===null){return null;}switch(g.type){case b.TextPartType.Undefined:return null;case b.TextPartType.HeaderFooter:f=new b.HeaderFooter(g.hashcode,g.index);break;case b.TextPartType.TextFrame:f=new b.TextFrame(g.hashcode,g.index);break;default:f=new b.FormattedText(g.hashcode,g.index,"mainText");break;}this.addMethodCallEventListener(f,b.CollectionMethodName.GetAdapterByHashcode,[g.hashcode,g.index]);return f;};return TextPartCollection;})(b.Collection);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Active:"Active",ChangeKind:"ChangeKind",ChangeTime:"ChangeTime",HighlightColor:"HighlightColor",HighlightMode:"HighlightMode",Length:"Length",Number:"Number",Start:"Start",Text:"Text",UserName:"UserName",});var c=Object.freeze({Save:"Save"});b.ChangeKind=Object.freeze({InsertedText:4096,DeletedText:8192});b.TrackedChange=(function(f){__extends(TrackedChange,f);function TrackedChange(g,h){f.call(this,g,h);}TrackedChange.prototype.getActive=function(callback,errorCallback){this.getPropertyValue(d.Active,callback,errorCallback);};TrackedChange.prototype.setActive=function(active,callback,errorCallback){if(typeof active!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Active,active,callback,errorCallback);};TrackedChange.prototype.getChangeKind=function(callback,errorCallback){this.getPropertyValue(d.ChangeKind,callback,errorCallback);};TrackedChange.prototype.getChangeTime=function(callback,errorCallback){this.getPropertyValue(d.ChangeTime,callback,errorCallback);};TrackedChange.prototype.getHighlightColor=function(callback,errorCallback){this.getPropertyValue(d.HighlightColor,callback,errorCallback);};TrackedChange.prototype.setHighlightColor=function(g,callback,errorCallback){if(typeof g!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.HighlightColor,g,callback,errorCallback);};TrackedChange.prototype.getHighlightMode=function(callback,errorCallback){this.getPropertyValue(d.HighlightMode,callback,errorCallback);};TrackedChange.prototype.setHighlightMode=function(g,callback,errorCallback){if(typeof g!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.HighlightMode,g,callback,errorCallback);};TrackedChange.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};TrackedChange.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(d.Number,callback,errorCallback);};TrackedChange.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};TrackedChange.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};TrackedChange.prototype.getUserName=function(callback,errorCallback){this.getPropertyValue(d.UserName,callback,errorCallback);};TrackedChange.prototype.save=function(streamType,callback,saveSettings,errorCallback){if(!streamType){throw new Error(b.ErrorText.NoStreamType);}if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}saveSettings=saveSettings||null;this.callMethod(c.Save,callback,[streamType,saveSettings],errorCallback);};return TrackedChange;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TrackedChangeCollection=(function(d){__extends(TrackedChangeCollection,d);function TrackedChangeCollection(){d.call(this);}TrackedChangeCollection.prototype.remove=function(trackedChange,accept,callback,errorCallback){if(!trackedChange||(!trackedChange.hasOwnProperty("_")&&!trackedChange._.hasOwnProperty("hashcode"))){throw new TypeError(b.ErrorText.TrackedChangeParamTypeError);}if(typeof accept!="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.callMethod(b.CollectionMethodName.Remove,callback,[trackedChange._.hashcode,trackedChange._.index,accept],errorCallback);};TrackedChangeCollection.prototype.getItem=function(callback,next,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=this;var e=(typeof next==="boolean")?[next]:[];this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},e,errorCallback);};TrackedChangeCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.TrackedChange(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return TrackedChangeCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({AutoGenerationType:"AutoGenerationType",Deleteable:"Deleteable",ID:"ID",Name:"Name",Number:"Number",Start:"Start",TargetName:"TargetName"});var c=Object.freeze({ScrollTo:"ScrollTo"});b.AutoGenerationType={};b.DocumentTarget=(function(f){__extends(DocumentTarget,f);function DocumentTarget(g,h){f.call(this,g,h);}DocumentTarget.prototype.getDeleteable=function(callback,errorCallback){this.getPropertyValue(d.Deleteable,callback,errorCallback);};DocumentTarget.prototype.setDeleteable=function(deleteable,callback,errorCallback){if(typeof deleteable!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Deleteable,deleteable,callback,errorCallback);};DocumentTarget.prototype.getID=function(callback,errorCallback){this.getPropertyValue(d.ID,callback,errorCallback);};DocumentTarget.prototype.setID=function(id,callback,errorCallback){if(typeof id!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.ID,id,callback,errorCallback);};DocumentTarget.prototype.getName=function(callback,errorCallback){this.getPropertyValue(d.Name,callback,errorCallback);};DocumentTarget.prototype.setName=function(name,callback,errorCallback){if(typeof name!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Name,name,callback,errorCallback);};DocumentTarget.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};DocumentTarget.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(d.Number,callback,errorCallback);};DocumentTarget.prototype.getTargetName=function(callback,errorCallback){this.getPropertyValue(d.TargetName,callback,errorCallback);};DocumentTarget.prototype.setTargetName=function(targetName,callback,errorCallback){if(typeof targetName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.TargetName,targetName,callback,errorCallback);};DocumentTarget.prototype.getAutoGenerationType=function(callback,errorCallback){this.getPropertyValue(d.AutoGenerationType,callback,errorCallback);};DocumentTarget.prototype.scrollTo=function(callback,errorCallback){this.callMethod(c.ScrollTo,callback,[],errorCallback);};return DocumentTarget;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.DocumentTargetCollection=(function(d){__extends(DocumentTargetCollection,d);function DocumentTargetCollection(){d.call(this);}DocumentTargetCollection.prototype.add=function(targetName,callback,errorCallback){if(typeof targetName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}var e=this;this.callMethod(b.CollectionMethodName.Add,callback?function(f){if(callback){callback(e._adapt(f));}}:null,[targetName],errorCallback);};DocumentTargetCollection.prototype.clear=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Clear,callback,[],errorCallback);};DocumentTargetCollection.prototype.getItem=function(callback,errorCallback,e){var g=this;var f=((typeof e==="number")||(typeof e==="string"))?[e]:[];this.callMethod(b.CollectionMethodName.GetItem,callback?function(h){callback(g._adapt(h));}:null,f,errorCallback);};DocumentTargetCollection.prototype.getCanAdd=function(callback,errorCallback){this.getPropertyValue(b.CollectionPropertyName.CanAdd,callback,errorCallback);};DocumentTargetCollection.prototype.remove=function(documentTarget,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[documentTarget._.hashcode,documentTarget._.index],errorCallback);};DocumentTargetCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.DocumentTarget(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return DocumentTargetCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var c=Object.freeze({GetDocumentTarget:"GetDocumentTarget",SetDocumentTarget:"SetDocumentTarget"});var d=Object.freeze({AutoGenerationType:"AutoGenerationType"});b.DocumentLink=(function(f){__extends(DocumentLink,f);function DocumentLink(g,h){f.call(this,g,h);}DocumentLink.prototype.getDocumentTarget=function(callback,errorCallback){var h=this;if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(c.GetDocumentTarget,function(i){callback(g(i));},[],errorCallback);function g(j){if(j===null){return null;}var i=new b.DocumentTarget(j.hashcode,j.index);h.addMethodCallEventListener(i,c.GetDocumentTarget);return i;}};DocumentLink.prototype.getAutoGenerationType=function(callback,errorCallback){this.getPropertyValue(d.AutoGenerationType,callback,errorCallback);};DocumentLink.prototype.setDocumentTarget=function(documentTarget,callback,errorCallback){if(typeof documentTarget==="undefined"){throw new TypeError(b.ErrorText.ParamUndefined);}this.callMethod(c.SetDocumentTarget,callback,documentTarget===null?[]:[documentTarget._.hashcode,documentTarget._.index],errorCallback);};return DocumentLink;})(b.TextField);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.DocumentLinkCollection=(function(d){__extends(DocumentLinkCollection,d);function DocumentLinkCollection(){d.call(this);}DocumentLinkCollection.prototype.add=function(text,documentTarget,callback,errorCallback){var i=this,g,h;try{g=documentTarget._.hashcode;h=documentTarget._.index;}catch(f){throw new TypeError("No valid DocumentTarget passed.");}this.callMethod(b.CollectionMethodName.Add,callback?function(j){callback(i._adapt(j));}:null,[text,g,h],errorCallback);};DocumentLinkCollection.prototype.clear=function(e,callback,errorCallback){if(typeof e!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.callMethod(b.CollectionMethodName.Clear,callback,[e],errorCallback);};DocumentLinkCollection.prototype.getItem=function(callback,errorCallback,id){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=this;var e=(typeof id==="number")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},e,errorCallback);};DocumentLinkCollection.prototype.remove=function(documentLink,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[documentLink._.hashcode,documentLink._.index],errorCallback);};DocumentLinkCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.DocumentLink(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return DocumentLinkCollection;})(b.TextFieldCollectionBase);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Target:"Target"});b.HypertextLink=(function(e){__extends(HypertextLink,e);function HypertextLink(f,g){e.call(this,f,g);}HypertextLink.prototype.getTarget=function(callback,errorCallback){this.getPropertyValue(c.Target,callback,errorCallback);};HypertextLink.prototype.setTarget=function(target,callback,errorCallback){this.setPropertyValue(c.Target,target,callback,errorCallback);};return HypertextLink;})(b.TextField);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.HypertextLinkCollection=(function(d){__extends(HypertextLinkCollection,d);function HypertextLinkCollection(){d.call(this);}HypertextLinkCollection.prototype.add=function(text,target,callback,errorCallback){var e=this;this.callMethod(b.CollectionMethodName.Add,callback?function(f,g){callback(e._adapt(f),g);}:null,[text,target],errorCallback);};HypertextLinkCollection.prototype.getItem=function(callback,errorCallback,id){var e=this;this.callMethod(b.CollectionMethodName.GetItem,callback?function(f){callback(e._adapt(f));}:null,[id],errorCallback);};HypertextLinkCollection.prototype.remove=function(HypertextLink,keepText,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[HypertextLink._.hashcode,HypertextLink._.index,keepText],errorCallback);};HypertextLinkCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.HypertextLink(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return HypertextLinkCollection;})(b.TextFieldCollectionBase);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ZOrder={};b.Distances=(function(){function Distances(left,top,right,bottom){this.left=left;this.top=top;this.right=right;this.bottom=bottom;}return Distances;})();b.FramePropertyName=Object.freeze({Alignment:"Alignment",Bounds:"Bounds",ID:"ID",InsertionMode:"InsertionMode",Location:"Location",Moveable:"Moveable",Name:"Name",Size:"Size",Sizeable:"Sizeable",TextDistances:"TextDistances",TextPosition:"TextPosition"});b.FrameMethodName=Object.freeze({ChangeZOrder:"ChangeZOrder"});b.FrameBase=(function(d){__extends(FrameBase,d);function FrameBase(e,f){d.call(this,e,f);}FrameBase.prototype.setAlignment=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.FramePropertyName.Alignment,value,callback,errorCallback);};FrameBase.prototype.getAlignment=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Alignment,callback,errorCallback);};FrameBase.prototype.getBounds=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Bounds,callback,errorCallback);};FrameBase.prototype.setID=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.FramePropertyName.ID,value,callback,errorCallback);};FrameBase.prototype.getID=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.ID,callback,errorCallback);};FrameBase.prototype.setInsertionMode=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.FramePropertyName.InsertionMode,value,errorCallback);};FrameBase.prototype.getInsertionMode=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.InsertionMode,callback,errorCallback);};FrameBase.prototype.setLocation=function(value,callback,errorCallback){if(!value.hasOwnProperty("x")||!value.hasOwnProperty("y")){throw new TypeError(\'Parameter "value" must have properties "x" and "y".\');}if(!isInteger(value.x)||!isInteger(value.y)){throw new TypeError("Coordinates must be integers.");}this.setPropertyValue(b.FramePropertyName.Location,value,callback,errorCallback);};FrameBase.prototype.getLocation=function(callback){this.getPropertyValue(b.FramePropertyName.Location,function(f){var e=null;if(f){e=new b.Point(f.x,f.y);}callback(e);},errorCallback);};FrameBase.prototype.setMoveable=function(value,callback,errorCallback){if(typeof value!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(b.FramePropertyName.Moveable,value,callback,errorCallback);};FrameBase.prototype.getMoveable=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Moveable,callback,errorCallback);};FrameBase.prototype.setName=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(b.FramePropertyName.Name,value,callback,errorCallback);};FrameBase.prototype.getName=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Name,callback,errorCallback);};FrameBase.prototype.setSize=function(value,callback,errorCallback){if(!value.hasOwnProperty("width")||!value.hasOwnProperty("height")){throw new TypeError(\'Parameter "value" must have properties "width" and "height".\');}if(!isInteger(value.width)||!isInteger(value.height)){throw new TypeError("Dimensions must be integers.");}this.setPropertyValue(b.FramePropertyName.Size,value,callback,errorCallback);};FrameBase.prototype.getSize=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Size,function(f){var e=null;if(f){e=new b.Size(f.Width,f.Height);}callback(e);},errorCallback);};FrameBase.prototype.setSizeable=function(value,callback,errorCallback){if(typeof value!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(b.FramePropertyName.Sizeable,value,callback,errorCallback);};FrameBase.prototype.getSizeable=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Sizeable,callback,errorCallback);};FrameBase.prototype.setTextDistances=function(value,callback,errorCallback){if(!value.hasOwnProperty("left")||!value.hasOwnProperty("top")||!value.hasOwnProperty("right")||!value.hasOwnProperty("bottom")){throw new TypeError(\'Parameter "value" must have properties "left", "top", "right" and "bottom".\');}if(!isInteger(value.left)||!isInteger(value.top)||!isInteger(value.right)||!isInteger(value.bottom)){throw new TypeError("Text distances must be integers.");}this.setPropertyValue(b.FramePropertyName.TextDistances,value,callback,errorCallback);};FrameBase.prototype.getTextDistances=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.TextDistances,function(f){var e=null;if(f){e=new b.Distances(f.left,f.top,f.right,f.bottom);}callback(e);},errorCallback);};FrameBase.prototype.getTextPosition=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.TextPosition,callback,errorCallback);};FrameBase.prototype.changeZOrder=function(zOrder,callback,errorCallback){if(typeof zOrder!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(b.FrameMethodName.ChangeZOrder,callback,[zOrder],errorCallback);};return FrameBase;})(b.TextControlClassAdapter);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({HasCheckValue:"HasCheckValue",ShowCheckValue:"ShowCheckValue"});b.BarcodeTypeSettings=(function(e){__extends(BarcodeTypeSettings,e);function BarcodeTypeSettings(){e.call(this);}BarcodeTypeSettings.prototype.getHasCheckValue=function(callback,errorCallback){this.getPropertyValue(c.HasCheckValue,callback,errorCallback);};BarcodeTypeSettings.prototype.setHasCheckValue=function(value,callback,errorCallback){this.setPropertyValue(c.HasCheckValue,value,callback,errorCallback);};BarcodeTypeSettings.prototype.getShowCheckValue=function(callback,errorCallback){this.getPropertyValue(c.ShowCheckValue,callback,errorCallback);};BarcodeTypeSettings.prototype.setShowCheckValue=function(value,callback,errorCallback){this.setPropertyValue(c.ShowCheckValue,value,callback,errorCallback);};return BarcodeTypeSettings;})(b.TextControlClassAdapter);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({AdditionalText:"AdditionalText",Alignment:"Alignment",Angle:"Angle",BackColor:"BackColor",BarcodeType:"BarcodeType",BarcodeTypeSettings:"BarcodeTypeSettings",ForeColor:"ForeColor",ShowText:"ShowText",Text:"Text",TextAlignment:"TextAlignment",UpperTextLength:"UpperTextLength"});var c=Object.freeze({SaveImage:"SaveImage"});b.ImageFormat={Bmp:1,Emf:2,Gif:3,Jpeg:4,Png:5,Tiff:6,Wmf:7};b.BarcodeAlignment={TopLeft:1,TopCenter:2,TopRight:3,MiddleLeft:4,MiddleCenter:5,MiddleRight:6,BottomCenter:7,BottomLeft:8,BottomRight:9,};b.BarcodeTextAlignment={Bottom:1,Top:2,};b.Barcode=(function(f){__extends(Barcode,f);function Barcode(){f.call(this);Object.defineProperties(this,{barcodeTypeSettings:{get:function(){var g=new b.BarcodeTypeSettings();this.addPropertyAccessEventListener(g,d.BarcodeTypeSettings);return g;},enumerable:true}});}Barcode.prototype.getAdditionalText=function(callback,errorCallback){this.getPropertyValue(d.AdditionalText,callback,errorCallback);};Barcode.prototype.setAdditionalText=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.AdditionalText,value,callback,errorCallback);};Barcode.prototype.getAlignment=function(callback,errorCallback){this.getPropertyValue(d.Alignment,callback,errorCallback);};Barcode.prototype.setAlignment=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.Alignment,value,callback,errorCallback);};Barcode.prototype.getAngle=function(callback,errorCallback){this.getPropertyValue(d.Angle,callback,errorCallback);};Barcode.prototype.setAngle=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.Angle,value,callback,errorCallback);};Barcode.prototype.getBackColor=function(callback,errorCallback){this.getPropertyValue(d.BackColor,callback,errorCallback);};Barcode.prototype.setBackColor=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.BackColor,value,callback,errorCallback);};Barcode.prototype.getBarcodeType=function(callback,errorCallback){this.getPropertyValue(d.BarcodeType,callback,errorCallback);};Barcode.prototype.setBarcodeType=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.BarcodeType,value,callback,errorCallback);};Barcode.prototype.getForeColor=function(callback,errorCallback){this.getPropertyValue(d.ForeColor,callback,errorCallback);};Barcode.prototype.setForeColor=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.ForeColor,value,callback,errorCallback);};Barcode.prototype.getShowText=function(callback,errorCallback){this.getPropertyValue(d.ShowText,callback,errorCallback);};Barcode.prototype.setShowText=function(value,callback,errorCallback){if(typeof value!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.ShowText,value,callback,errorCallback);};Barcode.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};Barcode.prototype.setText=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Text,value,callback,errorCallback);};Barcode.prototype.getTextAlignment=function(callback,errorCallback){this.getPropertyValue(d.TextAlignment,callback,errorCallback);};Barcode.prototype.setTextAlignment=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.TextAlignment,value,callback,errorCallback);};Barcode.prototype.getUpperTextLength=function(callback,errorCallback){this.getPropertyValue(d.UpperTextLength,callback,errorCallback);};Barcode.prototype.setUpperTextLength=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.UpperTextLength,value,callback,errorCallback);};Barcode.prototype.saveImage=function(imageFormat,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(c.SaveImage,callback,[imageFormat],errorCallback);};return Barcode;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({HorizontalScaling:"HorizontalScaling",VerticalScaling:"VerticalScaling"});b.Image=(function(e){__extends(Image,e);function Image(f,g){e.call(this,f,g);}Image.prototype.setHorizontalScaling=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(c.HorizontalScaling,value,callback,errorCallback);};Image.prototype.getHorizontalScaling=function(callback,errorCallback){this.getPropertyValue(c.HorizontalScaling,callback,errorCallback);};Image.prototype.setVerticalScaling=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(c.VerticalScaling,value,callback,errorCallback);};Image.prototype.getVerticalScaling=function(callback,errorCallback){this.getPropertyValue(c.VerticalScaling,callback,errorCallback);};return Image;})(b.FrameBase);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Barcode:"Barcode",ExportCompressionQuality:"ExportCompressionQuality",ExportResolution:"ExportResolution"});var c=Object.freeze({Refresh:"Refresh"});b.BarcodeFrame=(function(f){__extends(BarcodeFrame,f);function BarcodeFrame(g,h){f.call(this,g,h);Object.defineProperties(this,{barcode:{get:function(){var i=new b.Barcode();this.addPropertyAccessEventListener(i,d.Barcode);return i;},enumerable:true}});}BarcodeFrame.prototype.refresh=function(callback,errorCallback){this.callMethod(c.Refresh,callback,[],errorCallback);};return BarcodeFrame;})(b.FrameBase);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({BackColor:"BackColor",BorderWidth:"BorderWidth",InternalMargins:"InternalMargins",Transparency:"Transparency"});var c=Object.freeze({Activate:"Activate"});b.TextFrame=(function(f){__extends(TextFrame,f);function TextFrame(g,h){f.call(this,g,h,"textFrame");}TextFrame.prototype.setAlignment=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.FramePropertyName.Alignment,value,callback,errorCallback);};TextFrame.prototype.getAlignment=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Alignment,callback,errorCallback);};TextFrame.prototype.getBackColor=function(callback,errorCallback){this.getPropertyValue(d.BackColor,callback,errorCallback);};TextFrame.prototype.setBackColor=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.BackColor,value,callback,errorCallback);};TextFrame.prototype.getBorderWidth=function(callback,errorCallback){this.getPropertyValue(d.BorderWidth,callback,errorCallback);};TextFrame.prototype.setBorderWidth=function(value,callback,errorCallback){if(!isInteger(value)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.BorderWidth,value,callback,errorCallback);};TextFrame.prototype.getBounds=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Bounds,callback,errorCallback);};TextFrame.prototype.setID=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.FramePropertyName.ID,value,callback,errorCallback);};TextFrame.prototype.getID=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.ID,callback,errorCallback);};TextFrame.prototype.setInsertionMode=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(b.FramePropertyName.InsertionMode,value,errorCallback);};TextFrame.prototype.getInsertionMode=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.InsertionMode,callback,errorCallback);};TextFrame.prototype.setInternalMargins=function(value,callback,errorCallback){if(!value.hasOwnProperty("left")||!value.hasOwnProperty("top")||!value.hasOwnProperty("right")||!value.hasOwnProperty("bottom")){throw new TypeError(\'Parameter "value" must have properties "left", "top", "right" and "bottom".\');}if(!isInteger(value.left)||!isInteger(value.top)||!isInteger(value.right)||!isInteger(value.bottom)){throw new TypeError("Text distances must be integers.");}this.setPropertyValue(d.InternalMargins,value,callback,errorCallback);};TextFrame.prototype.getInternalMargins=function(callback,errorCallback){this.getPropertyValue(d.InternalMargins,function(h){var g=null;if(h){g=new b.Distances(h.left,h.top,h.right,h.bottom);}callback(g);},errorCallback);};TextFrame.prototype.setLocation=function(value,callback,errorCallback){if(!value.hasOwnProperty("x")||!value.hasOwnProperty("y")){throw new TypeError(\'Parameter "value" must have properties "x" and "y".\');}if(!isInteger(value.x)||!isInteger(value.y)){throw new TypeError("Coordinates must be integers.");}this.setPropertyValue(b.FramePropertyName.Location,value,callback,errorCallback);};TextFrame.prototype.getLocation=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Location,function(i,g){var h=null;if(i){h=new b.Point(i.X,i.Y);}callback(h,g);},errorCallback);};TextFrame.prototype.setMoveable=function(value,callback,errorCallback){if(typeof value!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(b.FramePropertyName.Moveable,value,callback,errorCallback);};TextFrame.prototype.getMoveable=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Moveable,callback,errorCallback);};TextFrame.prototype.setName=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(b.FramePropertyName.Name,value,callback,errorCallback);};TextFrame.prototype.getName=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Name,callback,errorCallback);};TextFrame.prototype.setSize=function(value,callback,errorCallback){if(!value.hasOwnProperty("width")||!value.hasOwnProperty("height")){throw new TypeError(\'Parameter "value" must have properties "width" and "height".\');}if(!isInteger(value.width)||!isInteger(value.height)){throw new TypeError("Dimensions must be integers.");}this.setPropertyValue(b.FramePropertyName.Size,value,callback,errorCallback);};TextFrame.prototype.getSize=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Size,function(h){var g=null;if(h){g=new b.Size(h.Width,h.Height);}callback(g);},errorCallback);};TextFrame.prototype.setSizeable=function(value,callback,errorCallback){if(typeof value!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(b.FramePropertyName.Sizeable,value,callback,errorCallback);};TextFrame.prototype.getSizeable=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.Sizeable,callback,errorCallback);};TextFrame.prototype.setTextDistances=function(value,callback,errorCallback){if(!value.hasOwnProperty("left")||!value.hasOwnProperty("top")||!value.hasOwnProperty("right")||!value.hasOwnProperty("bottom")){throw new TypeError(\'Parameter "value" must have properties "left", "top", "right" and "bottom".\');}if(!isInteger(value.left)||!isInteger(value.top)||!isInteger(value.right)||!isInteger(value.bottom)){throw new TypeError("Text distances must be integers.");}this.setPropertyValue(b.FramePropertyName.TextDistances,value,callback,errorCallback);};TextFrame.prototype.getTextDistances=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.TextDistances,function(h){var g=null;if(h){g=new b.Distances(h.left,h.top,h.right,h.bottom);}callback(g);},errorCallback);};TextFrame.prototype.getTextPosition=function(callback,errorCallback){this.getPropertyValue(b.FramePropertyName.TextPosition,callback,errorCallback);};TextFrame.prototype.setTransparency=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.Transparency,value,callback,errorCallback);};TextFrame.prototype.getTransparency=function(callback,errorCallback){this.getPropertyValue(d.Transparency,callback,errorCallback);};TextFrame.prototype.activate=function(callback,errorCallback){this.callMethod(c.Activate,callback,[],errorCallback);};TextFrame.prototype.changeZOrder=function(zOrder,callback,errorCallback){if(typeof zOrder!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(b.FrameMethodName.ChangeZOrder,callback,[zOrder],errorCallback);};return TextFrame;})(b.FormattedText);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.FrameCollectionMethodName=Object.freeze({AddInline:"AddInline",AddAnchored:"AddAnchored",AddAnchoredAtLocation:"AddAnchoredAtLocation",AddAtFixedPositionInDocument:"AddAtFixedPositionInDocument",AddAtFixedPositionOnPage:"AddAtFixedPositionOnPage",AddWithMouse:"AddWithMouse"});b.FrameBaseCollection=(function(d){__extends(FrameBaseCollection,d);function FrameBaseCollection(){d.call(this);}FrameBaseCollection.prototype.clear=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Clear,callback,[],errorCallback);};return FrameBaseCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.FrameCollection=(function(d){__extends(FrameCollection,d);function FrameCollection(){d.call(this);}FrameCollection.prototype.getItem=function(callback,errorCallback,id){var f=this;if((typeof id!=="undefined")&&(typeof id!=="number")){throw new TypeError(\'Parameter "id" must be a number.\');}var e=(typeof id!=="undefined")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,callback?function(g,h){callback(f._adapt(g),h);}:undefined,e,errorCallback);};FrameCollection.prototype.getItemByName=function(callback,errorCallback,name){var e=this;if(typeof name!=="string"){throw new TypeError(\'Parameter "name" must be a string.\');}this.callMethod(b.CollectionMethodName.GetItem,callback?function(f){callback(e._adapt(f));}:undefined,[name],errorCallback);};FrameCollection.prototype.remove=function(frame,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[frame._.hashcode,frame._.index],errorCallback);};FrameCollection.prototype._adapt=function(f){var e=null;if(f===null){return null;}switch(f.frameType){case"BarcodeFrame":e=new b.BarcodeFrame(f.hashcode,f.index);break;case"Image":e=new b.Image(f.hashcode,f.index);break;case"TextFrame":e=new b.TextFrame(f.hashcode,f.index);break;default:e=new b.FrameBase(f.hashcode,f.index);break;}this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return FrameCollection;})(b.FrameBaseCollection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.BarcodeType={};b.FrameInsertionMode={};b.BarcodeCollection=(function(d){__extends(BarcodeCollection,d);function BarcodeCollection(){d.call(this);}function e(g,f){return function(i){if(!f){return;}var h=i!==null?g._adapt(i):null;f(h);};}BarcodeCollection.prototype.addInline=function(callback,errorCallback,barcodeType,text,textPosition){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(!isInteger(barcodeType)){throw new TypeError(\'"barcodeType" must be one of the TXTextControl.BarcodeType values.\');}if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(typeof textPosition==="undefined"){textPosition=-1;}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}this.callMethod(b.FrameCollectionMethodName.AddInline,e(this,callback),[barcodeType,text,textPosition],errorCallback);};BarcodeCollection.prototype.addAnchored=function(callback,errorCallback,barcodeType,text,horizontalAlignment,textPosition,insertionMode){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(!isInteger(barcodeType)){throw new TypeError(\'"barcodeType" must be one of the TXTextControl.BarcodeType values.\');}if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isInteger(horizontalAlignment)){throw new TypeError(\'"horizontalAlignment" must be one of the values defined in TXTextControl.HorizontalAlignment.\');}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAnchored,e(this,callback),[barcodeType,text,horizontalAlignment,textPosition,insertionMode],errorCallback);};BarcodeCollection.prototype.addAnchoredAtLocation=function(callback,errorCallback,barcodeType,text,location,textPosition,insertionMode){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(!isInteger(barcodeType)){throw new TypeError(\'"barcodeType" must be one of the TXTextControl.BarcodeType values.\');}if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAnchoredAtLocation,e(this,callback),[barcodeType,text,location,textPosition,insertionMode],errorCallback);};BarcodeCollection.prototype.addAtFixedPositionOnPage=function(callback,errorCallback,barcodeType,text,pageNumber,location,insertionMode){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(!isInteger(barcodeType)){throw new TypeError(\'"barcodeType" must be one of the TXTextControl.BarcodeType values.\');}if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isInteger(pageNumber)){throw new TypeError(\'"pageNumber" must be an integer.\');}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAtFixedPositionOnPage,e(this,callback),[barcodeType,text,pageNumber,location,insertionMode],errorCallback);};BarcodeCollection.prototype.addAtFixedPositionInDocument=function(callback,errorCallback,barcodeType,text,location,insertionMode){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(!isInteger(barcodeType)){throw new TypeError(\'"barcodeType" must be one of the TXTextControl.BarcodeType values.\');}if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAtFixedPositionInDocument,e(this,callback),[barcodeType,text,location,insertionMode],errorCallback);};BarcodeCollection.prototype.addWithMouse=function(barcodeType,text,insertionMode,callback,errorCallback){if(!isInteger(barcodeType)){throw new TypeError(\'"barcodeType" must be one of the TXTextControl.BarcodeType values.\');}if(typeof text!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddWithMouse,callback,[barcodeType,text,insertionMode],errorCallback);};BarcodeCollection.prototype.getItem=function(callback,errorCallback,id){var g=this;if((typeof id!=="undefined")&&(typeof id!=="number")){throw new TypeError(\'Parameter "id" must be a number.\');}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=(typeof id!=="undefined")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,function(h){callback(g._adapt(h));},f,errorCallback);};BarcodeCollection.prototype.getItemByName=function(callback,errorCallback,name){var f=this;if(typeof name!=="string"){throw new TypeError(\'Parameter "name" must be a string.\');}this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},[name],errorCallback);};BarcodeCollection.prototype.remove=function(barcode,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[barcode._.hashcode,barcode._.index],errorCallback);};BarcodeCollection.prototype._adapt=function(g){if(g===null){return null;}var f=new b.BarcodeFrame(g.hashcode,g.index);this.addMethodCallEventListener(f,b.CollectionMethodName.GetAdapterByHashcode,[g.hashcode,g.index]);return f;};return BarcodeCollection;})(b.FrameBaseCollection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ImageInsertionMode={};b.ImageCollection=(function(d){__extends(ImageCollection,d);function ImageCollection(){d.call(this);}function e(g,f){return function(h){if(!f){return;}var i=h!==null?g._adapt(h):null;f(i);};}ImageCollection.prototype.addInline=function(imageData,textPosition,callback,errorCallback){if(typeof imageData!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}this.callMethod(b.FrameCollectionMethodName.AddInline,e(this,callback),[imageData,textPosition],errorCallback);};ImageCollection.prototype.addAnchored=function(imageData,horizontalAlignment,textPosition,insertionMode,callback,errorCallback){if(typeof imageData!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isInteger(horizontalAlignment)){throw new TypeError(\'"horizontalAlignment" must be one of the values defined in TXTextControl.HorizontalAlignment.\');}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAnchored,e(this,callback),[imageData,horizontalAlignment,textPosition,insertionMode],errorCallback);};ImageCollection.prototype.addAnchoredAtLocation=function(imageData,location,textPosition,insertionMode,callback,errorCallback){if(typeof imageData!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAnchoredAtLocation,e(this,callback),[imageData,location,textPosition,insertionMode],errorCallback);};ImageCollection.prototype.addAtFixedPositionOnPage=function(f,pageNumber,location,insertionMode,callback,errorCallback){if(typeof f!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isInteger(pageNumber)){throw new TypeError(\'"pageNumber" must be an integer.\');}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAtFixedPositionOnPage,e(this,callback),[f,pageNumber,location,insertionMode],errorCallback);};ImageCollection.prototype.addAtFixedPosition=ImageCollection.prototype.addAtFixedPositionOnPage;ImageCollection.prototype.addAtFixedPositionInDocument=function(f,location,insertionMode,callback,errorCallback){if(typeof f!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.FrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAtFixedPositionInDocument,e(this,callback),[f,location,insertionMode],errorCallback);};ImageCollection.prototype.getItem=function(callback,errorCallback,id){var g=this;if((typeof id!=="undefined")&&(typeof id!=="number")){throw new TypeError(\'Parameter "id" must be a number.\');}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var f=(typeof id!=="undefined")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,function(h){callback(g._adapt(h));},f,errorCallback);};ImageCollection.prototype.getItemByName=function(callback,errorCallback,name){var f=this;if(typeof name!=="string"){throw new TypeError(\'Parameter "name" must be a string.\');}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},[name],errorCallback);};ImageCollection.prototype.remove=function(image,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[image._.hashcode,image._.index],errorCallback);};ImageCollection.prototype._adapt=function(g){if(g===null){return null;}var f=new b.Image(g.hashcode,g.index);this.addMethodCallEventListener(f,b.CollectionMethodName.GetAdapterByHashcode,[g.hashcode,g.index]);return f;};return ImageCollection;})(b.FrameBaseCollection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TextFrameInsertionMode={};b.TextFrameCollection=(function(d){__extends(TextFrameCollection,d);function TextFrameCollection(){d.call(this);}function e(g,f){return function(h){if(!f){return;}var i=h!==null?g._adapt(h):null;f(i);};}TextFrameCollection.prototype.addInline=function(size,textPosition,callback,errorCallback){if((size===null)||(size===undefined)){throw new TypeError(\'Please provide the "size" parameter.\');}if(!size.hasOwnProperty("width")||!size.hasOwnProperty("height")){throw new TypeError(\'Parameter "size" must have properties "width" and "height".\');}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}this.callMethod(b.FrameCollectionMethodName.AddInline,e(this,callback),[size,textPosition],errorCallback);};TextFrameCollection.prototype.addAnchored=function(size,horizontalAlignment,textPosition,insertionMode,callback,errorCallback){if((size===null)||(size===undefined)){throw new TypeError(\'Please provide the "size" parameter.\');}if(!size.hasOwnProperty("width")||!size.hasOwnProperty("height")){throw new TypeError(\'Parameter "size" must have properties "width" and "height".\');}if(!isInteger(horizontalAlignment)){throw new TypeError(\'"horizontalAlignment" must be one of the values defined in TXTextControl.HorizontalAlignment.\');}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.TextFrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAnchored,e(this,callback),[size,horizontalAlignment,textPosition,insertionMode],errorCallback);};TextFrameCollection.prototype.addAnchoredAtLocation=function(size,location,textPosition,insertionMode,callback,errorCallback){if((size===null)||(size===undefined)){throw new TypeError(\'Please provide the "size" parameter.\');}if(!size.hasOwnProperty("width")||!size.hasOwnProperty("height")){throw new TypeError(\'Parameter "size" must have properties "width" and "height".\');}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(textPosition)){throw new TypeError(\'"textPosition" must be an integer.\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.TextFrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAnchoredAtLocation,e(this,callback),[size,location,textPosition,insertionMode],errorCallback);};TextFrameCollection.prototype.addAtFixedPositionOnPage=function(size,pageNumber,location,insertionMode,callback,errorCallback){if((size===null)||(size===undefined)){throw new TypeError(\'Please provide the "size" parameter.\');}if(!size.hasOwnProperty("width")||!size.hasOwnProperty("height")){throw new TypeError(\'Parameter "size" must have properties "width" and "height".\');}if(!isInteger(pageNumber)){throw new TypeError(\'"pageNumber" must be an integer.\');}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.TextFrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAtFixedPositionOnPage,e(this,callback),[size,pageNumber,location,insertionMode],errorCallback);};TextFrameCollection.prototype.addAtFixedPositionInDocument=function(size,location,insertionMode,callback,errorCallback){if((size===null)||(size===undefined)){throw new TypeError(\'Please provide the "size" parameter.\');}if(!size.hasOwnProperty("width")||!size.hasOwnProperty("height")){throw new TypeError(\'Parameter "size" must have properties "width" and "height".\');}if((location===null)||(location===undefined)){throw new TypeError(\'Please provide the "location" parameter.\');}if(!location.hasOwnProperty("x")||!location.hasOwnProperty("y")){throw new TypeError(\'Parameter "location" must have properties "x" and "y".\');}if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.TextFrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddAtFixedPositionInDocument,e(this,callback),[size,location,insertionMode],errorCallback);};TextFrameCollection.prototype.addWithMouse=function(insertionMode,errorCallback){if(!isInteger(insertionMode)){throw new TypeError(\'"insertionMode" must be one of the values defined in TXTextControl.TextFrameInsertionMode.\');}this.callMethod(b.FrameCollectionMethodName.AddWithMouse,null,[insertionMode],errorCallback);};TextFrameCollection.prototype.getItem=function(callback,errorCallback,id){var g=this;if((typeof id!=="undefined")&&(typeof id!=="number")){throw new TypeError(\'Parameter "id" must be a number.\');}var f=(typeof id!=="undefined")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,function(h){callback(g._adapt(h));},f,errorCallback);};TextFrameCollection.prototype.getItemByName=function(callback,errorCallback,name){var f=this;if(typeof name!=="string"){throw new TypeError(\'Parameter "name" must be a string.\');}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},[name],errorCallback);};TextFrameCollection.prototype.remove=function(textFrame,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[textFrame._.hashcode,textFrame._.index],errorCallback);};TextFrameCollection.prototype._adapt=function(g){if(g===null){return null;}var f=new b.TextFrame(g.hashcode,g.index);this.addMethodCallEventListener(f,b.CollectionMethodName.GetAdapterByHashcode,[g.hashcode,g.index]);return f;};return TextFrameCollection;})(b.FrameBaseCollection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({HighlightColor:"HighlightColor",HighlightMode:"HighlightMode",ID:"ID",Length:"Length",Start:"Start",Text:"Text",UserName:"UserName"});var c=Object.freeze({ScrollTo:"ScrollTo",Save:"Save"});b.EditableRegion=(function(f){__extends(EditableRegion,f);function EditableRegion(g,h){f.call(this,g,h);}EditableRegion.prototype.getHighlightColor=function(callback,errorCallback){this.getPropertyValue(d.HighlightColor,callback,errorCallback);};EditableRegion.prototype.setHighlightColor=function(highlightColor,callback,errorCallback){if(typeof highlightColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.HighlightColor,highlightColor,callback,errorCallback);};EditableRegion.prototype.getHighlightMode=function(callback,errorCallback){this.getPropertyValue(d.HighlightMode,callback,errorCallback);};EditableRegion.prototype.setHighlightMode=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.HighlightMode,value,callback,errorCallback);};EditableRegion.prototype.getID=function(callback,errorCallback){this.getPropertyValue(d.ID,callback,errorCallback);};EditableRegion.prototype.setID=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.ID,value,callback,errorCallback);};EditableRegion.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};EditableRegion.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};EditableRegion.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};EditableRegion.prototype.getUserName=function(callback,errorCallback){this.getPropertyValue(d.UserName,callback,errorCallback);};EditableRegion.prototype.setUserName=function(username,callback,errorCallback){this.setPropertyValue(d.UserName,username,callback,errorCallback);};EditableRegion.prototype.save=function(streamType,callback,saveSettings,errorCallback){saveSettings=saveSettings||null;this.callMethod(c.Save,callback,[streamType,saveSettings],errorCallback);};EditableRegion.prototype.scrollTo=function(callback,errorCallback){this.callMethod(c.ScrollTo,callback,[],errorCallback);};return EditableRegion;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({GetItems:"GetItems"});b.EditableRegionCollection=(function(e){__extends(EditableRegionCollection,e);function EditableRegionCollection(){e.call(this);}EditableRegionCollection.prototype.add=function(username,id,j,h,f,g){if(typeof username!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(typeof id!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof j!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof h!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}var i=this;this.callMethod(b.CollectionMethodName.Add,f?function(k){var l={editableRegion:i._adapt(k.editableRegion),addResult:k.addResult};f(l);}:null,[username,id,j,h],g);};EditableRegionCollection.prototype.getItems=function(callback,errorCallback){var g=this;this.callMethod(c.GetItems,callback?function(h){callback(f(h));}:null,[],errorCallback);function f(h){if(h===null){return null;}return h.map(function(i){return g._adapt(i);});}};EditableRegionCollection.prototype.remove=function(editableRegion,selectedPart,callback,errorCallback){var f=this;if((typeof selectedPart!=="undefined")&&(typeof selectedPart!=="boolean")){throw new TypeError(b.ErrorText.ParamNotBoolean);}selectedPart=selectedPart||false;this.callMethod(b.CollectionMethodName.Remove,callback,[editableRegion._.hashcode,editableRegion._.index,selectedPart],errorCallback);};EditableRegionCollection.prototype._adapt=function(g){if(g===null){return null;}var f=new b.EditableRegion(g.hashcode,g.index);this.addMethodCallEventListener(f,b.CollectionMethodName.GetAdapterByHashcode,[g.hashcode,g.index]);return f;};return EditableRegionCollection;})(b.Collection);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Baseline:"Baseline",Length:"Length",Number:"Number",Page:"Page",Start:"Start",Text:"Text",TextBounds:"TextBounds"});var c=Object.freeze({Save:"Save"});b.Line=(function(f){__extends(Line,f);function Line(g,h){f.call(this,g,h);}Line.prototype.getBaseline=function(callback,errorCallback){this.getPropertyValue(d.Baseline,callback,errorCallback);};Line.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};Line.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(d.Number,callback,errorCallback);};Line.prototype.getPage=function(callback,errorCallback){this.getPropertyValue(d.Page,callback,errorCallback);};Line.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};Line.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};Line.prototype.getTextBounds=function(callback,errorCallback){this.getPropertyValue(d.TextBounds,callback,errorCallback);};Line.prototype.save=function(streamType,callback,saveSettings,errorCallback){if(!streamType){throw new Error(b.ErrorText.NoStreamType);}if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}saveSettings=saveSettings||null;this.callMethod(c.Save,callback,[streamType,saveSettings],errorCallback);};return Line;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.LineCollection=(function(d){__extends(LineCollection,d);function LineCollection(){d.call(this);}LineCollection.prototype.getItem=function(callback,textPosition,errorCallback){if(typeof textPosition!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[textPosition],errorCallback);};LineCollection.prototype.getItemAtLocation=function(x,y,callback,errorCallback){if(typeof x!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof y!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[x,y],errorCallback);};LineCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.Line(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return LineCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({IsDuplicate:"IsDuplicate",IsIgnored:"IsIgnored",Length:"Length",Number:"Number",Start:"Start",Text:"Text"});var c=Object.freeze({Select:"Select"});b.MisspelledWord=(function(f){__extends(MisspelledWord,f);function MisspelledWord(g,h){f.call(this,g,h);}MisspelledWord.prototype.getIsDuplicate=function(callback,errorCallback){this.getPropertyValue(d.IsDuplicate,callback,errorCallback);};MisspelledWord.prototype.getIsIgnored=function(callback,errorCallback){this.getPropertyValue(d.IsIgnored,callback,errorCallback);};MisspelledWord.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};MisspelledWord.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(d.Number,callback,errorCallback);};MisspelledWord.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};MisspelledWord.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};MisspelledWord.prototype.setIsDuplicate=function(isDuplicate,callback,errorCallback){this.setPropertyValue(d.IsDuplicate,isDuplicate,callback,errorCallback);};MisspelledWord.prototype.setIsIgnored=function(isIgnored,callback,errorCallback){this.setPropertyValue(d.IsIgnored,isIgnored,callback,errorCallback);};MisspelledWord.prototype.select=function(callback,errorCallback){this.callMethod(c.Select,callback,[],errorCallback);};return MisspelledWord;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({GetCount:"GetCount",GetItemAtInputPosition:"GetItemAtInputPosition",GetItemAtLocation:"GetItemAtLocation",GetItemAtTextPosition:"GetItemAtTextPosition",Ignore:"Ignore"});b.MisspelledWordCollection=(function(e){__extends(MisspelledWordCollection,e);function MisspelledWordCollection(){e.call(this);}MisspelledWordCollection.prototype.getCountOf=function(kind,callback,errorCallback){if(typeof kind!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(c.GetCount,callback,[kind],errorCallback);};MisspelledWordCollection.prototype.getItemAtInputPosition=function(kind,callback,errorCallback){if(typeof kind!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(c.GetItemAtInputPosition,callback,[kind],errorCallback);};MisspelledWordCollection.prototype.getItemAtLocation=function(x,y,callback,errorCallback){if(typeof x!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof y!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(c.GetItemAtLocation,callback,[x,y],errorCallback);};MisspelledWordCollection.prototype.getItemAtTextPosition=function(textPosition,kind,callback,errorCallback){if(typeof textPosition!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof kind!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(c.GetItemAtTextPosition,callback,[textPosition,kind],errorCallback);};MisspelledWordCollection.prototype.ignore=function(misspelledWord,changedText,callback,errorCallback){if(typeof changedText!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(c.Ignore,callback,[misspelledWord._.hashcode,misspelledWord._.index,changedText],errorCallback);};MisspelledWordCollection.prototype.remove=function(misspelledWord,f,callback,errorCallback){if(typeof f!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(c.Ignore,callback,[misspelledWord._.hashcode,misspelledWord._.index,f],errorCallback);};MisspelledWordCollection.prototype._adapt=function(g){if(g===null){return null;}var f=new b.MisspelledWord(g.hashcode,g.index);this.addMethodCallEventListener(f,b.CollectionMethodName.GetAdapterByHashcode,[g.hashcode,g.index]);return f;};return MisspelledWordCollection;})(b.Collection);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var c=Object.freeze({Save:"Save",Select:"Select"});var d=Object.freeze({FormattingStyle:"FormattingStyle",Length:"Length",Lines:"Lines",ListNumber:"ListNumber",ListNumberText:"ListNumberText",Number:"Number",Start:"Start",StartLine:"StartLine",Text:"Text",Format:"Format",ListFormat:"ListFormat",});b.Paragraph=(function(f){__extends(Paragraph,f);function Paragraph(g,h){f.call(this,g,h);Object.defineProperty(Paragraph.prototype,"listFormat",{get:function(){var i=new b.ListFormat();this.addPropertyAccessEventListener(i,d.ListFormat);return i;},enumerable:true,configurable:true});Object.defineProperty(Paragraph.prototype,"format",{get:function(){var i=new b.ParagraphFormat();this.addPropertyAccessEventListener(i,d.Format);return i;},enumerable:true,configurable:true});}Paragraph.prototype.getFormattingStyle=function(callback,errorCallback){this.getPropertyValue(d.FormattingStyle,callback,errorCallback);};Paragraph.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};Paragraph.prototype.getLines=function(callback,errorCallback){this.getPropertyValue(d.Lines,callback,errorCallback);};Paragraph.prototype.getListNumber=function(callback,errorCallback){this.getPropertyValue(d.ListNumber,callback,errorCallback);};Paragraph.prototype.getListNumberText=function(callback,errorCallback){this.getPropertyValue(d.ListNumberText,callback,errorCallback);};Paragraph.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};Paragraph.prototype.getStartLine=function(callback,errorCallback){this.getPropertyValue(d.StartLine,callback,errorCallback);};Paragraph.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};Paragraph.prototype.setFormattingStyle=function(formattingStyle,callback,errorCallback){if(typeof formattingStyle!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.FormattingStyle,formattingStyle,callback,errorCallback);};Paragraph.prototype.save=function(streamType,callback,saveSettings,errorCallback){if(!streamType){throw new Error(b.ErrorText.NoStreamType);}if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}saveSettings=saveSettings||null;this.callMethod(c.Save,callback,[streamType,saveSettings],errorCallback);};Paragraph.prototype.select=function(callback,errorCallback){this.callMethod(c.Select,callback,[],errorCallback);};return Paragraph;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ParagraphCollection=(function(d){__extends(ParagraphCollection,d);function ParagraphCollection(){d.call(this);}ParagraphCollection.prototype.getItemAtTextPosition=function(textPosition,callback,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[textPosition],errorCallback);};ParagraphCollection.prototype.getItemAtLocation=function(x,y,callback,errorCallback){if(typeof x!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof y!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[x,y],errorCallback);};ParagraphCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.Paragraph(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return ParagraphCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};b.TextFieldCommand=Object.freeze({GetAll:1,SetProperty:2,GetItem:3,Add:4,Remove:5,ShowDialog:6});b.TextFieldProperty=Object.freeze({Text:0,Parameters:1,Name:2,TypeName:3,ID:4,Deleteable:5,DoubledInputPosition:6,Editable:7,ShowActivated:8,IsSpellCheckingEnabled:9});b.PrivateTextField=(function(){function e(typeName,text,parameters,fieldType){typeName=typeName||"";text=text||"";parameters=parameters||[];if(typeof fieldType==="undefined"){fieldType="TEXTFIELD";}if(typeof typeName!=="string"){throw new Error(\'"typeName" must be a string.\');}if(typeof text!=="string"){throw new TypeError(\'"text" must be a string.\');}if(parameters.constructor!==Array){throw new TypeError(\'"parameters" must be an array.\');}parameters.forEach(function(f){if((typeof f!=="string")&&!(f instanceof String)){throw new TypeError(\'"parameters" must be an array of strings.\');}});this.typeName=typeName;this.fieldText=text;this.parameters=parameters;this.fieldType=fieldType;this.fieldName="";this.start=0;this.length=0;this.id=0;this.bounds={location:{x:0,y:0},size:{width:0,height:0}};this.containsInputPosition=false;this.deleteable=true;this.doubledInputPosition=false;this.editable=true;this.showActivated=false;this.isSpellCheckingEnabled=true;this.textPart={type:b.TextPartType.Auto,index:-1};}return e;})();b.LegacyTextField=(function(e){function TextField(text){var f;if(arguments.length===2){f=arguments[1];}else{f=new b.PrivateTextField("",text);}this._field=f;var g=this;Object.defineProperties(this,{text:{get:function(){return g._field.fieldText;},set:function(text){if(text===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(typeof text!=="string"){throw new TypeError(\'"text" must be a string.\');}g._field.fieldText=text;if(g._field.constructor===b.PrivateTextField){return;}var h={textField:g._field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.Text,0,h);},enumerable:true},name:{get:function(){return g._field.fieldName;},set:function(name){if(name===undefined){throw new Error(b.Error.TooFewParameters);}if(typeof name!=="string"){throw new TypeError(\'"name" must be a string.\');}g._field.fieldName=name;if(g._field.constructor===b.PrivateTextField){return;}var h={textField:g._field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.Name,0,h);},enumerable:true},start:{get:function(){return g._field.start;},enumerable:true},length:{get:function(){return g._field.length;},enumerable:true},id:{get:function(){return g._field.id;},set:function(id){if(id===undefined){id=0;}if(!isInteger(id)){throw new TypeError(\'"id" must be an integer.\');}g._field.id=id;if(g._field.constructor===b.PrivateTextField){return;}var h={textField:g._field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.ID,0,h);},enumerable:true},type:{get:function(){return g._field.fieldType;},enumerable:true},bounds:{get:function(){return g._field.bounds;},enumerable:true},containsInputPosition:{get:function(){return g._field.containsInputPosition;},enumerable:true},deleteable:{get:function(){return g._field.deleteable;},set:function(deleteable){if(deleteable===undefined){deleteable=false;}if(typeof deleteable!=="boolean"){throw new TypeError(\'"deleteable" must be a boolean value.\');}g._field.deleteable=deleteable;if(g._field.constructor===b.PrivateTextField){return;}var h={textField:g._field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.Deleteable,0,h);},enumerable:true},doubledInputPosition:{get:function(){return g._field.doubledInputPosition;},set:function(doubledInputPosition){if(doubledInputPosition===undefined){doubledInputPosition=false;}if(typeof doubledInputPosition!=="boolean"){throw new TypeError(\'"doubledInputPosition" must be a boolean value.\');}g._field.doubledInputPosition=doubledInputPosition;if(g._field.constructor===b.PrivateTextField){return;}var h={textField:g._field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.DoubledInputPosition,0,h);},enumerable:true},editable:{get:function(){return g._field.editable;},set:function(editable){if(editable===undefined){editable=false;}if(typeof editable!=="boolean"){throw new TypeError(\'"editable" must be a boolean value.\');}g._field.editable=editable;if(g._field.constructor===b.PrivateTextField){return;}var h={textField:g._field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.Editable,0,h);},enumerable:true},showActivated:{get:function(){return g._field.showActivated;},set:function(showActivated){if(showActivated===undefined){showActivated=false;}if(typeof showActivated!=="boolean"){throw new TypeError(\'"showActivated" must be a boolean value.\');}g._field.showActivated=showActivated;if(g._field.constructor===b.PrivateTextField){return;}var h={textField:g._field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.ShowActivated,0,h);},enumerable:true},isSpellCheckingEnabled:{get:function(){return g._field.isSpellCheckingEnabled;},set:function(isSpellCheckingEnabled){if(isSpellCheckingEnabled===undefined){isSpellCheckingEnabled=false;}if(typeof isSpellCheckingEnabled!=="boolean"){throw new TypeError(\'"isSpellCheckingEnabled" must be a boolean value.\');}g._field.isSpellCheckingEnabled=isSpellCheckingEnabled;if(g._field.constructor===b.PrivateTextField){return;}var h={textField:g._field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.IsSpellCheckingEnabled,0,h);},enumerable:true}});}return TextField;})();b.processTextFieldDataMessage=function(e){switch(e.Content.textFieldCommand){case b.TextFieldCommand.GetAll:c(e.Content,e.ExcMsg);break;default:console.error("_private.processTextFieldDataMessage(): Unknown text field command "+e.Content.textFieldCommand+".");break;}};function c(g,i){var f=b.documentTaskCallbacks.getTextFields.shift();if(i){throw new Error(i);}if(f===undefined){return;}var j=[];g.textFields.forEach(function(e){switch(e.fieldType){case"APPLICATIONFIELD":j.push(new b.LegacyApplicationField(null,null,null,e));break;case"TEXTFIELD":j.push(new b.LegacyTextField(null,e));break;default:console.error("Unknown text field type: "+e.fieldType);break;}});try{f(j);}catch(h){}}return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.LegacyApplicationField=(function(d){__extends(ApplicationField,d);function ApplicationField(typeName,text,parameters){var e;if(arguments.length===4){e=arguments[3];}else{if(typeof typeName==="undefined"){typeName="MERGEFIELD";}if(typeof text==="undefined"){text="MERGEFIELD";}e=new b.PrivateTextField(typeName,text,parameters,"APPLICATIONFIELD");}d.call(this,null,e);var f=this;Object.defineProperties(this,{typeName:{get:function(){return f._field.typeName;},set:function(typeName){if(typeName===undefined){throw new Error(b.Error.TooFewParameters);}if(typeof typeName!=="string"){throw new TypeError(\'"typeName" must be a string.\');}f._field.typeName=typeName;if(f._field.constructor===b.PrivateTextField){return;}var g={textField:f._field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.TypeName,0,g);},enumerable:true},parameters:{get:function(){return f._field.parameters;},set:function(parameters){if(parameters===undefined){throw new Error(b.ErrorText.TooFewParameters);}if(parameters.constructor!==Array){throw new TypeError(\'"parameters" must be an array.\');}parameters.forEach(function(h){if((typeof h!=="string")&&!(h instanceof String)){throw new TypeError(\'"parameters" must be an array of strings.\');}});f._field.parameters=parameters;if(f._field.constructor===b.PrivateTextField){return;}var g={textField:f._field};b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.SetProperty,b.TextFieldProperty.Parameters,0,g);},enumerable:true}});}ApplicationField.prototype.showDialog=function(){b.sendCommand(b.Command.ClientTextField,b.TextFieldCommand.ShowDialog,0,0,{textField:this._field});};return ApplicationField;})(b.LegacyTextField);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.FormField=(function(d){__extends(FormField,d);function FormField(e,f){d.call(this,e,f);}return FormField;})(b.TextField);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({AddCheckFormField:"AddCheckFormField",AddSelectionFormField:"AddSelectionFormField",AddTextFormField:"AddTextFormField",AddDateFormField:"AddDateFormField"});b.FormFieldCollection=(function(e){__extends(FormFieldCollection,e);function FormFieldCollection(){e.call(this);}FormFieldCollection.prototype.addCheckFormField=function(isChecked,callback,errorCallback){if(typeof isChecked!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}var f=this;this.callMethod(c.AddCheckFormField,(typeof callback==="function")?function(g){callback(f._adapt(g));}:null,[isChecked],errorCallback);};FormFieldCollection.prototype.addSelectionFormField=function(emptyWidth,callback,errorCallback){if(typeof emptyWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}var f=this;this.callMethod(c.AddSelectionFormField,(typeof callback==="function")?function(g){callback(f._adapt(g));}:null,[emptyWidth],errorCallback);};FormFieldCollection.prototype.addTextFormField=function(emptyWidth,callback,errorCallback){if(typeof emptyWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}var f=this;this.callMethod(c.AddTextFormField,(typeof callback==="function")?function(g){callback(f._adapt(g));}:null,[emptyWidth],errorCallback);};FormFieldCollection.prototype.addDateFormField=function(emptyWidth,callback,errorCallback){if(typeof emptyWidth!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}var f=this;this.callMethod(c.AddDateFormField,(typeof callback==="function")?function(g){callback(f._adapt(g));}:null,[emptyWidth],errorCallback);};FormFieldCollection.prototype.getItem=function(callback,errorCallback,id){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var g=this;var f=(typeof id==="number")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,(typeof callback==="function")?function(h){callback(g._adapt(h));}:null,f,errorCallback);};FormFieldCollection.prototype.remove=function(formField,callback,errorCallback){if(typeof formField==="undefined"){throw new TypeError(b.ErrorText.ParamUndefined);}this.callMethod(b.CollectionMethodName.Remove,callback,[formField._.hashcode,formField._.index],errorCallback);};FormFieldCollection.prototype._adapt=function(g){if(g===null){return null;}var f=null;switch(g.type){case"CheckFormField":f=new b.CheckFormField(g.hashcode,g.index);break;case"SelectionFormField":f=new b.SelectionFormField(g.hashcode,g.index);break;case"TextFormField":f=new b.TextFormField(g.hashcode,g.index);break;case"DateFormField":f=new b.DateFormField(g.hashcode,g.index);break;default:f=new b.FormField(g.hashcode,g.index);break;}this.addMethodCallEventListener(f,b.CollectionMethodName.GetAdapterByHashcode,[g.hashcode,g.index]);return f;};return FormFieldCollection;})(b.TextFieldCollectionBase);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({UncheckedCharacter:"UncheckedCharacter",CheckedCharacter:"CheckedCharacter",Checked:"Checked"});b.CheckFormField=(function(e){__extends(CheckFormField,e);function CheckFormField(f,g){e.call(this,f,g);}CheckFormField.prototype.getUncheckedCharacter=function(callback,errorCallback){this.getPropertyValue(c.UncheckedCharacter,callback,errorCallback);};CheckFormField.prototype.setUncheckedCharacter=function(character,callback,errorCallback){if(!isCharacter(character)){throw new TypeError(b.ErrorText.ParamNotACharacter);}this.setPropertyValue(c.UncheckedCharacter,character,callback,errorCallback);};CheckFormField.prototype.getCheckedCharacter=function(callback,errorCallback){this.getPropertyValue(c.CheckedCharacter,callback,errorCallback);};CheckFormField.prototype.setCheckedCharacter=function(character,callback,errorCallback){if(!isCharacter(character)){throw new TypeError(b.ErrorText.ParamNotACharacter);}this.setPropertyValue(c.CheckedCharacter,character,callback,errorCallback);};CheckFormField.prototype.getChecked=function(callback,errorCallback){this.getPropertyValue(c.Checked,callback,errorCallback);};CheckFormField.prototype.setChecked=function(isChecked,callback,errorCallback){if(typeof isChecked!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.Checked,isChecked,callback,errorCallback);};return CheckFormField;})(b.FormField);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({EmptyWidth:"EmptyWidth"});b.TextFormField=(function(e){__extends(TextFormField,e);function TextFormField(f,g){e.call(this,f,g);}TextFormField.prototype.getEmptyWidth=function(callback,errorCallback){this.getPropertyValue(c.EmptyWidth,callback,errorCallback);};TextFormField.prototype.setEmptyWidth=function(emptyWidth,callback){if(!isInteger(emptyWidth)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(c.EmptyWidth,emptyWidth,callback,errorCallback);};return TextFormField;})(b.FormField);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({EmptyWidth:"EmptyWidth",IsDropDownArrowVisible:"IsDropDownArrowVisible",SelectedIndex:"SelectedIndex",Items:"Items"});b.SelectionFormField=(function(e){__extends(SelectionFormField,e);function SelectionFormField(f,g){e.call(this,f,g);}SelectionFormField.prototype.getEmptyWidth=function(callback,errorCallback){this.getPropertyValue(c.EmptyWidth,callback,errorCallback);};SelectionFormField.prototype.setEmptyWidth=function(emptyWidth,callback,errorCallback){if(!isInteger(emptyWidth)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(c.EmptyWidth,emptyWidth,callback,errorCallback);};SelectionFormField.prototype.getIsDropDownArrowVisible=function(callback,errorCallback){this.getPropertyValue(c.IsDropDownArrowVisible,callback,errorCallback);};SelectionFormField.prototype.setIsDropDownArrowVisible=function(isDropDownArrowVisible,callback,errorCallback){if(typeof isDropDownArrowVisible!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(c.IsDropDownArrowVisible,isDropDownArrowVisible,callback,errorCallback);};SelectionFormField.prototype.getSelectedIndex=function(callback,errorCallback){this.getPropertyValue(c.SelectedIndex,callback,errorCallback);};SelectionFormField.prototype.setSelectedIndex=function(index,callback,errorCallback){if(!isInteger(index)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(c.SelectedIndex,index,callback,errorCallback);};SelectionFormField.prototype.getItems=function(callback,errorCallback){this.getPropertyValue(c.Items,callback,errorCallback);};SelectionFormField.prototype.setItems=function(f,callback,errorCallback){if(!isArrayOfType(f,"string")){throw new TypeError(b.ErrorText.ParamNotArrayOfStrings);}this.setPropertyValue(c.Items,f,callback,errorCallback);};return SelectionFormField;})(b.FormField);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Date:"Date",DateFormat:"DateFormat",EmptyWidth:"EmptyWidth",SupportedDateFormats:"SupportedDateFormats"});b.DateFormField=(function(e){__extends(DateFormField,e);function DateFormField(f,g){e.call(this,f,g);}DateFormField.prototype.getDate=function(callback,errorCallback){this.getPropertyValue(c.Date,callback,errorCallback);};DateFormField.prototype.setDate=function(unixTime,callback,errorCallback){if(typeof unixTime!=="number"&&unixTime!=null){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(c.Date,unixTime,callback,errorCallback);};DateFormField.prototype.getDateFormat=function(callback,errorCallback){this.getPropertyValue(c.DateFormat,callback,errorCallback);};DateFormField.prototype.setDateFormat=function(dateFormat,callback,errorCallback){if(typeof dateFormat!="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.DateFormat,dateFormat,callback,errorCallback);};DateFormField.prototype.getSupportedDateFormats=function(callback,errorCallback){this.getPropertyValue(c.SupportedDateFormats,callback,errorCallback);};DateFormField.prototype.getEmptyWidth=function(callback,errorCallback){this.getPropertyValue(c.EmptyWidth,callback,errorCallback);};DateFormField.prototype.setEmptyWidth=function(emptyWidth,callback,errorCallback){if(!isInteger(emptyWidth)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(c.EmptyWidth,emptyWidth,callback,errorCallback);};return DateFormField;})(b.FormField);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Data:"Data",HighlightColor:"HighlightColor",HighlightMode:"HighlightMode",ID:"ID",Length:"Length",Name:"Name",NestedLevel:"NestedLevel",Number:"Number",OuterMostSubTextPart:"OuterMostSubTextPart",OuterSubTextPart:"OuterSubTextPart",Start:"Start",Text:"Text"});var c=Object.freeze({Save:"Save",ScrollTo:"ScrollTo"});b.SubTextPart=(function(f){__extends(SubTextPart,f);function SubTextPart(g,h){f.call(this,g,h);}SubTextPart.prototype.getData=function(callback,errorCallback){this.getPropertyValue(d.Data,callback,errorCallback);};SubTextPart.prototype.setData=function(data,callback,errorCallback){if(typeof data!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Data,data,callback,errorCallback);};SubTextPart.prototype.getHighlightMode=function(callback,errorCallback){this.getPropertyValue(d.HighlightMode,callback,errorCallback);};SubTextPart.prototype.setHighlightMode=function(highlightMode,callback,errorCallback){if(typeof highlightMode!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.HighlightMode,highlightMode,callback,errorCallback);};SubTextPart.prototype.getHighlightColor=function(callback,errorCallback){this.getPropertyValue(d.HighlightColor,callback,errorCallback);};SubTextPart.prototype.setHighlightColor=function(highlightColor,callback,errorCallback){if(typeof highlightColor!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.HighlightColor,highlightColor,callback,errorCallback);};SubTextPart.prototype.getID=function(callback,errorCallback){this.getPropertyValue(d.ID,callback,errorCallback);};SubTextPart.prototype.setID=function(id,callback,errorCallback){if(typeof id!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.ID,id,callback,errorCallback);};SubTextPart.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};SubTextPart.prototype.getName=function(callback,errorCallback){this.getPropertyValue(d.Name,callback,errorCallback);};SubTextPart.prototype.setName=function(name,callback,errorCallback){if(typeof name!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Name,name,callback,errorCallback);};SubTextPart.prototype.getNestedLevel=function(callback,errorCallback){this.getPropertyValue(d.NestedLevel,callback,errorCallback);};SubTextPart.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(d.Number,callback,errorCallback);};SubTextPart.prototype.getOuterMostSubTextPart=function(callback,errorCallback){var g=this;this.getPropertyValue(d.OuterMostSubTextPart,function(i){if(i){var h=new b.SubTextPart(i.hashcode);g.addPropertyAccessEventListener(h,d.OuterMostSubTextPart);callback(h);}else{callback(null);}},errorCallback);};SubTextPart.prototype.getOuterSubTextPart=function(callback,errorCallback){var g=this;this.getPropertyValue(d.OuterSubTextPart,function(i){if(i){var h=new b.SubTextPart(i.hashcode);g.addPropertyAccessEventListener(h,d.OuterSubTextPart);callback(h);}else{callback(null);}},errorCallback);};SubTextPart.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};SubTextPart.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};SubTextPart.prototype.save=function(streamType,callback,saveSettings,errorCallback){if(!streamType){throw new Error(b.ErrorText.NoStreamType);}if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}saveSettings=saveSettings||null;this.callMethod(c.Save,callback,[streamType,saveSettings],errorCallback);};SubTextPart.prototype.scrollTo=function(callback,errorCallback){this.callMethod(c.ScrollTo,callback,[],errorCallback);};return SubTextPart;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.SubTextPartCollection=(function(d){__extends(SubTextPartCollection,d);function SubTextPartCollection(){d.call(this);}SubTextPartCollection.prototype.add=function(name,id,f,length,callback,errorCallback){if(f<1){throw new TypeError("Parameter \'start\' is not one-based.");}var e=this;this.callMethod(b.CollectionMethodName.Add,callback?function(g){g.subTextPart=e._adapt(g.subTextPart);callback(g);}:null,[name,id,f,length],errorCallback);};SubTextPartCollection.prototype.clear=function(callback,errorCallback){this.callMethod(b.CollectionMethodName.Clear,callback,[],errorCallback);};SubTextPartCollection.prototype.getItem=function(callback,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[],errorCallback);};SubTextPartCollection.prototype.remove=function(subTextPart,keepText,keepNested,callback,errorCallback){if(typeof keepText!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}if(typeof keepNested!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}if(!subTextPart||!subTextPart._||!subTextPart._.hashcode){throw new TypeError(b.ErrorText.ParamInvalid);}this.callMethod(b.CollectionMethodName.Remove,callback,[subTextPart._.hashcode,subTextPart._.index,keepText,keepNested],errorCallback);};SubTextPartCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.SubTextPart(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return SubTextPartCollection;})(b.Collection);b.SubTextPartCollection.AddResult=Object.freeze({Error:0,Successful:1,NoSelection:2,SelectionTooComplex:3,PositionInvalid:4,AlreadyExists:5,Overlapping:7,Combined:8,});return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Bounds:"Bounds",Char:"Char",Number:"Number"});b.TextChar=(function(e){__extends(TextChar,e);function TextChar(f){e.call(this,f);}TextChar.prototype.getBounds=function(callback,errorCallback){this.getPropertyValue(c.Bounds,callback,errorCallback);};TextChar.prototype.getChar=function(callback,errorCallback){this.getPropertyValue(c.Char,callback,errorCallback);};TextChar.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(c.Number,callback,errorCallback);};return TextChar;})(b.TextControlClassAdapter);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TextCharCollection=(function(d){__extends(TextCharCollection,d);function TextCharCollection(){d.call(this);}TextCharCollection.prototype.add=function(character,fontName,textPosition,callback,errorCallback){if(!isCharacter(character)){throw new TypeError(b.ErrorText.ParamNotACharacter);}if(typeof fontName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(!isInteger(textPosition)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(b.CollectionMethodName.Add,callback,[character,fontName,textPosition],errorCallback);};TextCharCollection.prototype.addControlChar=function(controlChar,textPosition,callback,errorCallback){if(!isInteger(controlChar)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}if(!isInteger(textPosition)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(b.CollectionMethodName.Add,callback,[controlChar,textPosition],errorCallback);};TextCharCollection.prototype.getItem=function(location,getNearest,callback,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}if(typeof getNearest!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[location.x,location.y,getNearest],errorCallback);};TextCharCollection.prototype.remove=function(number,callback,errorCallback){if(!isInteger(number)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(b.CollectionMethodName.Remove,callback,[controlChar,number],errorCallback);};TextCharCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.TextChar(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return TextCharCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({ConnectedToPrevious:"ConnectedToPrevious",Distance:"Distance",Type:"Type"});var c=Object.freeze({Activate:"Activate",Deactivate:"Deactivate"});b.HeaderFooter=(function(f){__extends(HeaderFooter,f);function HeaderFooter(g,h){f.call(this,g,h,"headerFooter");}HeaderFooter.prototype.getConnectedToPrevious=function(callback,errorCallback){this.getPropertyValue(d.ConnectedToPrevious,callback,errorCallback);};HeaderFooter.prototype.setConnectedToPrevious=function(connectedToPrevious,callback,errorCallback){if(typeof connectedToPrevious!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.ConnectedToPrevious,connectedToPrevious,callback,errorCallback);};HeaderFooter.prototype.getDistance=function(callback,errorCallback){this.getPropertyValue(d.Distance,callback,errorCallback);};HeaderFooter.prototype.setDistance=function(distance,callback,errorCallback){if(!isInteger(distance)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.Distance,distance,callback,errorCallback);};HeaderFooter.prototype.getType=function(callback,errorCallback){this.getPropertyValue(d.Type,callback,errorCallback);};HeaderFooter.prototype.activate=function(callback,errorCallback){this.callMethod(c.Activate,callback,[],errorCallback);};HeaderFooter.prototype.deactivate=function(callback,errorCallback){this.callMethod(c.Deactivate,callback,[],errorCallback);};return HeaderFooter;})(b.FormattedText);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.HeaderFooterCollection=(function(d){__extends(HeaderFooterCollection,d);function HeaderFooterCollection(){d.call(this);}HeaderFooterCollection.prototype.add=function(headerFooterType,callback,errorCallback){if(!isInteger(headerFooterType)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(b.CollectionMethodName.Add,callback,[headerFooterType],errorCallback);};HeaderFooterCollection.prototype.getItem=function(headerFooterType,callback,errorCallback){if(!isInteger(headerFooterType)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,callback?function(f){callback(e._adapt(f));}:null,[headerFooterType],errorCallback);};HeaderFooterCollection.prototype.remove=function(headerFooterType,callback,errorCallback){if(!isInteger(headerFooterType)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(b.CollectionMethodName.Remove,callback,[headerFooterType],errorCallback);};HeaderFooterCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.HeaderFooter(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return HeaderFooterCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Bounds:"Bounds",Footer:"Footer",Header:"Header",Length:"Length",Number:"Number",NumberInSection:"NumberInSection",Section:"Section",Start:"Start",TextBounds:"TextBounds"});var c=Object.freeze({Select:"Select",GetImage:"GetImage"});b.Page=(function(f){__extends(Page,f);function Page(h,i){f.call(this,h,i);}Page.prototype.getBounds=function(callback,errorCallback){this.getPropertyValue(d.Bounds,callback,errorCallback);};Page.prototype.getFooter=function(callback,errorCallback){g(this,callback,d.Footer,errorCallback);};Page.prototype.getHeader=function(callback,errorCallback){g(this,callback,d.Header,errorCallback);};Page.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};Page.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(d.Number,callback,errorCallback);};Page.prototype.getNumberInSection=function(callback,errorCallback){this.getPropertyValue(d.NumberInSection,callback,errorCallback);};Page.prototype.getSection=function(callback,errorCallback){this.getPropertyValue(d.Section,callback,errorCallback);};Page.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};Page.prototype.getTextBounds=function(callback,errorCallback){this.getPropertyValue(d.TextBounds,callback,errorCallback);};function g(l,i,k,j){l.getPropertyValue(k,function(m){i(h(m,l,k));},j);function h(m,p,o){if(m==null){return null;}var n=new b.HeaderFooter(m.hashcode,m.index);p.addPropertyAccessEventListener(n,o);return n;}}Page.prototype.getImage=function(imageFormat,zoomFactor,contents,callback,errorCallback){if(!isInteger(imageFormat)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}if(!isInteger(zoomFactor)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}if(!isInteger(contents)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(c.GetImage,callback,[imageFormat,zoomFactor,contents],errorCallback);};Page.prototype.select=function(callback,errorCallback){this.callMethod(c.Select,callback,[],errorCallback);};return Page;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.PageCollection=(function(d){__extends(PageCollection,d);function PageCollection(){d.call(this);}PageCollection.prototype.getItem=function(callback,errorCallback){if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[],errorCallback);};PageCollection.prototype.getItemAtTextPosition=function(textPosition,callback,errorCallback){if(typeof textPosition!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[textPosition],errorCallback);};PageCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.Page(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return PageCollection;})(b.TextFieldCollectionBase);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({Baseline:"Baseline",BaseStyle:"BaseStyle",Bold:"Bold",FontName:"FontName",FontSize:"FontSize",ForeColor:"ForeColor",Italic:"Italic",Name:"Name",Strikeout:"Strikeout",TextBackColor:"TextBackColor",Underline:"Underline"});var c=Object.freeze({Apply:"Apply"});b.FormattingStyle=(function(f){__extends(FormattingStyle,f);function FormattingStyle(g,h){f.call(this,g,h);}FormattingStyle.prototype.getBaseline=function(callback,errorCallback){this.getPropertyValue(d.Baseline,callback,errorCallback);};FormattingStyle.prototype.setBaseline=function(baseline,callback,errorCallback){if(!isInteger(baseline)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.Baseline,baseline,callback,errorCallback);};FormattingStyle.prototype.getBaseStyle=function(callback,errorCallback){var g=this;this.getPropertyValue(d.BaseStyle,function(i){if(i===null){callback(null);return;}var h=new b.FormattingStyle(i.hashcode,i.index);g.addPropertyAccessEventListener(h,d.BaseStyle);callback(h);},errorCallback);};FormattingStyle.prototype.getBold=function(callback,errorCallback){this.getPropertyValue(d.Bold,callback,errorCallback);};FormattingStyle.prototype.setBold=function(isBold,callback,errorCallback){if(typeof isBold!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Bold,isBold,callback,errorCallback);};FormattingStyle.prototype.getFontName=function(callback,errorCallback){this.getPropertyValue(d.FontName,callback,errorCallback);};FormattingStyle.prototype.setFontName=function(fontName,callback,errorCallback){if(typeof fontName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.FontName,fontName,callback,errorCallback);};FormattingStyle.prototype.getFontSize=function(callback,errorCallback){this.getPropertyValue(d.FontSize,callback,errorCallback);};FormattingStyle.prototype.setFontSize=function(fontSize,callback,errorCallback){if(!isInteger(fontSize)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.setPropertyValue(d.FontSize,fontSize,callback,errorCallback);};FormattingStyle.prototype.getForeColor=function(callback,errorCallback){this.getPropertyValue(d.ForeColor,callback,errorCallback);};FormattingStyle.prototype.setFontSize=function(color,callback,errorCallback){if(typeof color!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.ForeColor,color,callback,errorCallback);};FormattingStyle.prototype.getItalic=function(callback,errorCallback){this.getPropertyValue(d.Italic,callback,errorCallback);};FormattingStyle.prototype.setItalic=function(isItalic,callback,errorCallback){if(typeof isItalic!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Italic,isItalic,callback,errorCallback);};FormattingStyle.prototype.getName=function(callback,errorCallback){this.getPropertyValue(d.Name,callback,errorCallback);};FormattingStyle.prototype.setName=function(name,callback,errorCallback){if(typeof name!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Name,name,callback,errorCallback);};FormattingStyle.prototype.getStrikeout=function(callback,errorCallback){this.getPropertyValue(d.Strikeout,callback,errorCallback);};FormattingStyle.prototype.setStrikeout=function(strikeout,callback,errorCallback){if(typeof strikeout!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.Strikeout,strikeout,callback,errorCallback);};FormattingStyle.prototype.getTextBackColor=function(callback,errorCallback){this.getPropertyValue(d.TextBackColor,callback,errorCallback);};FormattingStyle.prototype.setTextBackColor=function(color,callback,errorCallback){if(typeof color!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Strikeout,color,callback,errorCallback);};FormattingStyle.prototype.getUnderline=function(callback,errorCallback){this.getPropertyValue(d.Underline,callback,errorCallback);};FormattingStyle.prototype.setUnderline=function(underlineStyle,callback,errorCallback){if(typeof underlineStyle!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.Underline,underlineStyle,callback,errorCallback);};FormattingStyle.prototype.apply=function(callback,errorCallback){this.callMethod(c.Apply,callback,[],errorCallback);};return FormattingStyle;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.FormattingStyleCollection=(function(d){__extends(FormattingStyleCollection,d);function FormattingStyleCollection(){d.call(this);}FormattingStyleCollection.prototype.remove=function(styleName,callback,errorCallback){if(typeof styleName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.callMethod(b.CollectionMethodName.Remove,callback,[styleName],errorCallback);};FormattingStyleCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.FormattingStyle(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return FormattingStyleCollection;})(b.TextFieldCollectionBase);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({IsInheritedFromParagraph:"IsInheritedFromParagraph",ResetToParagraph:"ResetToParagraph"});b.InlineStyle=(function(e){__extends(InlineStyle,e);function InlineStyle(f,g){e.call(this,f,g);}InlineStyle.prototype.isInheritedFromParagraph=function(attributes,callback,errorCallback){if(!isInteger(attributes)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(c.IsInheritedFromParagraph,callback,[],errorCallback);};InlineStyle.prototype.resetToParagraph=function(attributes,callback,errorCallback){if(!isInteger(attributes)){throw new TypeError(b.ErrorText.ParamNotAnInteger);}this.callMethod(c.ResetToParagraph,callback,[],errorCallback);};return InlineStyle;})(b.FormattingStyle);b.InlineStyle.Attributes=Object.freeze({FontName:1,FontSize:2,Bold:4,Italic:8,Underline:16,Strikeout:32,Baseline:64,ForeColor:128,TextBackColor:256,});return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.InlineStyleCollection=(function(d){__extends(InlineStyleCollection,d);function InlineStyleCollection(){d.call(this);}InlineStyleCollection.prototype.add=function(styleName,callback,errorCallback){if(typeof styleName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}var e=this;this.callMethod(b.CollectionMethodName.Add,callback?function(f){callback(e._adapt(f));}:null,[styleName],errorCallback);};InlineStyleCollection.prototype.getItem=function(styleName,callback,errorCallback){if(typeof styleName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,callback?function(f){callback(e._adapt(f));}:null,[styleName],errorCallback);};InlineStyleCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.InlineStyle(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return InlineStyleCollection;})(b.FormattingStyleCollection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({FollowingStyle:"FollowingStyle",ParagraphFormat:"ParagraphFormat",ListFormat:"ListFormat"});b.ParagraphStyle=(function(e){__extends(ParagraphStyle,e);function ParagraphStyle(f,g){e.call(this,f,g);Object.defineProperty(ParagraphStyle.prototype,"listFormat",{get:function(){var h=new b.ListFormat();this.addPropertyAccessEventListener(h,c.ListFormat);return h;},enumerable:true,configurable:true});Object.defineProperty(ParagraphStyle.prototype,"paragraphFormat",{get:function(){var h=new b.ParagraphFormat();this.addPropertyAccessEventListener(h,c.ParagraphFormat);return h;},enumerable:true,configurable:true});}ParagraphStyle.prototype.getFollowingStyle=function(callback,errorCallback){this.getPropertyValue(c.FollowingStyle,callback,errorCallback);};ParagraphStyle.prototype.setFollowingStyle=function(styleName,callback,errorCallback){if(styleName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(c.FollowingStyle,styleName,callback,errorCallback);};ParagraphStyle.prototype.getParagraphFormat=function(callback,errorCallback){var f=this;this.getPropertyValue(c.ParagraphFormat,function(g){callback(b.ParagraphFormat._adapt(f,g,c.ParagraphFormat));},errorCallback);};return ParagraphStyle;})(b.FormattingStyle);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ParagraphStyleCollection=(function(d){__extends(ParagraphStyleCollection,d);function ParagraphStyleCollection(){d.call(this);}ParagraphStyleCollection.prototype.add=function(styleName,callback,errorCallback){if(typeof styleName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}var e=this;this.callMethod(b.CollectionMethodName.Add,callback?function(f,g){callback(e._adapt(f),g);}:null,[styleName],errorCallback);};ParagraphStyleCollection.prototype.getItem=function(styleName,callback,errorCallback){if(typeof styleName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}var e=this;this.callMethod(b.CollectionMethodName.GetItem,callback?function(f){callback(e._adapt(f));}:null,[styleName],errorCallback);};ParagraphStyleCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.ParagraphStyle(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return ParagraphStyleCollection;})(b.FormattingStyleCollection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.SaveSettings=(function(d){function SaveSettings(){var e={};Object.defineProperties(this,{author:{get:function(){return e.Author;},set:function(author){if(typeof author!=="string"){throw new TypeError(\'"text" must be a string.\');}e.Author=author;},enumerable:true},creationDate:{get:function(){return e.CreationDate;},set:function(creationDate){if(typeof cssSaveMode!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.CreationDate=creationDate;},enumerable:true},creatorApplication:{get:function(){return e.CreatorApplication;},set:function(creatorApplication){if(typeof creatorApplication!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.CreatorApplication=creatorApplication;},enumerable:true},cssSaveMode:{get:function(){return e.CssSaveMode;},set:function(cssSaveMode){if(typeof cssSaveMode!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.CssSaveMode=cssSaveMode;},enumerable:true},documentAccessPermissions:{get:function(){return e.DocumentAccessPermissions;},set:function(documentAccessPermissions){if(typeof documentAccessPermissions!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.DocumentAccessPermissions=documentAccessPermissions;},enumerable:true},documentKeywords:{get:function(){return e.DocumentKeywords;},set:function(documentKeywords){if(!isArrayOfType(documentKeywords,"string")){throw new TypeError(b.ErrorText.ParamNotArrayOfStrings);}e.DocumentKeywords=documentKeywords;},enumerable:true},documentLevelJavaScriptActions:{get:function(){return e.DocumentLevelJavaScriptActions;},set:function(documentLevelJavaScriptActions){if(typeof documentLevelJavaScriptActions!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.DocumentLevelJavaScriptActions=documentLevelJavaScriptActions;},enumerable:true},documentSubject:{get:function(){return e.DocumentSubject;},set:function(documentSubject){if(typeof documentSubject!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.DocumentSubject=documentSubject;},enumerable:true},documentTitle:{get:function(){return e.DocumentTitle;},set:function(documentTitle){if(typeof documentTitle!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.DocumentTitle=documentTitle;},enumerable:true},imageCompressionQuality:{get:function(){return e.ImageCompressionQuality;},set:function(imageCompressionQuality){if(typeof imageCompressionQuality!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.ImageCompressionQuality=imageCompressionQuality;},enumerable:true},imageExportFilterIndex:{get:function(){return e.ImageExportFilterIndex;},set:function(imageExportFilterIndex){if(typeof imageExportFilterIndex!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.ImageExportFilterIndex=imageExportFilterIndex;},enumerable:true},imageMaxResolution:{get:function(){return e.ImageMaxResolution;},set:function(imageMaxResolution){if(typeof imageMaxResolution!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.ImageMaxResolution=imageMaxResolution;},enumerable:true},lastModificationDate:{get:function(){return e.LastModificationDate;},set:function(lastModificationDate){if(typeof lastModificationDate!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.LastModificationDate=lastModificationDate;},enumerable:true},masterPassword:{get:function(){return e.MasterPassword;},set:function(masterPassword){if(typeof masterPassword!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.MasterPassword=masterPassword;},enumerable:true},omittedContent:{get:function(){return e.OmittedContent;},set:function(omittedContent){if(typeof omittedContent!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.OmittedContent=omittedContent;},enumerable:true},reportingMergeBlockFormat:{get:function(){return e.ReportingMergeBlockFormat;},set:function(reportingMergeBlockFormat){if(typeof reportingMergeBlockFormat!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.ReportingMergeBlockFormat=reportingMergeBlockFormat;},enumerable:true},saveDocumentBackColor:{get:function(){return e.SaveDocumentBackColor;},set:function(saveDocumentBackColor){if(typeof saveDocumentBackColor!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}e.SaveDocumentBackColor=saveDocumentBackColor;},enumerable:true},userPassword:{get:function(){return e.UserPassword;},set:function(userPassword){if(typeof userPassword!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.UserPassword=userPassword;},enumerable:true},});}return SaveSettings;})();b.SaveSettings.CssSaveMode=Object.freeze({None:0,CreateFile:8192,OverwriteFile:16384,Inline:32768});b.SaveSettings.OmittedContent=Object.freeze({None:0,SubTextParts:65536,TrackedChanges:131072,EditableRegions:262144,Sections:524288,TextFields:1048576});b.SaveSettings.ReportingMergeBlockFormat=Object.freeze({Default:1,DocumentTargets:2,SubTextParts:3});return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.LoadSettings=(function(d){function LoadSettings(){var e={};Object.defineProperties(this,{addParagraph:{get:function(){return e.AddParagraph;},set:function(addParagraph){if(typeof addParagraph!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}e.AddParagraph=addParagraph;},enumerable:true},applicationFieldFormat:{get:function(){return e.ApplicationFieldFormat;},set:function(applicationFieldFormat){if(typeof applicationFieldFormat!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.ApplicationFieldFormat=applicationFieldFormat;},enumerable:true},applicationFieldTypeNames:{get:function(){return e.ApplicationFieldTypeNames;},set:function(applicationFieldTypeNames){if(!isArrayOfType(applicationFieldTypeNames,string)){throw new TypeError(b.ErrorText.ParamNotArrayOfStrings);}e.ApplicationFieldTypeNames=applicationFieldTypeNames;},enumerable:true},documentAccessPermissions:{get:function(){return e.DocumentAccessPermissions;},set:function(documentAccessPermissions){if(typeof documentAccessPermissions!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.DocumentAccessPermissions=documentAccessPermissions;},enumerable:true},documentBasePath:{get:function(){return e.DocumentBasePath;},set:function(documentBasePath){if(typeof documentBasePath!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.DocumentBasePath=documentBasePath;},enumerable:true},documentPartName:{get:function(){return e.DocumentPartName;},set:function(documentPartName){if(typeof documentPartName!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.DocumentPartName=documentPartName;},enumerable:true},imageSearchPath:{get:function(){return e.ImageSearchPath;},set:function(imageSearchPath){if(typeof imageSearchPath!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.ImageSearchPath=imageSearchPath;},enumerable:true},loadDocumentBackColor:{get:function(){return e.LoadDocumentBackColor;},set:function(loadDocumentBackColor){if(typeof loadDocumentBackColor!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}e.LoadDocumentBackColor=loadDocumentBackColor;},enumerable:true},loadHypertextLinks:{get:function(){return e.LoadHypertextLinks;},set:function(loadHypertextLinks){if(typeof loadHypertextLinks!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}e.LoadHypertextLinks=loadHypertextLinks;},enumerable:true},loadImages:{get:function(){return e.LoadImages;},set:function(loadImages){if(typeof loadImages!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}e.LoadImages=loadImages;},enumerable:true},loadSubTextParts:{get:function(){return e.LoadSubTextParts;},set:function(loadSubTextParts){if(typeof loadSubTextParts!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}e.LoadSubTextParts=loadSubTextParts;},enumerable:true},masterPassword:{get:function(){return e.MasterPassword;},set:function(masterPassword){if(typeof masterPassword!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.MasterPassword=masterPassword;},enumerable:true},PDFImportSettings:{get:function(){return e.PDFImportSettings;},set:function(PDFImportSettings){if(typeof PDFImportSettings!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.PDFImportSettings=PDFImportSettings;},enumerable:true},reportingMergeBlockFormat:{get:function(){return e.ReportingMergeBlockFormat;},set:function(reportingMergeBlockFormat){if(typeof reportingMergeBlockFormat!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}e.ReportingMergeBlockFormat=reportingMergeBlockFormat;},enumerable:true},userPassword:{get:function(){return e.UserPassword;},set:function(userPassword){if(typeof userPassword!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}e.UserPassword=userPassword;},enumerable:true}});}return LoadSettings;})();b.LoadSettings.PDFImportSettings=Object.freeze({GenerateLines:1,GenerateParagraphs:2,GenerateTextFrames:4,GenerateXML:8,LoadEmbeddedFiles:16,LoadEmbeddedData:32,GenerateTextFramesFirstPageOnly:128});return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({CaretSize:"CaretSize",Column:"Column",InactiveMarker:"InactiveMarker",Line:"Line",Location:"Location",Page:"Page",PageInSection:"PageInSection",Section:"Section",TextPosition:"TextPosition"});var c=Object.freeze({ScrollTo:"ScrollTo"});b.InputPosition=(function(f){__extends(InputPosition,f);function InputPosition(){f.call(this);}InputPosition.prototype.getCaretSize=function(callback,errorCallback){this.getPropertyValue(d.CaretSize,callback,errorCallback);};InputPosition.prototype.getColumn=function(callback,errorCallback){this.getPropertyValue(d.Column,callback,errorCallback);};InputPosition.prototype.getInactiveMarker=function(callback,errorCallback){this.getPropertyValue(d.InactiveMarker,callback,errorCallback);};InputPosition.prototype.setInactiveMarker=function(isInactive,callback,errorCallback){if(typeof isInactive!=="boolean"){throw new TypeError(b.ErrorText.ParamNotBoolean);}this.setPropertyValue(d.InactiveMarker,isInactive,callback,errorCallback);};InputPosition.prototype.getLine=function(callback,errorCallback){this.getPropertyValue(d.Line,callback,errorCallback);};InputPosition.prototype.getLocation=function(callback,errorCallback){this.getPropertyValue(d.Location,callback,errorCallback);};InputPosition.prototype.getPage=function(callback,errorCallback){this.getPropertyValue(d.Page,callback,errorCallback);};InputPosition.prototype.getPageInSection=function(callback,errorCallback){this.getPropertyValue(d.PageInSection,callback,errorCallback);};InputPosition.prototype.getSection=function(callback,errorCallback){this.getPropertyValue(d.Section,callback,errorCallback);};InputPosition.prototype.getTextPosition=function(callback,errorCallback){this.getPropertyValue(d.TextPosition,callback,errorCallback);};InputPosition.prototype.scrollTo=function(g,callback,errorCallback){if(typeof g!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.callMethod(c.ScrollTo,callback,[g],errorCallback);};return InputPosition;})(b.TextControlClassAdapter);b.InputPosition.ScrollPosition={Auto:0,Left:1,Right:2,Top:4,Bottom:8};return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(e,a){var b=e._private=e._private||{};var d=Object.freeze({HasLinks:"HasLinks",HasPageNumbers:"HasPageNumbers",HasRightAlignedPageNumbers:"HasRightAlignedPageNumbers",HighlightColor:"HighlightColor",HighlightMode:"HighlightMode",ID:"ID",Length:"Length",MaximumStructureLevel:"MaximumStructureLevel",MinimumStructureLevel:"MinimumStructureLevel",Name:"Name",Number:"Number",Start:"Start",Text:"Text",Title:"Title"});var c=Object.freeze({ScrollTo:"ScrollTo",Update:"Update",Save:"Save"});b.TableOfContents=(function(f){__extends(TableOfContents,f);function TableOfContents(g,h){f.call(this,g,h);}TableOfContents.prototype.getHasLinks=function(callback,errorCallback){this.getPropertyValue(d.HasLinks,callback,errorCallback);};TableOfContents.prototype.setHasLinks=function(value,callback,errorCallback){value=!!value;this.setPropertyValue(d.HasLinks,value,callback,errorCallback);};TableOfContents.prototype.getHasPageNumbers=function(callback,errorCallback){this.getPropertyValue(d.HasPageNumbers,callback,errorCallback);};TableOfContents.prototype.setHasPageNumbers=function(value,callback,errorCallback){value=!!value;this.setPropertyValue(d.HasPageNumbers,value,callback,errorCallback);};TableOfContents.prototype.getHasRightAlignedPageNumbers=function(callback,errorCallback){this.getPropertyValue(d.HasRightAlignedPageNumbers,callback,errorCallback);};TableOfContents.prototype.setHasRightAlignedPageNumbers=function(value,callback,errorCallback){value=!!value;this.setPropertyValue(d.HasRightAlignedPageNumbers,value,callback,errorCallback);};TableOfContents.prototype.getHighlightColor=function(callback,errorCallback){this.getPropertyValue(d.HighlightColor,callback,errorCallback);};TableOfContents.prototype.setHighlightColor=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.HighlightColor,value,callback,errorCallback);};TableOfContents.prototype.getHighlightMode=function(callback,errorCallback){this.getPropertyValue(d.HighlightMode,callback,errorCallback);};TableOfContents.prototype.setHighlightMode=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.HighlightMode,value,callback,errorCallback);};TableOfContents.prototype.getID=function(callback,errorCallback){this.getPropertyValue(d.ID,callback,errorCallback);};TableOfContents.prototype.setID=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.ID,value,callback,errorCallback);};TableOfContents.prototype.getLength=function(callback,errorCallback){this.getPropertyValue(d.Length,callback,errorCallback);};TableOfContents.prototype.getMaximumStructureLevel=function(callback,errorCallback){this.getPropertyValue(d.MaximumStructureLevel,callback,errorCallback);};TableOfContents.prototype.setMaximumStructureLevel=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.MaximumStructureLevel,value,callback,errorCallback);};TableOfContents.prototype.getMinimumStructureLevel=function(callback,errorCallback){this.getPropertyValue(d.MinimumStructureLevel,callback,errorCallback);};TableOfContents.prototype.setMinimumStructureLevel=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}this.setPropertyValue(d.MinimumStructureLevel,value,callback,errorCallback);};TableOfContents.prototype.getName=function(callback,errorCallback){this.getPropertyValue(d.Name,callback,errorCallback);};TableOfContents.prototype.setName=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Name,value,callback,errorCallback);};TableOfContents.prototype.getNumber=function(callback,errorCallback){this.getPropertyValue(d.Number,callback,errorCallback);};TableOfContents.prototype.getStart=function(callback,errorCallback){this.getPropertyValue(d.Start,callback,errorCallback);};TableOfContents.prototype.getText=function(callback,errorCallback){this.getPropertyValue(d.Text,callback,errorCallback);};TableOfContents.prototype.getTitle=function(callback,errorCallback){this.getPropertyValue(d.Title,callback,errorCallback);};TableOfContents.prototype.setTitle=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}this.setPropertyValue(d.Title,value,callback,errorCallback);};TableOfContents.prototype.save=function(streamType,callback,saveSettings,errorCallback){if(!streamType){throw new Error(b.ErrorText.NoStreamType);}if(!callback){throw new Error(b.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}saveSettings=saveSettings||null;this.callMethod(c.Save,callback,[streamType,saveSettings],errorCallback);};TableOfContents.prototype.scrollTo=function(callback,errorCallback){this.callMethod(c.ScrollTo,callback,[],errorCallback);};TableOfContents.prototype.update=function(callback,errorCallback){this.callMethod(c.Update,callback,[],errorCallback);};return TableOfContents;})(b.TextControlClassAdapter);return e;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TableOfContentsCollection=(function(d){__extends(TableOfContentsCollection,d);function TableOfContentsCollection(){d.call(this);}TableOfContentsCollection.prototype.add=function(parameters,callback,errorCallback){parameters=parameters||{};var e=["",true,true,true,1,2];if(isInteger(parameters.maximumStructureLevel)){e[5]=parameters.maximumStructureLevel;}if(isInteger(parameters.minimumStructureLevel)){e[4]=parameters.minimumStructureLevel;}if(typeof parameters.hasRightAlignedPageNumbers==="boolean"){e[3]=parameters.hasRightAlignedPageNumbers;}if(typeof parameters.hasPageNumbers==="boolean"){e[2]=parameters.hasPageNumbers;}if(typeof parameters.hasLinks==="boolean"){e[1]=parameters.hasLinks;}if(typeof parameters.title==="string"){e[0]=parameters.title;}this.callMethod(b.CollectionMethodName.Add,callback,e,errorCallback);};TableOfContentsCollection.prototype.getItem=function(callback,errorCallback,id){var f=this;if((typeof id!=="undefined")&&(typeof id!=="number")){throw new TypeError(\'Parameter "id" must be a number.\');}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}var e=(typeof id!=="undefined")?[id]:[];this.callMethod(b.CollectionMethodName.GetItem,function(g){callback(f._adapt(g));},e,errorCallback);};TableOfContentsCollection.prototype.getItemByName=function(callback,errorCallback,name){var e=this;if(typeof name!=="string"){throw new TypeError(\'Parameter "name" must be a string.\');}if(typeof callback!=="function"){throw new TypeError(b.ErrorText.CallBackIsNoFunction);}this.callMethod(b.CollectionMethodName.GetItem,function(f){callback(e._adapt(f));},[name],errorCallback);};TableOfContentsCollection.prototype.remove=function(element,callback,errorCallback){this.callMethod(b.CollectionMethodName.Remove,callback,[element._.hashcode,element._.index],errorCallback);};TableOfContentsCollection.prototype._adapt=function(f){if(f===null){return null;}var e=new b.TableOfContents(f.hashcode,f.index);this.addMethodCallEventListener(e,b.CollectionMethodName.GetAdapterByHashcode,[f.hashcode,f.index]);return e;};return TableOfContentsCollection;})(b.Collection);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({CreationDate:"CreationDate",Data:"Data",Description:"Description",FileName:"FileName",LastModificationDate:"LastModificationDate",MIMEType:"MIMEType",Relationship:"Relationship"});b.EmbeddedFile=(function(e){__extends(EmbeddedFile,e);function EmbeddedFile(f,g){e.call(this,f,g);}EmbeddedFile.prototype.getCreationDate=function(callback,errorCallback){this.getPropertyValue(c.CreationDate,callback,errorCallback);};EmbeddedFile.prototype.setCreationDate=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError("The property value must be a number.");}this.setPropertyValue(c.CreationDate,value,callback,errorCallback);};EmbeddedFile.prototype.getData=function(callback,errorCallback){this.getPropertyValue(c.Data,callback,errorCallback);};EmbeddedFile.prototype.getDescription=function(callback,errorCallback){this.getPropertyValue(c.Description,callback,errorCallback);};EmbeddedFile.prototype.setDescription=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError("The property value must be a string.");}this.setPropertyValue(c.Description,value,callback,errorCallback);};EmbeddedFile.prototype.getFileName=function(callback,errorCallback){this.getPropertyValue(c.FileName,callback,errorCallback);};EmbeddedFile.prototype.getLastModificationDate=function(callback,errorCallback){this.getPropertyValue(c.LastModificationDate,callback,errorCallback);};EmbeddedFile.prototype.setLastModificationDate=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError("The property value must be a number.");}this.setPropertyValue(c.LastModificationDate,value,callback,errorCallback);};EmbeddedFile.prototype.getMIMEType=function(callback,errorCallback){this.getPropertyValue(c.MIMEType,callback,errorCallback);};EmbeddedFile.prototype.setMIMEType=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError("The property value must be a string.");}this.setPropertyValue(c.MIMEType,value,callback,errorCallback);};EmbeddedFile.prototype.getRelationship=function(callback,errorCallback){this.getPropertyValue(c.Relationship,callback,errorCallback);};EmbeddedFile.prototype.setRelationship=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError("The property value must be a string.");}this.setPropertyValue(c.Relationship,value,callback,errorCallback);};return EmbeddedFile;})(b.TextControlClassAdapter);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({AddBinaryFile:"AddBinaryFile",AddTextFile:"AddTextFile",RemoveElementAt:"RemoveElementAt"});b.EmbeddedFileCollection=(function(e){__extends(EmbeddedFileCollection,e);function EmbeddedFileCollection(){e.call(this);}EmbeddedFileCollection.prototype.addTextFile=function(fileName,data,metaData,f,g){fileName=fileName||"";if(typeof fileName!=="string"){throw new TypeError("Parameter \'fileName\' must be a string.");}if((typeof data==="undefined")||(typeof data!=="string")){throw new TypeError("Parameter \'data\' must be a base64 string.");}metaData=metaData||"";if(typeof metaData!=="string"){throw new TypeError("Parameter \'metaData\' must be a string.");}this.callMethod(c.AddTextFile,f,[fileName,data,metaData],g);};EmbeddedFileCollection.prototype.addBinaryFile=function(fileName,data,metaData,f,g){fileName=fileName||"";if(typeof fileName!=="string"){throw new TypeError("Parameter \'fileName\' must be a string.");}if((typeof data==="undefined")||(typeof data!=="string")){throw new TypeError("Parameter \'data\' must be a base64 string.");}metaData=metaData||"";if(typeof metaData!=="string"){throw new TypeError("Parameter \'metaData\' must be a string.");}this.callMethod(c.AddBinaryFile,f,[fileName,data,metaData],g);};EmbeddedFileCollection.prototype.removeElementAt=function(index,callback,errorCallback){this.callMethod(c.RemoveElementAt,callback,[index],errorCallback);};EmbeddedFileCollection.prototype._adapt=function(g){if(g===null){return null;}var f=new b.EmbeddedFile(g.hashcode,g.index);this.addMethodCallEventListener(f,b.CollectionMethodName.GetAdapterByHashcode,[g.hashcode,g.index]);return f;};return EmbeddedFileCollection;})(b.Collection);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(d,a){var b=d._private=d._private||{};var c=Object.freeze({Author:"Author",CreationDate:"CreationDate",CreatorApplication:"CreatorApplication",DocumentBasePath:"DocumentBasePath",DocumentKeywords:"DocumentKeywords",DocumentSubject:"DocumentSubject",DocumentTitle:"DocumentTitle",EmbeddedFiles:"EmbeddedFiles",UserDefinedDocumentProperties:"UserDefinedDocumentProperties"});b.DocumentSettings=(function(e){__extends(DocumentSettings,e);function DocumentSettings(){e.call(this);Object.defineProperties(this,{embeddedFiles:{get:function(){var f=new b.EmbeddedFileCollection();this.addPropertyAccessEventListener(f,c.EmbeddedFiles);return f;},enumerable:true,configurable:true}});}DocumentSettings.prototype.getAuthor=function(callback,errorCallback){this.getPropertyValue(c.Author,callback,errorCallback);};DocumentSettings.prototype.setAuthor=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError("The property value must be a string.");}this.setPropertyValue(c.Author,value,callback,errorCallback);};DocumentSettings.prototype.getCreationDate=function(callback,errorCallback){this.getPropertyValue(c.CreationDate,callback,errorCallback);};DocumentSettings.prototype.setCreationDate=function(value,callback,errorCallback){if(typeof value!=="number"){throw new TypeError("The property value must be a number.");}this.setPropertyValue(c.CreationDate,value,callback,errorCallback);};DocumentSettings.prototype.getCreatorApplication=function(callback,errorCallback){this.getPropertyValue(c.CreatorApplication,callback,errorCallback);};DocumentSettings.prototype.setCreatorApplication=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError("The property value must be a string.");}this.setPropertyValue(c.CreatorApplication,value,callback,errorCallback);};DocumentSettings.prototype.getDocumentBasePath=function(callback,errorCallback){this.getPropertyValue(c.DocumentBasePath,callback,errorCallback);};DocumentSettings.prototype.setDocumentBasePath=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError("The property value must be a string.");}this.setPropertyValue(c.DocumentBasePath,value,callback,errorCallback);};DocumentSettings.prototype.getDocumentKeywords=function(callback,errorCallback){this.getPropertyValue(c.DocumentKeywords,callback,errorCallback);};DocumentSettings.prototype.setDocumentKeywords=function(value,callback,errorCallback){if(!Array.isArray(value)){throw new TypeError("The property value must be a string array.");}this.setPropertyValue(c.DocumentKeywords,value,callback,errorCallback);};DocumentSettings.prototype.getDocumentSubject=function(callback,errorCallback){this.getPropertyValue(c.DocumentSubject,callback,errorCallback);};DocumentSettings.prototype.setDocumentSubject=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError("The property value must be a string.");}this.setPropertyValue(c.DocumentSubject,value,callback,errorCallback);};DocumentSettings.prototype.getDocumentTitle=function(callback,errorCallback){this.getPropertyValue(c.DocumentTitle,callback,errorCallback);};DocumentSettings.prototype.setDocumentTitle=function(value,callback,errorCallback){if(typeof value!=="string"){throw new TypeError("The property value must be a string.");}this.setPropertyValue(c.DocumentTitle,value,callback,errorCallback);};DocumentSettings.prototype.getUserDefinedDocumentProperties=function(callback,errorCallback){this.getPropertyValue(c.UserDefinedDocumentProperties,callback,errorCallback);};DocumentSettings.prototype.setUserDefinedDocumentProperties=function(value,callback,errorCallback){value=value||null;if(value&&typeof value!=="object"){throw new TypeError("The property value must be an object.");}this.setPropertyValue(c.UserDefinedDocumentProperties,value,callback,errorCallback);};return DocumentSettings;})(b.TextControlClassAdapter);return d;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.SliderOrientation={Vertical:"vertical",Horizontal:"horizontal"};b.Scrollbar=(function(){function f(i,o,k){var l=this;function n(q){var s=a(q.currentTarget);var r=s.find(".txui-slider-handle");if(q.target!=r[0]){q.stopImmediatePropagation();}}function h(q){var r=a(q.currentTarget);var t=(q.pageX-r.offset().left)/r.width();var s=(r.find(".txslider").slider("option","value")/this.textControlViewer.documentSize.Width);if(!b.isTouchDevice){this.textControlViewer.focus();}if(t>s){b.scrollDelta({X:b.ScrollStep*5,Y:0},this.componentType);}else{b.scrollDelta({X:-b.ScrollStep*5,Y:0},this.componentType);}}function p(q){var r=a(q.currentTarget);var t=(q.pageY-r.offset().top)/r.height();var s=1-(r.find(".txslider").slider("option","value")/this.textControlViewer.documentSize.Height);if(!b.isTouchDevice){this.textControlViewer.focus();}if(t>s){b.scrollDelta({X:0,Y:b.ScrollStep*10},this.componentType);}else{b.scrollDelta({X:0,Y:-b.ScrollStep*10},this.componentType);}}this.updateVerticalScrollbarStyle=function(){var v=l.txslider;var r={up:l.scrollbuttons.filter(".scroll-button-up"),down:l.scrollbuttons.filter(".scroll-button-down")};var s=v.find("a.txui-slider-handle");var w=g({Width:l.textControlViewer.width,Height:l.textControlViewer.height});if(e(l.textControlViewer.documentSize,w)){l.jqContainer.hide();}else{l.jqContainer.show();}var q=r.up[0].clientHeight;l.txscrollbarwrapper.height(l.textControlViewer.height-2*q);var u=l.txscrollbarwrapper.height();var t=Math.max(b.MinScrollbarHandleLength,(w.Height/l.textControlViewer.documentSize.Height)*u);s.css({width:b.ScrollbarWidth,height:t,left:0,marginBottom:-(t/2),});v.slider("option","min",0);v.slider("option","max",l.textControlViewer.documentSize.Height);v.css({height:l.textControlViewer.height-t-(2*q),marginTop:t/2});};this.updateHorizontalScrollbarStyle=function(){var w=l.txslider;var q={left:l.scrollbuttons.filter(".scroll-button-left"),right:l.scrollbuttons.filter(".scroll-button-right")};var s=w.find("a.txui-slider-handle");var v=l.textControlViewer.viewMode==b.ViewMode.PageView?b.ScrollPadding:0;var x=g({Width:l.textControlViewer.width,Height:l.textControlViewer.height});if(d(l.textControlViewer.documentSize,x)){l.jqContainer.hide();}else{l.jqContainer.show();}var r=q.left[0].clientWidth;l.txscrollbarwrapper.width(l.textControlViewer.width-2*r);var u=l.txscrollbarwrapper.width();var t=Math.max(b.MinScrollbarHandleLength,(x.Width/l.textControlViewer.documentSize.Width)*u);s.css({width:t,height:b.ScrollbarWidth,top:0,marginLeft:-(t/2)});w.slider("option","min",v);w.slider("option","max",l.textControlViewer.documentSize.Width-v);w.css({width:l.textControlViewer.width-t-(2*r),marginLeft:t/2});l.jqContainer.width(l.textControlViewer.width);};this.updateScrollbarStyle=function(){if(l.scrollbardirection==b.SliderOrientation.Vertical){l.updateVerticalScrollbarStyle();}else{if(l.scrollbardirection==b.SliderOrientation.Horizontal){l.updateHorizontalScrollbarStyle();}}};this.updateSliderPositions=function(){var q=l.textControlViewer.documentSize;if(l.isSliding){return;}if(!q.Width||!q.Height){return;}var v=l.textControlViewer.viewMode==b.ViewMode.PageView?b.ScrollPadding:0;var w={Width:l.textControlViewer.width,Height:l.textControlViewer.height};w=g(w,l.textControlViewer.zoomFactor);var r=q.Width-w.Width;var x=q.Height-w.Height;var t=(l.textControlViewer.textViewLocation.X+v)/r;var u=l.textControlViewer.textViewLocation.Y/x;var s=l.txslider.slider("option","orientation");switch(s){case b.SliderOrientation.Vertical:l.txslider.slider("option","value",(1-u)*q.Height);break;case b.SliderOrientation.Horizontal:l.txslider.slider("option","value",(t*b.documentSize.Width)-v);break;}};function m(q,s){var r=a(q.target);switch(r.slider("option","orientation")){case b.SliderOrientation.Horizontal:l.textControlViewer.hScroll(s.value);break;case b.SliderOrientation.Vertical:var t=r.slider("option","max")-s.value;l.textControlViewer.vScroll(t);break;}}if(k!==b.SliderOrientation.Vertical&&k!==b.SliderOrientation.Horizontal){throw new Error("Unknown orientation.");}this.textControlViewer=o;this.scrollbardirection=k;this.scrollStep=b.ScrollStep;this.jqContainer=i;this.componentType=this.textControlViewer.componentViewer.componentType;this.txscrollbarwrapper=this.jqContainer.find(".scrollbar-wrapper");this.txscrollbarwrapper.unbind("keydown");switch(k){case b.SliderOrientation.Vertical:this.txscrollbarwrapper.click(p.bind(this));break;case b.SliderOrientation.Horizontal:this.txscrollbarwrapper.click(h.bind(this));break;}this.txslider=this.jqContainer.find(".txslider");this.txslider.on("mousedown",n);this.txslider.on("touchstart",n);this.isSliding=false;this.txslider.slider({orientation:this.scrollbardirection,min:0,max:100,value:100,slide:m,start:function(){l.isSliding=true;},stop:function(){l.isSliding=false;}});this.scrollbuttons=i.find("div.scroll-button");this.scrollbuttons.click(function(r){var q;var s=l.scrollStep;if(r.target.classList.contains("scroll-button-up")){q={X:0,Y:-s};}else{if(r.target.classList.contains("scroll-button-down")){q={X:0,Y:s};}else{if(r.target.classList.contains("scroll-button-left")){q={X:-s,Y:0};}else{if(r.target.classList.contains("scroll-button-right")){q={X:s,Y:0};}else{return;}}}}l.textControlViewer.scrollDelta(q);});this.updateScrollbarStyle();this.updateSliderPositions();function j(q){l.updateSliderPositions();l.updateScrollbarStyle();}this.textControlViewer.addEventListener("documentSizeChanged",j);this.textControlViewer.addEventListener("widthChanged",j);this.textControlViewer.addEventListener("heightChanged",j);}function e(h,i){return(h.Height<=i.Height);}function d(h,i){return(h.Width<=i.Width);}function g(i,h){return{Width:b.px2twips(i.Width,h,b.DefRes),Height:b.px2twips(i.Height,h,b.DefRes)};}return f;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TXSidebar=(function(){function d(e,h){var i=this;this.minWidth=h||210;this.eventManager=new b.EventManager();this.container=e;this.isVisible=false;e.querySelector(".closebtn").addEventListener("click",function(){i.hide();});this.dragBar=new b.TXDragbar(e);this.dragBar.addEventListener("dragged",g);this.dragBar.addEventListener("dragFinished",f);function g(j){if((i.width+j.posNew)<i.minWidth){j.cancel=true;}}function f(j){var k=Math.max(i.minWidth,i.width+j);i.width=k;b.arrangeControls();}}d.prototype.addEventListener=function(f,e){this.eventManager.addEventListener(f,e);};Object.defineProperty(d.prototype,"header",{get:function(){return this.container.querySelector(".sidebarHeaderTitle").innerText;},set:function(e){this.container.querySelector(".sidebarHeaderTitle").innerText=e;this.eventManager.fireEvent("headerChanged",e);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"width",{get:function(){return this.container.getBoundingClientRect().width;},set:function(f){var e=f-this.container.getBoundingClientRect().width;var g=parseFloat(window.getComputedStyle(this.container).width);this.container.style.width=(g+e)+"px";},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"height",{get:function(){return this.container.getBoundingClientRect().height;},set:function(e){this.container.height=e;},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"backgroundColor",{get:function(){return this.container.style.backgroundColor;},set:function(e){this.container.style.backgroundColor=e;this.eventManager.fireEvent("backgroundColor",e);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"titleForeground",{get:function(){return this.container.querySelector(".sidebarHeaderTitle").style.color;},set:function(e){this.container.querySelector(".sidebarHeaderTitle").style.color=e;this.eventManager.fireEvent("titleForeground",e);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"titleFontSize",{get:function(){return this.container.querySelector(".sidebarHeaderTitle").style.fontSize;},set:function(e){this.container.querySelector(".sidebarHeaderTitle").style.fontSize=e;this.eventManager.fireEvent("titleFontSize",e);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"subTitle",{get:function(){return this.container.querySelector(".sidebarHeaderSubTitle").innerText;},set:function(e){this.container.querySelector(".sidebarHeaderSubTitle").innerText=e;this.eventManager.fireEvent("sidebarHeaderSubTitle",e);},enumerable:true,configurable:true});d.prototype.hide=function(){this.dragBar.hide();this.container.style.display="none";this.isVisible=false;this.eventManager.fireEvent("hidden",this);};d.prototype.show=function(){var e=this;this.container.style.display="flex";this.dragBar.show();this.isVisible=true;this.eventManager.fireEvent("visible",this);c.getBackColor(function(f){e.backgroundColor=f;});};return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.TXDragbar=(function(){function e(f){this.eventManager=new b.EventManager();this.mouseXChange=0;this.dragBarElement=document.createElement("div");this.dragBarElement.classList.add("txDragBar");this.elemSideBar=f;this.dragBarElement.id=f.id+"_dragbar";this._left;f.parentElement.appendChild(this.dragBarElement);this.dragBarElement.addEventListener("mousedown",d.bind(this));}function d(f){var k=this;var j=f.clientX;var g=this._left;document.addEventListener("mouseup",i);document.addEventListener("mousemove",h);this.dragBarElement.classList.add("dragging");this.eventManager.fireEvent("dragStarted");function h(m){var n=m.clientX-j;var l={posNew:n,cancel:false};k.eventManager.fireEvent("dragged",l);if(l.cancel){return;}k.left=(g+n);}function i(l){document.removeEventListener("mouseup",i);document.removeEventListener("mousemove",h);k.dragBarElement.classList.remove("dragging");k.eventManager.fireEvent("dragFinished",l.clientX-j);k.updatePosition();}}e.prototype.updatePosition=function(){var g=document.getElementById("txTemplateDesignerContainer"),k=g.getBoundingClientRect(),l=window.getComputedStyle(this.elemSideBar),i=this.dragBarElement.getBoundingClientRect(),j=this.elemSideBar.getBoundingClientRect(),h=parseFloat(l.paddingRight),f=parseFloat(l.borderRightWidth);this.left=(j.left+j.width)-h-f-k.left;};e.prototype.show=function(){this.updatePosition();this.dragBarElement.style.display="inline-block";};e.prototype.hide=function(){this.dragBarElement.style.display="none";};Object.defineProperty(e.prototype,"left",{set:function(f){this._left=f;this.dragBarElement.style.left=f+"px";},get:function(){return this._left;},enumerable:true,configurable:true});e.prototype.addEventListener=function(g,f){this.eventManager.addEventListener(g,f);};return e;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.MessageBoxDialog=(function(d){__extends(f,d);var e=Object.freeze({YesNo:0,OK:1,});var g=Object.freeze({None:0,Asterisk:1,Error:2,Exclamation:3,Hand:4,Information:5,Question:6,Stop:7,Warning:8});function f(l,k,i,j){d.call(this);this.DialogInfo={DialogType:b.HTMLDialogType.MessageBoxDialog};this.title=l;this.text=k||"";this.buttons=i;this.icon=j;this.dialogResult=false;this.dialogContainerID="dialogContainer"+randomIntFromInterval(10000,99999);}f.prototype.OKHandler=function(i){this.dialogResult=true;this.close(i);};f.prototype.close=function(j){var i={dialogResult:this.dialogResult};b.sendCommand(b.Command.DialogResult,b.HTMLDialogType.MessageBoxDialog,0,0,i);a(j).dialog("destroy").remove();a("#"+this.dialogContainerID).remove();if(!b.isTouchDevice){b.textViewer.focus();}};f.prototype.init=function(j){var k=document.getElementById("msgBoxDlg_Icon");if(this.icon==g.None){k.parentElement.removeChild(k);}else{switch(this.icon){case g.Information:k.innerText="\\u1F6C8";break;case g.Warning:k.innerText="\\u26A0";break;}}var l=document.getElementById("msgBoxDlg_Text");l.innerHTML=this.text;var i=document.getElementById("messageBoxDialog");i.style.height=(i.clientHeight+l.clientHeight+5)+"px";};function h(j){var i;switch(j.buttons){case e.OK:i=document.querySelector("#btnOK_"+j.dialogContainerID+" span.txui-button-text");i.textContent=b.variousStringResources.BTN_OK;break;}}f.prototype.dialogize=function(k){var l=this;var i={};var j=document.getElementById(this.dialogContainerID);j.innerHTML=k.html;switch(this.buttons){case e.OK:i={OK:{text:"OK",click:function(){l.OKHandler(this);},id:"btnOK_"+this.dialogContainerID}};break;}a("#messageBoxDialog").dialog({modal:true,resizable:false,width:"auto",height:110,title:this.title||"Message Box",buttons:i,close:function(){l.close(this);},open:function(){l.init(this);},}).keypress(function(m){if(m.keyCode==a.ui.keyCode.ENTER){l.OKHandler(this);return false;}});h(this);this.isDialogReady=true;};return f;})(b.HTMLDialog);return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.ViewMode={PageView:256,Normal:512};b.TextComponentViewer=(function(){function d(e,f){this.componentViewer=new b.ComponentViewer(e,f);this.eventManager=new b.EventManager();this.m_documentSize={Height:0,Width:0};this.m_textViewLocation={X:0,Y:0};this.m_viewMode=b.ViewMode.Normal;this.m_zoomFactor=100;this.width=this.width;this.height=this.height;}d.prototype.scrollDelta=function(e){b.sendCommand(b.Command.ScrollDelta,e.X,e.Y,this.componentViewer.componentType);};d.prototype.vScroll=function(e){b.sendCommand(b.Command.VScroll,e,this.componentViewer.componentType);};d.prototype.hScroll=function(e){b.sendCommand(b.Command.HScroll,e,this.componentViewer.componentType);};d.prototype.addEventListener=function(f,e){this.eventManager.addEventListener(f,e);};Object.defineProperty(d.prototype,"viewMode",{get:function(){return this.m_viewMode;},set:function(e){this.m_viewMode=e;this.eventManager.fireEvent("viewModeChanged",this.m_viewMode);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"documentSize",{get:function(){return this.m_documentSize;},set:function(e){this.m_documentSize=e;this.eventManager.fireEvent("documentSizeChanged",e);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"textViewLocation",{get:function(){return this.m_textViewLocation;},set:function(e){this.m_textViewLocation=e;this.eventManager.fireEvent("textViewLocationChanged",this.m_textViewLocation);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"zoomFactor",{get:function(){return this.m_zoomFactor;},set:function(zoomFactor){if(zoomFactor===undefined){throw new Error(\'Parameter "zoomFactor" is undefined.\');}if((typeof zoomFactor!=="number")||((zoomFactor<10)&&(zoomFactor>-1))||(zoomFactor<-3)){throw new TypeError("Zoom factor must be a positive number >= 10 or one of the special zoom factor values defined in TXTextControl.SpecialZoomFactor.");}zoomFactor=Math.round(zoomFactor);if(zoomFactor!=this.m_zoomFactor){this.m_zoomFactor=zoomFactor;b.sendCommand(b.Command.Zoom,zoomFactor,this.componentViewer.componentType);this.eventManager.fireEvent("zoomFactorChanged",this.m_zoomFactor);}},enumerable:true});d.prototype.selectHiddenTextfieldContent=function(){return this.componentViewer.selectHiddenTextfieldContent();};d.prototype.setHiddenTextFieldText=function(e){return this.componentViewer.setHiddenTextFieldText(e);};d.prototype.mouseButtonToMouseButtonFlag=function(e){return this.componentViewer.mouseButtonToMouseButtonFlag(e);};d.prototype.getMousePos=function(e){return this.componentViewer.getMousePos(e);};d.prototype.blur=function(){return this.componentViewer.blur();};d.prototype.focus=function(){return this.componentViewer.focus();};d.prototype.drawShape=function(e){return this.componentViewer.drawShape(e);};d.prototype.hideShape=function(){return this.componentViewer.hideShape();};Object.defineProperty(d.prototype,"width",{get:function(){return this.componentViewer.width;},set:function(e){this.componentViewer.width=e;this.eventManager.fireEvent("widthChanged",e);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"height",{get:function(){return this.componentViewer.height;},set:function(e){this.componentViewer.height=e;this.eventManager.fireEvent("heightChanged",e);},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"left",{get:function(){return this.componentViewer.left;},set:function(e){this.componentViewer.left=e;},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"top",{get:function(){return this.componentViewer.top;},set:function(e){this.componentViewer.top=e;},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"caretBounds",{get:function(){return this.componentViewer.caretBounds;},enumerable:true,configurable:true});d.prototype.setCaretState=function(e){return this.componentViewer.setCaretState(e);};d.prototype.setImage=function(e){return this.componentViewer.setImage(e);};d.prototype.requestUpdateImageRegions=function(e){return this.componentViewer.requestUpdateImageRegions(e);};d.prototype.requestScroll=function(e,f){return this.componentViewer.requestScroll(e,f);};d.prototype.updateImageRegions=function(e){return this.componentViewer.updateImageRegions(e);};d.prototype.scroll=function(e,f){return this.componentViewer.scroll(e,f);};d.prototype.processNextQueueEntry=function(){return this.componentViewer.processNextQueueEntry();};d.prototype.show=function(){return this.componentViewer.show();};d.prototype.hide=function(){return this.componentViewer.hide();};d.prototype.showCaret=function(){return this.componentViewer.showCaret();};d.prototype.hideCaret=function(){return this.componentViewer.hideCaret();};d.prototype.refreshCaretLocation=function(){this.componentViewer.refreshCaretLocation();};d.prototype.bufferContent=function(){return this.componentViewer.bufferContent();};d.prototype.drawBufferedContent=function(){return this.componentViewer.drawBufferedContent();};d.prototype.canvas_MouseDown=function(){this.componentViewer.canvas_MouseDown(event);};d.prototype.canvas_MouseUp=function(e){return this.componentViewer.canvas_MouseUp(e);};d.prototype.canvas_Click=function(e){return this.componentViewer.canvas_Click(e);};d.prototype.canvas_MouseMove=function(e){return this.componentViewer.canvas_MouseMove(e);};d.prototype.canvas_DoubleClick=function(e){return this.componentViewer.canvas_DoubleClick(e);};d.prototype.canvas_TouchStart=function(e){return this.componentViewer.canvas_TouchStart(e);};d.prototype.canvas_TouchDragTextView=function(e){return this.componentViewer.canvas_TouchDragTextView(e);};d.prototype.canvas_TouchPinchTextView=function(e){return this.componentViewer.canvas_TouchPinchTextView(e);};d.prototype.canvas_TouchMove=function(e){return this.componentViewer.canvas_TouchMove(e);};d.prototype.canvas_TouchMoveTextView=function(e){return this.componentViewer.canvas_TouchMoveTextView(e);};d.prototype.canvas_TouchEnd=function(e){return this.componentViewer.canvas_TouchEnd(e);};d.prototype.canvas_TouchCancel=function(e){this.componentViewer.canvas_TouchCancel(e);};d.prototype.canvas_MouseWheel=function(e){this.componentViewer.canvas_MouseWheel(e);};d.prototype.cursorChanged=function(e){this.componentViewer.cursorChanged(e);};d.prototype.shapeBlink=function(){return this.componentViewer.shapeBlink();};return d;})();return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(a5,a){"use strict";var c=a5._private=a5._private||{};a5.version="29.0";function aR(){delete a5._private;}c.isSSLConnection=(window.location.protocol==="https:");var F=59;c.Command=Object.freeze({Image:1,Close:4,Undo:5,NewFile:6,Cut:10,Copy:11,Paste:12,Redo:13,GetFileList:14,OpenFile:15,GrowFont:17,ShrinkFont:18,SetLandscape:19,PrintToPDF:22,IncreaseIndent:23,DecreaseIndent:24,DocumentSizeChanged:32,InputPositionChanged:33,WindowResized:34,HScroll:35,VScroll:36,ScrollDelta:37,InsertBlankPage:38,InsertBreak:39,TextViewLocation:44,Zoom:45,TCPServerMessage:50,ConsoleLog:51,ImageLoaded:52,ClientPaste:53,GetDocumentTargets:54,InsertItem:55,GetItem:56,DeleteItem:57,EnableSpellChecking:58,EnableHyphenation:59,InsertDocumentFile:60,GetDialogResources:61,SetAppMode:62,MailMergePrevNav:63,FinishAndMerge:64,ShowDialog:65,DialogResult:66,FieldDisplayModeChanged:67,WaitDialog:69,SelectMasterTable:70,SetFieldDisplayMode:71,HighlightMergeFields:72,CursorChanged:76,ComponentEvent:77,CaretStateChanged:78,CloseDialog:79,ImageRegions:80,Scroll:81,EditDataRelations:82,EditMergeBlocks:84,GoToItem:85,DisplayVisualElement:86,TableCommand:87,ContextMenuData:88,ContextMenuItemClicked:89,DrawShape:90,FieldPropertiesDialog:91,SetItemProperty:92,HypertextLinkClicked:93,SaveDocumentFile:94,Ping:95,Pong:96,StringResources:98,ServerEvent:102,SetConnectionID:103,EnableLangDetect:105,ItemActivationStateChangedEvent:106,Save:108,ComponentActivationState:109,EditMode:111,Selection:112,BackColor:113,StatusBarColor:114,SpellCheckDialogCommand:117,HTMLDialogState:118,OpenDirectory:119,DocumentDirtyChanged:120,DocumentSaved:121,EnableSaveDocumentQuestion:122,ContextMenusEnabled:123,SetTextFieldsEditable:124,IsTouchDevice:126,ServerConsoleWriteLine:127,ImageResources:129,CreateTextControl:130,SelectAll:132,TXSettings:133,ResetContents:135,HighlightMergeBlocks:136,ClientSelection:137,EnableLoadWaitDialog:138,ClientTextPart:139,TrialString:140,ClipboardMode:141,TextControlLoaded:142,GetFileDirectory:144,SetFileDirectory:145,ClientSetFormattingPrinter:146,ClientGetFormattingPrinter:147,ClientGetInstalledPrinters:148,TextControlChanged:149,DrawingControlInfo:154,ClientTextField:157,ClientSubTextPart:158,SpellCheck:159,FrameEvent:160,SetTxProperty:161,TransferCSharpType:162,RibbonMenuEvent:163,RibbonButtonEvent:165,RibbonControlState:167,RibbonButtonState:168,RibbonMenuItemState:169,RibbonTextBoxEvent:170,RibbonTextBoxState:171,RibbonCheckBoxState:172,ShowFieldDialog:173,UpdateField:174,FrameInfo:175,ThesaurusDialogCommand:176,AppendDocumentFile:177,PermissionsAddUserDialogCommand:178,ListBoxEvent:179,ListItemState:180,ListBoxState:181,SetDocumentPermissions:182,SetRibbonTabProperty:183,SetUserNames:184,TXPropertyChanged:185,AddTextFrame:187,TXTextControlResources:188,InputControlEvent:190,FadeInViewers:191,RibbonTabChanged:192,TrackChangesEnabledState:193,ShowSideBar:194,FadeInRibbon:195,RibbonTabsLoaded:198,AccessTextControlMember:199,OverlayControlCommand:200,EnableSaveMenuItem:201,RibbonComboBoxCommand:202,ClientConnectionLost:203,ReconnectionSuccessful:204,AbortReconnect:205,GetImages:206,VersionInfo:207,ClientInformation:208,RibbonTabTransferCompleted:209,FinalizeRibbon:210,RequestRibbonTabsAsync:211,RibbonTab:212,GetImagesAsync:213,LicenseError:214,ParagraphStructureLevelEntryEvent:215,ParagraphStructureLevelEntryState:216,RibbonControlEvent:300,RibbonComboBoxState:350,RibbonCheckBoxEvent:360,TrackChangesViewerInitiate:500,TrackedChangesViewerRefresh:502,TrackChangesViewerDispose:510,TrackedChangesCount:515,ShowHorizontalRulerBar:600,HideHorizontalRulerBar:601,ShowVerticalRulerBar:700,HideVerticalRulerBar:701,ShowStatusBar:800,HideStatusBar:801,TextControlEvent:850,SelectionHTMLContent:999});c.TableCommand={SelectElement:0,DeleteElement:1,InsertElement:2,CellAlignment:3,MergeCells:4,SplitCells:5,SplitTable:6,Create:7};c.FileType={Document:0,Image:1,DataBase:2};c.ChartTemplateType={};c.DialogCategory={TXDialog:0,HTMLDialog:1,};c.HTMLDialogType={None:0,MergeFieldDialog:1,IfFieldDialog:2,IncludeTextFieldDialog:3,DateFieldDialog:4,NextIfFieldDialog:5,MaxPreviewRowsDialog:6,InputBoxDialog:7,EditMergeBlocksDialog:8,InsertMergeBlockDialog:9,WaitDialog:10,EditDataRelationsDialog:11,CreateDataRelationDialog:12,HyperlinkDialog:14,OptionsDialog:15,ChartDataRelDialog:17,SaveDocumentAsDialog:18,ClientPasteDialog:19,SpellCheckDialog:20,LoadDictionaryDialog:22,EdgePrintDialog:23,SetChartDataRelationDialog:24,FontDialog:25,ThesaurusDialog:26,LoadThesaurusDialog:27,PermissionsAddUserDialog:28,CannotTrackChangeDialog:29,TxDialogFrame:32,MessageBoxDialog:33,FileSaveQuestionDialog:34,ManageConditionalInstructionsDialog:35,ConditionalInstructionDialog:36,AdvancedInstructionSettingsDialog:37,InsertBookmarkDialog:38,DeleteBookmarksDialog:39,MergeBlockFilterAndSortDialog:40,};c.TXDialogType=Object.freeze({Unknown:0,FontDialog:1,ParagraphFormatDialog:2,InsertTableDialog:3,ChildDialog:4,ListFormatDialog:5,FormattingStylesDialog:6,SectionFormatDialog:7,LanguageDialog:8,TableFormatDialog:9,TabDialog:12,ObjectAttributesDialog:13,FindDialog:14,ReplaceDialog:15,ForeColorDialog:16,TextBackColorDialog:17,InsertSymbolDialog:18,FrameFillColorDialog:19,FrameLineColorDialog:20,PageColorDialog:21,TableOfContentsDialog:22,});c.VisualElement=Object.freeze({ControlChars:0,TextFrameMarkerLines:1,BookmarkMarkers:2,TableGridLines:3,DrawingMarkerLines:4,FrameAnchors:5});c.TableElement={Cell:0,Column:1,Row:2,WholeTable:3,};c.ConsoleLogType={Log:0,Debug:1,Info:2,Warn:3,Error:4};c.ItemActivationState={Deactivated:0,Activated:1};c.ServerEventType={TXComponentsLoaded:0,DocumentLoaded:1};var a2={Various:0,RibbonStrings:1,TXTextControl:2};var b={Left:false,Middle:false,Right:false};c.variousStringResources={WEBSOCKET_ERROR_MSG:"Can\'t connect to the server.\\nPlease refresh the website to re-connect.",RECONNECTING:"Connection lost. Reconnecting"};c.TXTextControlResources={ID_TRACKEDCHANGES_CAPTION:"",ID_TRACKEDCHANGES_COUNT:"",TOOLTIP_RefreshTrackedChanges:""};c.imageResources={};c.webSocketHandlerURL="";c.documentSavedEventHandlers=[];c.documentDirty=false;c.saveDocumentQuestionEnabled=true;c.ignoreNextTextFocusRequest=false;c.inIMEComposition=false;c.trialStringInf=null;c.trialStringWDId=null;c.proofingSettings=null;c.supportedPaperSizes=[];c.FrameEventType={};c.isTrackChangesEnabled=false;c.currentFieldData={fieldAdapter:null,mergeFieldType:null,textField:null};c.reconnectIntervalID=0;c.reconnectStartTime=null;c.reconnectFailed=false;c.neverConnected=true;c.reconnectTimeout=30;var aO=1;c.AbortReconnectReason={UnknownConnectionID:1,OtherConnectionExists:2,};c.generatedConnectionID=null;c.LocalImageStoragePrefix="__TXImageCache";c.LocalImageStorageKey=c.LocalImageStoragePrefix;c.TXImageCache=null;c.requiredImages=[];function A(){var bb=!!("ontouchend" in document||window.DocumentTouch&&document instanceof DocumentTouch);var ba=c.BrowserDetect.browser;return bb&&(ba!=="Edge")&&(ba!=="Explorer")&&(ba!=="Firefox")&&(ba!=="Chrome");}c.isTouchDevice=A();if(c.isTouchDevice){c.clipboardMode=c.ClipboardMode.Server;}c.isSocketConnected=function(){return c.socket&&(c.socket.readyState===WebSocket.OPEN);};c.sendCommand=function(bb,bd,be,bf,bc){if(!c.isSocketConnected()){return;}var ba={CommandID:parseInt(bb,10),Param1:bd||0,Param2:be||0,Param3:bf||0,Data:bc||"",};var bg=JSON.stringify(ba);c.socket.send(bg);};function a4(){var bb,ba;ba=document.getElementById("__txWebControlSettings");if(ba){bb=ba.innerHTML;c.webControlSettings=JSON.parse(bb);ba.parentNode.removeChild(ba);}else{ba=document.getElementById("__txSettings");if(ba){bb=ba.innerHTML;c.settings=JSON.parse(bb);ba.parentNode.removeChild(ba);if(c.settings.ReconnectTimeout>0){c.reconnectTimeout=c.settings.ReconnectTimeout;}}}}c.init=function(){var bc=document.getElementById("mainCanvas");var ba=document.getElementById("horRulerCanvas");var bg=document.getElementById("vertRulerCanvas");var bd=document.getElementById("statusBarCanvas");bc.width=window.innerWidth;bc.height=window.innerHeight;ba.width=window.innerWidth;bg.height=window.innerHeight;bd.width=window.innerWidth;c.textViewer=new c.ComponentViewer(bc,c.ComponentType.TextView);c.horRulerViewer=new c.ComponentViewer(ba,c.ComponentType.HorRuler);c.vertRulerViewer=new c.ComponentViewer(bg,c.ComponentType.VertRuler);c.statusBarViewer=new c.ComponentViewer(bd,c.ComponentType.StatusBar);a4();var bf=c.getWebSocketHandlerURL();c.webSocketHandlerURL=bf.url;console.info("Connecting to "+bf.path);l();x();window.addEventListener("unload",C);window.addEventListener("resize",E);window.addEventListener("blur",D);h();document.addEventListener("inputPositionChanged",c.inputPositionChangedHandler);document.addEventListener("uiFlagsUpdated",c.uiFlagsUpdatedHandler);document.addEventListener("imageReceived",c.imageReceivedHandler);document.addEventListener("imageRegionsUpdated",c.imageRegionsUpdatedHandler);document.addEventListener("viewContentScrolled",c.viewContentScrolledHandler);document.addEventListener("printResultReceived",c.printResultReceivedHandler);document.addEventListener("documentSizeChanged",c.documentSizeChangedHandler);document.addEventListener("txZoomed",c.txZoomedHandler);document.addEventListener("textViewLocationChanged",c.textViewLocationChangedHandler);document.addEventListener("contextMenuDataReceived",c.contextMenuDataReceivedHandler);document.addEventListener("txContainerResized",c.onContainerResize);document.addEventListener("textViewCaretStateChanged",c.textViewCaretStateChangedHandler);document.addEventListener("showFieldPropsDialog",c.showFieldPropsDialogHandler);document.addEventListener("hyperlinkClicked",c.hyperlinkClickedHandler);document.addEventListener("pongMessageReceived",G);document.addEventListener("documentSaved",r);document.addEventListener("textFieldDataReceived",c.textFieldDataReceivedHandler);document.addEventListener("txPropertyChanged",c.txPropertyChangedHandler);bc.addEventListener("drop",c.handleDrop);bc.addEventListener("dragenter",function(bh){bh.preventDefault();bh.stopPropagation();});bc.addEventListener("dragover",function(bh){bh.preventDefault();bh.stopPropagation();bh.dataTransfer.dropEffect="copy";});document.getElementById("ribbonbar").addEventListener("contextmenu",H);document.getElementById("vertical-scrollbar-wrapper").addEventListener("contextmenu",H);document.getElementById("horizontal-scrollbar-wrapper").addEventListener("contextmenu",H);document.getElementById("scroll-button-up").addEventListener("contextmenu",H);document.getElementById("scroll-button-down").addEventListener("contextmenu",H);document.getElementById("scroll-button-left").addEventListener("contextmenu",H);document.getElementById("scroll-button-right").addEventListener("contextmenu",H);document.addEventListener("mousedown",o);document.addEventListener("mouseup",q);document.addEventListener("mousemove",p);document.addEventListener("click",n);c.initContextMenus();c.createScrollbars();c.createTrackChangesSidebar();c.adaptViewToContainerSize();setInterval(function(){c.sendCommand(c.Command.Ping);},F*1000);if(!c.isTouchDevice){c.textViewer.focus();}var bb=document.getElementById("txLoader");bb.style.display="";bb.style.opacity=1;var be=document.querySelector("#ribbonbar ul.tabs");be.style.display="";aR();};function l(){c.socket=new WebSocket(c.webSocketHandlerURL,"TXTextControl.Web");c.socket.addEventListener("open",a9);c.socket.addEventListener("message",a8);c.socket.addEventListener("error",a7);c.socket.addEventListener("close",a6);}function f(){var bb=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var bc=new bb(function(bd){bd.forEach(function(be){switch(be.type){case"attributes":switch(be.attributeName){case"style":k();break;}break;}});});var ba={attributes:true,childList:false,characterData:false};bc.observe(document.getElementById("txTemplateDesignerContainer").parentElement,ba);}function i(){var bb=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var bd=document.getElementById("ribbonbar");var bc=new bb(function(be){be.forEach(function(bf){switch(bf.type){case"attributes":switch(bf.attributeName){case"style":if(bd.style.display==="none"){if(!c.isRibbonBarRemoved){c.isRibbonBarRemoved=true;c.ribbonBarHeight=0;c.adaptViewToContainerSize();}}else{if(c.isRibbonBarRemoved){c.isRibbonBarRemoved=false;c.ribbonBarHeight=c.DEFAULT_RIBBONBAR_HEIGHT;c.adaptViewToContainerSize();}}break;}break;}});});var ba={attributes:true,childList:false,characterData:false};bc.observe(bd,ba);}function g(){var bc=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var bb=document.getElementById("mainCanvas");var bd=new bc(function(bf){if(!c.trialStringInf){return;}var bg=document.getElementById(c.trialStringInf.id);if(!bg){return;}var be=document.getElementById("txTemplateDesignerContainer");bf.forEach(function(bi){switch(bi.type){case"attributes":switch(bi.attributeName){case"width":var bl=bb.getBoundingClientRect();var bk=be.getBoundingClientRect();var bh=bl.left+(bl.width/2);var bj=bh-(bk.left+(bk.width/2));bg.style.left=d.left=(50+((bj/bk.width)*100))+"%";break;}break;}});});var ba={attributes:true,childList:false,characterData:false};bd.observe(bb,ba);}function h(){f();i();g();}function aS(bb){var ba="";if(typeof c.webControlSettings!=="undefined"){ba=c.webControlSettings.connectionID;}else{if(typeof c.settings!=="undefined"){ba=c.settings.ConnectionID;}else{if(c.generatedConnectionID){ba=c.generatedConnectionID;}else{ba=c.generatedConnectionID=c.generateRandomID(21);console.log("No connection ID was received from the web server. Generating my own. ("+ba+")");}}}c.sendCommand(c.Command.SetConnectionID,(bb?1:0),0,0,ba);}function aA(){if(typeof c.settings==="undefined"){return;}c.saveDocumentQuestionEnabled=c.settings.SaveDocumentQuestionDialogEnabled;c.sendCommand(c.Command.TXSettings,0,0,0,c.settings);}function v(ba){if(navigator.userLanguage){ba.culture=navigator.userLanguage;ba.uiCulture=navigator.browserLanguage;}else{var bb=navigator.languages?navigator.languages[0]:navigator.language;if(bb){ba.culture=ba.uiCulture=bb;}else{console.warn("Unable to detect browser language.");}}}c.CultureSettings=(function(){function CultureSettings(culture,uiCulture){if(culture===undefined){culture="";}if(uiCulture===undefined){uiCulture="";}this.culture=""+culture;this.uiCulture=""+uiCulture;}return CultureSettings;})();c.getCultures=function(){var ba=new c.CultureSettings();v(ba);if(typeof c.webControlSettings!=="undefined"){if(c.webControlSettings.hasOwnProperty("culture")&&c.webControlSettings.hasOwnProperty("uiCulture")){if(c.webControlSettings.culture){ba.culture=c.webControlSettings.culture;}if(c.webControlSettings.uiCulture){ba.uiCulture=c.webControlSettings.uiCulture;}}}else{if(typeof c.settings!=="undefined"){if(c.settings.Culture){ba.culture=c.settings.Culture;}if(c.settings.UICulture){ba.uiCulture=c.settings.UICulture;}}}return ba;};function E(){try{k();}catch(ba){}}function D(){c.modifierKeys=0;}function k(){var ba=document.getElementById("txTemplateDesignerContainer").parentElement;var bd,bc;if(ba.tagName==="BODY"){bd=window.innerWidth;bc=window.innerHeight;}else{bd=ba.offsetWidth;bc=ba.offsetHeight;}if((bd!==c.clientSize.Width)||(bc!==c.clientSize.Height)){var bb=new CustomEvent("txContainerResized");document.dispatchEvent(bb);}}c.blockUserInput=function(){var bb=document.getElementById("txUserInputBlocker");if(bb){return;}var ba=document.getElementById("txTemplateDesignerContainer");bb=document.createElement("DIV");bb.id="txUserInputBlocker";bb.style.opacity=0;ba.appendChild(bb);bb.style.opacity=1;};c.allowUserInput=function(){c.removeMsgDiv();var bb=document.getElementById("txUserInputBlocker");if(!bb){return;}var ba=document.getElementById("txTemplateDesignerContainer");s(bb,ba,0,200);};function x(){var bh=document.styleSheets||[];for(var bb=0;bb<bh.length;bb++){try{var bf=bh[bb].cssRules||bh[bb].rules||[];for(var bc=0;bc<bf.length;bc++){var be=bf[bc];switch(be.selectorText){case"#txTemplateDesignerContainer #ribbonbar":c.ribbonBarHeight=c.DEFAULT_RIBBONBAR_HEIGHT=parseInt(be.style.height,10);break;}}}catch(ba){}}var bd=document.getElementById("ribbonbar");var bg=getComputedStyle(bd)||{};if(bg.display==="none"){c.ribbonBarHeight=0;c.isRibbonBarRemoved=true;}}function s(bb,bc,ba,bd){bb.style.transition="opacity "+(bd/1000)+"s";setTimeout(function(){bb.style.opacity=0;setTimeout(function(){if(bb.style.opacity!=0){return;}bc.removeChild(bb);bb.style.transition="";},bd);},ba);}c.showMsgDiv=function(bd,bc){c.textViewer.hideCaret();var ba=document.getElementById("txTemplateDesignerContainer");var bb=document.getElementById("txErrMsgDiv");if(!bb){bb=document.createElement("DIV");bb.id="txErrMsgDiv";bb.classList.add("unselectable");bb.style.zIndex="9999";bb.style.opacity=0;ba.appendChild(bb);}bd=bd.replace(/\\r?\\n/g,"<br>");bb.innerHTML=bd;bb.style.marginTop=-(bb.clientHeight/2)+"px";bb.style.marginLeft=-(bb.clientWidth/2)+"px";bb.style.opacity=1;if(bc){s(bb,ba,1000,1000);}};c.removeMsgDiv=function(){var bb=document.getElementById("txErrMsgDiv");if(!bb){return;}var ba=document.getElementById("txTemplateDesignerContainer");s(bb,ba,0,200);};function a1(){c.blockUserInput();c.showMsgDiv(c.variousStringResources.WEBSOCKET_ERROR_MSG);}function a9(){if(c.reconnectIntervalID){console.log("WebSocket successfully reconnected. Waiting for synchronization service response");}aS(c.reconnectIntervalID!==0);if(!c.reconnectFailed&&!c.reconnectIntervalID){c.sendCommand(c.Command.ClientInformation,0,0,0,{devicePixelRatio:window.devicePixelRatio});var ba=c.getCultures();c.sendCommand(c.Command.CreateTextControl,0,0,0,ba);c.sendCommand(c.Command.IsTouchDevice,c.isTouchDevice?1:0);aA();}}function a7(ba){}function a6(bb){c.socket=null;var ba={code:bb.code,reason:bb.reason,wasClean:bb.wasClean};c.fireEvent(c.EventName.webSocketClosed,ba);if(c.neverConnected){a1();return;}console.log("WebSocket connection lost.");if(!c.reconnectFailed&&!c.reconnectIntervalID){c.blockUserInput();c.showMsgDiv(c.variousStringResources.RECONNECTING);console.log("Starting reconnection attempts.");c.reconnectStartTime=Date.now();c.reconnectIntervalID=window.setInterval(aP,aO*1000);}}function aQ(ba){c.reconnectFailed=true;window.clearInterval(c.reconnectIntervalID);c.reconnectIntervalID=0;console.log(ba);a1();}function aP(){if((Date.now()-c.reconnectStartTime)>(c.reconnectTimeout*1000)){aQ("Could not reconnect.");return;}if(c.socket){return;}console.log("Trying to reconnect to WebSocket");l();}function aq(){c.allowUserInput();console.log("Synchronization service connection re-established.");window.clearInterval(c.reconnectIntervalID);c.reconnectIntervalID=0;}function e(ba){var bb="Could not reconnect.";switch(ba){case c.AbortReconnectReason.UnknownConnectionID:bb="Could not reconnect. Connection ID is unknown to the synchronization service.";break;case c.AbortReconnectReason.OtherConnectionExists:bb="Could not reconnect. A connection with the same ID already exists.";break;}aQ(bb);c.webSocketDisconnect();}function a8(ba){var bc=""+ba.data;var bb=JSON.parse(bc);am(bb);}function z(ba){return ba.hasOwnProperty("CommandID");}function am(bc){if(!z(bc)){console.error("processMessage(): Received object is not a valid message.");return;}switch(bc.CommandID){case c.Command.PrintToPDF:ap(bc);break;case c.Command.TextViewLocation:aI(bc);break;case c.Command.TransferCSharpType:c.createPrivateObject(bc.Data);break;case c.Command.StringResources:aE(bc);break;case c.Command.Image:ae(bc);break;case c.Command.ShowDialog:aB(bc);break;case c.Command.TrialString:c.trialStringInf=bc.Data;j();break;case c.Command.ImageResources:c.imageResources=bc.Data;break;case c.Command.ImageRegions:af(bc);break;case c.Command.Scroll:at(bc);break;case c.Command.CaretStateChanged:I(bc);break;case c.Command.TXPropertyChanged:aK(bc);break;case c.Command.DocumentSizeChanged:R(bc);break;case c.Command.RibbonControlEvent:ar(bc.Data);break;case c.Command.GetFileList:X(bc.Data);break;case c.Command.Zoom:aN(bc);break;case c.Command.InputPositionChanged:ag(bc);break;case c.Command.OpenFile:an(bc);break;case c.Command.DBScheme:O(bc);break;case c.Command.TCPServerMessage:aF(bc);break;case c.Command.CursorChanged:az(bc);break;case c.Command.GetDocumentTargets:S(bc);break;case c.Command.GetItem:aj(bc);break;case c.Command.GetDialogResources:P(bc);break;case c.Command.SetAppMode:ay(bc);break;case c.Command.FieldDisplayModeChanged:V(bc);break;case c.Command.WaitDialog:aM(bc);break;case c.Command.HighlightMergeFields:al(bc);break;case c.Command.CloseDialog:K(bc);break;case c.Command.ContextMenuData:N(bc);break;case c.Command.ConsoleLog:M(bc);break;case c.Command.DrawShape:U(bc);break;case c.Command.FieldPropertiesDialog:var ba=new CustomEvent("showFieldPropsDialog");document.dispatchEvent(ba);break;case c.Command.HypertextLinkClicked:ad(bc);break;case c.Command.Pong:ba=new CustomEvent("pongMessageReceived");document.dispatchEvent(ba);break;case c.Command.ItemActivationStateChangedEvent:ai(bc);break;case c.Command.HTMLDialogState:ac(bc);break;case c.Command.DocumentDirtyChanged:c.documentDirty=(bc.Param1!==0);break;case c.Command.DocumentSaved:Q(bc);break;case c.Command.EnableSaveDocumentQuestion:c.saveDocumentQuestionEnabled=(bc.Param1!==0);break;case c.Command.ComponentActivationState:L(bc);break;case c.Command.EditMode:c.setEditMode(bc.Param1);break;case c.Command.HighlightMergeBlocks:ak(bc);break;case c.Command.ServerEvent:ax(bc);break;case c.Command.ClientSelection:au(bc);break;case c.Command.ClientTextPart:c.processTextPartDataMessage(bc);break;case c.Command.ClipboardMode:J(bc);break;case c.Command.TextControlLoaded:c.fireEvent(c.EventName.textControlLoaded);break;case c.Command.GetFileDirectory:W(bc);break;case c.Command.StatusBarColor:aD(bc);break;case c.Command.ClientGetFormattingPrinter:Y(bc);break;case c.Command.ClientGetInstalledPrinters:ah(bc);break;case c.Command.TextControlChanged:c.fireEvent(c.EventName.textControlChanged);break;case c.Command.DrawingControlInfo:T(bc);break;case c.Command.ClientTextField:c.processTextFieldDataMessage(bc.Data);break;case c.Command.ClientSubTextPart:c.processSubTextPartDataMessage(bc);break;case c.Command.SelectionHTMLContent:c.processSelectionHTMLContentMessage(bc);break;case c.Command.SpellCheck:c.processSpellCheckCommandResponse(bc);break;case c.Command.FrameEvent:Z(bc);break;case c.Command.RibbonTab:c.addRibbonTab(bc.Data);break;case c.Command.RibbonTabTransferCompleted:c.ribbonTabTransferCompleted();break;case c.Command.RibbonControlState:c.changeRibbonControlState(bc.Data);break;case c.Command.RibbonButtonState:c.changeRibbonButtonState(bc.Data);break;case c.Command.RibbonMenuItemState:c.changeRibbonMenuItemState(bc.Data);break;case c.Command.RibbonTextBoxState:c.changeRibbonTextBoxState(bc.Data);break;case c.Command.RibbonCheckBoxState:c.changeRibbonCheckBoxState(bc.Data);break;case c.Command.RibbonComboBoxState:c.changeRibbonComboBoxState(bc.Data);break;case c.Command.ParagraphStructureLevelEntryState:c.changeParagraphStructureLevelEntryState(bc.Data);break;case c.Command.ShowFieldDialog:c.showFieldDialog(bc.Data.dialogContent.field,bc.Data.dialogContent.fieldType,bc.Data.textField);break;case c.Command.ListItemState:c.changeListItemState(bc.Data);break;case c.Command.ListBoxState:c.changeListBoxState(bc.Data);break;case c.Command.ShowHorizontalRulerBar:c.showHorizontalRuler(true);break;case c.Command.HideHorizontalRulerBar:c.showHorizontalRuler(false);break;case c.Command.ShowVerticalRulerBar:c.showVerticalRuler(true);break;case c.Command.HideVerticalRulerBar:c.showVerticalRuler(false);break;case c.Command.ShowStatusBar:c.showStatusBar(true);break;case c.Command.HideStatusBar:c.showStatusBar(false);break;case c.Command.FadeInViewers:c.neverConnected=false;c.fadeInViewers();break;case c.Command.TrackChangesEnabledState:c.isTrackChangesEnabled=(bc.Param1!==0);break;case c.Command.SetDocumentPermissions:c.setDocumentPermission(bc);break;case c.Command.ShowSideBar:aC(bc);break;case c.Command.FadeInRibbon:c.fadeInRibbon();break;case c.Command.TrackedChangesCount:aJ(bc);break;case c.Command.RibbonTabsLoaded:c.ribbonTabsLoaded();break;case c.Command.AccessTextControlMember:aG(bc);break;case c.Command.OverlayControlCommand:c.processOverlayControlCommand(bc);break;case c.Command.EnableSaveMenuItem:var bb=document.getElementById("fileMnuItemSave");if(bb){if(bc.Param1==0){bb.classList.add("txui-state-disabled");}else{bb.classList.remove("txui-state-disabled");}}break;case c.Command.RibbonComboBoxCommand:c.processRibbonComboBoxCommand(bc.Data);break;case c.Command.TextControlEvent:aH(bc);break;case c.Command.ReconnectionSuccessful:aq();break;case c.Command.AbortReconnect:e(bc.Param1);break;case c.Command.GetImages:ab(bc.Data);break;case c.Command.VersionInfo:aL(bc.Data);break;case c.Command.LicenseError:c.webSocketDisconnect();c.blockUserInput();c.showMsgDiv(bc.Data);break;}}function aH(bb){var ba=bb.Param2;if(ba===c.EventCategory.TextViewGenerator){c.fireEvent(bb.Data.eventName,bb.Data.eventArgs);}else{if(ba===c.EventCategory.InputFormat){c.textControl.inputFormat._.eventManager.fireEvent(bb.Data.eventName,bb.Data.eventArgs);}}}function aG(bd){if(!bd.Data){throw new Error("processTextControlCommand(): Received message does not contain data.");}var ba=bd.Data.Content;var bc=bd.Data.ExcMsg;var be=c.getTextControlMemberAccessCallback(ba.messageUID);var bb={msg:bc,handled:false};if(bc){if(be.errorCallback){be.errorCallback(bb);}if(bb.handled!=true){c.fireEvent(c.EventName.unhandledError,bb);}if(bb.handled!=true){throw new Error(bc);}}else{if(be.callback){be.callback(ba.result);}}}c.trackedChangesCount=0;function aJ(ba){if(c.trackChangesSidebar){if(c.TXTextControlResources.ID_TRACKEDCHANGES_COUNT){c.trackedChangesCount=ba.Param1;c.trackChangesSidebar.subTitle=c.TXTextControlResources.ID_TRACKEDCHANGES_COUNT+c.trackedChangesCount;}}}function ar(ba){if(ba.event){switch(ba.event){case"CollectionChanged":if(ba.sender){switch(ba.sender.type){case"RibbonMenu":c.ribbonMenu_collectionChanged(ba);break;case"RibbonListView":c.ribbonListView_collectionChanged(ba);break;}}break;}}}function aT(ba){switch(ba){case c.ActivationState.Activated:c.textViewer.focus();break;case c.ActivationState.Deactivated:c.textViewer.blur();break;}}function ae(bb){var ba=new CustomEvent("imageReceived",{detail:bb});document.dispatchEvent(ba);}function m(bb){var ba=new CustomEvent("uiFlagsUpdated",{detail:bb});document.dispatchEvent(ba);}function X(bb){var ba=new CustomEvent("fileListReceived",{detail:bb});document.dispatchEvent(ba);}function ap(bb){var ba=new CustomEvent("printResultReceived",{detail:bb});document.dispatchEvent(ba);}function R(bb){switch(bb.Param1){case c.ComponentType.TextView:var ba=new CustomEvent("documentSizeChanged",{detail:bb.Data});document.dispatchEvent(ba);break;case c.ComponentType.TrackChangesView:if(c.trackChangesViewer){c.trackChangesViewer.documentSize={Width:bb.Data.Width,Height:bb.Data.Height};}break;default:console.log("processDocumentSizeChangedMessage: Unknown component id.");}}function aN(bb){var ba=new CustomEvent("txZoomed",{detail:{zoomFactor:bb.Param1}});document.dispatchEvent(ba);}c.InputPositionChangedEventArgs=(function(){function ba(inputPosition){for(var bb in inputPosition){this[bb]=inputPosition[bb];}}return ba;})();function ag(bd){var bb=bd.Data;bb.uiFlags=bd.Param1;var bc=new CustomEvent("inputPositionChanged",{detail:bb});document.dispatchEvent(bc);var ba=new c.InputPositionChangedEventArgs(bb.InputPosition);c.fireEvent(c.EventName.inputPositionChanged,ba);m(bb.uiFlags);}function an(ba){switch(ba.Param1){case c.FileType.DataBase:O(ba);break;}}function aa(bb){var ba=new CustomEvent("frameInfoReceived",{detail:bb});document.dispatchEvent(ba);}function aK(bb){var ba=new CustomEvent("txPropertyChanged",{detail:bb.Data});document.dispatchEvent(ba);}function TextViewLocationChangedEventArgs(x,y){this.location=new c.Point(x,y);}function aI(bc){switch(bc.Param1){case c.ComponentType.TrackChangesView:if(c.trackChangesViewer){c.trackChangesViewer.textViewLocation=bc.Data;c.txTrackChangesVerticalScrollbar.updateSliderPositions();c.txTrackChangesHorizontalScrollbar.updateSliderPositions();}break;case c.ComponentType.TextView:var bb=new CustomEvent("textViewLocationChanged",{detail:bc.Data});document.dispatchEvent(bb);var bd=c.twips2px(bc.Data.X,100,96);var be=c.twips2px(bc.Data.Y,100,96);var ba=new TextViewLocationChangedEventArgs(bd,be);c.fireEvent(c.EventName.textViewLocationChanged,ba);m(bc.Param2);break;}}function O(bc){var ba=bc.Data||{};ba.suppressMessage=(bc.Param3===1);var bb=new CustomEvent("dbSchemeReceived",{detail:ba});document.dispatchEvent(bb);}function aF(ba){var bb=c.txDialog?c.txDialog.getActiveViewer():c.textViewer;c.documentSavedEventHandlers=[];c.jQueryAlert(ba.Data.caption,ba.Data.message,bb);}function az(bc){var ba={target:bc.Param1,cursorType:bc.Param2,dialogType:bc.Param3};var bb=new CustomEvent("componentCursorChanged",{detail:ba});document.dispatchEvent(bb);}function S(bb){var ba=new CustomEvent("documentTargetsReceived",{detail:{targets:bb.Data}});document.dispatchEvent(ba);}function aj(bc){var ba={itemType:bc.Param1,mouseClick:(bc.Param2!==0),item:bc.Data};var bb=new CustomEvent("txItemReceived",{detail:ba});document.dispatchEvent(bb);switch(ba.itemType){case c.ItemType.FieldAdapter:c.currentFieldData.fieldAdapter=ba.item.field;c.currentFieldData.mergeFieldType=ba.item.fieldType;bb=new CustomEvent("fieldDataReceived",{detail:ba.item});document.dispatchEvent(bb);break;}}function P(bc){var ba={dialogType:bc.Param1,resources:bc.Data};var bb=new CustomEvent("dialogResourcesReceived",{detail:ba});document.dispatchEvent(bb);}function ay(bb){var ba=new CustomEvent("appModeChanged",{detail:{appMode:bb.Param1}});document.dispatchEvent(ba);}function aB(ba){switch(ba.Param1){case c.DialogCategory.HTMLDialog:aW(ba);break;case c.DialogCategory.TXDialog:if(!c.txDialog){c.txDialog=new c.TxDialog(ba.Data.initialImage,ba.Data.size,ba.Data.caption,ba.Param2);c.txDialog.showModal();}else{c.txDialog.showChildDialog(ba.Data.initialImage,ba.Data.size,ba.Data.caption);}break;}}function aW(bb){var ba;switch(bb.Param2){case c.HTMLDialogType.InputBoxDialog:aX(bb.Data);break;case c.HTMLDialogType.MaxPreviewRowsDialog:aY(bb.Data);break;case c.HTMLDialogType.ChildDialog:if(c.txDialog){c.txDialog.showChildDialog(bb.Data.initialImage,bb.Data.size,bb.Data.caption);}else{c.jQueryAlert("Error Message","Can not open child dialog without having any TXTextControl dialog open.");}break;case c.HTMLDialogType.EditDataRelationsDialog:aU(bb.Data.relations,bb.Data.dbScheme);break;case c.HTMLDialogType.EditMergeBlocksDialog:aV(bb.Data.blocks);break;case c.HTMLDialogType.OptionsDialog:aZ(bb.Data.options);break;case c.HTMLDialogType.InsertMergeBlockDialog:ba=new c.InsertMergeBlockDialog(bb.Data.name,bb.Data.dbScheme);ba.showModal();break;case c.HTMLDialogType.SaveDocumentAsDialog:a0(bb.Data.fileName,bb.Data.streamType);break;case c.HTMLDialogType.SpellCheckDialog:ba=new c.SpellCheckDialog(bb.Data);ba.showModal();break;case c.HTMLDialogType.LoadDictionaryDialog:ba=new c.LoadDictionaryDialog(bb.Data);ba.showModal();break;case c.HTMLDialogType.SetChartDataRelationDialog:ba=new c.SetChartDataRelationDialog(bb.Data);ba.showModal();break;case c.HTMLDialogType.FontDialog:ba=new c.FontDialog(bb.Data.state);ba.showModal();break;case c.HTMLDialogType.ThesaurusDialog:ba=new c.ThesaurusDialog(bb.Data);ba.showModal();break;case c.HTMLDialogType.LoadThesaurusDialog:ba=new c.LoadThesaurusDialog(bb.Data);ba.showModal();break;case c.HTMLDialogType.PermissionsAddUserDialog:ba=new c.PermissionsAddUserDialog(bb.Data);ba.showModal();break;case c.HTMLDialogType.CannotTrackChangeDialog:ba=new c.MessageBoxDialog(bb.Data.title,bb.Data.text,bb.Data.buttons,bb.Data.icon);ba.showModal();break;case c.HTMLDialogType.OpenFileDialog:c.openFile(bb.Data.fileType);break;case c.HTMLDialogType.HyperlinkDialog:ba=new c.HyperlinkDialog();ba.showModal();break;case c.HTMLDialogType.InsertDocumentFileDialog:ba=new c.OpenFileDialog(c.Command.InsertDocumentFile,c.FileType.Document);ba.showModal();break;case c.HTMLDialogType.MergeFieldDialog:a5.showMergeFieldDialog(c.FieldType.MergeField);break;case c.HTMLDialogType.NextIfFieldDialog:a5.showMergeFieldDialog(c.FieldType.NextIfField);break;case c.HTMLDialogType.IfFieldDialog:a5.showMergeFieldDialog(c.FieldType.IfField);break;case c.HTMLDialogType.IncludeTextFieldDialog:a5.showMergeFieldDialog(c.FieldType.IncludeTextField);break;case c.HTMLDialogType.DateFieldDialog:a5.showMergeFieldDialog(c.FieldType.DateField);break;case c.HTMLDialogType.FileSaveQuestionDialog:c.fileSaveQuestion();break;case c.HTMLDialogType.ManageConditionalInstructionsDialog:ba=new c.ManageConditionalInstructionsDialog(bb.Data);ba.showModal();break;case c.HTMLDialogType.InsertBookmarkDialog:ba=new c.InsertBookmarkDialog(bb.Data);ba.showModal();break;case c.HTMLDialogType.DeleteBookmarksDialog:ba=new c.DeleteBookmarksDialog(bb.Data);ba.showModal();break;}}c.insertLocalImageFile=function(){var ba=document.createElement("input");ba.type="file";ba.onchange=function(bb){var bc=ba.files[0];if(!bc){return;}var bd=new FileReader();bd.onload=function(){var be=c.arrayBufferToB64(bd.result);a5.images.addInline(be,-1);};bd.readAsArrayBuffer(bc);};ba.click();};function V(bb){var ba=new CustomEvent("fieldDisplayModeChanged",{detail:{fieldDisplayMode:bb.Param1}});document.dispatchEvent(ba);}function aM(bc){var ba={show:(bc.Param1!==0),resources:bc.Data};var bb=new CustomEvent("waitDialogMessageReceived",{detail:ba});document.dispatchEvent(bb);}function al(bb){var ba=new CustomEvent("mergeFieldHighlightingChanged",{detail:{highlight:(bb.Param1!==0)}});document.dispatchEvent(ba);}function ak(bb){var ba=new CustomEvent("mergeBlockHighlightingChanged",{detail:{highlight:(bb.Param1!==0)}});document.dispatchEvent(ba);}function Q(bc){var bb=bc.Data.message;if(bb&&bb.length){c.showMsgDiv(bb,true);}c.documentDirty=false;var ba=new CustomEvent("documentSaved");document.dispatchEvent(ba);}function L(ba){switch(ba.Param1){case c.ComponentType.TextView:aT(ba.Param2);break;}}function I(bb){switch(bb.Param1){case c.ComponentType.TxDialog:var ba=new CustomEvent("dialogCaretStateChanged",{detail:bb});document.dispatchEvent(ba);break;case c.ComponentType.TextView:ba=new CustomEvent("textViewCaretStateChanged",{detail:bb});document.dispatchEvent(ba);break;}}function K(bc){var ba={dialogType:bc.Param1,nestingDepth:bc.Param2};var bb=new CustomEvent("txDialogClosed",{detail:ba});document.dispatchEvent(bb);}function af(bb){var ba=new CustomEvent("imageRegionsUpdated",{detail:bb});document.dispatchEvent(ba);}function at(bb){var ba=new CustomEvent("viewContentScrolled",{detail:bb});document.dispatchEvent(ba);}function N(bc){var ba={location:bc.Param1,menuItems:bc.Data};var bb=new CustomEvent("contextMenuDataReceived",{detail:ba});document.dispatchEvent(bb);}function M(ba){var bb=ba.Data.text;var bc=ba.Param1;switch(bc){case c.ConsoleLogType.Log:console.log(bb);break;case c.ConsoleLogType.Debug:console.debug(bb);break;case c.ConsoleLogType.Info:console.info(bb);break;case c.ConsoleLogType.Warn:console.warn(bb);break;case c.ConsoleLogType.Error:console.error(bb);break;}}function U(bc){var ba={ComponentType:bc.Param1,Kind:bc.Data.Kind,Location:bc.Data.Location,Size:bc.Data.Size};var bb=new CustomEvent("drawShapeMessageReceived",{detail:ba});document.dispatchEvent(bb);}function ad(bb){var ba=new CustomEvent("hyperlinkClicked",{detail:bb.Data.Target});document.dispatchEvent(ba);}function aE(ba){var bb=ba.Data;switch(ba.Param1){case a2.Various:c.variousStringResources=bb;break;case a2.RibbonStrings:c.ribbonStringResources=bb;c.initRibbon();break;case a2.TXTextControl:c.TXTextControlResources=bb;c.trackChangesSidebar.header=bb.ID_TRACKEDCHANGES_CAPTION;break;}}function ai(bd){var bb=null;var bc=bd.Param1;var ba=bd.Param2;switch(bc){case c.ItemType.HeaderFooter:switch(ba){case c.ItemActivationState.Activated:bb=new CustomEvent("headerFooterActivated");break;case c.ItemActivationState.Deactivated:bb=new CustomEvent("headerFooterDeactivated");break;}break;}if(bb){document.dispatchEvent(bb);}}function ac(bc){var ba=bc.Param1;var bd=bc.Data;switch(ba){case c.HTMLDialogType.SpellCheckDialog:var bb=new CustomEvent("spellCheckDialogStateUpdated",{detail:bd});document.dispatchEvent(bb);break;case c.HTMLDialogType.ThesaurusDialog:bb=new CustomEvent("thesaurusDialogStateUpdated",{detail:bd});document.dispatchEvent(bb);break;case c.HTMLDialogType.PermissionsAddUserDialog:bb=new CustomEvent("permissionsAddUserDialogUpdated",{detail:bd});document.dispatchEvent(bb);break;}}function ax(bb){var ba=bb.Param1;switch(ba){case c.ServerEventType.DocumentLoaded:t(bb.Data.eventData);break;}}c.DocumentLoadedEventArgs=(function(){function DocumentLoadedEventArgs(fileName){this.fileName=fileName;}return DocumentLoadedEventArgs;})();function t(bb){var bc="";if(bb){bc=bb.FileName||"";}var ba=new c.DocumentLoadedEventArgs(bc);c.fireEvent(c.EventName.documentLoaded,ba);}c.SaveDocumentResult=(function(){function SaveDocumentResult(data,streamType,ba){this.data=data;this.streamType=streamType||0;this.bytesWritten=ba||0;}return SaveDocumentResult;})();function au(bc){if(!bc.Data){throw new Error("processSelectionData(): Received message does not contain data.");}var ba=bc.Data.Content;var bb=bc.Data.ExcMsg;switch(ba.SelectionCommand){case c.SelectionCommand.Save:aw(ba,bb);break;case c.SelectionCommand.GetStartAndLength:av(ba,bb);break;default:ao(ba,bb);break;}}function aw(be,bd){var bb=c.selectionTaskCallbacks.save.shift();if(bd){throw new Error(bd);}if(!y(be.StreamType)){be.DocData=a5.atobUTF8(be.DocData);}if(bb){var ba=new c.SaveDocumentResult(be.DocData,be.StreamType);try{bb(ba);}catch(bc){}}}function av(bd,bc){var ba=c.selectionTaskCallbacks.getBounds.shift();if(bc){throw new Error(bc);}if(ba){try{ba({start:bd.Start,length:bd.Length});}catch(bb){}}}function ao(bb,ba){if(ba){throw new Error(ba);}}function J(ba){if(c.isTouchDevice){return;}c.setClipboardMode(ba.Param1);}function W(be){var ba;var bd=be.Data.fileType;var bb=be.Data.dir;switch(bd){case c.FileType.Document:ba=c.controlTaskCallbacks.getFileDir.document.shift();break;case c.FileType.Image:ba=c.controlTaskCallbacks.getFileDir.image.shift();break;case c.FileType.DataBase:ba=c.controlTaskCallbacks.getFileDir.db.shift();break;}if(ba){try{ba(bb);}catch(bc){}}}function aD(bc){var ba=c.controlTaskCallbacks.getStatusBarColor.shift();if(ba){try{ba(bc.Data.cssColor);}catch(bb){}}}function Y(bc){var ba=c.controlTaskCallbacks.getFormattingPrinter.shift();if(ba){try{ba(bc.Data.printerName);}catch(bb){}}}function ah(bc){var ba=c.controlTaskCallbacks.getInstalledPrinters.shift();if(ba){try{ba(bc.Data.printerNames);}catch(bb){}}}function T(bb){var ba=new CustomEvent("drawingControlInfoReceived",{detail:bb.Data});document.dispatchEvent(ba);}function Z(bd){var bc=bd.Param1;var bb=null;switch(bc){case c.FrameEventType.Sized:bb="frameSized";break;case c.FrameEventType.Moved:bb="frameMoved";break;}if(bb){var ba=new CustomEvent(bb,{detail:bd.Data});document.dispatchEvent(ba);}}function aC(ba){var bb=ba.Param1;var bc=(ba.Param2!==0);switch(bb){case c.SideBarType.TrackChanges:if(c.trackChangesSidebar){if(bc){c.trackChangesSidebar.show();c.arrangeControls();}else{c.trackChangesSidebar.hide();}}break;}}c.createPrivateObject=function(bb){c[bb.Name]=c[bb.Name]||{};for(var ba in bb.Description){c[bb.Name][ba]=bb.Description[ba];}};function a3(){var ba=document.getElementById(c.trialStringInf.id);if(!ba){j();}else{if(!ba.style.display||(ba.style.display!==d.display)){ba.style.display=d.display;}if(!ba.style.position||(ba.style.position!==d.position)){ba.style.position=d.position;}if(ba.style.zIndex){ba.style.zIndex="";}if(!ba.style.left||(ba.style.left!==d.left)){ba.style.left=d.left;}if(!ba.style.top||(ba.style.top!==(d.top+"px"))){ba.style.top=d.top+"px";}if(!ba.style.marginLeft||(ba.style.marginLeft!==(d.marginLeft+"px"))){ba.style.marginLeft=d.marginLeft+"px";}if(!ba.style.width||(ba.style.width!==(d.width+"px"))){ba.style.width=d.width+"px";}if(!ba.style.overflow||(ba.style.overflow!==d.overflow)){ba.style.overflow=d.overflow;}if(!ba.style.opacity||(ba.style.opacity!=d.opacity)){ba.style.opacity=d.opacity;}if(!ba.style.fontSize||(ba.style.fontSize!==(d.fontSize+"pt"))){ba.style.fontSize=d.fontSize+"pt";}if(!ba.style.color||(ba.style.color.replace(/ /g,"")!==d.color)){ba.style.color=d.color;}if(ba.innerHTML!==d.innerHTML){ba.innerHTML=d.innerHTML;}if(ba.style.transform){ba.style.transform="";}if(ba.style.zIndex!==d.zIndex){ba.style.zIndex=d.zIndex;}}}c.generateRandomID=function(bb){if(bb<1){throw new Error("ID must at least be one character long.");}var be="";var bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";var bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_";for(var ba=0;ba<bb;++ba){if(ba==0){be+=bd.charAt(Math.floor(Math.random()*bd.length));}else{be+=bc.charAt(Math.floor(Math.random()*bc.length));}}return be;};function w(ba){var bb=ba.children.length;if(!bb){return null;}return ba.children[Math.floor(Math.random()*bb)];}var d={position:"absolute",display:"block",left:"50%",top:0,marginLeft:0,overflow:"visible",opacity:0.3,width:0,zIndex:1,fontSize:16,color:"rgb(0,0,0)",innerHTML:""};function j(){var ba=c.trialStringInf.color;var bf=(ba.A/255).toFixed(2);d.opacity=bf;var bb=document.createElement("div");bb.textContent=c.trialStringInf.text;bb.style.position=d.position;if(!c.trialStringWDId){bb.style.opacity=0;}else{bb.style.opacity=bf;}d.color="rgb("+ba.R+","+ba.G+","+ba.B+")";bb.style.color=d.color;bb.style.fontFamily=c.trialStringInf.fontFamily;d.fontSize=c.trialStringInf.fontSize;bb.style.fontSize=c.trialStringInf.fontSize+"pt";bb.style.pointerEvents="none";bb.style.zIndex=d.zIndex;bb.style.textAlign="center";bb.style.display=d.display;if(!c.trialStringWDId){bb.style.transition="opacity 2s";}bb.classList.add("unselectable");d.innerHTML=bb.innerHTML;bb.id=c.generateRandomID(10);c.trialStringInf.id=bb.id;var be=document.getElementById("mainCanvas");var bg=document.getElementById("txTemplateDesignerContainer");try{var bd=w(bg);bg.insertBefore(bb,bd);}catch(bc){if(bc instanceof TypeError&&c.trialStringWDId){clearInterval(c.trialStringWDId);return;}}d.top=be.offsetTop+c.trialStringInf.yPos;bb.style.top=d.top+"px";d.width=bb.clientWidth+10;bb.style.width=d.width+"px";d.marginLeft=-(bb.clientWidth/2);bb.style.marginLeft=d.marginLeft+"px";bb.style.left=d.left;if(!c.trialStringWDId){setTimeout(function(){bb.style.opacity=bf;},2000);}if(!c.trialStringWDId){c.trialStringWDId=setInterval(a3,2000);}}c.getCachedImageDataURL=function(be){if(!c.TXImageCache){var bd=localStorage.getItem(c.LocalImageStorageKey);if(!bd){return null;}try{c.TXImageCache=JSON.parse(bd);}catch(bc){console.error("Could not deserialize TX Document Editor image cache: "+bc.message);}}if(!c.TXImageCache){return null;}var bb=c.TXImageCache[be.ImageName];if(!bb){return null;}bb=bb[be.ImageKind];if(!bb){return null;}var ba=be.Culture?be.Culture.replace("-","_"):"invariant";bb=bb[ba];if(!bb){return null;}return bb.dataURL;};c.requestRequiredImages=function(){c.sendCommand(c.Command.GetImagesAsync,0,0,0,c.requiredImages);c.requiredImages=[];};function ab(bc){if((bc==="")||(typeof bc==="undefined")||(bc===null)){throw new TypeError("Missing image data.");}if(bc.length===0){return;}var bb=localStorage.getItem(c.LocalImageStorageKey);if(bb){try{c.TXImageCache=JSON.parse(bb);}catch(ba){console.error("Could not deserialize TX Document Editor image cache: "+ba.message);}localStorage.removeItem(c.LocalImageStorageKey);}c.TXImageCache=c.TXImageCache||{};bc.forEach(be);try{localStorage.setItem(c.LocalImageStorageKey,JSON.stringify(c.TXImageCache));}catch(ba){console.err("Could not store the TX Document Editor image cache in the local storage: "+ba.message);}var bd=document.querySelectorAll("#txTemplateDesignerContainer img[data-tx-image-info]");[].forEach.call(bd,function(bg){var bf=JSON.parse(bg.dataset.txImageInfo);var bh=c.getCachedImageDataURL(bf);if(bh===null){return;}bg.removeAttribute("data-tx-image-info");bg.src=bh;});function be(bh){var bg=c.TXImageCache[bh.imageName]||{};var bj=bg[bh.imageKind]||{};var bf=bh.culture?bh.culture.replace("-","_"):"invariant";var bi=bj[bf]||{};bi.dataURL=bh.dataURL;bj[bf]=bi;bg[bh.imageKind]=bj;c.TXImageCache[bh.imageName]=bg;}}function aL(bd){a5.version=bd.Major+"."+bd.Minor;a5.versionInfo={major:bd.Major,minor:bd.Minor,servicePack:bd.ServicePack};var bb=c.LocalImageStoragePrefix+"_"+bd.Major+"_"+bd.Minor+"_"+bd.ServicePack;c.LocalImageStorageKey=bb;var bc=[];for(var ba=0;ba<localStorage.length;++ba){bc.push(localStorage.key(ba));}bc.forEach(function(be){if(be.startsWith(c.LocalImageStoragePrefix)&&(be!==bb)){localStorage.removeItem(be);}});}c.fileSaveQuestion=function(bc){bc=bc||function(){};if(!c.saveDocumentQuestionEnabled){bc();return;}var bg=c.txDialog?c.txDialog.getActiveViewer():c.textViewer;var bb=c.variousStringResources.SAVE_QUESTION_DIALOG_CAPTION;var bf=c.variousStringResources.SAVE_QUESTION_DIALOG_TEXT;var bh=c.variousStringResources.BTN_YES;var bd=c.variousStringResources.BTN_NO;var ba=c.variousStringResources.BTN_CANCEL;c.documentSavedEventHandlers=[];var be=function(){c.documentSavedEventHandlers.push(bc);c.sendCommand(c.Command.Save);};a(\'<div style="font-size: 10pt; min-width: 250px">\'+bf+"</div>").dialog({modal:true,resizable:false,title:bb,width:"auto",height:130,buttons:{Yes:{text:bh,click:function(){a(this).dialog("destroy").remove();be();if(bg&&!c.isTouchDevice){bg.focus();}}},No:{text:bd,click:function(){a(this).dialog("destroy").remove();bc();if(bg&&!c.isTouchDevice){bg.focus();}}},Cancel:{text:ba,click:function(){a(this).dialog("destroy").remove();if(bg&&!c.isTouchDevice){bg.focus();}}}},close:function(){a(this).dialog("destroy").remove();if(bg&&!c.isTouchDevice){bg.focus();}}});};function aX(ba){var bb=new c.InputBoxDialog(ba.title,ba.text,ba.label,ba.isPasswordBox);bb.showModal();}function aY(ba){var bb=new c.MaxPreviewRowsDialog(ba.value);bb.showModal();}function aU(bc,ba){var bb=new c.EditDataRelationsDialog(bc,ba);bb.showModal();}function aV(ba){var bb=new c.EditMergeBlocksDialog(ba);bb.showModal();}function aZ(bb){var ba=new c.OptionsDialog(bb);ba.showModal();}function a0(bb,bc){var ba=new c.SaveDocumentAsDialog(bb,bc);ba.showModal();}function u(ba){if(c.isTouchDevice){return;}if(c.overlayControls.exist()){return;}var bb=document.getElementById("txTemplateDesignerContainer");if((ba==bb)||(bb.contains(ba))){if((ba.tagName!=="SELECT")&&(ba.tagName!=="INPUT")){c.textViewer.focus();}}}function B(ba){var bb=document.getElementsByClassName("scrollbar-wrapper");for(var bc=0;bc<bb.length;++bc){if(bb[bc].contains(ba)){u(ba);break;}}}function o(bb){try{B(bb.target);b.Left=(bb.which==1);b.Middle=(bb.which==2);b.Right=(bb.which==3);}catch(ba){}}function p(bb){try{if(c.mouseOwner){var bc=c.mouseOwner;c.mouseOwner=null;bc.canvas_MouseMove(bb);c.mouseOwner=bc;}}catch(ba){}}function q(bb){try{if(bb.which==1){b.Left=false;}if(bb.which==2){b.Middle=false;}if(bb.which==3){b.Right=false;}if(c.mouseOwner){var bc=c.mouseOwner;c.mouseOwner=null;bc.canvas_MouseUp(bb);c.mouseOwner=bc;}if(!b.Left&&!b.Middle&&!b.Right){c.mouseOwner=null;}}catch(ba){}}function n(bb){try{u(bb.target);}catch(ba){}}function G(){}function y(ba){switch(ba){case c.TXStreamType.InternalFormat:case c.TXStreamType.InternalUnicodeFormat:case c.TXStreamType.MSWord:case c.TXStreamType.AdobePDF:case c.TXStreamType.WordprocessingML:case c.TXStreamType.AdobePDFA:case c.TXStreamType.SpreadsheetML:return true;}return false;}c.isBinaryStreamType=y;function r(){for(var bb=0;bb<c.documentSavedEventHandlers.length;++bb){var ba=c.documentSavedEventHandlers[bb];ba();}c.documentSavedEventHandlers=[];}function H(ba){ba.preventDefault();}c.webSocketDisconnect=function(){if(!c.socket){return;}if(c.isSocketConnected()){c.socket.removeEventListener("error",a7);c.socket.removeEventListener("close",a6);c.socket.close();}c.socket=null;};function C(ba){try{c.sendCommand(c.Command.Close);c.webSocketDisconnect();}catch(ba){}}c.unsubscribeDocumentAndWindowEvents=function(){};c.jQueryAlert=function(ba,bb,bc){ba=ba||"";bb=bb||"";bb=bb.replace(/\\r?\\n/g,"<br>");bc=typeof bc!=="undefined"?bc:null;a(\'<div style="font-size: 10pt; min-width: 250px">\'+bb+"</div>").dialog({modal:true,resizable:false,title:ba,width:"auto",buttons:{OK:function(){a(this).dialog("destroy").remove();if(bc&&!c.isTouchDevice){bc.focus();}},},close:function(){a(this).dialog("destroy").remove();if(bc&&!c.isTouchDevice){bc.focus();}}});};return a5;}(TXTextControl||{},j$1_10_2));if(typeof randomIntFromInterval!=="function"){randomIntFromInterval=function(b,a){return Math.floor(Math.random()*(a-b+1)+b);};}if(typeof isInteger!=="function"){isInteger=function(a){return(a===+a)&&(a===(a|0));};}if(typeof isCharacter!=="function"){isCharacter=function(a){return typeof a==="string"&&a.length==1;};}if(typeof isArrayOfType!=="function"){isArrayOfType=function(b,a){if(b&&typeof b==="object"&&b.constructor===Array){b.forEach(function(c){if(typeof c!==a){return false;}});return true;}return false;};}!Array.prototype.find&&(Array.prototype.find=function(a){for(var b=0;b<this.length;++b){if(a(this[b],b,this)){return this[b];}}return null;});!Array.prototype.some&&(Array.prototype.some=function(a){return this.find(a)!==null;});if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function(g,a){if(this===null){throw new TypeError(\'"this" is null or not defined\');}var e=Object(this);var c=e.length>>>0;if(c===0){return false;}var d=a|0;var b=Math.max(d>=0?d:c-Math.abs(d),0);function f(h,i){return(h===i)||((typeof h==="number")&&(typeof i==="number")&&isNaN(h)&&isNaN(i));}while(b<c){if(f(e[b],g)){return true;}b++;}return false;}});}!Number.prototype.mod&&(Number.prototype.mod=function(a){return((this%a)+a)%a;});if(!String.prototype.startsWith){Object.defineProperty(String.prototype,"startsWith",{value:function(c,b){var a=b>0?b|0:0;return this.substring(a,a+c.length)===c;}});}if(typeof CustomEvent!=="function"){(function(){function a(b,d){d=d||{bubbles:false,cancelable:false,detail:undefined};var c=document.createEvent("CustomEvent");c.initCustomEvent(b,d.bubbles,d.cancelable,d.detail);return c;}a.prototype=window.CustomEvent.prototype;window.CustomEvent=a;})();}if(typeof cloneObject!=="function"){cloneObject=function(a){return JSON.parse(JSON.stringify(a));};}var TXTextControl=(function(c,a){var b=c._private=c._private||{};b.getHostAndWebSocketHandlerPath=function(){var g="";var e="";if(typeof b.settings!=="undefined"){return b.getHostAndAppVirtPath();}if(typeof b.webControlSettings!=="undefined"){if(b.webControlSettings.webSocketHandlerPath){e=b.webControlSettings.webSocketHandlerPath;}else{return b.getHostAndAppVirtPath();}}var f=window.location.pathname.split("/");f.pop();var d=(f.length===0)?"/":f.join("/")+"/";if(e){if(e.slice(-1)!=="/"){e+="/";}if(e[0]==="/"){g=window.location.host+e;}else{g=window.location.host+d+e;}}else{g=window.location.host+d;}return g;};b.getHostAndAppVirtPath=function(){var h="";var d="";var g=0;if((typeof b.settings!=="undefined")&&b.settings.Port){g=b.settings.Port;}if(typeof b.webControlSettings!=="undefined"){d=b.webControlSettings.appVirtPath;}else{if((typeof b.settings!=="undefined")&&b.settings.IsMVC){d=b.settings.AppVirtualPath;}}if(d){h=window.location.host+d;}else{var f=window.location.pathname.split("/");f.pop();var e=(f.length===0)?"/":f.join("/")+"/";h=(g?(window.location.hostname+":"+g):window.location.host)+e;}return h;};b.getWebSocketHandlerURL=function(){var f={path:"",query:"",url:""};if(b.settings&&b.settings.WebSocketURL){f.url=b.settings.WebSocketURL;}else{var e=b.isSSLConnection?"wss://":"ws://";var d=b.getHostAndWebSocketHandlerPath();if((typeof b.settings!=="undefined")){if(b.settings.IsMVC){f.url=e+d+b.settings.ApiRoute+"TXWebSocket";}else{d=e+d;f.url=d.substring(0,d.length-1)+b.settings.WebSocketPath;}}else{f.url=e+d+"TXWebSocketHandler.ashx";}}f.path=f.url;return f;};a(document).ready(function(){b.init();});return c;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(g,a){var c=g._private=g._private||{};c.secretAPIEnabled=false;c.documentTaskCallbacks={getTextParts:[],getTextFields:[],getSubTextParts:[],addSubTextPart:[],removeSubTextPart:[]};c.selectionTaskCallbacks={save:[],getBounds:[],getCulture:[]};c.controlTaskCallbacks={getFileDir:{document:[],db:[],image:[]},getStatusBarColor:[],getFormattingPrinter:[],getInstalledPrinters:[]};c.ErrorText=Object.freeze({NoStreamType:"No TXTextControl stream type given.",NoDocumentData:"No document data given.",TooFewParameters:"Wrong number of parameters.",CallBackIsNoFunction:\'Parameter "callback" must be of type "function".\',ErrorCallBackIsNoFunction:\'Parameter "errorCallback" must be of type "function".\',ParamInvalid:"Parameter is invalid.",ParamUndefined:"Parameter is undefined.",ParamNotANumber:"Parameter is not a number.",ParamNotAnInteger:"Parameter is not an integer.",ParamNotAString:"Parameter is not a string.",ParamNotACharacter:"Parameter is not a string of length 1.",ParamNotBoolean:"Parameter is not of type boolean.",ParamNotATableAddPosition:"Parameter is not a TableAddPosition.",ParamNotAnArray:"Parameter is not an array.",ParamNotArrayOfStrings:"Parameter is not an array with elements of type string.",FileTypeIsNotNumeric:\'Parameter "fileType" must be a numeric value.\',InvalidHexColorString:" is not a valid hex color string.",InvalidColorString:" is not a valid color string.",RibbonTabDoesNotExist:"The requested ribbon tab does not exist or is not selectable at the moment.",TextFieldParamTypeError:\'Parameter "textField" cannot be omitted and must be of type TXTextControl.ApplicationField or TXTextControl.TextField.\',TrackedChangeParamTypeError:\'Parameter "trackedChange" cannot be omitted and must be of type TrackedChange.\',});var b=true;g.StreamType=g.streamType=c.TXStreamType;g.EditMode=c.EditMode;g.FileType=c.FileType;g.ClipboardMode=c.ClipboardMode;g.HighlightMode=c.HighlightMode;g.Color=c.Color;g.Direction=c.Direction;g.Justification=c.Justification;g.TabType=c.TabType;g.FieldType=c.FieldType;g.FindOptions=c.FindOptions;g.FontUnderlineStyle=c.FontUnderlineStyle;g.Frame=c.Frame;g.FrameStyle=c.FrameStyle;g.MergeFieldTextFormat=c.MergeFieldTextFormat;g.IfField=c.IfField;g.ListType=c.ListType;g.MeasuringUnit=c.MeasuringUnit;g.NumberFormat=c.NumberFormat;g.RelationalOperator=c.RelationalOperator;g.SpecialZoomFactor=c.SpecialZoomFactor;g.ImageInsertionMode=c.ImageInsertionMode;g.HorizontalAlignment=c.HorizontalAlignment;g.VerticalAlignment=c.VerticalAlignment;g.TextType=c.TextType;g.TextFrameInsertionMode=c.TextFrameInsertionMode;g.SideBarType=c.SideBarType;g.AddResult=c.AddResult;g.SectionBreakKind=c.SectionBreakKind;g.TableAddPosition=c.TableAddPosition;g.ActivationState=c.ActivationState;g.PermanentControlChar=c.PermanentControlChar;g.ScrollPosition=c.ScrollPosition;g.ChangeKind=c.ChangeKind;g.ViewMode=c.ViewMode;g.FormulaReferenceStyle=c.FormulaReferenceStyle;g.BarcodeType=c.BarcodeType;g.FrameInsertionMode=c.FrameInsertionMode;g.MisspelledWordKind=c.MisspelledWordKind;g.ImageFormat=c.ImageFormat;g.BarcodeAlignment=c.BarcodeAlignment;g.BarcodeTextAlignment=c.BarcodeTextAlignment;g.ZOrder=c.ZOrder;g.SubTextPartCollection={AddResult:c.SubTextPartCollection.AddResult};g.ControlChars=c.ControlChars;g.ApplicationFieldFormat=c.ApplicationFieldFormat;g.HeaderFooterType=c.HeaderFooterType;g.ListFormatCharacter=c.ListFormatCharacter;g.TabLeader=c.TabLeader;g.AutoGenerationType=c.AutoGenerationType;g.InlineStyle=Object.freeze({Attributes:c.InlineStyle.Attributes});g.InputPosition=Object.freeze({ScrollPosition:c.InputPosition.ScrollPosition});g.ParagraphFormat=Object.freeze({Attribute:c.ParagraphFormat.Attribute});g.Selection=Object.freeze({Attribute:c.Selection.Attribute});g.ListFormat=Object.freeze({Attribute:c.ListFormat.Attribute});g.SectionFormat=Object.freeze({Attribute:c.SectionFormat.Attribute});g.PageMargins=Object.freeze({Attribute:c.PageMargins.Attribute});g.PageSize=Object.freeze({Attribute:c.PageSize.Attribute});g.PageBorder=Object.freeze({Attribute:c.PageBorder.Attribute});g.ApplicationField=c.LegacyApplicationField;g.IncludeTextField=c.IncludeTextField;g.TextField=c.LegacyTextField;g.DateField=c.DateField;g.MergeField=c.MergeField;g.NextIfField=c.NextIfField;g.NextField=c.NextField;g.SaveSettings=c.SaveSettings;g.LoadSettings=c.LoadSettings;var e=new c.TextControl();c.textControl=e;g.displayColors=e.displayColors;g.inputFormat=e.inputFormat;g.sections=e.sections;g.tables=e.tables;g.textFields=e.textFields;g.applicationFields=e.applicationFields;g.trackedChanges=e.trackedChanges;g.listFormat=e.listFormat;g.pageMargins=e.pageMargins;g.pageSize=e.pageSize;g.paragraphFormat=e.paragraphFormat;g.documentTargets=e.documentTargets;g.documentLinks=e.documentLinks;g.barcodes=e.barcodes;g.images=e.images;g.editableRegions=e.editableRegions;g.hypertextLinks=e.hypertextLinks;g.lines=e.lines;g.misspelledWords=e.misspelledWords;g.paragraphs=e.paragraphs;g.textFrames=e.textFrames;g.frames=e.frames;g.formFields=e.formFields;g.subTextParts=e.subTextParts;g.textChars=e.textChars;g.headersAndFooters=e.headersAndFooters;g.pages=e.pages;g.inlineStyles=e.inlineStyles;g.paragraphStyles=e.paragraphStyles;g.inputPosition=e.inputPosition;g.textParts=e.textParts;g.tablesOfContents=e.tablesOfContents;g.documentSettings=e.documentSettings;g.setActivationState=e.setActivationState.bind(e);g.setAllowUndo=e.setAllowUndo.bind(e);g.setBackColor=e.setBackColor.bind(e);g.setBaseline=e.setBaseline.bind(e);g.setControlChars=e.setControlChars.bind(e);g.setDocumentTargetMarkers=e.setDocumentTargetMarkers.bind(e);g.setDrawingMarkerLines=e.setDrawingMarkerLines.bind(e);g.setEditMode=e.setEditMode.bind(e);g.setIsTrackChangesEnabled=e.setIsTrackChangesEnabled.bind(e);g.setPermanentControlChars=e.setPermanentControlChars.bind(e);g.setSelectObjects=e.setSelectObjects.bind(e);g.setTextFrameMarkerLines=e.setTextFrameMarkerLines.bind(e);g.setViewMode=e.setViewMode.bind(e);g.setFontUnderlineStyle=e.setFontUnderlineStyle.bind(e);g.setFormulaReferenceStyle=e.setFormulaReferenceStyle.bind(e);g.setLandscape=e.setLandscape.bind(e);g.setPageUnit=e.setPageUnit.bind(e);g.setText=e.setText.bind(e);g.setTextBackColor=e.setTextBackColor.bind(e);g.setIsFormulaCalculationEnabled=e.setIsFormulaCalculationEnabled.bind(e);g.setIsHyphenationEnabled=e.setIsHyphenationEnabled.bind(e);g.setIsLanguageDetectionEnabled=e.setIsLanguageDetectionEnabled.bind(e);g.setIsSpellCheckingEnabled=e.setIsSpellCheckingEnabled.bind(e);g.getActivationState=e.getActivationState.bind(e);g.getAllowUndo=e.getAllowUndo.bind(e);g.getBaseline=e.getBaseline.bind(e);g.getBackColor=e.getBackColor.bind(e);g.getCanCharacterFormat=e.getCanCharacterFormat.bind(e);g.getCanCopy=e.getCanCopy.bind(e);g.getCanDocumentFormat=e.getCanDocumentFormat.bind(e);g.getCanPaste=e.getCanPaste.bind(e);g.getCanPrint=e.getCanPrint.bind(e);g.getCanRedo=e.getCanRedo.bind(e);g.getCanStyleFormat=e.getCanStyleFormat.bind(e);g.getCanTableFormat=e.getCanTableFormat.bind(e);g.getCanUndo=e.getCanUndo.bind(e);g.getControlChars=e.getControlChars.bind(e);g.getDocumentTargetMarkers=e.getDocumentTargetMarkers.bind(e);g.getDrawingMarkerLines=e.getDrawingMarkerLines.bind(e);g.getEditMode=e.getEditMode.bind(e);g.getIsTrackChangesEnabled=e.getIsTrackChangesEnabled.bind(e);g.getPageCount=e.getPageCount.bind(e);g.getPermanentControlChars=e.getPermanentControlChars.bind(e);g.getRedoActionName=e.getRedoActionName.bind(e);g.getSelectObjects=e.getSelectObjects.bind(e);g.getTextFrameMarkerLines=e.getTextFrameMarkerLines.bind(e);g.getUndoActionName=e.getUndoActionName.bind(e);g.getUserNames=e.getUserNames.bind(e);g.getViewMode=e.getViewMode.bind(e);g.getFontUnderlineStyle=e.getFontUnderlineStyle.bind(e);g.getFormulaReferenceStyle=e.getFormulaReferenceStyle.bind(e);g.getLandscape=e.getLandscape.bind(e);g.getPageUnit=e.getPageUnit.bind(e);g.getText=e.getText.bind(e);g.getTextBackColor=e.getTextBackColor.bind(e);g.getIsFormulaCalculationEnabled=e.getIsFormulaCalculationEnabled.bind(e);g.getIsHyphenationEnabled=e.getIsHyphenationEnabled.bind(e);g.getIsLanguageDetectionEnabled=e.getIsLanguageDetectionEnabled.bind(e);g.getIsSpellCheckingEnabled=e.getIsSpellCheckingEnabled.bind(e);g.zoom=e.zoom.bind(e);g.undo=e.undo.bind(e);g.redo=e.redo.bind(e);g.clear=e.clear.bind(e);g.resetContents=e.resetContents.bind(e);g.find=e.find.bind(e);g.getSupportedFonts=e.getSupportedFonts.bind(e);g.select=e.select.bind(e);g.selectAll=e.selectAll.bind(e);g.selectWord=e.selectWord.bind(e);g.getSupportedPaperSizes=e.getSupportedPaperSizes.bind(e);g.load=e.load.bind(e);g.save=e.save.bind(e);g.refreshLayout=function(){try{c.adaptViewToContainerSize();}catch(h){}};g.loadDocument=function(streamType,h,callback,loadSettings,errorCallback){return e.load(streamType,h,callback,loadSettings,errorCallback);};g.saveDocument=function(streamType,callback,saveSettings,errorCallback){return e.save(streamType,callback,saveSettings,errorCallback);};g.appendDocument=function(streamType,base64Data){if(!streamType){throw new Error(c.ErrorText.NoStreamType);}if(!base64Data){throw new Error(c.ErrorText.NoDocumentData);}c.sendCommand(c.Command.AppendDocumentFile,0,streamType,1,base64Data);};g.loadSelection=function(streamType,base64Data){e.selection.load(streamType,base64Data);};g.saveSelection=function(streamType,callback){e.selection.save(streamType,callback);};g.getTextParts=function(callback,atInputPosition){atInputPosition=atInputPosition||false;if(!callback){throw new Error(c.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(c.ErrorText.CallBackIsNoFunction);}c.documentTaskCallbacks.getTextParts.push(callback);var h=atInputPosition?c.TextPartCommand.GetItem:c.TextPartCommand.GetAll;c.sendCommand(c.Command.ClientTextPart,h);};g.getTextFields=function(callback,atInputPosition){if(!callback){throw new Error(c.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(c.ErrorText.CallBackIsNoFunction);}c.documentTaskCallbacks.getTextFields.push(callback);var h=atInputPosition?c.TextFieldCommand.GetItem:c.TextFieldCommand.GetAll;c.sendCommand(c.Command.ClientTextField,h);};g.addTextField=function(textField){if(!textField||((textField.constructor!==c.LegacyApplicationField)&&(textField.constructor!==c.LegacyTextField))){throw new TypeError(c.ErrorText.TextFieldParamTypeError);}c.sendCommand(c.Command.ClientTextField,c.TextFieldCommand.Add,0,0,{textField:textField._field});};g.addMergeField=function(mergeField){var i=null,h=-1;if((mergeField===null)||(typeof mergeField==="undefined")){throw new TypeError(\'Please provide "mergeField" parameter.\');}if(mergeField.constructor===g.MergeField){h=g.FieldType.MergeField;}else{if(mergeField.constructor===g.IfField){h=g.FieldType.IfField;}else{if(mergeField.constructor===g.IncludeTextField){h=g.FieldType.IncludeTextField;}else{if(mergeField.constructor===g.DateField){h=g.FieldType.DateField;}else{if(mergeField.constructor===g.NextField){h=g.FieldType.NextField;}else{if(mergeField.constructor===g.NextIfField){h=g.FieldType.NextIfField;}else{throw new TypeError(\'Parameter "mergeField" must be one of the known merge field types (e. g. TXTextControl.MergeField or TXTextControl.DateField).\');}}}}}}if(h!==-1){i=mergeField.toPascalCase();}if(i){c.sendCommand(c.Command.InsertItem,c.ItemType.FieldAdapter,h,0,i);}};g.showMergeFieldDialog=function(fieldType){var h;if(typeof fieldType==="undefined"){if(c.currentFieldData){c.showFieldDialog(c.currentFieldData.fieldAdapter,c.currentFieldData.mergeFieldType);}return;}if(!isInteger(fieldType)){throw new TypeError(\'Parameter "fieldType" must be one of the values defined in TXTextControl.FieldType.\');}switch(fieldType){case g.FieldType.MergeField:var i=new c.MergeField();h=new c.MergeFieldDialog(i.toPascalCase());break;case g.FieldType.IfField:h=new c.IfFieldDialog();break;case g.FieldType.IncludeTextField:h=new c.IncludeTextFieldDialog();break;case g.FieldType.DateField:h=new c.DateFieldDialog();break;case g.FieldType.NextField:c.sendCommand(c.Command.InsertItem,c.ItemType.FieldAdapter,c.FieldType.NextField);break;case g.FieldType.NextIfField:h=new c.NextIfFieldDialog();break;default:console.error("Unknown merge field type.");break;}if(h){h.showModal();}};g.removeTextField=function(textField,keepText){keepText=!!keepText;if(!textField||((textField.constructor!==c.LegacyApplicationField)&&(textField.constructor!==c.LegacyTextField))){throw new TypeError(c.ErrorText.TextFieldParamTypeError);}c.sendCommand(c.Command.ClientTextField,c.TextFieldCommand.Remove,0,0,{textField:textField._field,keepText:keepText});};g.getSubTextParts=function(callback,atInputPosition){if(!callback){throw new Error(c.ErrorText.TooFewParameters);}if(typeof callback!=="function"){throw new TypeError(c.ErrorText.CallBackIsNoFunction);}c.documentTaskCallbacks.getSubTextParts.push(callback);var h=atInputPosition?c.SubTextPartCommand.GetItem:c.SubTextPartCommand.GetAll;c.sendCommand(c.Command.ClientSubTextPart,h);};g.focus=function(){if(c.textViewer){c.textViewer.focus();}};g.removeFromDom=function(){try{c.sendCommand(c.Command.Close);c.webSocketDisconnect();c.unsubscribeDocumentAndWindowEvents();var i=document.getElementById("txTemplateDesignerContainer");i.parentElement.removeChild(i);TXTextControl=undefined;}catch(h){}};g.loadXMLDatabase=function(xmlData){if(!xmlData){throw new Error(c.ErrorText.TooFewParameters);}if(typeof xmlData!=="string"){throw new TypeError(c.ErrorText.ParamNotAString);}c.sendCommand(c.Command.OpenFile,c.FileType.DataBase,c.DataBaseType.XML,1,xmlData);};g.loadJsonData=function(h){if(!h){throw new Error(c.ErrorText.TooFewParameters);}if(typeof h!=="string"){throw new TypeError(c.ErrorText.ParamNotAString);}c.sendCommand(c.Command.OpenFile,c.FileType.DataBase,c.DataBaseType.JSON,1,h);};g.getFileDirectory=function(fileType,callback){if(!callback){throw new Error(c.ErrorText.TooFewParameters);}if(typeof fileType!=="number"){throw new TypeError(c.ErrorText.FileTypeIsNotNumeric);}if(typeof callback!=="function"){throw new TypeError(c.ErrorText.CallBackIsNoFunction);}switch(fileType){case c.FileType.Document:c.controlTaskCallbacks.getFileDir.document.push(callback);break;case c.FileType.Image:c.controlTaskCallbacks.getFileDir.image.push(callback);break;case c.FileType.DataBase:c.controlTaskCallbacks.getFileDir.db.push(callback);break;}c.sendCommand(c.Command.GetFileDirectory,fileType);};g.setFileDirectory=function(fileType,directory){if(!directory){throw new Error(c.ErrorText.TooFewParameters);}if(typeof fileType!=="number"){throw new TypeError(c.ErrorText.FileTypeIsNotNumeric);}if(typeof directory!=="string"){throw new TypeError(c.ErrorText.ParamNotAString);}c.sendCommand(c.Command.SetFileDirectory,fileType,0,0,directory);};g.getCultures=function(){return c.getCultures();};function d(h){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(h);}c.isValidHexColor=d;function f(h){if(!d(h)){throw new Error(\'"\'+h+\'"\'+c.ErrorText.InvalidHexColorString);}var i={R:127,G:127,B:127};if(h.length==4){i.R=parseInt(h.charAt(1),16)*17;i.G=parseInt(h.charAt(2),16)*17;i.B=parseInt(h.charAt(3),16)*17;}else{if(h.length==7){i.R=parseInt(h.substr(1,2),16);i.G=parseInt(h.substr(3,2),16);i.B=parseInt(h.substr(5,2),16);}}return i;}g.setStatusBarColor=function(hexColor){if(typeof hexColor!=="string"){throw new TypeError(c.ErrorText.ParamNotAString);}var h=f(hexColor);c.sendCommand(c.Command.StatusBarColor,0,0,0,h);};g.getStatusBarColor=function(callback){if(typeof callback!=="function"){throw new TypeError(c.ErrorText.CallBackIsNoFunction);}c.controlTaskCallbacks.getStatusBarColor.push(callback);c.sendCommand(c.Command.StatusBarColor);};g.setFormattingPrinter=function(printerName){if(typeof printerName!=="string"){throw new TypeError(c.ErrorText.ParamNotAString);}c.sendCommand(c.Command.ClientSetFormattingPrinter,0,0,0,printerName);};g.getFormattingPrinter=function(callback){if(typeof callback!=="function"){throw new TypeError(c.ErrorText.CallBackIsNoFunction);}c.controlTaskCallbacks.getFormattingPrinter.push(callback);c.sendCommand(c.Command.ClientGetFormattingPrinter);};g.getInstalledPrinters=function(callback){if(typeof callback!=="function"){throw new TypeError(c.ErrorText.CallBackIsNoFunction);}c.controlTaskCallbacks.getInstalledPrinters.push(callback);c.sendCommand(c.Command.ClientGetInstalledPrinters);};g.showVerticalRuler=c.showVerticalRuler;g.showHorizontalRuler=c.showHorizontalRuler;g.showStatusBar=c.showStatusBar;g.showRibbonBar=c.showRibbonBar;g.showSideBar=c.showSideBar;g.printDocument=c.print;Object.defineProperty(g,"selection",{get:function(){return e.selection;},set:function(bounds){e.selection.setBounds(bounds);},enumerable:true});Object.defineProperty(g,"isLoadingDialogEnabled",{get:function(){return b;},set:function(enabled){if(typeof enabled!=="boolean"){return;}b=enabled;c.sendCommand(c.Command.EnableLoadWaitDialog,enabled?1:0);},enumerable:true});Object.defineProperty(g,"editMode",{get:function(){return c.editModeCur;},set:function(editMode){if(typeof editMode!=="number"){return;}c.sendCommand(c.Command.EditMode,editMode);},enumerable:true});Object.defineProperty(g,"controlChars",{get:function(){return c.controlChars;},set:function(controlChars){if(typeof controlChars!=="boolean"){throw new TypeError(c.ErrorText.ParamNotBoolean);}c.sendCommand(c.Command.DisplayVisualElement,c.VisualElement.ControlChars,controlChars?1:0);},enumerable:true});Object.defineProperty(g,"tableGridLines",{get:function(){return c.tableGridLines;},set:function(tableGridLines){if(typeof tableGridLines!=="boolean"){throw new TypeError(c.ErrorText.ParamNotBoolean);}c.sendCommand(c.Command.DisplayVisualElement,c.VisualElement.TableGridLines,tableGridLines?1:0);},enumerable:true});Object.defineProperty(g,"documentTargetMarkers",{get:function(){return c.documentTargetMarkers;},set:function(documentTargetMarkers){if(typeof documentTargetMarkers!=="boolean"){throw new TypeError(c.ErrorText.ParamNotBoolean);}c.sendCommand(c.Command.DisplayVisualElement,c.VisualElement.BookmarkMarkers,documentTargetMarkers?1:0);},enumerable:true});Object.defineProperty(g,"textFrameMarkerLines",{get:function(){return c.textFrameMarkerLines;},set:function(textFrameMarkerLines){if(typeof textFrameMarkerLines!=="boolean"){throw new TypeError(c.ErrorText.ParamNotBoolean);}c.sendCommand(c.Command.DisplayVisualElement,c.VisualElement.TextFrameMarkerLines,textFrameMarkerLines?1:0);},enumerable:true});Object.defineProperty(g,"contextMenusEnabled",{get:function(){return c.contextMenusEnabled;},set:function(contextMenusEnabled){if(typeof contextMenusEnabled!=="boolean"){throw new TypeError(c.ErrorText.ParamNotBoolean);}c.sendCommand(c.Command.ContextMenusEnabled,contextMenusEnabled?1:0);},enumerable:true});Object.defineProperty(g,"saveDocumentQuestionDialogEnabled",{get:function(){return c.saveDocumentQuestionEnabled;},set:function(isEnabled){if(typeof isEnabled!=="boolean"){throw new TypeError(c.ErrorText.ParamNotBoolean);}c.saveDocumentQuestionEnabled=isEnabled;},enumerable:true});Object.defineProperty(g,"textFieldsEditable",{get:function(){return c.textFieldsEditable;},set:function(textFieldsEditable){if(typeof textFieldsEditable!=="boolean"){throw new TypeError(c.ErrorText.ParamNotBoolean);}c.sendCommand(c.Command.SetTextFieldsEditable,textFieldsEditable?1:0);},enumerable:true});Object.defineProperty(g,"ribbon",{get:function(){return new c.Ribbon();},enumerable:true});Object.defineProperty(g,"isSpellCheckingEnabled",{get:function(){return c.proofingSettings?c.proofingSettings.isSpellCheckingEnabled:false;},set:function(enabled){c.sendCommand(c.Command.EnableSpellChecking,enabled?1:0);},enumerable:true});Object.defineProperty(g,"isHyphenationEnabled",{get:function(){return c.proofingSettings?c.proofingSettings.isHyphenationEnabled:false;},set:function(enabled){c.sendCommand(c.Command.EnableHyphenation,enabled?1:0);},enumerable:true});Object.defineProperty(g,"isLanguageDetectionEnabled",{get:function(){return c.proofingSettings?c.proofingSettings.isLangDetectEnabled:false;},set:function(enabled){c.sendCommand(c.Command.EnableLangDetect,enabled?1:0);},enumerable:true});Object.defineProperty(g,"isTrackChangesEnabled",{get:function(){return c.isTrackChangesEnabled;},set:function(enabled){c.sendCommand(c.Command.TrackChangesEnabledState,enabled?1:0);},enumerable:true});Object.defineProperty(g,"clipboardMode",{get:function(){return c.clipboardMode;},set:function(clipboardMode){c.sendCommand(c.Command.ClipboardMode,clipboardMode);},enumerable:true});Object.defineProperty(g,"zoomFactor",{get:function(){return c.zoom;},set:function(zoomFactor){if(zoomFactor===undefined){throw new Error(\'Parameter "zoomFactor" is undefined.\');}if((typeof zoomFactor!=="number")||((zoomFactor<10)&&(zoomFactor>-1))||(zoomFactor<-3)){throw new TypeError("Zoom factor must be a positive number >= 10 or one of the special zoom factor values defined in TXTextControl.SpecialZoomFactor.");}zoomFactor=Math.round(zoomFactor);c.sendCommand(c.Command.Zoom,zoomFactor);},enumerable:true});g.enableCommands=function(silent){g.WebSocket=c.socket;if(c.secretAPIEnabled){return;}g.sendCommand=c.sendCommand;g.Command=c.Command;g.VisualElement=c.VisualElement;g.ItemType=c.ItemType;g.DialogCategory=c.DialogCategory;g.HTMLDialogType=c.HTMLDialogType;g.TXDialogType=c.TXDialogType;g.BreakType=c.BreakType;g.ComponentType=c.ComponentType;g.ActivationState=c.ActivationState;g.FieldDisplayMode=c.FieldDisplayMode;g.SpellCheckDialogCommand=c.SpellCheckDialogCommand;g.SelectionCommand=c.SelectionCommand;g.TextPartCommand=c.TextPartCommand;g.TextFrameProperty=c.TextFrameProperty;g.showCenteredMessage=c.showMsgDiv;g.ChartTemplateType=c.ChartTemplateType;g.FrameProperty=c.FrameProperty;g.VerticalAlignment=c.VerticalAlignment;g.SectionFormatDialogTab=c.SectionFormatDialogTab;g.TableCommand=c.TableCommand;g.TableElement=c.TableElement;g.MailMergeNavButton={First:0,Previous:1,Next:2,Last:3,};g.insertMergeField=function(i){var h={Name:i,Text:""+i+""};c.sendCommand(c.Command.InsertItem,c.ItemType.FieldAdapter,c.FieldType.MergeField,0,h);};g.insertMergeBlock=function(h){h=JSON.stringify(h);c.sendCommand(c.Command.InsertItem,c.ItemType.MergeBlock,0,0,h);};if(!silent){console.warn(\'Undocumented and unsupported TextControl API activated. Use at your own risk. Call this function with the parameter "true" if you don\\\'t want to see this message.\');}c.secretAPIEnabled=true;};return g;}(TXTextControl||{},j$1_10_2));var TXTextControl=(function(f,a){var b=f._private=f._private||{};b.InputFormatEvents=Object.freeze(["allFrameLinesChanged","boldChanged","bottomAlignedChanged","bottomDistanceChanged","bottomFrameLineChanged","boxFrameChanged","bulletCharacterChanged","bulletedListChanged","centeredChanged","fontFamilyChanged","fontSizeChanged","frameFillColorChanged","frameLineColorChanged","frameLineWidthChanged","hangingIndentChanged","innerHorizontalFrameLinesChanged","innerVerticalFrameLinesChanged","italicChanged","justifiedChanged","leftAlignedChanged","leftFrameLineChanged","leftIndentChanged","leftToRightChanged","lineSpacingChanged","numberedListChanged","numberedListFormatChanged","numberFormatChanged","numberTextTypeChanged","rightAlignedChanged","rightFrameLineChanged","rightIndentChanged","rightToLeftChanged","standardTextTypeChanged","strikeoutChanged","structuredListChanged","structuredListFormatChanged","styleNameChanged","styleNamesChanged","subscriptChanged","superscriptChanged","textBackColorChanged","textColorChanged","topAlignedChanged","topDistanceChanged","topFrameLineChanged","underlineChanged","underlineStyleChanged","verticallyCenteredChanged"]);b.TextViewGeneratorEvents=Object.freeze(["barcodeCreated","barcodeDeleted","barcodeDeselected","barcodeSelected","cannotTrackChange","changed","charFormatChanged","chartCreated","chartDeleted","chartDeselected","chartSelected","contentsReset","documentLinkClicked","documentSizeChanged","drawingActivated","drawingCreated","drawingDeactivated","drawingDeleted","drawingDeselected","drawingSelected","editableRegionCreated","editableRegionDeleted","editableRegionEntered","editableRegionLeft","frameDeselected","frameMoved","frameSelected","frameSized","headerFooterActivated","headerFooterDeactivated","hypertextLinkClicked","hyphenateWord","imageCreated","imageDeleted","imageDeselected","imageSelected","inputParagraphChanged","mainTextActivated","pageFormatChanged","paragraphFormatChanged","removeCombobox","spellCheckText","subTextPartCreated","subTextPartDeleted","subTextPartEntered","subTextPartLeft","subTextPartClicked","subTextPartDoubleClicked","tableCreated","tableDeleted","tableOfContentsCreated","tableOfContentsDeleted","tableOfContentsLeft","tableOfContentsEntered","textFieldEntered","textFieldLeft","textFieldClicked","textFrameActivated","textFrameCreated","textFrameDeactivated","textFrameDeleted","textFrameDeselected","textFrameSelected","trackedChangeChanged","trackedChangeCreated","trackedChangeDeleted","trackedChangeStateChanged"]);var e=Object.freeze({Subscribe:0,Unsubscribe:1,});b.EventCategory=Object.freeze({TextViewGenerator:0,InputFormat:1});b.subscribeToEvent=function(h,g){if(c(g,h)){d(e.Subscribe,h,g);return true;}return false;};b.unsubscribeFromEvent=function(h,g){if(c(g,h)){d(e.Unsubscribe,h,g);return true;}return false;};function c(h,i){var g;switch(h){case b.EventCategory.TextViewGenerator:g=b.TextViewGeneratorEvents;break;case b.EventCategory.InputFormat:g=b.InputFormatEvents;break;default:throw new Error("Unsupported event.");}return g.indexOf(i)>=0;}function d(g,i,h){if(typeof g!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(typeof i!=="string"){throw new TypeError(b.ErrorText.ParamNotAString);}if(typeof h!=="number"){throw new TypeError(b.ErrorText.ParamNotANumber);}if(!b.isSocketConnected()){throw new Error("WebSocket connection has not been established yet. Attach TextControl event handlers in the \'textControlLoaded\' event or later.");}b.sendCommand(b.Command.TextControlEvent,g,0,h,i);}return f;}(TXTextControl||{},j$1_10_2));';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHgtbWluLWpzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdHgtbmctZG9jdW1lbnQtZWRpdG9yL3NyYy9saWIvZG9jdW1lbnQtZWRpdG9yL3R4LW1pbi1qcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQVcscXQ3cEJBQXF0N3BCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgVFhfSlM6IHN0cmluZyA9ICd2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuQnJvd3NlckRldGVjdD17aW5pdDpmdW5jdGlvbigpe3RoaXMudXNlckFnZW50PW5hdmlnYXRvci51c2VyQWdlbnQ7dGhpcy5hcHBWZXJzaW9uPW5hdmlnYXRvci5hcHBWZXJzaW9uO3RoaXMuYnJvd3Nlcj10aGlzLnNlYXJjaFN0cmluZyh0aGlzLmRhdGFCcm93c2VyKXx8XCJPdGhlclwiO3RoaXMudmVyc2lvbj10aGlzLnNlYXJjaFZlcnNpb24odGhpcy51c2VyQWdlbnQpfHx0aGlzLnNlYXJjaFZlcnNpb24odGhpcy5hcHBWZXJzaW9uKXx8XCJVbmtub3duXCI7fSxzZWFyY2hTdHJpbmc6ZnVuY3Rpb24oZCl7Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3RoaXMudmVyc2lvblNlYXJjaFN0cmluZz1kW2VdLnN1YlN0cmluZztpZih0aGlzLnVzZXJBZ2VudC5pbmRleE9mKGRbZV0uc3ViU3RyaW5nKSE9LTEpe3JldHVybiBkW2VdLmlkZW50aXR5O319fSxzZWFyY2hWZXJzaW9uOmZ1bmN0aW9uKGQpe3ZhciBlPWQuaW5kZXhPZih0aGlzLnZlcnNpb25TZWFyY2hTdHJpbmcpO2lmKGU9PS0xKXtyZXR1cm47fXJldHVybiBwYXJzZUZsb2F0KGQuc3Vic3RyaW5nKGUrdGhpcy52ZXJzaW9uU2VhcmNoU3RyaW5nLmxlbmd0aCsxKSk7fSxkYXRhQnJvd3Nlcjpbe3N1YlN0cmluZzpcIkVkZ2VcIixpZGVudGl0eTpcIkVkZ2VcIn0se3N1YlN0cmluZzpcIkNocm9tZVwiLGlkZW50aXR5OlwiQ2hyb21lXCJ9LHtzdWJTdHJpbmc6XCJGaXJlZm94XCIsaWRlbnRpdHk6XCJGaXJlZm94XCJ9LHtzdWJTdHJpbmc6XCJTYWZhcmlcIixpZGVudGl0eTpcIlNhZmFyaVwifSx7c3ViU3RyaW5nOlwiT3BlcmFcIixpZGVudGl0eTpcIk9wZXJhXCJ9LHtzdWJTdHJpbmc6XCJNU0lFXCIsaWRlbnRpdHk6XCJFeHBsb3JlclwifSx7c3ViU3RyaW5nOlwicnY6MTEuMFwiLGlkZW50aXR5OlwiRXhwbG9yZXJcIn0se3N1YlN0cmluZzpcIlRyaWRlbnQvXCIsaWRlbnRpdHk6XCJFeHBsb3JlclwifSxdfTtiLkJyb3dzZXJEZXRlY3QuaW5pdCgpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oayxhKXt2YXIgYj1rLl9wcml2YXRlPWsuX3ByaXZhdGV8fHt9O3ZhciBoPU1hdGgubG9nO3ZhciBnPU1hdGguTE4yO3ZhciBlPU1hdGguY2x6MzJ8fGZ1bmN0aW9uKGwpe3JldHVybiAzMS1oKGw+Pj4wKS9nfDA7fTt2YXIgZj1TdHJpbmcuZnJvbUNoYXJDb2RlO3ZhciBpPWF0b2I7dmFyIGo9YnRvYTtmdW5jdGlvbiBkKG0pe3ZhciBuPW0uY2hhckNvZGVBdCgwKTtpZihuPj01NTI5NiYmbjw9NTYzMTkpe3ZhciBsPW0uY2hhckNvZGVBdCgxKTtpZihsIT09bCl7cmV0dXJuIGYoMjM5LDE5MSwxODkpO31pZihsPj01NjMyMCYmbDw9NTczNDMpe249KG4tNTUyOTYpKjEwMjQrbC01NjMyMCs2NTUzNjtpZihuPjY1NTM1KXtyZXR1cm4gZigoMzA8PDMpfChuPj4+MTgpLCgyPDw2KXwoKG4+Pj4xMikmNjMpLCgyPDw2KXwoKG4+Pj42KSY2MyksKDI8PDYpfChuJjYzKSk7fX1lbHNle3JldHVybiBmKDIzOSwxOTEsMTg5KTt9fWlmKG48PTEyNyl7cmV0dXJuIG47fWVsc2V7aWYobjw9MjA0Nyl7cmV0dXJuIGYoKDY8PDUpfChuPj4+NiksKDI8PDYpfChuJjYzKSk7fWVsc2V7cmV0dXJuIGYoKDE0PDw0KXwobj4+PjEyKSwoMjw8Nil8KChuPj4+NikmNjMpLCgyPDw2KXwobiY2MykpO319fWsuYnRvYVVURjg9ZnVuY3Rpb24oaW5wdXRTdHJpbmcsYWRkQk9NKXtyZXR1cm4gaigoYWRkQk9NP1wiXFxcXHhFRlxcXFx4QkJcXFxceEJGXCI6XCJcIikraW5wdXRTdHJpbmcucmVwbGFjZSgvW1xcXFx4ODAtXFxcXHVEN2ZmXFxcXHVEQzAwLVxcXFx1RkZGRl18W1xcXFx1RDgwMC1cXFxcdURCRkZdW1xcXFx1REMwMC1cXFxcdURGRkZdPy9nLGQpKTt9O2Z1bmN0aW9uIGMobSl7dmFyIGw9bS5jaGFyQ29kZUF0KDApPDwyNDt2YXIgbz1lKH5sKTt2YXIgbj0wLHE9bS5sZW5ndGg7dmFyIHA9XCJcIjtpZihvPDUmJnE+PW8pe2w9KGw8PG8pPj4+KDI0K28pO2ZvcihuPTE7bjxvOysrbil7bD0obDw8Nil8KG0uY2hhckNvZGVBdChuKSY2Myk7fWlmKGw8PTY1NTM1KXtwKz1mKGwpO31lbHNle2lmKGw8PTExMTQxMTEpe2wtPTY1NTM2O3ArPWYoKGw+PjEwKSs1NTI5NiwobCYxMDIzKSs1NjMyMCk7fWVsc2V7bj0wO319fWZvcig7bjxxOysrbil7cCs9XCJcXFxcdWZmZmRcIjt9cmV0dXJuIHA7fWsuYXRvYlVURjg9ZnVuY3Rpb24oaW5wdXRTdHJpbmcsa2VlcEJPTSl7aWYoIWtlZXBCT00mJmlucHV0U3RyaW5nLnN1YnN0cmluZygwLDMpPT09XCJcXFxceEVGXFxcXHhCQlxcXFx4QkZcIil7aW5wdXRTdHJpbmc9aW5wdXRTdHJpbmcuc3Vic3RyaW5nKDMpO31yZXR1cm4gaShpbnB1dFN0cmluZykucmVwbGFjZSgvW1xcXFx4YzAtXFxcXHhmZl1bXFxcXHg4MC1cXFxceGJmXSovZyxjKTt9O3JldHVybiBrO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuUG9pbnQ9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZCh4LHkpe2lmKCh0eXBlb2YgeCE9PVwibnVtYmVyXCIpfHwodHlwZW9mIHkhPT1cIm51bWJlclwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlcnMgaGF2ZSB0byBiZSBudW1lcmljYWwgdmFsdWVzLlwiKTt9dGhpcy54PXg7dGhpcy55PXk7fXJldHVybiBkO30pKCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihnLGEpe3ZhciBiPWcuX3ByaXZhdGU9Zy5fcHJpdmF0ZXx8e307Yi5VSVN0YXRlRmxhZz17Q2FuQ29weToxLENhblBhc3RlOjIsQ2FuVW5kbzo0LENhblJlZG86OCxDb250cm9sQ2hhcnM6MTYsSGVhZGVyOjMyLEZvb3Rlcjo2NCxUYWJsZUdyaWRMaW5lczoxMjgsRG9jdW1lbnRUYXJnZXRNYXJrZXJzOjI1NixEcmF3aW5nTWFya2VyTGluZXM6NTEyLFRleHRGcmFtZU1hcmtlckxpbmVzOjEwMjQsQ29udGV4dE1lbnVzRW5hYmxlZDoyMDQ4LFRleHRGaWVsZHNFZGl0YWJsZTo0MDk2LEZyYW1lQW5jaG9yczo4MTkyLFNlbGVjdE9iamVjdHM6MTYzODR9O2IuRG9jdW1lbnRBY2Nlc3NQZXJtaXNzaW9ucz17Tm9uZTowLEFsbG93QXV0aG9yaW5nOjEsQWxsb3dBdXRob3JpbmdGaWVsZHM6MixBbGxvd0NvbnRlbnRBY2Nlc3NpYmlsaXR5OjQsQWxsb3dEb2N1bWVudEFzc2VtYmx5OjgsQWxsb3dFeHRyYWN0Q29udGVudHM6MTYsQWxsb3dHZW5lcmFsRWRpdGluZzozMixBbGxvd0hpZ2hMZXZlbFByaW50aW5nOjY0LEFsbG93TG93TGV2ZWxQcmludGluZzoxMjgsQWxsb3dBbGw6MjU1fTtiLlBhZ2VDb250ZW50PXtCYWNrZ3JvdW5kOjEsSGVhZGVyc0FuZEZvb3RlcnM6MixNYWluVGV4dDo0LEFsbDo3LFNjcmVlbkVsZW1lbnRzOjh9O2IuQ29udHJvbENoYXJzPXtUYWI6OSxQYXJhZ3JhcGhFbmQ6MTAsTGluZUJyZWFrOjExLFBhZ2VCcmVhazoxMixDb2x1bW5CcmVhazoxNCxOb25WaXNpYmxlSHlwaGVuOjMxLE5vbkJyZWFraW5nU3BhY2U6MTYwfTtiLlZlcnRpY2FsQWxpZ25tZW50PXtUb3A6MCxDZW50ZXI6MSxCb3R0b206Mn07Yi5Ib3Jpem9udGFsQWxpZ25tZW50PXtMZWZ0OjEsUmlnaHQ6MixDZW50ZXI6MyxKdXN0aWZ5OjR9O2IuVGV4dFR5cGU9e1RleHQ6MCxOdW1iZXI6MX07Yi5OdW1iZXJGb3JtYXQ9e05vbmU6MCxBcmFiaWNOdW1iZXJzOjMsTGV0dGVyczo0LENhcGl0YWxMZXR0ZXJzOjUsUm9tYW5OdW1iZXJzOjYsU21hbGxSb21hbk51bWJlcnM6N307Yi5Gb250VW5kZXJsaW5lU3R5bGU9e0RvdWJsZWRXb3Jkc09ubHk6NDI4OCxEb3VibGVkOjQ2NzIsU2luZ2xlV29yZHNPbmx5OjE2NTI4LFNpbmdsZToxNjkxMixOb25lOjIwOTkyfTtiLkJyZWFrVHlwZT17TmV4dExpbmU6MCxDb2x1bW46MSxQYWdlOjIsU2VjdGlvbk5leHRQYWdlOjMsU2VjdGlvbkNvbnRpbnVvdXM6NH07Yi5TZWN0aW9uQnJlYWtLaW5kPXtCZWdpbkF0TmV3TGluZToyNTYsQmVnaW5BdE5ld1BhZ2U6NTEyfTtiLkl0ZW1UeXBlPXtIeXBlcnRleHRMaW5rOjAsRG9jdW1lbnRMaW5rOjEsRG9jdW1lbnRUYXJnZXQ6MyxMaW5rOjQsUGFnZU51bWJlcjo1LEZpZWxkQWRhcHRlcjo2LEFwcGxpY2F0aW9uRmllbGQ6NyxDaGFydDo4LEZyYW1lOjEwLE1lcmdlQmxvY2s6MTEsSGVhZGVyRm9vdGVyOjEyLEltYWdlUGxhY2Vob2xkZXI6MTMsVGV4dEZpZWxkOjE0LFNoYXBlOjE1LERyYXdpbmdDYW52YXM6MTYsRHJhd2luZ0ZyYW1lOjE3fTtiLkhlYWRlckZvb3RlclR5cGU9e0hlYWRlcjoxLEZpcnN0UGFnZUhlYWRlcjoyLEZvb3Rlcjo0LEZpcnN0UGFnZUZvb3Rlcjo4LEV2ZW5IZWFkZXI6MTI4LEV2ZW5Gb290ZXI6MzI3NjgsQWxsOjMyOTExfTtiLlRhYmxlQWRkUG9zaXRpb249e0JlZm9yZToxLEFmdGVyOjJ9O2IuUGVybWFuZW50Q29udHJvbENoYXI9T2JqZWN0LmZyZWV6ZSh7U3BhY2U6MSxUYWI6MixQYXJhZ3JhcGhFbmQ6NCxGb3JjZWRMaW5lQnJlYWs6OCxPYmplY3RBbmNob3I6MTYsRm9yY2VkUGFnZUJyZWFrOjMyLFNlY3Rpb25CcmVhazo2NCxIeXBoZW46MTI4LE5vbkJyZWFraW5nU3BhY2U6MjU2LFRhYmxlQ2VsbEVuZDo1MTIsUGFnaW5hdGlvbjoxMDI0LEFsbDoyMDQ3fSk7Yi5MaXN0VHlwZT17Tm9uZToxLEJ1bGxldGVkOjIsTnVtYmVyZWQ6NCxTdHJ1Y3R1cmVkOjh9O2IuRGlyZWN0aW9uPXtMZWZ0VG9SaWdodDoxLFJpZ2h0VG9MZWZ0OjJ9O2IuRnJhbWU9e0xlZnRMaW5lOjEsUmlnaHRMaW5lOjIsVG9wTGluZTo0LEJvdHRvbUxpbmU6OCxCb3g6MTUsTWVyZ2VkQm94OjE0MyxOb25lOjkzNzE2NDh9O2IuRnJhbWVTdHlsZT17U2luZ2xlOjMyLERvdWJsZTo2NH07Yi5KdXN0aWZpY2F0aW9uPXtTcGFjZXM6MSxLYXNoaWRhOjIsU3BhY2VzQW5kS2FzaGlkYTozfTtiLlRhYlR5cGU9e0xlZnRUYWI6MSxSaWdodFRhYjoyLENlbnRlclRhYjozLERlY2ltYWxUYWI6NCxSaWdodEJvcmRlclRhYjo1fTtiLk1lYXN1cmluZ1VuaXQ9T2JqZWN0LmZyZWV6ZSh7Q2VudGlJbmNoOjEsU3RhbmRhcmRXUEY6MixUd2lwczozLE1pbGxpbWV0ZXI6NCxDZW50aW1ldGVyOjUsUG9pbnQ6Nn0pO2IuRmluZE9wdGlvbnM9e1JldmVyc2U6MSxNYXRjaENhc2U6NCxOb0hpZ2hsaWdodDo4LE5vTWVzc2FnZUJveDoxNixNYXRjaFdob2xlV29yZDo2NH07Yi5Gb3JtdWxhUmVmZXJlbmNlU3R5bGU9e0ExOjIsUjFDMToxfTtiLk1pc3NwZWxsZWRXb3JkS2luZD17QWxsOjcsRHVwbGljYXRlOjQsSWdub3JlZDoyLE5vcm1hbDoxfTtiLlRYU3RyZWFtVHlwZT1PYmplY3QuZnJlZXplKHtIVE1MRm9ybWF0OjQsUmljaFRleHRGb3JtYXQ6OCxQbGFpblRleHQ6MTYsSW50ZXJuYWxVbmljb2RlRm9ybWF0OjMyLE1TV29yZDo2NCxBZG9iZVBERjo1MTIsV29yZHByb2Nlc3NpbmdNTDoxMDI0LFNwcmVhZHNoZWV0TUw6NDA5Nn0pO2IuTGlzdEZvcm1hdENoYXJhY3Rlcj1PYmplY3QuZnJlZXplKHtOb25lOjEsVGFiOjksU3BhY2U6MzJ9KTtiLnR4UHJvcGVydGllcz17Y2FuRWRpdDp0cnVlLGNhbkNoYXJhY3RlckZvcm1hdDp0cnVlLGNhblBhcmFncmFwaEZvcm1hdDp0cnVlLGNhblRhYmxlRm9ybWF0OnRydWUsY2FuRG9jdW1lbnRGb3JtYXQ6dHJ1ZSxjYW5TdHlsZUZvcm1hdDp0cnVlLGNhblByaW50OnRydWV9O2IuY29udHJvbENoYXJzPWZhbHNlO2IudGFibGVHcmlkTGluZXM9dHJ1ZTtiLmRvY3VtZW50VGFyZ2V0TWFya2Vycz10cnVlO2IudGV4dEZyYW1lTWFya2VyTGluZXM9dHJ1ZTtiLmNvbnRleHRNZW51c0VuYWJsZWQ9dHJ1ZTtiLnRleHRGaWVsZHNFZGl0YWJsZT1mYWxzZTtiLmlucHV0UG9zaXRpb25DaGFuZ2VkSGFuZGxlcj1mdW5jdGlvbihoKXt2YXIgaT1oLmRldGFpbDtpZihpLklzSW5UYWJsZSYmKGIuYXBwTW9kZT09Yi5BcHBsaWNhdGlvbk1vZGUuTm9ybWFsKSl7Yi5hZGFwdFJpYmJvblRhYldpZHRocygpO31lbHNle2lmKGEoXCIjdGFiVGFibGVMYXlvdXRcIikuaXMoXCI6dmlzaWJsZVwiKSl7Yi5hZGFwdFJpYmJvblRhYldpZHRocygpO2lmKGEoXCIjXCIrYShcIiN0YWJUYWJsZUxheW91dFwiKS5hdHRyKFwicmVsXCIpKS5pcyhcIjp2aXNpYmxlXCIpfHxhKFwiI1wiK2EoXCIjdGFiRm9ybXVsYVwiKS5hdHRyKFwicmVsXCIpKS5pcyhcIjp2aXNpYmxlXCIpKXtiLnN3aXRjaFRhYnMoYShcIiN0YWJEZWZhdWx0XCIpKTt9fX19O2IudHhQcm9wZXJ0eUNoYW5nZWRIYW5kbGVyPWZ1bmN0aW9uKGkpe3ZhciBoPWkuZGV0YWlsO3N3aXRjaChoLnByb3BlcnR5TmFtZSl7Y2FzZVwiQ2FuRWRpdFwiOmIudHhQcm9wZXJ0aWVzLmNhbkVkaXQ9aC52YWx1ZTticmVhaztjYXNlXCJDYW5QcmludFwiOmIudHhQcm9wZXJ0aWVzLmNhblByaW50PWgudmFsdWU7YnJlYWs7Y2FzZVwiQ2FuU3R5bGVGb3JtYXRcIjpiLnR4UHJvcGVydGllcy5jYW5TdHlsZUZvcm1hdD1oLnZhbHVlO2JyZWFrO2Nhc2VcIkNhbkRvY3VtZW50Rm9ybWF0XCI6Yi50eFByb3BlcnRpZXMuY2FuRG9jdW1lbnRGb3JtYXQ9aC52YWx1ZTticmVhaztjYXNlXCJDYW5UYWJsZUZvcm1hdFwiOmIudHhQcm9wZXJ0aWVzLmNhblRhYmxlRm9ybWF0PWgudmFsdWU7YnJlYWs7Y2FzZVwiQ2FuQ2hhcmFjdGVyRm9ybWF0XCI6Yi50eFByb3BlcnRpZXMuY2FuQ2hhcmFjdGVyRm9ybWF0PWgudmFsdWU7YnJlYWs7Y2FzZVwiQ2FuUGFyYWdyYXBoRm9ybWF0XCI6Yi50eFByb3BlcnRpZXMuY2FuUGFyYWdyYXBoRm9ybWF0PWgudmFsdWU7YnJlYWs7fX07Yi51aUZsYWdzVXBkYXRlZEhhbmRsZXI9ZnVuY3Rpb24oaCl7dmFyIGk9aC5kZXRhaWw7Yi5jb250ZXh0TWVudXNFbmFibGVkPShpJmIuVUlTdGF0ZUZsYWcuQ29udGV4dE1lbnVzRW5hYmxlZCkhPTA7Yi50ZXh0RmllbGRzRWRpdGFibGU9KGkmYi5VSVN0YXRlRmxhZy5UZXh0RmllbGRzRWRpdGFibGUpIT0wO307ZnVuY3Rpb24gZShoKXt2YXIgaj1cIlwiO3ZhciBpPSh0eXBlb2YgYi5zZXR0aW5ncz09PVwidW5kZWZpbmVkXCIpO3ZhciBtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhQcmludEZyYW1lXCIpO2lmKG0pe2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobSk7fXZhciBsPWIuaXNTU0xDb25uZWN0aW9uP1wiaHR0cHM6Ly9cIjpcImh0dHA6Ly9cIjtpZighaSl7aj1iLnNldHRpbmdzLkNvbm5lY3Rpb25JRDt9ZWxzZXtpZigodHlwZW9mIGIud2ViQ29udHJvbFNldHRpbmdzIT09XCJ1bmRlZmluZWRcIikmJmIud2ViQ29udHJvbFNldHRpbmdzLmhhc093blByb3BlcnR5KFwiY29ubmVjdGlvbklEXCIpKXtqPWIud2ViQ29udHJvbFNldHRpbmdzLmNvbm5lY3Rpb25JRDt9fWlmKCFqKXtyZXR1cm5cIlwiO312YXIgaz1pP2wrYi5nZXRIb3N0QW5kQXBwVmlydFBhdGgoKStcIlRYUHJpbnRIYW5kbGVyLmFzaHhcIjpsK2IuZ2V0SG9zdEFuZEFwcFZpcnRQYXRoKCkrYi5zZXR0aW5ncy5BcGlSb3V0ZStcIlRYUHJpbnRcIjtyZXR1cm4gaytcIj9jb25uZWN0aW9uSUQ9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGopK1wiJmVtYmVkUHJpbnRBY3Rpb249XCIrKGg/XCJ0cnVlXCI6XCJmYWxzZVwiKTt9ZnVuY3Rpb24gZigpe3ZhciBpPWUodHJ1ZSk7aWYoIWkpe3JldHVybjt9dmFyIGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIklGUkFNRVwiKTtoLmlkPVwidHhQcmludEZyYW1lXCI7aC5mcmFtZUJvcmRlcj0wO2guc3JjPWk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChoKTt9ZnVuY3Rpb24gZCgpe3ZhciBpPWUoZmFsc2UpO2lmKCFpKXtyZXR1cm47fXZhciBoPW5ldyBiLkVkZ2VQcmludERpYWxvZyhpKTtoLnNob3dNb2RhbCgpO31iLnByaW50PWZ1bmN0aW9uKCl7aWYoKGIuQnJvd3NlckRldGVjdC5icm93c2VyPT09XCJFeHBsb3JlclwiKXx8KGIuQnJvd3NlckRldGVjdC5icm93c2VyPT09XCJPdGhlclwiKSl7ZigpO31lbHNle2lmKGIuQnJvd3NlckRldGVjdC5icm93c2VyPT09XCJFZGdlXCIpe2QoKTt9ZWxzZXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5QcmludFRvUERGLDEpO319fTtiLnByaW50UmVzdWx0UmVjZWl2ZWRIYW5kbGVyPWZ1bmN0aW9uKGkpe3ZhciBrPWkuZGV0YWlsO2lmKChiLkJyb3dzZXJEZXRlY3QuYnJvd3Nlcj09PVwiRXhwbG9yZXJcIil8fChiLkJyb3dzZXJEZXRlY3QuYnJvd3Nlcj09PVwiT3RoZXJcIil8fChiLkJyb3dzZXJEZXRlY3QuYnJvd3Nlcj09PVwiRWRnZVwiKSl7cmV0dXJuO312YXIgbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4UHJpbnRGcmFtZVwiKTtpZihsKXtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGwpO31sPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJRlJBTUVcIik7bC5pZD1cInR4UHJpbnRGcmFtZVwiO2wuZnJhbWVCb3JkZXI9MDtzd2l0Y2goYi5Ccm93c2VyRGV0ZWN0LmJyb3dzZXIpe2Nhc2VcIkNocm9tZVwiOmgoKTticmVhaztkZWZhdWx0OmooKTticmVhazt9ZnVuY3Rpb24gaigpe2wuc3JjPVwiZGF0YTphcHBsaWNhdGlvbi9wZGY7YmFzZTY0LFwiK2suRGF0YTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGwpO31mdW5jdGlvbiBoKCl7dmFyIG09VWludDhBcnJheS5mcm9tKGF0b2Ioay5EYXRhKSxmdW5jdGlvbihvKXtyZXR1cm4gby5jaGFyQ29kZUF0KDApO30pO3ZhciBuPW5ldyB3aW5kb3cuQmxvYihbbV0se3R5cGU6XCJhcHBsaWNhdGlvbi9wZGZcIn0pO249d2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobik7bC5zcmM9bjtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGwpO2wuZm9jdXMoKTtsLmNvbnRlbnRXaW5kb3cucHJpbnQoKTt9fTtiLkh5cGVybGlua0NsaWNrZWRFdmVudEFyZ3M9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaCh0YXJnZXQpe3RoaXMudGFyZ2V0PXRhcmdldDt9cmV0dXJuIGg7fSkoKTtiLmh5cGVybGlua0NsaWNrZWRIYW5kbGVyPWZ1bmN0aW9uKGkpe3ZhciBqPWkuZGV0YWlsO3ZhciBoPW5ldyBiLkh5cGVybGlua0NsaWNrZWRFdmVudEFyZ3Moaik7Yi5maXJlRXZlbnQoYi5FdmVudE5hbWUuaHlwZXJsaW5rQ2xpY2tlZCxoKTt9O2Z1bmN0aW9uIGMoaCxvLHMpe289b3x8XCJcIjtzPXN8fDUxMjt2YXIgbT1hdG9iKGgpO3ZhciBsPVtdO2Zvcih2YXIgcT0wO3E8bS5sZW5ndGg7cSs9cyl7dmFyIHI9bS5zbGljZShxLHErcyk7dmFyIG49bmV3IEFycmF5KHIubGVuZ3RoKTtmb3IodmFyIHA9MDtwPHIubGVuZ3RoO3ArKyl7bltwXT1yLmNoYXJDb2RlQXQocCk7fXZhciBrPW5ldyBVaW50OEFycmF5KG4pO2wucHVzaChrKTt9dmFyIGo9bmV3IEJsb2IobCx7dHlwZTpvfSk7cmV0dXJuIGo7fXJldHVybiBnO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuQ2FyZXQ9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChlLGYpe3RoaXMuY2FudmFzPWU7dGhpcy5sb2NhdGlvbj17WDowLFk6MH07dGhpcy5zaXplPXt3aWR0aDowLGhlaWdodDowfTt0aGlzLmlzQmxhY2s9ZmFsc2U7dGhpcy5ibGlua1RpbWVyPW51bGw7dGhpcy5pc1Zpc2libGU9ZmFsc2U7dGhpcy5kaXZDYXJldD1udWxsO3RoaXMucGl4ZWxSYXRpbz1mfHwxO3RoaXMuZGl2Q2FyZXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLmRpdkNhcmV0LmNsYXNzTGlzdC5hZGQoXCJjYXJldFwiKTt0aGlzLmRpdkNhcmV0LnN0eWxlLmxlZnQ9XCIxcHhcIjt0aGlzLmRpdkNhcmV0LnN0eWxlLnRvcD1cIjFweFwiO3RoaXMuY2FudmFzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5kaXZDYXJldCk7fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcImJvdW5kc1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT17eDp0aGlzLmxvY2F0aW9uLlgseTp0aGlzLmxvY2F0aW9uLlksd2lkdGg6dGhpcy5zaXplLndpZHRoLGhlaWdodDp0aGlzLnNpemUuaGVpZ2h0fTtyZXR1cm4gZTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO2QucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGcpe3ZhciBmPXRoaXMuaXNWaXNpYmxlO3RoaXMuaGlkZSgpO3ZhciBlPU1hdGgubWF4KDEsZy5TaXplLkhlaWdodC90aGlzLnBpeGVsUmF0aW8pO3ZhciBoPU1hdGgubWF4KDEsZy5TaXplLldpZHRoL3RoaXMucGl4ZWxSYXRpbyk7dGhpcy5zZXRTaXplKGgsZSk7dGhpcy5zZXRMb2NhdGlvbihnLkxvY2F0aW9uKTtmPWcuVmlzaWJpbGl0eTtpZihmKXt0aGlzLnNob3coKTt9fTtkLnByb3RvdHlwZS5ibGluaz1mdW5jdGlvbigpe2lmKHRoaXMuaXNCbGFjayl7dGhpcy5zZXRPcGFjaXR5KDApO3RoaXMuaXNCbGFjaz1mYWxzZTt9ZWxzZXt0aGlzLnNldE9wYWNpdHkoMSk7dGhpcy5pc0JsYWNrPXRydWU7fX07ZC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe2lmKHRoaXMuaXNWaXNpYmxlKXtyZXR1cm47fXRoaXMuaXNWaXNpYmxlPXRydWU7dGhpcy5zZXRPcGFjaXR5KDEpO3RoaXMuaXNCbGFjaz10cnVlO2NsZWFySW50ZXJ2YWwodGhpcy5ibGlua1RpbWVyKTt0aGlzLmJsaW5rVGltZXI9c2V0SW50ZXJ2YWwodGhpcy5ibGluay5iaW5kKHRoaXMpLDUwMCk7fTtkLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNWaXNpYmxlKXtyZXR1cm47fXRoaXMuaXNWaXNpYmxlPWZhbHNlO2NsZWFySW50ZXJ2YWwodGhpcy5ibGlua1RpbWVyKTtpZih0aGlzLmlzQmxhY2spe3RoaXMuc2V0T3BhY2l0eSgwKTt0aGlzLmlzQmxhY2s9ZmFsc2U7fX07ZC5wcm90b3R5cGUuc2V0T3BhY2l0eT1mdW5jdGlvbihlKXtpZighYi5WaWV3ZXJzSW52aXNpYmxlKXt0aGlzLmRpdkNhcmV0LnN0eWxlLm9wYWNpdHk9XCJcIitlO319O2QucHJvdG90eXBlLnNldExvY2F0aW9uPWZ1bmN0aW9uKGYpe3RoaXMubG9jYXRpb249Y2xvbmVPYmplY3QoZik7dGhpcy5sb2NhdGlvbi5YLz10aGlzLnBpeGVsUmF0aW87dGhpcy5sb2NhdGlvbi5ZLz10aGlzLnBpeGVsUmF0aW87dmFyIGU9dGhpcy5jYW52YXMub2Zmc2V0TGVmdCt0aGlzLmxvY2F0aW9uLlg7dmFyIGc9dGhpcy5jYW52YXMub2Zmc2V0VG9wK3RoaXMubG9jYXRpb24uWTt0aGlzLmRpdkNhcmV0LnN0eWxlLmxlZnQ9ZStcInB4XCI7dGhpcy5kaXZDYXJldC5zdHlsZS50b3A9ZytcInB4XCI7fTtkLnByb3RvdHlwZS5yZWZyZXNoTG9jYXRpb249ZnVuY3Rpb24oKXt0aGlzLnNldExvY2F0aW9uKHRoaXMubG9jYXRpb24pO307ZC5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbihmLGUpe3RoaXMuc2l6ZS53aWR0aD1mO3RoaXMuc2l6ZS5oZWlnaHQ9ZTt0aGlzLmRpdkNhcmV0LnN0eWxlLndpZHRoPWYrXCJweFwiO3RoaXMuZGl2Q2FyZXQuc3R5bGUuaGVpZ2h0PWUrXCJweFwiO307ZC5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNWaXNpYmxlO307cmV0dXJuIGQ7fSkoKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkFjdGl2YXRpb25TdGF0ZT1PYmplY3QuZnJlZXplKHtBY3RpdmF0ZWQ6MSxEZWFjdGl2YXRlZDoyLERpc2FibGVkOjN9KTtiLkhpZGRlblRleHRGaWVsZD0oZnVuY3Rpb24oKXtmdW5jdGlvbiBkKGcsaCxpKXt2YXIgaj10aGlzO3RoaXMuY2FudmFzPWc7dGhpcy5jb21wb25lbnRUeXBlPWg7dGhpcy5vd25lcj1pO3RoaXMubG9jYXRpb249e1g6MCxZOjB9O3RoaXMuZWxlbUlucHV0PWIuaXNUb3VjaERldmljZT9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLmVsZW1JbnB1dC5jbGFzc0xpc3QuYWRkKFwidHhIaWRkZW5UZXh0RmllbGRcIik7dGhpcy5lbGVtSW5wdXQuc2V0QXR0cmlidXRlKFwiYXV0b2NvbXBsZXRlXCIsXCJvZmZcIik7dGhpcy5lbGVtSW5wdXQuc2V0QXR0cmlidXRlKFwiYXV0b2NvcnJlY3RcIixcIm9mZlwiKTt0aGlzLmVsZW1JbnB1dC5zZXRBdHRyaWJ1dGUoXCJzcGVsbGNoZWNrXCIsZmFsc2UpO3RoaXMuZWxlbUlucHV0LnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLHRydWUpO3RoaXMuZWxlbUlucHV0LnRhYkluZGV4PVwiLTFcIjt0aGlzLmVsZW1JbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIixiLmtleVByZXNzSGFuZGxlcik7dGhpcy5lbGVtSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixiLmtleURvd25IYW5kbGVyKTt0aGlzLmVsZW1JbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixiLmtleVVwSGFuZGxlcik7dGhpcy5lbGVtSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNvbXBvc2l0aW9uc3RhcnRcIix0aGlzLmNvbXBvc2l0aW9uc3RhcnRIYW5kbGVyLmJpbmQodGhpcykpO3RoaXMuZWxlbUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjb21wb3NpdGlvbnVwZGF0ZVwiLHRoaXMuY29tcG9zaXRpb251cGRhdGVIYW5kbGVyLmJpbmQodGhpcykpO3RoaXMuZWxlbUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjb21wb3NpdGlvbmVuZFwiLHRoaXMuY29tcG9zaXRpb25lbmRIYW5kbGVyLmJpbmQodGhpcykpO3RoaXMuZWxlbUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsdGhpcy5lbGVtSW5wdXRfQmx1ci5iaW5kKHRoaXMpKTt0aGlzLmVsZW1JbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIix0aGlzLmVsZW1JbnB1dF9Gb2N1cy5iaW5kKHRoaXMpKTtpZighYi5pc1RvdWNoRGV2aWNlJiYoaD09PWIuQ29tcG9uZW50VHlwZS5UZXh0Vmlldykpe3RoaXMuZWxlbUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJwYXN0ZVwiLGZ1bmN0aW9uKGspe2YoaixrKTt9KTt0aGlzLmVsZW1JbnB1dC5pZD1cInR4SGlkZGVuVGV4dEZpZWxkX3RleHRWaWV3XCI7fXRoaXMuY2FudmFzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbGVtSW5wdXQpO31PYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJ0b3BcIix7c2V0OmZ1bmN0aW9uKGcpe3RoaXMuZWxlbUlucHV0LnN0eWxlLnRvcD1nK1wicHhcIjt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcImxlZnRcIix7c2V0OmZ1bmN0aW9uKGcpe3RoaXMuZWxlbUlucHV0LnN0eWxlLmxlZnQ9ZytcInB4XCI7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtkLnByb3RvdHlwZS5jb21wb3NpdGlvbnN0YXJ0SGFuZGxlcj1mdW5jdGlvbihpKXtiLmluSU1FQ29tcG9zaXRpb249dHJ1ZTt2YXIgaj10aGlzLmVsZW1JbnB1dDt2YXIgZz10aGlzLm93bmVyLmNhcmV0Qm91bmRzO3ZhciBoPXRoaXMub3duZXIuY2FudmFzO2ouc3R5bGUubGVmdD1nLngraC5vZmZzZXRMZWZ0K1wicHhcIjtqLnN0eWxlLnRvcD1nLnkraC5vZmZzZXRUb3ArZy5oZWlnaHQrXCJweFwiO2ouc3R5bGUuekluZGV4PTEwMDA7fTtkLnByb3RvdHlwZS5jb21wb3NpdGlvbnVwZGF0ZUhhbmRsZXI9ZnVuY3Rpb24oZyl7fTtkLnByb3RvdHlwZS5jb21wb3NpdGlvbmVuZEhhbmRsZXI9ZnVuY3Rpb24oZyl7Yi5pbklNRUNvbXBvc2l0aW9uPWZhbHNlO3ZhciBqPXRoaXMuZWxlbUlucHV0O2ouc3R5bGUubGVmdD1cIlwiO2ouc3R5bGUudG9wPVwiXCI7ai5zdHlsZS56SW5kZXg9XCJcIjtpZihqLnRhZ05hbWU9PT1cIkRJVlwiKXtqLmlubmVySFRNTD1cIlwiO31mb3IodmFyIGg9MDtoPGcuZGF0YS5sZW5ndGg7KytoKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5Db21wb25lbnRFdmVudCxiLlVzZXJJbnB1dEV2ZW50VHlwZS5LZXlQcmVzcywwLDAse2tleTpnLmRhdGFbaF0sbW9kaWZpZXJLZXlzOjB9KTt9fTtkLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe2lmKCFkb2N1bWVudC5oYXNGb2N1cygpfHwoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9dGhpcy5lbGVtSW5wdXQpKXt0aGlzLmVsZW1JbnB1dC5mb2N1cygpO319O2QucHJvdG90eXBlLmJsdXI9ZnVuY3Rpb24oKXtpZihkb2N1bWVudC5hY3RpdmVFbGVtZW50PT10aGlzLmVsZW1JbnB1dCl7dGhpcy5lbGVtSW5wdXQuYmx1cigpO319O2QucHJvdG90eXBlLmVsZW1JbnB1dF9Gb2N1cz1mdW5jdGlvbihnKXtpZih0aGlzLmVsZW1JbnB1dC50YWdOYW1lPT09XCJJTlBVVFwiKXt0aGlzLmVsZW1JbnB1dC52YWx1ZT1cIlwiO31lbHNle3RoaXMuZWxlbUlucHV0LmlubmVySFRNTD1cIlwiO319O2QucHJvdG90eXBlLmVsZW1JbnB1dF9CbHVyPWZ1bmN0aW9uKGcpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNvbXBvbmVudEFjdGl2YXRpb25TdGF0ZSx0aGlzLmNvbXBvbmVudFR5cGUsYi5BY3RpdmF0aW9uU3RhdGUuRGVhY3RpdmF0ZWQpO307ZC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGgsZyl7aWYoaCE9PW51bGwpe3RoaXMuZWxlbUlucHV0LnZhbHVlPWg7fWlmKHRoaXMuZWxlbUlucHV0LnNlbGVjdGlvblN0YXJ0IT1nKXt0aGlzLmVsZW1JbnB1dC5zZXRTZWxlY3Rpb25SYW5nZShnLGcpO319O2QucHJvdG90eXBlLnNldFRleHQ9ZnVuY3Rpb24oZyl7aWYodGhpcy5lbGVtSW5wdXQudGFnTmFtZT09PVwiSU5QVVRcIil7dGhpcy5lbGVtSW5wdXQudmFsdWU9Zzt9ZWxzZXt0aGlzLmVsZW1JbnB1dC5pbm5lckhUTUw9Zzt9fTtkLnByb3RvdHlwZS5zZWxlY3RBbGw9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1JbnB1dC50YWdOYW1lPT09XCJJTlBVVFwiKXt0aGlzLmVsZW1JbnB1dC5zZWxlY3QoKTtyZXR1cm47fXZhciBnPXRoaXMuZWxlbUlucHV0O3ZhciBoPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7aC5zZWxlY3ROb2RlQ29udGVudHMoZyk7dmFyIGk9d2luZG93LmdldFNlbGVjdGlvbigpO2kucmVtb3ZlQWxsUmFuZ2VzKCk7aS5hZGRSYW5nZShoKTt9O2Z1bmN0aW9uIGUoZyl7dmFyIGg9Zy5lbGVtSW5wdXQuaW5uZXJIVE1MO2cuZWxlbUlucHV0LmlubmVySFRNTD1cIlwiO2IucGFzdGVUZXh0KGgsYi5DbGlwYm9hcmREYXRhVHlwZS5IVE1MKTt9ZnVuY3Rpb24gZihoLGcpe2lmKGIuY2xpcGJvYXJkTW9kZT09Yi5DbGlwYm9hcmRNb2RlLlNlcnZlcil7cmV0dXJuO31pZighYi5oYW5kbGVDbGllbnRQYXN0ZShnLGZhbHNlKSl7cmV0dXJuO31oLmVsZW1JbnB1dC5pbm5lckhUTUw9XCJcIjtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShoKTt9LDEwKTtyZXR1cm4gZmFsc2U7fXJldHVybiBkO30pKCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihmLGEpe3ZhciBiPWYuX3ByaXZhdGU9Zi5fcHJpdmF0ZXx8e307Yi5tb2RpZmllcktleXM9MDt2YXIgZD17U2hpZnQ6NCxDdHJsOjgsQWx0OjIwNDgsTWFzazoyMDYwfTtiLktleUNvZGU9e0JhY2tzcGFjZTphLnVpLmtleUNvZGUuQkFDS1NQQUNFLFRBQjphLnVpLmtleUNvZGUuVEFCLEVudGVyOmEudWkua2V5Q29kZS5FTlRFUixTaGlmdDoxNixDb250cm9sOjE3LEFsdDoxOCxMZWZ0QXJyb3c6YS51aS5rZXlDb2RlLkxFRlQsVXBBcnJvdzphLnVpLmtleUNvZGUuVVAsUmlnaHRBcnJvdzphLnVpLmtleUNvZGUuUklHSFQsRG93bkFycm93OmEudWkua2V5Q29kZS5ET1dOLERFTDphLnVpLmtleUNvZGUuREVMRVRFLElOUzo0NSxFTkQ6YS51aS5rZXlDb2RlLkVORCxIT01FOmEudWkua2V5Q29kZS5IT01FLFBhZ2VVcDphLnVpLmtleUNvZGUuUEFHRV9VUCxQYWdlRG93bjphLnVpLmtleUNvZGUuUEFHRV9ET1dOLFNwYWNlOmEudWkua2V5Q29kZS5TUEFDRX07ZnVuY3Rpb24gYyhnKXt2YXIgaD0wO2lmKGcuc2hpZnRLZXkpe2h8PWQuU2hpZnQ7fWlmKGcuYWx0S2V5KXtofD1kLkFsdDt9aWYoZy5jdHJsS2V5fHxnLm1ldGFLZXkpe2h8PWQuQ3RybDt9cmV0dXJuIGg7fWZ1bmN0aW9uIGUoaCxpKXtiLm1vZGlmaWVyS2V5cz1jKGgpO3ZhciBqPWgua2V5Q29kZXx8aC53aGljaHx8MDtzd2l0Y2goail7Y2FzZSAxNzE6aj0xODc7YnJlYWs7Y2FzZSAxNzM6aj0xODk7YnJlYWs7fXZhciBnPXtrZXk6aixtb2RpZmllcktleXM6Yi5tb2RpZmllcktleXN9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNvbXBvbmVudEV2ZW50LGksMCwwLGcpO3N3aXRjaChqKXtjYXNlIGIuS2V5Q29kZS5FbnRlcjpjYXNlIGIuS2V5Q29kZS5CYWNrc3BhY2U6Y2FzZSBiLktleUNvZGUuVEFCOmNhc2UgYi5LZXlDb2RlLkRFTDpjYXNlIGIuS2V5Q29kZS5FTkQ6Y2FzZSBiLktleUNvZGUuSE9NRTpjYXNlIGIuS2V5Q29kZS5MZWZ0QXJyb3c6Y2FzZSBiLktleUNvZGUuVXBBcnJvdzpjYXNlIGIuS2V5Q29kZS5SaWdodEFycm93OmNhc2UgYi5LZXlDb2RlLkRvd25BcnJvdzpjYXNlIGIuS2V5Q29kZS5QYWdlVXA6Y2FzZSBiLktleUNvZGUuUGFnZURvd246aC5wcmV2ZW50RGVmYXVsdCgpO2JyZWFrO319Yi5rZXlEb3duSGFuZGxlcj1mdW5jdGlvbihrKXtpZihiLm92ZXJsYXlDb250cm9scy5leGlzdCgpKXtyZXR1cm47fWIubW9kaWZpZXJLZXlzPWMoayk7dmFyIGw9ay5rZXlDb2RlfHxrLndoaWNofHwwO2lmKGIubW9kaWZpZXJLZXlzJmQuQ3RybCl7c3dpdGNoKGwpe2Nhc2UgNDM6Y2FzZSA0NTpjYXNlIDEwNzpjYXNlIDEwOTpjYXNlIDE3MTpjYXNlIDE3MzpjYXNlIDE4NzpjYXNlIDE4OTprLnByZXZlbnREZWZhdWx0KCk7YnJlYWs7fX12YXIgaT0oKChiLm1vZGlmaWVyS2V5cyZkLk1hc2spPT1kLkN0cmwpJiYobD09ODYpKXx8KChiLm1vZGlmaWVyS2V5cyZkLlNoaWZ0KSYmKGw9PWIuS2V5Q29kZS5JTlMpKTt2YXIgaD0oKChiLm1vZGlmaWVyS2V5cyZkLk1hc2spPT1kLkN0cmwpJiYobD09ODgpKXx8KChiLm1vZGlmaWVyS2V5cyZkLlNoaWZ0KSYmKGw9PWIuS2V5Q29kZS5ERUwpKTt2YXIgZz0oKGIubW9kaWZpZXJLZXlzJmQuTWFzayk9PWQuQ3RybCkmJigobD09NjcpfHwobD09Yi5LZXlDb2RlLklOUykpO2lmKCgoYi5tb2RpZmllcktleXMmZC5NYXNrKT09KGQuQ3RybHxkLlNoaWZ0KSYmKGw9PTg2KSkpe3ZhciBqPW5ldyBiLkNsaWVudFBhc3RlRGlhbG9nKCk7ai5zaG93TW9kYWwoKTtrLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuO31lbHNle2lmKGIuY2xpcGJvYXJkTW9kZT09Yi5DbGlwYm9hcmRNb2RlLlNlcnZlcil7aWYoaSl7ay5wcmV2ZW50RGVmYXVsdCgpO319fWlmKChnfHxoKSYmKGIuY2xpcGJvYXJkTW9kZT09Yi5DbGlwYm9hcmRNb2RlLkNsaWVudCkpe2lmKGcpe2RvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTt9ZWxzZXtpZihoKXtkb2N1bWVudC5leGVjQ29tbWFuZChcImN1dFwiKTt9fWsucHJldmVudERlZmF1bHQoKTt9aWYoaSYmKGIuY2xpcGJvYXJkTW9kZT09Yi5DbGlwYm9hcmRNb2RlLkNsaWVudCkpe3JldHVybjt9ZShrLGIuVXNlcklucHV0RXZlbnRUeXBlLktleURvd24pO307Yi5rZXlVcEhhbmRsZXI9ZnVuY3Rpb24oZyl7aWYoYi5vdmVybGF5Q29udHJvbHMuZXhpc3QoKSl7cmV0dXJuO31lKGcsYi5Vc2VySW5wdXRFdmVudFR5cGUuS2V5VXApO307Yi5rZXlQcmVzc0hhbmRsZXI9ZnVuY3Rpb24oZyl7aWYoYi5vdmVybGF5Q29udHJvbHMuZXhpc3QoKSl7cmV0dXJuO31pZigodHlwZW9mIGcuY2hhckNvZGUhPT1cInVuZGVmaW5lZFwiKSYmKGcuY2hhckNvZGU9PT0wKSl7cmV0dXJuO31iLm1vZGlmaWVyS2V5cz1jKGcpO3ZhciBoPWcuY2hhckNvZGV8fGcua2V5Q29kZXx8Zy53aGljaHx8MDtpZihoKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5Db21wb25lbnRFdmVudCxiLlVzZXJJbnB1dEV2ZW50VHlwZS5LZXlQcmVzcywwLDAse2tleTpoLG1vZGlmaWVyS2V5czpiLm1vZGlmaWVyS2V5c30pO31lbHNle2cucHJldmVudERlZmF1bHQoKTt9fTtyZXR1cm4gZjt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGksYSl7dmFyIGI9aS5fcHJpdmF0ZT1pLl9wcml2YXRlfHx7fTtiLkNvbXBvbmVudFR5cGU9e1RleHRWaWV3OjAsSG9yUnVsZXI6MSxWZXJ0UnVsZXI6MixTdGF0dXNCYXI6MyxUeERpYWxvZzo0LFRyYWNrQ2hhbmdlc1ZpZXc6NX07Yi5Vc2VySW5wdXRFdmVudFR5cGU9e0tleURvd246MCxLZXlQcmVzczoxLEtleVVwOjIsTW91c2VNb3ZlOjMsTW91c2VEb3duOjQsTW91c2VVcDo1LE1vdXNlRG91YmxlQ2xpY2s6NixNb3VzZVdoZWVsOjd9O2IuTW91c2VCdXR0b25zPXtMZWZ0OjEsUmlnaHQ6MixNaWRkbGU6MTZ9O3ZhciBmPXtJQmVhbToxLEFycm93TkU6MixWU3BsaXQ6MyxVcEFycm93OjQsQXJyb3c6NSxEb3duQXJyb3c6NixTaXplV0U6NyxTaXplTlM6OCxTaXplTldTRTo5LFNpemVORVNXOjEwLFNpemVBbGw6MTEsQ3Jvc3M6MTIsTm86MTMsRHJhZ0Ryb3BDb3B5OjE0LERyYWdEcm9wTW92ZToxNX07dmFyIGc9e01vdmVBbmRTaXplRnJhbWU6MSxUYWJsZUJvcmRlck1vdmluZ0xpbmU6MixEcm9wQ2FyZXQ6M307Yi5jbG9uZVRvdWNoPWZ1bmN0aW9uKGope3JldHVybntjbGllbnRYOmouY2xpZW50WCxjbGllbnRZOmouY2xpZW50WSxzY3JlZW5YOmouc2NyZWVuWCxzY3JlZW5ZOmouc2NyZWVuWSxpZGVudGlmaWVyOmouaWRlbnRpZmllcixoYXNMZWZ0RGVhZHpvbmU6ai5oYXNMZWZ0RGVhZHpvbmV9O307dmFyIGM9ZmFsc2U7dmFyIGU9e3RvdWNoZXM6e30sZ2V0SXRlbTpmdW5jdGlvbihqKXtyZXR1cm4gdGhpcy50b3VjaGVzW1wiX1wiK2pdO30sYWRkOmZ1bmN0aW9uKGspe3ZhciBqPWsuaWRlbnRpZmllcjt0aGlzLnRvdWNoZXNbXCJfXCIral09Yi5jbG9uZVRvdWNoKGspO30scmVtb3ZlSXRlbTpmdW5jdGlvbihqKXt2YXIgaz10aGlzLmdldEl0ZW0oaik7ZGVsZXRlIHRoaXMudG91Y2hlc1tcIl9cIitqXTtyZXR1cm4gazt9LHVwZGF0ZTpmdW5jdGlvbihrKXtmb3IodmFyIGo9MDtqPGsubGVuZ3RoOysrail7dGhpcy5hZGQoa1tqXSk7fX0sY291bnQ6ZnVuY3Rpb24oKXt2YXIgaz0wLGo7Zm9yKGogaW4gdGhpcy50b3VjaGVzKXtpZih0aGlzLnRvdWNoZXMuaGFzT3duUHJvcGVydHkoaikpeysrazt9fXJldHVybiBrO30sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLnRvdWNoZXM9e307fX07dmFyIGg9KGZ1bmN0aW9uKCl7dmFyIGs9MjUwLGo9NTAwLG09NTAwO3EuU3RhdGU9e0luaXRpYWw6MCxPbmVGaW5nZXI6MSxOb0ZpbmdlckFmdGVyT25lRmluZ2VyOjIsSW1wZW5kaW5nRG91YmxlQ2xpY2tPck9iamVjdEdyaXA6MyxPYmplY3RHcmlwOjR9O3EuVG91Y2hFdmVudFR5cGU9e1N0YXJ0OjAsTW92ZToxLEVuZDoyfTtmdW5jdGlvbiBxKHIpe3RoaXMuc3RhdGU9cS5TdGF0ZS5Jbml0aWFsO3RoaXMudmlld2VyPXI7dGhpcy50YXJnZXRFbGVtPXIuY2FudmFzO3RoaXMudG91Y2g9bnVsbDt0aGlzLnRpbWVvdXRJRD1udWxsO31mdW5jdGlvbiBvKHYsdCxyLHUpe3ZhciBzPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudHNcIik7cy5pbml0TW91c2VFdmVudCh0LHRydWUsdHJ1ZSx3aW5kb3csMSx2LnNjcmVlblgsdi5zY3JlZW5ZLHYuY2xpZW50WCx2LmNsaWVudFksZmFsc2UsZmFsc2UsZmFsc2UsZmFsc2UscixudWxsKTt1LmRpc3BhdGNoRXZlbnQocyk7fXEucHJvdG90eXBlLnNpbXVsYXRlTW91c2VDbGljaz1mdW5jdGlvbihzLHIpe28ocyxcIm1vdXNlb3ZlclwiLHIsdGhpcy50YXJnZXRFbGVtKTtvKHMsXCJtb3VzZW1vdmVcIixyLHRoaXMudGFyZ2V0RWxlbSk7byhzLFwibW91c2Vkb3duXCIscix0aGlzLnRhcmdldEVsZW0pO28ocyxcIm1vdXNldXBcIixyLHRoaXMudGFyZ2V0RWxlbSk7byhzLFwibW91c2Vtb3ZlXCIscix0aGlzLnRhcmdldEVsZW0pO28ocyxcIm1vdXNlb3V0XCIscix0aGlzLnRhcmdldEVsZW0pO28ocyxcImNsaWNrXCIscix0aGlzLnRhcmdldEVsZW0pO307cS5wcm90b3R5cGUuc2ltdWxhdGVNb3VzZURvdWJsZUNsaWNrPWZ1bmN0aW9uKHMscil7byhzLFwibW91c2VvdmVyXCIscix0aGlzLnRhcmdldEVsZW0pO28ocyxcIm1vdXNlbW92ZVwiLHIsdGhpcy50YXJnZXRFbGVtKTtvKHMsXCJtb3VzZWRvd25cIixyLHRoaXMudGFyZ2V0RWxlbSk7byhzLFwibW91c2V1cFwiLHIsdGhpcy50YXJnZXRFbGVtKTtvKHMsXCJjbGlja1wiLHIsdGhpcy50YXJnZXRFbGVtKTtvKHMsXCJtb3VzZWRvd25cIixyLHRoaXMudGFyZ2V0RWxlbSk7byhzLFwibW91c2V1cFwiLHIsdGhpcy50YXJnZXRFbGVtKTtvKHMsXCJtb3VzZW1vdmVcIixyLHRoaXMudGFyZ2V0RWxlbSk7byhzLFwibW91c2VvdXRcIixyLHRoaXMudGFyZ2V0RWxlbSk7byhzLFwiY2xpY2tcIixyLHRoaXMudGFyZ2V0RWxlbSk7byhzLFwiZGJsY2xpY2tcIixyLHRoaXMudGFyZ2V0RWxlbSk7fTtxLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe2lmKHRoaXMudGltZW91dElEKXtjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SUQpO3RoaXMudGltZW91dElEPW51bGw7fWlmKHRoaXMudG91Y2gpe28odGhpcy50b3VjaCxcIm1vdXNldXBcIiwwLHRoaXMudGFyZ2V0RWxlbSk7byh0aGlzLnRvdWNoLFwibW91c2Vtb3ZlXCIsMCx0aGlzLnRhcmdldEVsZW0pO28odGhpcy50b3VjaCxcIm1vdXNlb3V0XCIsMCx0aGlzLnRhcmdldEVsZW0pO3RoaXMudG91Y2g9bnVsbDt9dGhpcy5zdGF0ZT1xLlN0YXRlLkluaXRpYWw7fTtmdW5jdGlvbiBuKCl7Yi5pZ25vcmVOZXh0VGV4dEZvY3VzUmVxdWVzdD10cnVlO3RoaXMuc2ltdWxhdGVNb3VzZUNsaWNrKHRoaXMudG91Y2gsMik7dGhpcy50aW1lb3V0SUQ9dGhpcy50b3VjaD1udWxsO3RoaXMuc3RhdGU9cS5TdGF0ZS5Jbml0aWFsO31xLnByb3RvdHlwZS5pbml0aWFsU3RhdGU9ZnVuY3Rpb24ocyxyKXtzd2l0Y2gocil7Y2FzZSBxLlRvdWNoRXZlbnRUeXBlLlN0YXJ0OnRoaXMudGltZW91dElEPXNldFRpbWVvdXQobi5iaW5kKHRoaXMpLGopO3RoaXMudG91Y2g9Yi5jbG9uZVRvdWNoKHMpO3RoaXMuc3RhdGU9cS5TdGF0ZS5PbmVGaW5nZXI7YnJlYWs7ZGVmYXVsdDp0aGlzLnJlc2V0KCk7fX07ZnVuY3Rpb24gbCgpe3RoaXMudGltZW91dElEPXRoaXMudG91Y2g9bnVsbDt0aGlzLnN0YXRlPXEuU3RhdGUuSW5pdGlhbDt9cS5wcm90b3R5cGUub25lRmluZ2VyU3RhdGU9ZnVuY3Rpb24ocyxyKXtzd2l0Y2gocil7Y2FzZSBxLlRvdWNoRXZlbnRUeXBlLkVuZDppZih0aGlzLnRpbWVvdXRJRCl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElEKTt9dGhpcy50aW1lb3V0SUQ9c2V0VGltZW91dChsLmJpbmQodGhpcyksayk7dGhpcy50b3VjaD1iLmNsb25lVG91Y2gocyk7dGhpcy5zdGF0ZT1xLlN0YXRlLk5vRmluZ2VyQWZ0ZXJPbmVGaW5nZXI7YnJlYWs7ZGVmYXVsdDp0aGlzLnJlc2V0KCk7fX07ZnVuY3Rpb24gcChyKXtyPXJ8fHRoaXM7byhyLnRvdWNoLFwibW91c2VvdmVyXCIsMCxyLnRhcmdldEVsZW0pO28oci50b3VjaCxcIm1vdXNlbW92ZVwiLDAsci50YXJnZXRFbGVtKTtvKHIudG91Y2gsXCJtb3VzZWRvd25cIiwwLHIudGFyZ2V0RWxlbSk7ci50aW1lb3V0SUQ9ci50b3VjaD1udWxsO3Iuc3RhdGU9cS5TdGF0ZS5PYmplY3RHcmlwO31xLnByb3RvdHlwZS5ub0ZpbmdlckFmdGVyT25lRmluZ2VyU3RhdGU9ZnVuY3Rpb24ocyxyKXtzd2l0Y2gocil7Y2FzZSBxLlRvdWNoRXZlbnRUeXBlLlN0YXJ0OmlmKHRoaXMudGltZW91dElEKXtjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SUQpO310aGlzLnRpbWVvdXRJRD1zZXRUaW1lb3V0KHAuYmluZCh0aGlzKSxtKTt0aGlzLnRvdWNoPWIuY2xvbmVUb3VjaChzKTt0aGlzLnN0YXRlPXEuU3RhdGUuSW1wZW5kaW5nRG91YmxlQ2xpY2tPck9iamVjdEdyaXA7YnJlYWs7ZGVmYXVsdDp0aGlzLnJlc2V0KCk7fX07cS5wcm90b3R5cGUuaW1wZW5kaW5nRG91YmxlQ2xpY2tPck9iamVjdEdyaXBTdGF0ZT1mdW5jdGlvbihzLHIpe3N3aXRjaChyKXtjYXNlIHEuVG91Y2hFdmVudFR5cGUuRW5kOmlmKHRoaXMudGltZW91dElEKXtjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SUQpO3RoaXMudGltZW91dElEPW51bGw7fXRoaXMuc2ltdWxhdGVNb3VzZURvdWJsZUNsaWNrKHMsMCk7dGhpcy5zdGF0ZT1xLlN0YXRlLkluaXRpYWw7YnJlYWs7Y2FzZSBxLlRvdWNoRXZlbnRUeXBlLk1vdmU6aWYodGhpcy50aW1lb3V0SUQpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJRCk7dGhpcy50aW1lb3V0SUQ9bnVsbDt9cCh0aGlzKTt0aGlzLnRvdWNoPWIuY2xvbmVUb3VjaChzKTticmVhaztkZWZhdWx0OnRoaXMucmVzZXQoKTt9fTtxLnByb3RvdHlwZS5vYmplY3RHcmlwU3RhdGU9ZnVuY3Rpb24ocyxyKXtzd2l0Y2gocil7Y2FzZSBxLlRvdWNoRXZlbnRUeXBlLk1vdmU6byhzLFwibW91c2Vtb3ZlXCIsMCx0aGlzLnRhcmdldEVsZW0pO3RoaXMudG91Y2g9Yi5jbG9uZVRvdWNoKHMpO2JyZWFrO2Nhc2UgcS5Ub3VjaEV2ZW50VHlwZS5FbmQ6byhzLFwibW91c2V1cFwiLDAsdGhpcy50YXJnZXRFbGVtKTtvKHMsXCJtb3VzZW1vdmVcIiwwLHRoaXMudGFyZ2V0RWxlbSk7byhzLFwibW91c2VvdXRcIiwwLHRoaXMudGFyZ2V0RWxlbSk7dGhpcy50b3VjaD1iLmNsb25lVG91Y2gocyk7dGhpcy5zdGF0ZT1xLlN0YXRlLkluaXRpYWw7YnJlYWs7ZGVmYXVsdDp0aGlzLnJlc2V0KCk7fX07cS5wcm90b3R5cGUucHJvY2Vzc1RvdWNoPWZ1bmN0aW9uKHMscil7c3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2UgcS5TdGF0ZS5Jbml0aWFsOnRoaXMuaW5pdGlhbFN0YXRlKHMscik7YnJlYWs7Y2FzZSBxLlN0YXRlLk9uZUZpbmdlcjp0aGlzLm9uZUZpbmdlclN0YXRlKHMscik7YnJlYWs7Y2FzZSBxLlN0YXRlLk5vRmluZ2VyQWZ0ZXJPbmVGaW5nZXI6dGhpcy5ub0ZpbmdlckFmdGVyT25lRmluZ2VyU3RhdGUocyxyKTticmVhaztjYXNlIHEuU3RhdGUuSW1wZW5kaW5nRG91YmxlQ2xpY2tPck9iamVjdEdyaXA6dGhpcy5pbXBlbmRpbmdEb3VibGVDbGlja09yT2JqZWN0R3JpcFN0YXRlKHMscik7YnJlYWs7Y2FzZSBxLlN0YXRlLk9iamVjdEdyaXA6dGhpcy5vYmplY3RHcmlwU3RhdGUocyxyKTticmVhazt9fTtyZXR1cm4gcTt9KSgpO3ZhciBkPTIwO2IubW91c2VPd25lcj1udWxsO2IuaXNQaW5jaFpvb21pbmc9ZmFsc2U7Yi5Db21wb25lbnRWaWV3ZXI9KGZ1bmN0aW9uKCl7dmFyIHA9XCIxcHggZGFzaGVkIGJsYWNrXCIscT1cImxpZ2h0Z3JheVwiO2Z1bmN0aW9uIGsocixzLHUsdCl7dGhpcy5jYW52YXM9cjt0aGlzLmNvbnRleHQ9ci5nZXRDb250ZXh0KFwiMmRcIik7dGhpcy5tb3VzZUJ1dHRvbnM9MDt0aGlzLmltZ0J1ZmZlcj1udWxsO3RoaXMuc2hhcGVESVY9bnVsbDt0aGlzLnNoYXBlQmxpbmtUaW1lcj1udWxsO3RoaXMuc2hhcGVJc0JsYWNrPXRydWU7dGhpcy5oaWRkZW5UZXh0RmllbGQ9bnVsbDt0aGlzLnRvdWNoU3RhdGVNYWNoaW5lPWIuaXNUb3VjaERldmljZT9uZXcgaCh0aGlzKTpudWxsO3RoaXMudmlld0NoYW5nZWRRdWV1ZT1bXTt0aGlzLmJVcGRhdGluZz1mYWxzZTt0aGlzLnBpeGVsUmF0aW89d2luZG93LmRldmljZVBpeGVsUmF0aW87aih0aGlzLmNhbnZhcyx0aGlzLnBpeGVsUmF0aW8pO3RoaXMuZGlhbG9nTmVzdGluZ0RlcHRoPXR8fDA7dGhpcy5jYXJldD1uZXcgYi5DYXJldChyLHRoaXMucGl4ZWxSYXRpbyk7aWYoKHM9PT1iLkNvbXBvbmVudFR5cGUuVGV4dFZpZXcpfHwocz09PWIuQ29tcG9uZW50VHlwZS5UeERpYWxvZykpe3RoaXMuaGlkZGVuVGV4dEZpZWxkPW5ldyBiLkhpZGRlblRleHRGaWVsZChyLHMsdGhpcyk7fXRoaXMuY29tcG9uZW50VHlwZT1zO3RoaXMuZGlhbG9nVHlwZT11fHxiLlRYRGlhbG9nVHlwZS5Vbmtub3duO3RoaXMuY3Vyc29yVHlwZT1udWxsO3RoaXMuc2hhcGVESVY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLnNoYXBlRElWLmNsYXNzTGlzdC5hZGQoXCJ0eFNoYXBlRElWXCIpO3RoaXMuc2hhcGVESVYuc3R5bGUudG9wPVwiMXB4XCI7dGhpcy5zaGFwZURJVi5zdHlsZS5sZWZ0PVwiLTk5OTlweFwiO3RoaXMuY29udGV4dC5jYW52YXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLnNoYXBlRElWKTt0aGlzLmNhbnZhc0NsaWVudEJvdW5kUmVjdD1udWxsO3IuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuY2FudmFzX01vdXNlRG93bi5iaW5kKHRoaXMpKTtyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5jYW52YXNfTW91c2VVcC5iaW5kKHRoaXMpKTtyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuY2FudmFzX0NsaWNrLmJpbmQodGhpcykpO3RoaXMuc2hhcGVESVYuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLmNhbnZhc19Nb3VzZVVwLmJpbmQodGhpcykpO3IuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuY2FudmFzX01vdXNlTW92ZS5iaW5kKHRoaXMpKTtyLmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLHRoaXMuY2FudmFzX0RvdWJsZUNsaWNrLmJpbmQodGhpcykpO3IuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU1vdXNlU2Nyb2xsXCIsdGhpcy5jYW52YXNfTW91c2VXaGVlbC5iaW5kKHRoaXMpKTtyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsdGhpcy5jYW52YXNfTW91c2VXaGVlbC5iaW5kKHRoaXMpKTtyLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLGZ1bmN0aW9uKHYpe3YucHJldmVudERlZmF1bHQoKTt9KTtpZihiLmlzVG91Y2hEZXZpY2Upe3IuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLmNhbnZhc19Ub3VjaFN0YXJ0LmJpbmQodGhpcykpO3IuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5jYW52YXNfVG91Y2hFbmQuYmluZCh0aGlzKSk7ci5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIix0aGlzLmNhbnZhc19Ub3VjaENhbmNlbC5iaW5kKHRoaXMpKTtyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGxlYXZlXCIsdGhpcy5jYW52YXNfVG91Y2hFbmQuYmluZCh0aGlzKSk7ci5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5jYW52YXNfVG91Y2hNb3ZlLmJpbmQodGhpcykpO31kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY29tcG9uZW50Q3Vyc29yQ2hhbmdlZFwiLHRoaXMuY3Vyc29yQ2hhbmdlZC5iaW5kKHRoaXMpKTtpZih0aGlzLmNvbXBvbmVudFR5cGU9PT1iLkNvbXBvbmVudFR5cGUuVGV4dFZpZXcpe2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmF3U2hhcGVNZXNzYWdlUmVjZWl2ZWRcIix0aGlzLmRyYXdTaGFwZS5iaW5kKHRoaXMpKTt9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShrLnByb3RvdHlwZSxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhcy53aWR0aC90aGlzLnBpeGVsUmF0aW87fSxzZXQ6ZnVuY3Rpb24ocil7dGhpcy5jYW52YXMud2lkdGg9cip0aGlzLnBpeGVsUmF0aW87dGhpcy5jYW52YXMuc3R5bGUud2lkdGg9citcInB4XCI7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoay5wcm90b3R5cGUsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodC90aGlzLnBpeGVsUmF0aW87fSxzZXQ6ZnVuY3Rpb24ocil7dGhpcy5jYW52YXMuaGVpZ2h0PXIqdGhpcy5waXhlbFJhdGlvO3RoaXMuY2FudmFzLnN0eWxlLmhlaWdodD1yK1wicHhcIjt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShrLnByb3RvdHlwZSxcImxlZnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzLm9mZnNldExlZnQ7fSxzZXQ6ZnVuY3Rpb24ocil7dGhpcy5jYW52YXMuc3R5bGUubGVmdD1yK1wicHhcIjt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShrLnByb3RvdHlwZSxcInRvcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXMub2Zmc2V0VG9wO30sc2V0OmZ1bmN0aW9uKHIpe3RoaXMuY2FudmFzLnN0eWxlLnRvcD1yK1wicHhcIjt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShrLnByb3RvdHlwZSxcImNhcmV0Qm91bmRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhcmV0LmJvdW5kczt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO2sucHJvdG90eXBlLnNldENhcmV0U3RhdGU9ZnVuY3Rpb24ocil7aWYoIWIuaW5JTUVDb21wb3NpdGlvbiYmci5WaXNpYmlsaXR5JiZ0aGlzLmhpZGRlblRleHRGaWVsZCl7dGhpcy5oaWRkZW5UZXh0RmllbGQudG9wPShyLkxvY2F0aW9uLlkvdGhpcy5waXhlbFJhdGlvKSt0aGlzLmNhbnZhcy5vZmZzZXRUb3A7fXRoaXMuY2FyZXQuc2V0U3RhdGUocik7fTtmdW5jdGlvbiBqKHIscyl7ci5zdHlsZS53aWR0aD0oci53aWR0aC9zKStcInB4XCI7ci5zdHlsZS5oZWlnaHQ9KHIuaGVpZ2h0L3MpK1wicHhcIjt9ay5wcm90b3R5cGUuc2V0SW1hZ2U9ZnVuY3Rpb24ocyl7dmFyIHQ9dGhpczt2YXIgcj1uZXcgSW1hZ2UoKTtyLm9ubG9hZD1mdW5jdGlvbigpe3QuY29udGV4dC5jbGVhclJlY3QoMCwwLHIubmF0dXJhbFdpZHRoLHIubmF0dXJhbEhlaWdodCk7dC5jb250ZXh0LmRyYXdJbWFnZShyLDAsMCxyLm5hdHVyYWxXaWR0aCxyLm5hdHVyYWxIZWlnaHQpO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkltYWdlTG9hZGVkLHQuY29tcG9uZW50VHlwZSx0LmRpYWxvZ1R5cGUsdC5kaWFsb2dOZXN0aW5nRGVwdGgpO307ci5zcmM9czt9O2sucHJvdG90eXBlLnJlcXVlc3RVcGRhdGVJbWFnZVJlZ2lvbnM9ZnVuY3Rpb24ocil7aWYodGhpcy5iVXBkYXRpbmcpe3RoaXMudmlld0NoYW5nZWRRdWV1ZS5wdXNoKHt0aWxlczpyfSk7cmV0dXJuO310aGlzLmJVcGRhdGluZz10cnVlO3RoaXMudXBkYXRlSW1hZ2VSZWdpb25zKHIpO307ay5wcm90b3R5cGUucmVxdWVzdFNjcm9sbD1mdW5jdGlvbihyLHMpe2lmKHRoaXMuYlVwZGF0aW5nKXt0aGlzLnZpZXdDaGFuZ2VkUXVldWUucHVzaCh7ZGVsdGE6cix0aWxlczpzfSk7cmV0dXJuO310aGlzLmJVcGRhdGluZz10cnVlO3RoaXMuc2Nyb2xsKHIscyk7fTtrLnByb3RvdHlwZS51cGRhdGVJbWFnZVJlZ2lvbnM9ZnVuY3Rpb24odCl7dmFyIHM9dGhpcyx1PTAscj10Lmxlbmd0aDt0LmZvckVhY2goZnVuY3Rpb24odyl7dmFyIHY9bmV3IEltYWdlKCk7di5vbmxvYWQ9ZnVuY3Rpb24oKXtpZihzLmNvbXBvbmVudFR5cGU9PT1iLkNvbXBvbmVudFR5cGUuVHhEaWFsb2cpe3MuY29udGV4dC5jbGVhclJlY3Qody5wb3MuWCx3LnBvcy5ZLHYubmF0dXJhbFdpZHRoLHYubmF0dXJhbEhlaWdodCk7fXMuY29udGV4dC5kcmF3SW1hZ2Uodix3LnBvcy5YLHcucG9zLlksdi5uYXR1cmFsV2lkdGgsdi5uYXR1cmFsSGVpZ2h0KTtpZihyPT09Kyt1KXtpZihzLnZpZXdDaGFuZ2VkUXVldWUubGVuZ3RoPjApe3MucHJvY2Vzc05leHRRdWV1ZUVudHJ5KCk7fWVsc2V7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuSW1hZ2VMb2FkZWQscy5jb21wb25lbnRUeXBlLHMuZGlhbG9nVHlwZSxzLmRpYWxvZ05lc3RpbmdEZXB0aCk7cy5iVXBkYXRpbmc9ZmFsc2U7fX19O3Yuc3JjPXcuaW1hZ2VEYXRhVVJMO30pO307ay5wcm90b3R5cGUuc2Nyb2xsPWZ1bmN0aW9uKHMsdil7dmFyIHU9dGhpcyx0PTAscj12Lmxlbmd0aDtpZighdGhpcy5jYW52YXMud2lkdGh8fCF0aGlzLmNhbnZhcy5oZWlnaHQpe3JldHVybjt9dGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLmNhbnZhcyxzLlgscy5ZLHRoaXMuY2FudmFzLndpZHRoLHRoaXMuY2FudmFzLmhlaWdodCk7di5mb3JFYWNoKGZ1bmN0aW9uKHgpe3ZhciB3PW5ldyBJbWFnZSgpO3cub25sb2FkPWZ1bmN0aW9uKCl7dS5jb250ZXh0LmRyYXdJbWFnZSh3LHgucG9zLlgseC5wb3MuWSx3Lm5hdHVyYWxXaWR0aCx3Lm5hdHVyYWxIZWlnaHQpO2lmKHI9PT0rK3Qpe2lmKHUudmlld0NoYW5nZWRRdWV1ZS5sZW5ndGg+MCl7dS5wcm9jZXNzTmV4dFF1ZXVlRW50cnkoKTt9ZWxzZXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5JbWFnZUxvYWRlZCx1LmNvbXBvbmVudFR5cGUsdS5kaWFsb2dUeXBlLHUuZGlhbG9nTmVzdGluZ0RlcHRoKTt1LmJVcGRhdGluZz1mYWxzZTt9fX07dy5zcmM9eC5pbWFnZURhdGFVUkw7fSk7fTtrLnByb3RvdHlwZS5wcm9jZXNzTmV4dFF1ZXVlRW50cnk9ZnVuY3Rpb24oKXt2YXIgcj10aGlzLnZpZXdDaGFuZ2VkUXVldWUuc2hpZnQoKTtpZihyLmhhc093blByb3BlcnR5KFwiZGVsdGFcIikpe3RoaXMuc2Nyb2xsKHIuZGVsdGEsci50aWxlcyk7fWVsc2V7dGhpcy51cGRhdGVJbWFnZVJlZ2lvbnMoci50aWxlcyk7fX07ay5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMuY2FudmFzLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO307ay5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuY2FudmFzLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7fTtrLnByb3RvdHlwZS5zaG93Q2FyZXQ9ZnVuY3Rpb24oKXt0aGlzLmNhcmV0LnNob3coKTt9O2sucHJvdG90eXBlLmhpZGVDYXJldD1mdW5jdGlvbigpe3RoaXMuY2FyZXQuaGlkZSgpO307ay5wcm90b3R5cGUucmVmcmVzaENhcmV0TG9jYXRpb249ZnVuY3Rpb24oKXt0aGlzLmNhcmV0LnJlZnJlc2hMb2NhdGlvbigpO307ay5wcm90b3R5cGUuYnVmZmVyQ29udGVudD1mdW5jdGlvbigpe2lmKCF0aGlzLmNhbnZhcy53aWR0aHx8IXRoaXMuY2FudmFzLmhlaWdodCl7dGhpcy5pbWdCdWZmZXI9bnVsbDtyZXR1cm47fXRoaXMuaW1nQnVmZmVyPXRoaXMuY29udGV4dC5nZXRJbWFnZURhdGEoMCwwLHRoaXMuY2FudmFzLndpZHRoLHRoaXMuY2FudmFzLmhlaWdodCk7fTtrLnByb3RvdHlwZS5kcmF3QnVmZmVyZWRDb250ZW50PWZ1bmN0aW9uKCl7aWYoIXRoaXMuaW1nQnVmZmVyKXtyZXR1cm47fXRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEodGhpcy5pbWdCdWZmZXIsMCwwKTtkZWxldGUgdGhpcy5pbWdCdWZmZXI7fTtrLnByb3RvdHlwZS5jYW52YXNfTW91c2VEb3duPWZ1bmN0aW9uKHMpe2lmKCFiLm1vdXNlT3duZXIpe2IubW91c2VPd25lcj10aGlzO31lbHNle2lmKGIubW91c2VPd25lciE9dGhpcyl7cmV0dXJuO319aWYocy53aGljaD09PTEpe3RoaXMubW91c2VCdXR0b25zfD1iLk1vdXNlQnV0dG9ucy5MZWZ0O31pZihzLndoaWNoPT09Mil7dGhpcy5tb3VzZUJ1dHRvbnN8PWIuTW91c2VCdXR0b25zLk1pZGRsZTt9aWYocy53aGljaD09PTMpe3RoaXMubW91c2VCdXR0b25zfD1iLk1vdXNlQnV0dG9ucy5SaWdodDt9aWYoKGIuQnJvd3NlckRldGVjdC5icm93c2VyIT09XCJFeHBsb3JlclwiKSYmKHMuZGV0YWlsPT09Mikpe3RoaXMuY2FudmFzX0RvdWJsZUNsaWNrKHMpO2M9dHJ1ZTtzLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuO312YXIgdD10aGlzLmdldE1vdXNlUG9zKHMpLHI9e21vdXNlUG9zOntYOk1hdGgucm91bmQodC54KSxZOk1hdGgucm91bmQodC55KX0sbW9kaWZpZXJLZXlzOmIubW9kaWZpZXJLZXlzLGJ1dHRvbnM6dGhpcy5tb3VzZUJ1dHRvblRvTW91c2VCdXR0b25GbGFnKHMud2hpY2gpfTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5Db21wb25lbnRFdmVudCxiLlVzZXJJbnB1dEV2ZW50VHlwZS5Nb3VzZURvd24sdGhpcy5jb21wb25lbnRUeXBlLDAscik7cy5wcmV2ZW50RGVmYXVsdCgpO307ay5wcm90b3R5cGUuY2FudmFzX01vdXNlVXA9ZnVuY3Rpb24ocyl7aWYoYi5tb3VzZU93bmVyKXtyZXR1cm47fWIubGFzdE1vdXNlVXBFdmVudD1zO3ZhciB0PXRoaXMuZ2V0TW91c2VQb3Mocykscj17bW91c2VQb3M6e1g6TWF0aC5yb3VuZCh0LngpLFk6TWF0aC5yb3VuZCh0LnkpfSxtb2RpZmllcktleXM6Yi5tb2RpZmllcktleXMsYnV0dG9uczp0aGlzLm1vdXNlQnV0dG9uVG9Nb3VzZUJ1dHRvbkZsYWcocy53aGljaCl9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNvbXBvbmVudEV2ZW50LGIuVXNlcklucHV0RXZlbnRUeXBlLk1vdXNlVXAsdGhpcy5jb21wb25lbnRUeXBlLDAscik7aWYocy53aGljaD09MSl7dGhpcy5tb3VzZUJ1dHRvbnMmPX5iLk1vdXNlQnV0dG9ucy5MZWZ0O31pZihzLndoaWNoPT0yKXt0aGlzLm1vdXNlQnV0dG9ucyY9fmIuTW91c2VCdXR0b25zLk1pZGRsZTt9aWYocy53aGljaD09Myl7dGhpcy5tb3VzZUJ1dHRvbnMmPX5iLk1vdXNlQnV0dG9ucy5SaWdodDt9dGhpcy5jYW52YXNDbGllbnRCb3VuZFJlY3Q9bnVsbDtpZihzLndoaWNoPT0xKXt0aGlzLmhpZGVTaGFwZSgpO31zLnByZXZlbnREZWZhdWx0KCk7fTtrLnByb3RvdHlwZS5jYW52YXNfQ2xpY2s9ZnVuY3Rpb24ocil7dGhpcy5mb2N1cygpO307ay5wcm90b3R5cGUuY2FudmFzX01vdXNlTW92ZT1mdW5jdGlvbihzKXtpZihiLm1vdXNlT3duZXIpe3JldHVybjt9dmFyIHQ9dGhpcy5nZXRNb3VzZVBvcyhzKTt2YXIgcj17bW91c2VQb3M6e1g6TWF0aC5yb3VuZCh0LngpLFk6TWF0aC5yb3VuZCh0LnkpfSxtb2RpZmllcktleXM6Yi5tb2RpZmllcktleXMsYnV0dG9uczp0aGlzLm1vdXNlQnV0dG9uc307Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ29tcG9uZW50RXZlbnQsYi5Vc2VySW5wdXRFdmVudFR5cGUuTW91c2VNb3ZlLHRoaXMuY29tcG9uZW50VHlwZSwwLHIpO3MucHJldmVudERlZmF1bHQoKTt9O2sucHJvdG90eXBlLmNhbnZhc19Eb3VibGVDbGljaz1mdW5jdGlvbihzKXtpZihjKXtjPWZhbHNlO3MucHJldmVudERlZmF1bHQoKTtyZXR1cm47fXZhciB0PXRoaXMuZ2V0TW91c2VQb3Mocykscj17bW91c2VQb3M6e1g6TWF0aC5yb3VuZCh0LngpLFk6TWF0aC5yb3VuZCh0LnkpfSxtb2RpZmllcktleXM6Yi5tb2RpZmllcktleXN9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNvbXBvbmVudEV2ZW50LGIuVXNlcklucHV0RXZlbnRUeXBlLk1vdXNlRG91YmxlQ2xpY2ssdGhpcy5jb21wb25lbnRUeXBlLDAscik7cy5wcmV2ZW50RGVmYXVsdCgpO307ay5wcm90b3R5cGUuY2FudmFzX1RvdWNoU3RhcnQ9ZnVuY3Rpb24ocil7Yi5oaWRlQWxsT3RoZXJNZW51cygpO2IuZmlsZU1lbnUuaGlkZSgpO3ZhciBzPXIuY2hhbmdlZFRvdWNoZXM7aWYoKHMubGVuZ3RoPT09MSkmJihlLmNvdW50KCk9PT0wKSl7dGhpcy5jYW52YXNDbGllbnRCb3VuZFJlY3Q9dGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy50b3VjaFN0YXRlTWFjaGluZS5wcm9jZXNzVG91Y2goc1swXSxoLlRvdWNoRXZlbnRUeXBlLlN0YXJ0KTt9ZWxzZXt0aGlzLnRvdWNoU3RhdGVNYWNoaW5lLnJlc2V0KCk7fWUudXBkYXRlKHMpO307ay5wcm90b3R5cGUuY2FudmFzX1RvdWNoRHJhZ1RleHRWaWV3PWZ1bmN0aW9uKHMpe3ZhciB0PWUuZ2V0SXRlbShzLmlkZW50aWZpZXIpO2lmKHRoaXMuY29tcG9uZW50VHlwZT09PWIuQ29tcG9uZW50VHlwZS5UZXh0Vmlldyl7dmFyIHI9e1g6dC5jbGllbnRYLXMuY2xpZW50WCxZOnQuY2xpZW50WS1zLmNsaWVudFl9O3I9Yi5wb2ludFBpeGVsVG9Ud2lwcyhyLGIuem9vbSk7Yi5zY3JvbGxEZWx0YShyLHRoaXMuY29tcG9uZW50VHlwZSk7fX07ay5wcm90b3R5cGUuY2FudmFzX1RvdWNoUGluY2hUZXh0Vmlldz1mdW5jdGlvbihEKXtiLmlzUGluY2hab29taW5nPXRydWU7dmFyIEI9RFswXSxFPWUuZ2V0SXRlbShCLmlkZW50aWZpZXIpO3ZhciBDLEY7aWYoRC5sZW5ndGg9PTIpe0M9RFsxXTtGPWUuZ2V0SXRlbShDLmlkZW50aWZpZXIpO31lbHNle2Zvcih2YXIgQSBpbiBlLnRvdWNoZXMpe2lmKEEhPShcIl9cIitCLmlkZW50aWZpZXIpKXtGPUM9ZS50b3VjaGVzW0FdO2JyZWFrO319fXZhciB5PXtYOkUuY2xpZW50WCxZOkUuY2xpZW50WX0sej17WDpGLmNsaWVudFgsWTpGLmNsaWVudFl9LHU9bCh6LHkpLHM9bih5LHopO3k9e1g6Qi5jbGllbnRYLFk6Qi5jbGllbnRZfTt6PXtYOkMuY2xpZW50WCxZOkMuY2xpZW50WX07dmFyIHQ9bCh6LHkpLHI9bih5LHopO3ZhciB4PXtYOk1hdGgucm91bmQocy5YLXIuWCksWTpNYXRoLnJvdW5kKHMuWS1yLlkpfTt2YXIgdj1NYXRoLnNxcnQoeC5YKnguWCt4LlkqeC5ZKTtpZih2PjApe3g9Yi5wb2ludFBpeGVsVG9Ud2lwcyh4LGIuem9vbSk7Yi5zY3JvbGxEZWx0YSh4LHRoaXMuY29tcG9uZW50VHlwZSk7fXZhciB3PXQvdTtiLnpvb209TWF0aC5yb3VuZChiLnpvb20qdyk7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuWm9vbSxiLnpvb20pO307ZnVuY3Rpb24gbyh1KXt2YXIgcj11LmNoYW5nZWRUb3VjaGVzO3ZhciB3PVtdO2Zvcih2YXIgdj0wO3Y8ci5sZW5ndGg7Kyt2KXt2YXIgcz1yW3ZdO3ZhciB4PWUuZ2V0SXRlbShzLmlkZW50aWZpZXIpO2lmKHguaGFzTGVmdERlYWR6b25lKXtzLmhhc0xlZnREZWFkem9uZT10cnVlO3cucHVzaChzKTt9ZWxzZXt2YXIgdD1tKHgscyk7aWYodD49ZCl7cy5oYXNMZWZ0RGVhZHpvbmU9dHJ1ZTt3LnB1c2gocyk7fX19cmV0dXJuIHc7fWsucHJvdG90eXBlLmNhbnZhc19Ub3VjaE1vdmU9ZnVuY3Rpb24ocil7aWYoIWUuY291bnQoKSl7aWYodGhpcy50b3VjaFN0YXRlTWFjaGluZS5zdGF0ZSE9aC5TdGF0ZS5Jbml0aWFsKXt0aGlzLnRvdWNoU3RhdGVNYWNoaW5lLnJlc2V0KCk7fXJldHVybjt9dmFyIHM9byhyKTtpZihzLmxlbmd0aCl7c3dpdGNoKHRoaXMudG91Y2hTdGF0ZU1hY2hpbmUuc3RhdGUpe2Nhc2UgaC5TdGF0ZS5PYmplY3RHcmlwOmNhc2UgaC5TdGF0ZS5JbXBlbmRpbmdEb3VibGVDbGlja09yT2JqZWN0R3JpcDp0aGlzLnRvdWNoU3RhdGVNYWNoaW5lLnByb2Nlc3NUb3VjaChzWzBdLGguVG91Y2hFdmVudFR5cGUuTW92ZSk7YnJlYWs7ZGVmYXVsdDpzd2l0Y2godGhpcy5jb21wb25lbnRUeXBlKXtjYXNlIGIuQ29tcG9uZW50VHlwZS5UZXh0Vmlldzp0aGlzLmNhbnZhc19Ub3VjaE1vdmVUZXh0VmlldyhzKTticmVhazt9dGhpcy50b3VjaFN0YXRlTWFjaGluZS5yZXNldCgpO31lLnVwZGF0ZShzKTt9aWYoci5jYW5jZWxhYmxlKXtyLnByZXZlbnREZWZhdWx0KCk7fX07ay5wcm90b3R5cGUuY2FudmFzX1RvdWNoTW92ZVRleHRWaWV3PWZ1bmN0aW9uKHIpe3N3aXRjaChlLmNvdW50KCkpe2Nhc2UgMTp0aGlzLmNhbnZhc19Ub3VjaERyYWdUZXh0VmlldyhyWzBdKTticmVhaztjYXNlIDI6dGhpcy5jYW52YXNfVG91Y2hQaW5jaFRleHRWaWV3KHIpO2JyZWFrO319O2sucHJvdG90eXBlLmNhbnZhc19Ub3VjaEVuZD1mdW5jdGlvbihyKXtiLmlzUGluY2hab29taW5nPWZhbHNlO3ZhciB1PXIuY2hhbmdlZFRvdWNoZXM7aWYodS5sZW5ndGg9PTEpe3RoaXMudG91Y2hTdGF0ZU1hY2hpbmUucHJvY2Vzc1RvdWNoKHVbMF0saC5Ub3VjaEV2ZW50VHlwZS5FbmQpO31mb3IodmFyIHM9MDtzPHUubGVuZ3RoOysrcyl7dmFyIHQ9dVtzXTtlLnJlbW92ZUl0ZW0odC5pZGVudGlmaWVyKTt9fTtrLnByb3RvdHlwZS5jYW52YXNfVG91Y2hDYW5jZWw9ZnVuY3Rpb24ocil7dmFyIHU9ci5jaGFuZ2VkVG91Y2hlcztpZih1Lmxlbmd0aD09MSl7dGhpcy50b3VjaFN0YXRlTWFjaGluZS5wcm9jZXNzVG91Y2godVswXSxoLlRvdWNoRXZlbnRUeXBlLkVuZCk7fWZvcih2YXIgcz0wO3M8dS5sZW5ndGg7KytzKXt2YXIgdD11W3NdO2UucmVtb3ZlSXRlbSh0LmlkZW50aWZpZXIpO31pZihyLmNhbmNlbGFibGUpe3IucHJldmVudERlZmF1bHQoKTt9fTtmdW5jdGlvbiBsKHQsdSl7dmFyIHI9dS5YLXQuWDt2YXIgcz11LlktdC5ZO3JldHVybiBNYXRoLnNxcnQoKHIqcikrKHMqcykpO31mdW5jdGlvbiBtKHQsdSl7dmFyIHI9e1g6dC5jbGllbnRYLFk6dC5jbGllbnRZfSxzPXtYOnUuY2xpZW50WCxZOnUuY2xpZW50WX07cmV0dXJuIGwocyxyKTt9ZnVuY3Rpb24gbihyLHMpe3JldHVybntYOihyLlgrcy5YKS8yLFk6KHIuWStzLlkpLzJ9O31rLnByb3RvdHlwZS5jYW52YXNfTW91c2VXaGVlbD1mdW5jdGlvbih0KXt2YXIgcz0odC53aGVlbERlbHRhfHwtKHQuZGV0YWlsKjQwKSksdT10aGlzLmdldE1vdXNlUG9zKHQpLHI9e21vdXNlUG9zOntYOk1hdGgucm91bmQodS54KSxZOk1hdGgucm91bmQodS55KX0sbW9kaWZpZXJLZXlzOmIubW9kaWZpZXJLZXlzLGRlbHRhOnN9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNvbXBvbmVudEV2ZW50LGIuVXNlcklucHV0RXZlbnRUeXBlLk1vdXNlV2hlZWwsdGhpcy5jb21wb25lbnRUeXBlLDAscik7dC5wcmV2ZW50RGVmYXVsdCgpO307ay5wcm90b3R5cGUuY3Vyc29yQ2hhbmdlZD1mdW5jdGlvbihzKXt2YXIgdD1zLmRldGFpbDt2YXIgcjtpZih0LnRhcmdldCE9dGhpcy5jb21wb25lbnRUeXBlKXtyZXR1cm47fWlmKHQuZGlhbG9nVHlwZSE9dGhpcy5kaWFsb2dUeXBlKXtyZXR1cm47fWlmKHRoaXMubW91c2VCdXR0b25zJmIuTW91c2VCdXR0b25zLkxlZnQpe3JldHVybjt9dGhpcy5jdXJzb3JUeXBlPXQuY3Vyc29yVHlwZTtzd2l0Y2godC5jdXJzb3JUeXBlKXtjYXNlIGYuSUJlYW06dGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yPVwidGV4dFwiO2JyZWFrO2Nhc2UgZi5BcnJvd05FOnRoaXMuY2FudmFzLnN0eWxlLmN1cnNvcj1cInVybChcIitiLmltYWdlUmVzb3VyY2VzLnNtYWxsLmFycm93bmUrXCIpIDMyIDAsIGRlZmF1bHRcIjticmVhaztjYXNlIGYuVlNwbGl0OnRoaXMuY2FudmFzLnN0eWxlLmN1cnNvcj1cImNvbC1yZXNpemVcIjticmVhaztjYXNlIGYuVXBBcnJvdzp0aGlzLmNhbnZhcy5zdHlsZS5jdXJzb3I9XCJwb2ludGVyXCI7YnJlYWs7Y2FzZSBmLkFycm93OnRoaXMuY2FudmFzLnN0eWxlLmN1cnNvcj1cImRlZmF1bHRcIjticmVhaztjYXNlIGYuRG93bkFycm93OnRoaXMuY2FudmFzLnN0eWxlLmN1cnNvcj1cInVybChcIitiLmltYWdlUmVzb3VyY2VzLnNtYWxsLmRvd25hcnJvdytcIikgMjMgMTEsIGRlZmF1bHRcIjticmVhaztjYXNlIGYuU2l6ZVdFOnRoaXMuY2FudmFzLnN0eWxlLmN1cnNvcj1cImV3LXJlc2l6ZVwiO2JyZWFrO2Nhc2UgZi5TaXplTlM6dGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yPVwibnMtcmVzaXplXCI7YnJlYWs7Y2FzZSBmLlNpemVOV1NFOnRoaXMuY2FudmFzLnN0eWxlLmN1cnNvcj1cIm53c2UtcmVzaXplXCI7YnJlYWs7Y2FzZSBmLlNpemVORVNXOnRoaXMuY2FudmFzLnN0eWxlLmN1cnNvcj1cIm5lc3ctcmVzaXplXCI7YnJlYWs7Y2FzZSBmLlNpemVBbGw6dGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yPVwibW92ZVwiO2JyZWFrO2Nhc2UgZi5Dcm9zczp0aGlzLmNhbnZhcy5zdHlsZS5jdXJzb3I9XCJjcm9zc2hhaXJcIjticmVhaztjYXNlIGYuTm86dGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yPVwibm90LWFsbG93ZWRcIjticmVhaztjYXNlIGYuRHJhZ0Ryb3BDb3B5OnRoaXMuY2FudmFzLnN0eWxlLmN1cnNvcj1cImNvcHlcIjticmVhaztjYXNlIGYuRHJhZ0Ryb3BNb3ZlOnRoaXMuY2FudmFzLnN0eWxlLmN1cnNvcj1cIm1vdmVcIjticmVhaztkZWZhdWx0OnRoaXMuY2FudmFzLnN0eWxlLmN1cnNvcj1cImRlZmF1bHRcIjticmVhazt9fTtrLnByb3RvdHlwZS5zaGFwZUJsaW5rPWZ1bmN0aW9uKCl7aWYodGhpcy5zaGFwZUlzQmxhY2spe3RoaXMuc2hhcGVESVYuc3R5bGUuYm9yZGVyQ29sb3I9cTt0aGlzLnNoYXBlSXNCbGFjaz1mYWxzZTt9ZWxzZXt0aGlzLnNoYXBlRElWLnN0eWxlLmJvcmRlckNvbG9yPVwiYmxhY2tcIjt0aGlzLnNoYXBlSXNCbGFjaz10cnVlO319O2sucHJvdG90eXBlLmhpZGVTaGFwZT1mdW5jdGlvbigpe2lmKHRoaXMuc2hhcGVCbGlua1RpbWVyKXtjbGVhclRpbWVvdXQodGhpcy5zaGFwZUJsaW5rVGltZXIpO3RoaXMuc2hhcGVESVYuc3R5bGUuYm9yZGVyQ29sb3I9XCJibGFja1wiO3RoaXMuc2hhcGVCbGlua1RpbWVyPW51bGw7dGhpcy5zaGFwZUlzQmxhY2s9dHJ1ZTt9dGhpcy5zaGFwZURJVi5zdHlsZS5vcGFjaXR5PTA7dGhpcy5zaGFwZURJVi5zdHlsZS5sZWZ0PVwiLTk5OTlweFwiO307ay5wcm90b3R5cGUuZHJhd1NoYXBlPWZ1bmN0aW9uKHIpe2lmKCEodGhpcy5tb3VzZUJ1dHRvbnMmYi5Nb3VzZUJ1dHRvbnMuTGVmdCkpe3JldHVybjt9dmFyIHQ9ci5kZXRhaWw7aWYoIXRoaXMuc2hhcGVCbGlua1RpbWVyKXt0aGlzLnNoYXBlQmxpbmtUaW1lcj1zZXRJbnRlcnZhbCh0aGlzLnNoYXBlQmxpbmsuYmluZCh0aGlzKSw1MDApO3RoaXMuc2hhcGVESVYuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwidHJhbnNwYXJlbnRcIjtzd2l0Y2godC5LaW5kKXtjYXNlIGcuVGFibGVCb3JkZXJNb3ZpbmdMaW5lOnRoaXMuc2hhcGVESVYuc3R5bGUuYm9yZGVyPVwibm9uZVwiO3RoaXMuc2hhcGVESVYuc3R5bGUuYm9yZGVyTGVmdD1wO2JyZWFrO2Nhc2UgZy5Nb3ZlQW5kU2l6ZUZyYW1lOnRoaXMuc2hhcGVESVYuc3R5bGUuYm9yZGVyPXA7YnJlYWs7Y2FzZSBnLkRyb3BDYXJldDp0aGlzLnNoYXBlRElWLnN0eWxlLmJvcmRlcj1cIm5vbmVcIjt0aGlzLnNoYXBlRElWLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cImJsYWNrXCI7YnJlYWs7fXRoaXMuc2hhcGVESVYuc3R5bGUub3BhY2l0eT0xO312YXIgdj0odC5Mb2NhdGlvbi5YL3RoaXMucGl4ZWxSYXRpbykrdGhpcy5sZWZ0LHc9KHQuTG9jYXRpb24uWS90aGlzLnBpeGVsUmF0aW8pK3RoaXMudG9wO3RoaXMuc2hhcGVESVYuc3R5bGUudG9wPXcrXCJweFwiO3RoaXMuc2hhcGVESVYuc3R5bGUubGVmdD12K1wicHhcIjt2YXIgdT1NYXRoLm1heCgxLHQuU2l6ZS5XaWR0aC90aGlzLnBpeGVsUmF0aW8pO3ZhciBzPU1hdGgubWF4KDEsdC5TaXplLkhlaWdodC90aGlzLnBpeGVsUmF0aW8pO3RoaXMuc2hhcGVESVYuc3R5bGUuaGVpZ2h0PXMrXCJweFwiO3RoaXMuc2hhcGVESVYuc3R5bGUud2lkdGg9dStcInB4XCI7fTtrLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe2lmKGIuaWdub3JlTmV4dFRleHRGb2N1c1JlcXVlc3Qpe2IuaWdub3JlTmV4dFRleHRGb2N1c1JlcXVlc3Q9ZmFsc2U7cmV0dXJuO31pZighdGhpcy5oaWRkZW5UZXh0RmllbGQpe3JldHVybjt9aWYoKHRoaXMuY29tcG9uZW50VHlwZSE9PWIuQ29tcG9uZW50VHlwZS5UZXh0VmlldykmJih0aGlzLmNvbXBvbmVudFR5cGUhPT1iLkNvbXBvbmVudFR5cGUuVHhEaWFsb2cpKXtyZXR1cm47fXRoaXMuaGlkZGVuVGV4dEZpZWxkLmZvY3VzKCk7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ29tcG9uZW50QWN0aXZhdGlvblN0YXRlLHRoaXMuY29tcG9uZW50VHlwZSxiLkFjdGl2YXRpb25TdGF0ZS5BY3RpdmF0ZWQpO307ay5wcm90b3R5cGUuYmx1cj1mdW5jdGlvbigpe2lmKHRoaXMuaGlkZGVuVGV4dEZpZWxkKXt0aGlzLmhpZGRlblRleHRGaWVsZC5ibHVyKCk7fX07ay5wcm90b3R5cGUuZ2V0TW91c2VQb3M9ZnVuY3Rpb24ocil7dmFyIHM7aWYoYi5pc1RvdWNoRGV2aWNlJiZ0aGlzLmNhbnZhc0NsaWVudEJvdW5kUmVjdCl7cz10aGlzLmNhbnZhc0NsaWVudEJvdW5kUmVjdDt9ZWxzZXtzPXRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO31yZXR1cm57eDooci5jbGllbnRYLXMubGVmdCkqdGhpcy5waXhlbFJhdGlvLHk6KHIuY2xpZW50WS1zLnRvcCkqdGhpcy5waXhlbFJhdGlvfTt9O2sucHJvdG90eXBlLm1vdXNlQnV0dG9uVG9Nb3VzZUJ1dHRvbkZsYWc9ZnVuY3Rpb24ocil7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gYi5Nb3VzZUJ1dHRvbnMuTGVmdDtjYXNlIDI6cmV0dXJuIGIuTW91c2VCdXR0b25zLk1pZGRsZTtjYXNlIDM6cmV0dXJuIGIuTW91c2VCdXR0b25zLlJpZ2h0O31yZXR1cm4gMDt9O2sucHJvdG90eXBlLnNldEhpZGRlblRleHRGaWVsZFRleHQ9ZnVuY3Rpb24ocil7dGhpcy5oaWRkZW5UZXh0RmllbGQuc2V0VGV4dChyKTt9O2sucHJvdG90eXBlLnNlbGVjdEhpZGRlblRleHRmaWVsZENvbnRlbnQ9ZnVuY3Rpb24oKXt0aGlzLmhpZGRlblRleHRGaWVsZC5zZWxlY3RBbGwoKTt9O3JldHVybiBrO30pKCk7cmV0dXJuIGk7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihnLGEpe3ZhciBiPWcuX3ByaXZhdGU9Zy5fcHJpdmF0ZXx8e307Yi5PdmVybGF5Q29udHJvbFR5cGU9e307Yi5PdmVybGF5Q29udHJvbE1lc3NhZ2U9e307Yi5PdmVybGF5Q29udHJvbFN0YXRlVHlwZT17fTtiLm92ZXJsYXlDb250cm9scz17Y29tYm9Cb3g6bnVsbCxkYXRlUGlja2VyOm51bGwsZXhpc3Q6ZnVuY3Rpb24oKXtmb3IodmFyIGkgaW4gdGhpcyl7aWYoKHR5cGVvZiB0aGlzW2ldIT09XCJmdW5jdGlvblwiKSYmKHRoaXNbaV0hPT1udWxsKSl7cmV0dXJuIHRydWU7fX1yZXR1cm4gZmFsc2U7fX07Yi5wcm9jZXNzT3ZlcmxheUNvbnRyb2xDb21tYW5kPWZ1bmN0aW9uKGkpe3N3aXRjaChpLlBhcmFtMSl7Y2FzZSBiLk92ZXJsYXlDb250cm9sTWVzc2FnZS5DcmVhdGU6YyhpLkRhdGEpO2JyZWFrO2Nhc2UgYi5PdmVybGF5Q29udHJvbE1lc3NhZ2UuUmVtb3ZlOmYoaS5EYXRhKTticmVhaztjYXNlIGIuT3ZlcmxheUNvbnRyb2xNZXNzYWdlLkZvY3VzOmQoaS5EYXRhKTticmVhaztjYXNlIGIuT3ZlcmxheUNvbnRyb2xNZXNzYWdlLlN0YXRlOmgoaS5EYXRhKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcInByb2Nlc3NPdmVybGF5Q29udHJvbENvbW1hbmQoKTogVW5rbm93biBvdmVybGF5IGNvbnRyb2wgY29tbWFuZCBcIitpLlBhcmFtMSk7fX07ZnVuY3Rpb24gYyhqKXt2YXIgaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKSxtPWUoKTtzd2l0Y2goai5jb250cm9sVHlwZSl7Y2FzZSBiLk92ZXJsYXlDb250cm9sVHlwZS5Db21ib0JveDprKCk7YnJlYWs7Y2FzZSBiLk92ZXJsYXlDb250cm9sVHlwZS5EYXRlUGlja2VyOmlmKGIuQnJvd3NlckRldGVjdC5icm93c2VyPT09XCJFeHBsb3JlclwiKXticmVhazt9bCgpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiY3JlYXRlT3ZlcmxheUNvbnRyb2woKTogVW5rbm93biBvdmVybGF5IGNvbnRyb2wgdHlwZSBcIitqLmNvbnRyb2xUeXBlKTt9ZnVuY3Rpb24gaygpe3ZhciBwLG47bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO24uY2xhc3NMaXN0LmFkZChcInR4T3ZlcmxheUNvbnRyb2xcIik7bi5pZD1qLm5hbWU7bi5zdHlsZS50b3A9ai5sb2NhdGlvbi55K20ueStcInB4XCI7bi5zdHlsZS5sZWZ0PWoubG9jYXRpb24ueCttLngrXCJweFwiO2lmKGouc2l6ZSl7bi5zdHlsZS5oZWlnaHQ9ai5zaXplLmhlaWdodCtcInB4XCI7bi5zdHlsZS53aWR0aD1qLnNpemUud2lkdGgrXCJweFwiO31uLnN0eWxlLmZvbnRGYW1pbHk9ai5mb250TmFtZTtuLnN0eWxlLmZvbnRTaXplPWouZm9udFNpemUrXCJwdFwiO24uc3R5bGUuZm9udFdlaWdodD1qLmJvbGQ/XCI3MDBcIjpcIjQwMFwiO24uc3R5bGUuZm9udFN0eWxlPWouaXRhbGljP1wiaXRhbGljXCI6XCJcIjtqLml0ZW1zLmZvckVhY2goZnVuY3Rpb24odil7cD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3AudGV4dENvbnRlbnQ9di5UZXh0O3AudmFsdWU9di5WYWx1ZTtuLmFwcGVuZENoaWxkKHApO30pO3A9ai50ZXh0P1tdLmZpbmQuY2FsbChuLm9wdGlvbnMsZnVuY3Rpb24odil7cmV0dXJuIHYudGV4dD09PWoudGV4dDt9KTpudWxsO2lmKCFwKXtwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7cC50ZXh0PXAudmFsdWU9ai50ZXh0O3Auc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtpZihuLmZpcnN0Q2hpbGQpe24uaW5zZXJ0QmVmb3JlKHAsbi5maXJzdENoaWxkKTt9ZWxzZXtuLmFwcGVuZENoaWxkKHApO319cC5zZWxlY3RlZD10cnVlO2kuYXBwZW5kQ2hpbGQobik7Yi50ZXh0Vmlld2VyLmJsdXIoKTtiLm92ZXJsYXlDb250cm9scy5jb21ib0JveD1uO24uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLG8pO2lmKGouaXNFZGl0YWJsZSl7bi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIscik7fW4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixzKTtuLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIscSk7ZnVuY3Rpb24gbyh3KXt2YXIgdj17bmFtZTpqLm5hbWUsdmFsdWU6KHcudGFyZ2V0LnZhbHVlPT09XCJudWxsXCIpP251bGw6dy50YXJnZXQudmFsdWV9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLk92ZXJsYXlDb250cm9sQ29tbWFuZCxiLk92ZXJsYXlDb250cm9sTWVzc2FnZS5FdmVudCxiLk92ZXJsYXlDb250cm9sVHlwZS5Db21ib0JveCxiLklucHV0Q29udHJvbEV2ZW50VHlwZS5DaGFuZ2Usdik7fWZ1bmN0aW9uIHIodil7dmFyIHk9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt2YXIgeD17eDp2LmNsaWVudFgteS5sZWZ0LHk6di5jbGllbnRZLXkudG9wLGlzSW5zaWRlOmZ1bmN0aW9uKHope3JldHVybih0aGlzLng+PXoubGVmdCkmJih0aGlzLng8PXoubGVmdCt6LndpZHRoKSYmKHRoaXMueT49ei50b3ApJiYodGhpcy55PD16LnRvcCt6LmhlaWdodCk7fX07aWYoeC5pc0luc2lkZSh3KCkpKXt0KCk7dSh7eDp2LmNsaWVudFgseTp2LmNsaWVudFl9KTt9ZnVuY3Rpb24gdygpe3ZhciBBPWoudG9wTGVmdFBhZGRpbmcsej1qLmRyb3BEb3duQXJyb3dXaWR0aDtyZXR1cm57bGVmdDpBLndpZHRoLHRvcDpBLmhlaWdodCx3aWR0aDp5LndpZHRoLUEud2lkdGgteixoZWlnaHQ6eS5oZWlnaHQtMipBLmhlaWdodH07fX1mdW5jdGlvbiBzKHYpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNvbXBvbmVudEFjdGl2YXRpb25TdGF0ZSxiLkNvbXBvbmVudFR5cGUuVGV4dFZpZXcsYi5BY3RpdmF0aW9uU3RhdGUuRGVhY3RpdmF0ZWQpO31mdW5jdGlvbiBxKHYpe3N3aXRjaCh2LmtleSl7Y2FzZVwiRXNjXCI6Y2FzZVwiRXNjYXBlXCI6Y2FzZVwiRW50ZXJcIjp0KCk7YnJlYWs7fX1mdW5jdGlvbiB0KCl7bi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLk92ZXJsYXlDb250cm9sQ29tbWFuZCxiLk92ZXJsYXlDb250cm9sTWVzc2FnZS5SZW1vdmUsMCwwLHtuYW1lOmoubmFtZX0pO2IudGV4dFZpZXdlci5mb2N1cygpO31mdW5jdGlvbiB1KHcpe3ZhciB4PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbkNhbnZhc1wiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt2YXIgdj17bW91c2VQb3M6e1g6TWF0aC5yb3VuZCh3LngteC5sZWZ0KSxZOk1hdGgucm91bmQody55LXgudG9wKX0sbW9kaWZpZXJLZXlzOjAsYnV0dG9uczpiLk1vdXNlQnV0dG9ucy5MZWZ0fTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5Db21wb25lbnRFdmVudCxiLlVzZXJJbnB1dEV2ZW50VHlwZS5Nb3VzZURvd24sYi5Db21wb25lbnRUeXBlLlRleHRWaWV3LDAsdik7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ29tcG9uZW50RXZlbnQsYi5Vc2VySW5wdXRFdmVudFR5cGUuTW91c2VVcCxiLkNvbXBvbmVudFR5cGUuVGV4dFZpZXcsMCx2KTt9fWZ1bmN0aW9uIGwoKXt2YXIgbztvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtvLnR5cGU9XCJkYXRlXCI7by5jbGFzc0xpc3QuYWRkKFwidHhPdmVybGF5Q29udHJvbFwiKTtvLmlkPWoubmFtZTtvLnZhbHVlPWoudmFsdWU7by5zdHlsZS50b3A9ai5sb2NhdGlvbi55K20ueStcInB4XCI7by5zdHlsZS5sZWZ0PWoubG9jYXRpb24ueCttLngrXCJweFwiO2lmKGouc2l6ZSl7by5zdHlsZS5oZWlnaHQ9ai5zaXplLmhlaWdodCtcInB4XCI7by5zdHlsZS53aWR0aD1qLnNpemUud2lkdGgrXCJweFwiO31vLnN0eWxlLmZvbnRGYW1pbHk9ai5mb250TmFtZTtvLnN0eWxlLmZvbnRTaXplPWouZm9udFNpemUrXCJwdFwiO2kuYXBwZW5kQ2hpbGQobyk7Yi50ZXh0Vmlld2VyLmJsdXIoKTtiLm92ZXJsYXlDb250cm9scy5kYXRlUGlja2VyPW87by5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsbik7by5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHApO2Z1bmN0aW9uIG4ocyl7dmFyIHI9e25hbWU6ai5uYW1lLHZhbHVlOihzLnRhcmdldC52YWx1ZT09PVwibnVsbFwiKT9udWxsOnMudGFyZ2V0LnZhbHVlfTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5PdmVybGF5Q29udHJvbENvbW1hbmQsYi5PdmVybGF5Q29udHJvbE1lc3NhZ2UuRXZlbnQsYi5PdmVybGF5Q29udHJvbFR5cGUuRGF0ZVBpY2tlcixiLklucHV0Q29udHJvbEV2ZW50VHlwZS5DaGFuZ2Uscik7fWZ1bmN0aW9uIHAocil7c3dpdGNoKHIua2V5KXtjYXNlXCJFc2NcIjpjYXNlXCJFc2NhcGVcIjpjYXNlXCJFbnRlclwiOnEoKTticmVhazt9fWZ1bmN0aW9uIHEoKXtvLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuT3ZlcmxheUNvbnRyb2xDb21tYW5kLGIuT3ZlcmxheUNvbnRyb2xNZXNzYWdlLlJlbW92ZSwwLDAse25hbWU6ai5uYW1lfSk7Yi50ZXh0Vmlld2VyLmZvY3VzKCk7fX19ZnVuY3Rpb24gZihqKXt2YXIgaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChqLm5hbWUpO2lmKCFpKXtjb25zb2xlLmVycm9yKFwicmVtb3ZlT3ZlcmxheUNvbnRyb2woKTogRWxlbWVudCB3aXRoIGlkIFwiK2oubmFtZStcIiBub3QgZm91bmQuXCIpO3JldHVybjt9aS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkpO2IudGV4dFZpZXdlci5mb2N1cygpO3N3aXRjaChpLnRhZ05hbWUpe2Nhc2VcIlNFTEVDVFwiOmIub3ZlcmxheUNvbnRyb2xzLmNvbWJvQm94PW51bGw7YnJlYWs7Y2FzZVwiSU5QVVRcIjpiLm92ZXJsYXlDb250cm9scy5kYXRlUGlja2VyPW51bGw7YnJlYWs7fX1mdW5jdGlvbiBkKGope3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGoubmFtZSk7aWYoIWkpe2NvbnNvbGUuZXJyb3IoXCJmb2N1c092ZXJsYXlDb250cm9sKCk6IEVsZW1lbnQgd2l0aCBpZCBcIitqLm5hbWUrXCIgbm90IGZvdW5kLlwiKTtyZXR1cm47fWkuZm9jdXMoKTt9ZnVuY3Rpb24gaChqKXt2YXIgaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChqLm5hbWUpO2lmKCFpKXt0aHJvdyBuZXcgRXJyb3IoXCJ1cGRhdGVPdmVybGF5Q29udHJvbFN0YXRlKCk6IGVsZW1lbnQgd2l0aCBpZCBcIitqLm5hbWUrXCIgbm90IGZvdW5kLlwiKTt9dmFyIG89ai52YWx1ZTtzd2l0Y2goai5zdGF0ZVR5cGUpe2Nhc2UgYi5PdmVybGF5Q29udHJvbFN0YXRlVHlwZS5JdGVtczprKCk7YnJlYWs7Y2FzZSBiLk92ZXJsYXlDb250cm9sU3RhdGVUeXBlLlNpemU6bigpO2JyZWFrO2Nhc2UgYi5PdmVybGF5Q29udHJvbFN0YXRlVHlwZS5Mb2NhdGlvbjpsKCk7YnJlYWs7Y2FzZSBiLk92ZXJsYXlDb250cm9sU3RhdGVUeXBlLlNlbGVjdGVkSXRlbTptKCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJ1cGRhdGVPdmVybGF5Q29udHJvbFN0YXRlKCk6IFVua25vd24gY29udHJvbCBzdGF0ZSB0eXBlIFwiK2ouc3RhdGVUeXBlKTt9ZnVuY3Rpb24gaygpe3ZhciBxLHA7aWYoaS50YWdOYW1lIT09XCJTRUxFQ1RcIil7Y29uc29sZS5lcnJvcihcInVwZGF0ZU92ZXJsYXlDb250cm9sU3RhdGUoKTogQ2FuIG9ubHkgdXBkYXRlIHRoZSBpdGVtcyBvZiBTRUxFQ1QgZWxlbWVudHMuXCIpO3JldHVybjt9cD1bXS5maW5kLmNhbGwoaS5vcHRpb25zLGZ1bmN0aW9uKHIpe3JldHVybiByLnN0eWxlLmRpc3BsYXk9PT1cIm5vbmVcIjt9KTtpZihwKXtxPXt0ZXh0OnAudGV4dCx2YWx1ZTpwLnZhbHVlfTt9aS5pbm5lckhUTUw9XCJcIjtvLmZvckVhY2goZnVuY3Rpb24ocil7cD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3AudGV4dENvbnRlbnQ9ci5UZXh0O3AudmFsdWU9ci5WYWx1ZTtpLmFwcGVuZENoaWxkKHApO30pO2lmKHEpe3A9W10uZmluZC5jYWxsKGkub3B0aW9ucyxmdW5jdGlvbihyKXtyZXR1cm4gci50ZXh0PT09cS50ZXh0O30pO2lmKCFwKXtwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7cC50ZXh0PXEudGV4dDtwLnZhbHVlPXEudmFsdWU7aWYoaS5maXJzdENoaWxkKXtpLmluc2VydEJlZm9yZShwLGkuZmlyc3RDaGlsZCk7fWVsc2V7aS5hcHBlbmRDaGlsZChwKTt9fXAuc2VsZWN0ZWQ9dHJ1ZTt9fWZ1bmN0aW9uIG4oKXtpZihvKXtpLnN0eWxlLndpZHRoPW8ud2lkdGgrXCJweFwiO2kuc3R5bGUuaGVpZ2h0PW8uaGVpZ2h0K1wicHhcIjt9ZWxzZXtpLnN0eWxlLndpZHRoPVwiXCI7aS5zdHlsZS5oZWlnaHQ9XCJcIjt9fWZ1bmN0aW9uIGwoKXt2YXIgcD1lKCk7aS5zdHlsZS5sZWZ0PW8ueCtwLngrXCJweFwiO2kuc3R5bGUudG9wPW8ueStwLnkrXCJweFwiO31mdW5jdGlvbiBtKCl7aWYobz09PW51bGwpe3ZhciBwPVtdLmZpbmQuY2FsbChpLm9wdGlvbnMsZnVuY3Rpb24ocSl7cmV0dXJuIHEuc3R5bGUuZGlzcGxheT09PVwibm9uZVwiO30pO2lmKHApe2kucmVtb3ZlQ2hpbGQocCk7fWkuc2VsZWN0ZWRJbmRleD0tMTt9ZWxzZXtjb25zb2xlLmVycm9yKFwidXBkYXRlT3ZlcmxheUNvbnRyb2xTZWxlY3RlZEl0ZW0oKTogTm9uLW51bGwgY2FzZSBub3QgaW1wbGVtZW50ZWQgeWV0LlwiKTt9fX1mdW5jdGlvbiBlKCl7dmFyIGo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluQ2FudmFzXCIpLGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXJcIiksaz1qLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGw9aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm57eDprLmxlZnQtbC5sZWZ0LHk6ay50b3AtbC50b3B9O31yZXR1cm4gZzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKHQsYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9dC5fcHJpdmF0ZT10Ll9wcml2YXRlfHx7fTtlLlNjcm9sbGJhcldpZHRoPTE1O2UuU3RhdHVzQmFySGVpZ2h0PTIyO2UuVmVydFJ1bGVyV2lkdGg9MjU7ZS5Ib3JSdWxlckhlaWdodD0yNTtlLk1pblNjcm9sbGJhckhhbmRsZUxlbmd0aD0zMDtlLkRFRkFVTFRfUklCQk9OQkFSX0hFSUdIVD0xMTQ7ZS5yaWJib25CYXJIZWlnaHQ9ZS5ERUZBVUxUX1JJQkJPTkJBUl9IRUlHSFQ7ZS5EZWZSZXM9OTY7ZS5TY3JvbGxTdGVwPTEwMDA7dmFyIGM9ZmFsc2U7dmFyIGg9ZmFsc2U7dmFyIGI9dHJ1ZTt2YXIgZz10cnVlO3ZhciBmPXRydWU7ZS5WaWV3ZXJzSW52aXNpYmxlPXRydWU7ZS5TY3JvbGxQYWRkaW5nPTU2Nzt2YXIgZD1mYWxzZTtlLmNsaWVudFNpemU9e1dpZHRoOjAsSGVpZ2h0OjB9O2UudGV4dFZpZXdTaXplSW5Ud2lwcz17V2lkdGg6MCxIZWlnaHQ6MH07ZS5kb2N1bWVudFNpemU9e1dpZHRoOjAsSGVpZ2h0OjB9O2Uudmlld0xvY2F0aW9uPXtYOi1lLlNjcm9sbFBhZGRpbmcsWTowfTtlLlNpZGVCYXJUeXBlPU9iamVjdC5mcmVlemUoe1RyYWNrQ2hhbmdlczoxfSk7ZS5TcGVjaWFsWm9vbUZhY3Rvcj17UGFnZVdpZHRoOi0xLFdob2xlUGFnZTotMixUZXh0V2lkdGg6LTN9O2Uuem9vbT0xMDA7dmFyIG47ZS5jcmVhdGVUcmFja0NoYW5nZXNTaWRlYmFyPWZ1bmN0aW9uKCl7ZS50cmFja0NoYW5nZXNTaWRlYmFyPW5ldyBlLlRYU2lkZWJhcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWNrQ2hhbmdlc1NpZGViYXJcIiksMjEwKTtlLnRyYWNrQ2hhbmdlc1NpZGViYXIuaGVhZGVyPWUuVFhUZXh0Q29udHJvbFJlc291cmNlcy5JRF9UUkFDS0VEQ0hBTkdFU19DQVBUSU9OO3ZhciBCPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdHJhY2tDaGFuZ2VzU2lkZWJhciAucmVmcmVzaGJ0blwiKTtCLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZS5zZW5kQ29tbWFuZChlLkNvbW1hbmQuVHJhY2tlZENoYW5nZXNWaWV3ZXJSZWZyZXNoKTt9KTtlLnRyYWNrQ2hhbmdlc1NpZGViYXIuYWRkRXZlbnRMaXN0ZW5lcihcImhpZGRlblwiLGZ1bmN0aW9uKCl7aSgpO2Uuc2VuZENvbW1hbmQoZS5Db21tYW5kLlRyYWNrQ2hhbmdlc1ZpZXdlckRpc3Bvc2UpO30pO2UudHJhY2tDaGFuZ2VzU2lkZWJhci5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJsZVwiLGZ1bmN0aW9uKCl7aWYoZS5UWFRleHRDb250cm9sUmVzb3VyY2VzLklEX1RSQUNLRURDSEFOR0VTX0NPVU5UKXtlLnRyYWNrQ2hhbmdlc1NpZGViYXIuc3ViVGl0bGU9ZS5UWFRleHRDb250cm9sUmVzb3VyY2VzLklEX1RSQUNLRURDSEFOR0VTX0NPVU5UK2UudHJhY2tlZENoYW5nZXNDb3VudDt9aWYoZS5UWFRleHRDb250cm9sUmVzb3VyY2VzLlRPT0xUSVBfUmVmcmVzaFRyYWNrZWRDaGFuZ2VzKXtCLnRpdGxlPWUuVFhUZXh0Q29udHJvbFJlc291cmNlcy5UT09MVElQX1JlZnJlc2hUcmFja2VkQ2hhbmdlczt9ZS5zZW5kQ29tbWFuZChlLkNvbW1hbmQuVHJhY2tDaGFuZ2VzVmlld2VySW5pdGlhdGUpO2koKTt9KTtlLnRyYWNrQ2hhbmdlc1ZpZXdlcj1uZXcgZS5UZXh0Q29tcG9uZW50Vmlld2VyKHRyYWNrQ2hhbmdlc0NhbnZhcyxlLkNvbXBvbmVudFR5cGUuVHJhY2tDaGFuZ2VzVmlldyk7ZS50eFRyYWNrQ2hhbmdlc1ZlcnRpY2FsU2Nyb2xsYmFyPW5ldyBlLlNjcm9sbGJhcihhKFwiI3R4VHJhY2tDaGFuZ2VzU2Nyb2xsYmFyXCIpLGUudHJhY2tDaGFuZ2VzVmlld2VyLGUuU2xpZGVyT3JpZW50YXRpb24uVmVydGljYWwpO2UudHhUcmFja0NoYW5nZXNIb3Jpem9udGFsU2Nyb2xsYmFyPW5ldyBlLlNjcm9sbGJhcihhKFwiI3R4VHJhY2tDaGFuZ2VzSG9yU2Nyb2xsYmFyXCIpLGUudHJhY2tDaGFuZ2VzVmlld2VyLGUuU2xpZGVyT3JpZW50YXRpb24uSG9yaXpvbnRhbCk7aSgpO307ZS5jcmVhdGVTY3JvbGxiYXJzPWZ1bmN0aW9uKCl7dmFyIEI9YShcIiNzbGlkZXItaG9yaXpvbnRhbFwiKTt2YXIgQz1hKFwiI3NsaWRlci12ZXJ0aWNhbFwiKTtDLm9uKFwibW91c2Vkb3duXCIseik7Qy5vbihcInRvdWNoc3RhcnRcIix6KTtCLm9uKFwibW91c2Vkb3duXCIsbSk7Qi5vbihcInRvdWNoc3RhcnRcIixtKTtCLnNsaWRlcih7b3JpZW50YXRpb246ZS5TbGlkZXJPcmllbnRhdGlvbi5Ib3Jpem9udGFsLG1pbjotZS5TY3JvbGxQYWRkaW5nLG1heDoxMDAsdmFsdWU6LWUuU2Nyb2xsUGFkZGluZyxzbGlkZTpmdW5jdGlvbihELEUpe28oRS52YWx1ZSk7fSxzdGFydDpmdW5jdGlvbigpe2Q9dHJ1ZTt9LHN0b3A6ZnVuY3Rpb24oKXtkPWZhbHNlO319KTtDLnNsaWRlcih7b3JpZW50YXRpb246ZS5TbGlkZXJPcmllbnRhdGlvbi5WZXJ0aWNhbCxtaW46MCxtYXg6MTAwLHZhbHVlOjEwMCxzbGlkZTpmdW5jdGlvbihELEUpe3ZhciBGPUMuc2xpZGVyKFwib3B0aW9uXCIsXCJtYXhcIiktRS52YWx1ZTtwKEYpO30sc3RhcnQ6ZnVuY3Rpb24oKXtkPXRydWU7fSxzdG9wOmZ1bmN0aW9uKCl7ZD1mYWxzZTt9fSk7YShcIiNzbGlkZXItaG9yaXpvbnRhbCAudHh1aS1zbGlkZXItaGFuZGxlXCIpLnVuYmluZChcImtleWRvd25cIik7YShcIiNzbGlkZXItdmVydGljYWwgLnR4dWktc2xpZGVyLWhhbmRsZVwiKS51bmJpbmQoXCJrZXlkb3duXCIpO2EoXCIjdmVydGljYWwtc2Nyb2xsYmFyLXdyYXBwZXJcIikuY2xpY2soeSk7YShcIiNob3Jpem9udGFsLXNjcm9sbGJhci13cmFwcGVyXCIpLmNsaWNrKGwpO2EoXCJkaXYuc2Nyb2xsLWJ1dHRvblwiKS5jbGljayhxKTt9O2Z1bmN0aW9uIG8oQil7ZS5zZW5kQ29tbWFuZChlLkNvbW1hbmQuSFNjcm9sbCxCKTt9ZnVuY3Rpb24gcChCKXtlLnNlbmRDb21tYW5kKGUuQ29tbWFuZC5WU2Nyb2xsLEIpO31lLnNjcm9sbERlbHRhPWZ1bmN0aW9uKEMsQil7ZS5zZW5kQ29tbWFuZChlLkNvbW1hbmQuU2Nyb2xsRGVsdGEsQy5YLEMuWSxCKTt9O2Uub25Db250YWluZXJSZXNpemU9ZnVuY3Rpb24oKXtlLmFkYXB0Vmlld1RvQ29udGFpbmVyU2l6ZSgpO307ZS5kb2N1bWVudFNpemVDaGFuZ2VkSGFuZGxlcj1mdW5jdGlvbihCKXt2YXIgQz1CLmRldGFpbDtlLmRvY3VtZW50U2l6ZS5XaWR0aD1DLldpZHRoO2UuZG9jdW1lbnRTaXplLkhlaWdodD1DLkhlaWdodDtpKCk7fTtmdW5jdGlvbiBab29tRmFjdG9yQ2hhbmdlZEV2ZW50QXJncyh6b29tRmFjdG9yKXt0aGlzLnpvb21GYWN0b3I9em9vbUZhY3Rvcjt9ZS50eFpvb21lZEhhbmRsZXI9ZnVuY3Rpb24oQyl7dmFyIEQ9Qy5kZXRhaWw7dmFyIEI9bmV3IFpvb21GYWN0b3JDaGFuZ2VkRXZlbnRBcmdzKEQuem9vbUZhY3Rvcik7ZS5maXJlRXZlbnQoZS5FdmVudE5hbWUuem9vbUZhY3RvckNoYW5nZWQsQik7aWYoIWUuaXNQaW5jaFpvb21pbmcpe2Uuem9vbT1ELnpvb21GYWN0b3I7fWkoKTt9O2Z1bmN0aW9uIHcoKXtpZihkKXtyZXR1cm47fWlmKCFlLmRvY3VtZW50U2l6ZS5XaWR0aHx8IWUuZG9jdW1lbnRTaXplLkhlaWdodCl7cmV0dXJuO312YXIgRT17V2lkdGg6ZS50ZXh0Vmlld2VyLndpZHRoLEhlaWdodDplLnRleHRWaWV3ZXIuaGVpZ2h0fTtFPXMoRSxlLnpvb20pO3ZhciBCPWUuZG9jdW1lbnRTaXplLldpZHRoLUUuV2lkdGg7dmFyIEY9ZS5kb2N1bWVudFNpemUuSGVpZ2h0LUUuSGVpZ2h0O3ZhciBDPShlLnZpZXdMb2NhdGlvbi5YK2UuU2Nyb2xsUGFkZGluZykvQjt2YXIgRD1lLnZpZXdMb2NhdGlvbi5ZL0Y7aWYoYyl7YShcIiNzbGlkZXItaG9yaXpvbnRhbFwiKS5zbGlkZXIoXCJvcHRpb25cIixcInZhbHVlXCIsKEMqZS5kb2N1bWVudFNpemUuV2lkdGgpLWUuU2Nyb2xsUGFkZGluZyk7fWlmKGgpe2EoXCIjc2xpZGVyLXZlcnRpY2FsXCIpLnNsaWRlcihcIm9wdGlvblwiLFwidmFsdWVcIiwoMS1EKSplLmRvY3VtZW50U2l6ZS5IZWlnaHQpO319ZnVuY3Rpb24gdigpe3ZhciBCPWI/ZS5Ib3JSdWxlckhlaWdodDowO3ZhciBDPWc/ZS5WZXJ0UnVsZXJXaWR0aDowO3UoQyxCKTt4KEMsQik7fWZ1bmN0aW9uIHUoTCxGKXt2YXIgST1hKFwiI3NsaWRlci1ob3Jpem9udGFsXCIpO3ZhciBKPWEoXCIjaG9yaXpvbnRhbC1zY3JvbGxiYXItd3JhcHBlclwiKTt2YXIgQj17bGVmdDphKFwiI3Njcm9sbC1idXR0b24tbGVmdFwiKSxyaWdodDphKFwiI3Njcm9sbC1idXR0b24tcmlnaHRcIil9O3ZhciBEPWEoXCIjc2xpZGVyLWhvcml6b250YWwgYS50eHVpLXNsaWRlci1oYW5kbGVcIik7dmFyIEU9Si5wYXJlbnQoKTtpZihjKXtFLmNzcyhcImxlZnRcIixlLnRleHRWaWV3ZXIubGVmdCk7RS5zaG93KCk7Si5zaG93KCk7Qi5sZWZ0LnNob3coKTtCLnJpZ2h0LnNob3coKTt2YXIgQz1CLmxlZnRbMF0uY2xpZW50V2lkdGg7dmFyIEg9ZS50ZXh0Vmlld2VyLndpZHRoLSgyKkMpO3ZhciBHPU1hdGgubWF4KGUuTWluU2Nyb2xsYmFySGFuZGxlTGVuZ3RoLChlLnRleHRWaWV3U2l6ZUluVHdpcHMuV2lkdGgvZS5kb2N1bWVudFNpemUuV2lkdGgpKkgpO0QuY3NzKHt3aWR0aDpHLGhlaWdodDplLlNjcm9sbGJhcldpZHRoLHRvcDowLG1hcmdpbkxlZnQ6LShHLzIpfSk7SS5zbGlkZXIoXCJvcHRpb25cIixcIm1pblwiLC1lLlNjcm9sbFBhZGRpbmcpO0kuc2xpZGVyKFwib3B0aW9uXCIsXCJtYXhcIixlLmRvY3VtZW50U2l6ZS5XaWR0aC1lLlNjcm9sbFBhZGRpbmcpO0kuY3NzKHt3aWR0aDplLnRleHRWaWV3ZXIud2lkdGgtRy0oMipDKSxtYXJnaW5MZWZ0OkcvMn0pO3ZhciBLPWUudGV4dFZpZXdlci5oZWlnaHQrZS5yaWJib25CYXJIZWlnaHQrRjtKLmNzcyh7d2lkdGg6SCxoZWlnaHQ6ZS5TY3JvbGxiYXJXaWR0aCxsZWZ0OkMsdG9wOkt9KTtCLmxlZnQuY3NzKHt0b3A6S30pO0IucmlnaHQuY3NzKHtsZWZ0OkMrSCx0b3A6S30pO31lbHNle0UuaGlkZSgpO0ouaGlkZSgpO0IubGVmdC5oaWRlKCk7Qi5yaWdodC5oaWRlKCk7fX1mdW5jdGlvbiB4KEssRSl7dmFyIEk9YShcIiNzbGlkZXItdmVydGljYWxcIik7dmFyIEo9YShcIiN2ZXJ0aWNhbC1zY3JvbGxiYXItd3JhcHBlclwiKTt2YXIgQz17dXA6YShcIiNzY3JvbGwtYnV0dG9uLXVwXCIpLGRvd246YShcIiNzY3JvbGwtYnV0dG9uLWRvd25cIil9O3ZhciBEPWEoXCIjc2xpZGVyLXZlcnRpY2FsIGEudHh1aS1zbGlkZXItaGFuZGxlXCIpO3ZhciBIPUoucGFyZW50KCk7aWYoaCl7SC5jc3MoXCJsZWZ0XCIsZS50ZXh0Vmlld2VyLmxlZnQrZS50ZXh0Vmlld2VyLndpZHRoKTtILnNob3coKTtKLnNob3coKTtDLnVwLnNob3coKTtDLmRvd24uc2hvdygpO3ZhciBCPUMudXBbMF0uY2xpZW50SGVpZ2h0O3ZhciBHPWUudGV4dFZpZXdlci5oZWlnaHQtKDIqQik7dmFyIEY9TWF0aC5tYXgoZS5NaW5TY3JvbGxiYXJIYW5kbGVMZW5ndGgsKGUudGV4dFZpZXdTaXplSW5Ud2lwcy5IZWlnaHQvZS5kb2N1bWVudFNpemUuSGVpZ2h0KSpHKTtELmNzcyh7d2lkdGg6ZS5TY3JvbGxiYXJXaWR0aCxoZWlnaHQ6RixsZWZ0OjAsbWFyZ2luQm90dG9tOi0oRi8yKX0pO0kuc2xpZGVyKFwib3B0aW9uXCIsXCJtaW5cIiwwKTtJLnNsaWRlcihcIm9wdGlvblwiLFwibWF4XCIsZS5kb2N1bWVudFNpemUuSGVpZ2h0KTtJLmNzcyh7aGVpZ2h0OmUudGV4dFZpZXdlci5oZWlnaHQtRi0oMipCKSxtYXJnaW5Ub3A6Ri8yfSk7Si5jc3Moe2hlaWdodDpHLHdpZHRoOmUuU2Nyb2xsYmFyV2lkdGgsdG9wOmUucmliYm9uQmFySGVpZ2h0K0IrRX0pO0MudXAuY3NzKHt0b3A6ZS5yaWJib25CYXJIZWlnaHQrRX0pO0MuZG93bi5jc3Moe3RvcDplLnJpYmJvbkJhckhlaWdodCtCK0crRX0pO31lbHNle0guaGlkZSgpO319ZnVuY3Rpb24geShCKXt2YXIgRD1hKFwiI3ZlcnRpY2FsLXNjcm9sbGJhci13cmFwcGVyXCIpWzBdO3ZhciBFPShCLnBhZ2VZLUQub2Zmc2V0VG9wKS9ELmNsaWVudEhlaWdodDt2YXIgQz0xLShhKFwiI3NsaWRlci12ZXJ0aWNhbFwiKS5zbGlkZXIoXCJvcHRpb25cIixcInZhbHVlXCIpL2UuZG9jdW1lbnRTaXplLkhlaWdodCk7aWYoIWUuaXNUb3VjaERldmljZSl7ZS50ZXh0Vmlld2VyLmZvY3VzKCk7fWlmKEU+Qyl7ZS5zZW5kQ29tbWFuZChlLkNvbW1hbmQuQ29tcG9uZW50RXZlbnQsZS5Vc2VySW5wdXRFdmVudFR5cGUuS2V5RG93bixlLkNvbXBvbmVudFR5cGUuVGV4dFZpZXcsMCx7a2V5OmUuS2V5Q29kZS5QYWdlRG93bn0pO31lbHNle2Uuc2VuZENvbW1hbmQoZS5Db21tYW5kLkNvbXBvbmVudEV2ZW50LGUuVXNlcklucHV0RXZlbnRUeXBlLktleURvd24sZS5Db21wb25lbnRUeXBlLlRleHRWaWV3LDAse2tleTplLktleUNvZGUuUGFnZVVwfSk7fX1mdW5jdGlvbiBsKEIpe3ZhciBEPWEoXCIjaG9yaXpvbnRhbC1zY3JvbGxiYXItd3JhcHBlclwiKVswXTt2YXIgRT0oQi5wYWdlWC1ELm9mZnNldExlZnQpL0QuY2xpZW50V2lkdGg7dmFyIEM9KGEoXCIjc2xpZGVyLWhvcml6b250YWxcIikuc2xpZGVyKFwib3B0aW9uXCIsXCJ2YWx1ZVwiKStlLlNjcm9sbFBhZGRpbmcpL2UuZG9jdW1lbnRTaXplLldpZHRoO2lmKCFlLmlzVG91Y2hEZXZpY2Upe2UudGV4dFZpZXdlci5mb2N1cygpO31pZihFPkMpe2Uuc2Nyb2xsRGVsdGEoe1g6ZS5TY3JvbGxTdGVwLFk6MH0sZS5Db21wb25lbnRUeXBlLlRleHRWaWV3KTt9ZWxzZXtlLnNjcm9sbERlbHRhKHtYOi1lLlNjcm9sbFN0ZXAsWTowfSxlLkNvbXBvbmVudFR5cGUuVGV4dFZpZXcpO319ZnVuY3Rpb24geihCKXt2YXIgRD1hKFwiI3NsaWRlci12ZXJ0aWNhbFwiKTt2YXIgQz1ELmZpbmQoXCIudHh1aS1zbGlkZXItaGFuZGxlXCIpO2lmKEIudGFyZ2V0IT09Q1swXSl7Qi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt9fWZ1bmN0aW9uIG0oQil7dmFyIEQ9YShcIiNzbGlkZXItaG9yaXpvbnRhbFwiKTt2YXIgQz1ELmZpbmQoXCIudHh1aS1zbGlkZXItaGFuZGxlXCIpO2lmKEIudGFyZ2V0IT09Q1swXSl7Qi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt9fWZ1bmN0aW9uIHEoQil7c3dpdGNoKEIuY3VycmVudFRhcmdldC5pZCl7Y2FzZVwic2Nyb2xsLWJ1dHRvbi11cFwiOmUuc2Nyb2xsRGVsdGEoe1g6MCxZOi1lLlNjcm9sbFN0ZXB9LGUuQ29tcG9uZW50VHlwZS5UZXh0Vmlldyk7YnJlYWs7Y2FzZVwic2Nyb2xsLWJ1dHRvbi1kb3duXCI6ZS5zY3JvbGxEZWx0YSh7WDowLFk6ZS5TY3JvbGxTdGVwfSxlLkNvbXBvbmVudFR5cGUuVGV4dFZpZXcpO2JyZWFrO2Nhc2VcInNjcm9sbC1idXR0b24tbGVmdFwiOmUuc2Nyb2xsRGVsdGEoe1g6LWUuU2Nyb2xsU3RlcCxZOjB9LGUuQ29tcG9uZW50VHlwZS5UZXh0Vmlldyk7YnJlYWs7Y2FzZVwic2Nyb2xsLWJ1dHRvbi1yaWdodFwiOmUuc2Nyb2xsRGVsdGEoe1g6ZS5TY3JvbGxTdGVwLFk6MH0sZS5Db21wb25lbnRUeXBlLlRleHRWaWV3KTticmVhazt9fWUuZmFkZUluVmlld2Vycz1mdW5jdGlvbigpe2lmKGUuVmlld2Vyc0ludmlzaWJsZSl7dmFyIEk9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiN0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXIgY2FudmFzXCIpO2Zvcih2YXIgQj0wO0I8SS5sZW5ndGg7KytCKXtJW0JdLnN0eWxlLm9wYWNpdHk9XCJcIjt9dmFyIEM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eExvYWRlclwiKTtDLnN0eWxlLm9wYWNpdHk9XCJcIjtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIEo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXJcIik7Si5yZW1vdmVDaGlsZChDKTt9LDUwMCk7dmFyIEU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFJpYmJvbkNvdmVyXCIpO0Uuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwiI0ZGRlwiO0Uuc3R5bGUub3BhY2l0eT1cIjAuN1wiO3ZhciBIPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhSaWJib25Db250ZW50QXJlYVwiKTt2YXIgRz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4TG9hZGVyXCIpO3ZhciBEPUcuY2xvbmVOb2RlKHRydWUpO0QuaWQ9XCJ0eFJpYmJvbkxvYWRlclwiO0Quc3R5bGUubGVmdD0oZS5jbGllbnRTaXplLldpZHRoLzIpK1wicHhcIjtELnN0eWxlLnRvcD0oZS5ERUZBVUxUX1JJQkJPTkJBUl9IRUlHSFQvMikrMTErXCJweFwiO0guYXBwZW5kQ2hpbGQoRCk7c2V0VGltZW91dChmdW5jdGlvbigpe0Quc3R5bGUub3BhY2l0eT1cIjFcIjt9LDUwKTt2YXIgRj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3R4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lciBkaXYudHhTY3JvbGxiYXJDb250YWluZXJcIik7W10uZm9yRWFjaC5jYWxsKEYsZnVuY3Rpb24oSil7Si5zdHlsZS5vcGFjaXR5PVwiXCI7fSk7ZS5WaWV3ZXJzSW52aXNpYmxlPWZhbHNlO319O2UuaW1hZ2VSZWNlaXZlZEhhbmRsZXI9ZnVuY3Rpb24oQil7dmFyIEQ9Qi5kZXRhaWw7c3dpdGNoKEQuUGFyYW0xKXtjYXNlIGUuQ29tcG9uZW50VHlwZS5UZXh0VmlldzplLnRleHRWaWV3ZXIuc2V0SW1hZ2UoRC5EYXRhKTticmVhaztjYXNlIGUuQ29tcG9uZW50VHlwZS5Ib3JSdWxlcjplLmhvclJ1bGVyVmlld2VyLnNldEltYWdlKEQuRGF0YSk7YnJlYWs7Y2FzZSBlLkNvbXBvbmVudFR5cGUuVmVydFJ1bGVyOmUudmVydFJ1bGVyVmlld2VyLnNldEltYWdlKEQuRGF0YSk7YnJlYWs7Y2FzZSBlLkNvbXBvbmVudFR5cGUuU3RhdHVzQmFyOmUuc3RhdHVzQmFyVmlld2VyLnNldEltYWdlKEQuRGF0YSk7YnJlYWs7Y2FzZSBlLkNvbXBvbmVudFR5cGUuVHhEaWFsb2c6dmFyIEM9bmV3IEN1c3RvbUV2ZW50KFwidHhEaWFsb2dJbWFnZVJlY2VpdmVkXCIse2RldGFpbDpEfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChDKTticmVhaztjYXNlIGUuQ29tcG9uZW50VHlwZS5UcmFja0NoYW5nZXNWaWV3OmUudHJhY2tDaGFuZ2VzVmlld2VyLnNldEltYWdlKEQuRGF0YSk7YnJlYWs7fX07ZS5pbWFnZVJlZ2lvbnNVcGRhdGVkSGFuZGxlcj1mdW5jdGlvbihCKXt2YXIgRD1CLmRldGFpbDtzd2l0Y2goRC5QYXJhbTEpe2Nhc2UgZS5Db21wb25lbnRUeXBlLlRleHRWaWV3OmUudGV4dFZpZXdlci5yZXF1ZXN0VXBkYXRlSW1hZ2VSZWdpb25zKEQuRGF0YS50aWxlcyk7YnJlYWs7Y2FzZSBlLkNvbXBvbmVudFR5cGUuSG9yUnVsZXI6ZS5ob3JSdWxlclZpZXdlci51cGRhdGVJbWFnZVJlZ2lvbnMoRC5EYXRhLnRpbGVzKTticmVhaztjYXNlIGUuQ29tcG9uZW50VHlwZS5WZXJ0UnVsZXI6ZS52ZXJ0UnVsZXJWaWV3ZXIudXBkYXRlSW1hZ2VSZWdpb25zKEQuRGF0YS50aWxlcyk7YnJlYWs7Y2FzZSBlLkNvbXBvbmVudFR5cGUuU3RhdHVzQmFyOmUuc3RhdHVzQmFyVmlld2VyLnVwZGF0ZUltYWdlUmVnaW9ucyhELkRhdGEudGlsZXMpO2JyZWFrO2Nhc2UgZS5Db21wb25lbnRUeXBlLlR4RGlhbG9nOnZhciBDPW5ldyBDdXN0b21FdmVudChcInR4RGlhbG9nSW1hZ2VSZWdpb25zVXBkYXRlZFwiLHtkZXRhaWw6RH0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoQyk7YnJlYWs7Y2FzZSBlLkNvbXBvbmVudFR5cGUuVHJhY2tDaGFuZ2VzVmlldzppZihlLnRyYWNrQ2hhbmdlc1ZpZXdlcil7ZS50cmFja0NoYW5nZXNWaWV3ZXIucmVxdWVzdFVwZGF0ZUltYWdlUmVnaW9ucyhELkRhdGEudGlsZXMpO31icmVhazt9fTtlLnZpZXdDb250ZW50U2Nyb2xsZWRIYW5kbGVyPWZ1bmN0aW9uKEIpe3ZhciBDPUIuZGV0YWlsO3N3aXRjaChDLlBhcmFtMSl7Y2FzZSBlLkNvbXBvbmVudFR5cGUuVGV4dFZpZXc6ZS50ZXh0Vmlld2VyLnJlcXVlc3RTY3JvbGwoQy5EYXRhLmRlbHRhLEMuRGF0YS5pbWFnZXMpO2JyZWFrO2Nhc2UgZS5Db21wb25lbnRUeXBlLlRyYWNrQ2hhbmdlc1ZpZXc6ZS50cmFja0NoYW5nZXNWaWV3ZXIucmVxdWVzdFNjcm9sbChDLkRhdGEuZGVsdGEsQy5EYXRhLmltYWdlcyk7YnJlYWs7fX07ZS50ZXh0Vmlld0xvY2F0aW9uQ2hhbmdlZEhhbmRsZXI9ZnVuY3Rpb24oQil7ZS52aWV3TG9jYXRpb249Qi5kZXRhaWw7dygpO307ZS50ZXh0Vmlld0NhcmV0U3RhdGVDaGFuZ2VkSGFuZGxlcj1mdW5jdGlvbihCKXt2YXIgQz1CLmRldGFpbDtlLnRleHRWaWV3ZXIuc2V0Q2FyZXRTdGF0ZShDLkRhdGEpO307ZS5hcnJhbmdlQ29udHJvbHM9aTtmdW5jdGlvbiBpKCl7dmFyIEM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmFja0NoYW5nZXNTaWRlYmFyXCIpO3ZhciBEPSEhZS50cmFja0NoYW5nZXNTaWRlYmFyJiZlLnRyYWNrQ2hhbmdlc1NpZGViYXIuaXNWaXNpYmxlO3ZhciBFPUQ/Qy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDowO3ZhciBIPShnP2UuVmVydFJ1bGVyV2lkdGg6MCkrKEQ/RTowKTt2YXIgST1iP2UucmliYm9uQmFySGVpZ2h0K2UuSG9yUnVsZXJIZWlnaHQ6ZS5yaWJib25CYXJIZWlnaHQ7dmFyIEc9ZS5jbGllbnRTaXplLldpZHRoLUg7dmFyIEI9ZS5jbGllbnRTaXplLkhlaWdodC0oZj9lLlN0YXR1c0JhckhlaWdodDowKS1JO3ZhciBGPXMoe1dpZHRoOkcsSGVpZ2h0OkJ9KTtjPWUuaXNTb2NrZXRDb25uZWN0ZWQoKSYmKGUuZG9jdW1lbnRTaXplLldpZHRoPkYuV2lkdGgpO2lmKGMpe0ItPWUuU2Nyb2xsYmFyV2lkdGg7Rj1zKHtXaWR0aDpHLEhlaWdodDpCfSk7fWg9ZS5pc1NvY2tldENvbm5lY3RlZCgpJiYoZS5kb2N1bWVudFNpemUuSGVpZ2h0PkYuSGVpZ2h0KTtpZihoKXtHLT1lLlNjcm9sbGJhcldpZHRoO2lmKCFjKXtjPWUuaXNTb2NrZXRDb25uZWN0ZWQoKSYmKGUuZG9jdW1lbnRTaXplLldpZHRoPkYuV2lkdGgpO2lmKGMpe0ItPWUuU2Nyb2xsYmFyV2lkdGg7Rj1zKHtXaWR0aDpHLEhlaWdodDpCfSk7fX19ZS50ZXh0Vmlld1NpemVJblR3aXBzPXMoe1dpZHRoOkcsSGVpZ2h0OkJ9KTtpZigoZS50ZXh0Vmlld2VyLmxlZnQhPT1IKXx8KGUudGV4dFZpZXdlci50b3AhPT1JKXx8KGUudGV4dFZpZXdlci53aWR0aCE9PUcpfHwoZS50ZXh0Vmlld2VyLmhlaWdodCE9PUIpKXtlLnRleHRWaWV3ZXIuYnVmZmVyQ29udGVudCgpO2UudGV4dFZpZXdlci5sZWZ0PUg7ZS50ZXh0Vmlld2VyLnRvcD1JO2lmKGUuaXNTb2NrZXRDb25uZWN0ZWQoKSl7ZS50ZXh0Vmlld2VyLndpZHRoPUc7ZS50ZXh0Vmlld2VyLmhlaWdodD1CO31lLnRleHRWaWV3ZXIuZHJhd0J1ZmZlcmVkQ29udGVudCgpO2lmKGIpe2UuaG9yUnVsZXJWaWV3ZXIuYnVmZmVyQ29udGVudCgpO2UuaG9yUnVsZXJWaWV3ZXIudG9wPWUucmliYm9uQmFySGVpZ2h0O2UuaG9yUnVsZXJWaWV3ZXIubGVmdD0oRD9FOjApO2lmKGUuaXNTb2NrZXRDb25uZWN0ZWQoKSl7ZS5ob3JSdWxlclZpZXdlci53aWR0aD1HKyhnP2UuVmVydFJ1bGVyV2lkdGg6MCkrKGg/ZS5TY3JvbGxiYXJXaWR0aDowKTtlLmhvclJ1bGVyVmlld2VyLmhlaWdodD1lLkhvclJ1bGVySGVpZ2h0O31lLmhvclJ1bGVyVmlld2VyLmRyYXdCdWZmZXJlZENvbnRlbnQoKTt9aWYoZyl7ZS52ZXJ0UnVsZXJWaWV3ZXIuYnVmZmVyQ29udGVudCgpO2UudmVydFJ1bGVyVmlld2VyLnRvcD1JO2UudmVydFJ1bGVyVmlld2VyLmxlZnQ9KEQ/RTowKTtpZihlLmlzU29ja2V0Q29ubmVjdGVkKCkpe2UudmVydFJ1bGVyVmlld2VyLndpZHRoPWUuVmVydFJ1bGVyV2lkdGg7ZS52ZXJ0UnVsZXJWaWV3ZXIuaGVpZ2h0PUIrKGM/ZS5TY3JvbGxiYXJXaWR0aDowKTt9ZS52ZXJ0UnVsZXJWaWV3ZXIuZHJhd0J1ZmZlcmVkQ29udGVudCgpO31pZihmKXtlLnN0YXR1c0JhclZpZXdlci5idWZmZXJDb250ZW50KCk7ZS5zdGF0dXNCYXJWaWV3ZXIudG9wPWUucmliYm9uQmFySGVpZ2h0K0IrKGI/ZS5Ib3JSdWxlckhlaWdodDowKSsoYz9lLlNjcm9sbGJhcldpZHRoOjApO2lmKGUuaXNTb2NrZXRDb25uZWN0ZWQoKSl7ZS5zdGF0dXNCYXJWaWV3ZXIud2lkdGg9ZS5jbGllbnRTaXplLldpZHRoO2Uuc3RhdHVzQmFyVmlld2VyLmhlaWdodD1lLlN0YXR1c0JhckhlaWdodDt9ZS5zdGF0dXNCYXJWaWV3ZXIuZHJhd0J1ZmZlcmVkQ29udGVudCgpO319aWYoZS50cmFja0NoYW5nZXNTaWRlYmFyJiZlLnRyYWNrQ2hhbmdlc1NpZGViYXIuaXNWaXNpYmxlKXtqKCk7fWUudGV4dFZpZXdTaXplSW5Ud2lwcz1zKHtXaWR0aDplLnRleHRWaWV3ZXIud2lkdGgsSGVpZ2h0OmUudGV4dFZpZXdlci5oZWlnaHR9KTtBKCk7digpO3coKTt9ZnVuY3Rpb24gaigpe3ZhciBGPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHJhY2tDaGFuZ2VzU2lkZWJhclwiKTtGLnN0eWxlLnRvcD1lLnJpYmJvbkJhckhlaWdodCtcInB4XCI7Ri5zdHlsZS5ib3R0b209ZS5zdGF0dXNCYXJWaWV3ZXIuaGVpZ2h0K1wicHhcIjtpZihlLnRyYWNrQ2hhbmdlc1ZpZXdlcil7ZS50cmFja0NoYW5nZXNWaWV3ZXIuYnVmZmVyQ29udGVudCgpO3ZhciBCPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHJhY2tDaGFuZ2VzQ2FudmFzXCIpO3ZhciBEPWUuU2Nyb2xsYmFyV2lkdGg7dmFyIEk9Qi5wYXJlbnRFbGVtZW50O3ZhciBDPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKEksbnVsbCk7dmFyIEo9MipwYXJzZUZsb2F0KEMuYm9yZGVyQm90dG9tV2lkdGgpO3ZhciBMPXBhcnNlRmxvYXQoQy5tYXJnaW5Cb3R0b20pO3ZhciBIPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKEYpO3ZhciBHPXBhcnNlRmxvYXQoSC5wYWRkaW5nQm90dG9tKTt2YXIgRT1GLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodC1HLUwtSS5vZmZzZXRUb3AtSi1EO2UudHJhY2tDaGFuZ2VzVmlld2VyLmhlaWdodD1FO3ZhciBLPXBhcnNlRmxvYXQoQy5ib3JkZXJMZWZ0V2lkdGgpK3BhcnNlRmxvYXQoQy5ib3JkZXJSaWdodFdpZHRoKTtlLnRyYWNrQ2hhbmdlc1ZpZXdlci53aWR0aD1JLm9mZnNldFdpZHRoLWUuU2Nyb2xsYmFyV2lkdGgtSztlLnRyYWNrQ2hhbmdlc1ZpZXdlci5kcmF3QnVmZmVyZWRDb250ZW50KCk7fXIoKTt9ZnVuY3Rpb24gcigpe2lmKCFlLnRyYWNrQ2hhbmdlc1ZpZXdlcil7cmV0dXJuO312YXIgQz17dmlzaWJsZTp0cnVlLGxvY2F0aW9uOntYOmUudHJhY2tDaGFuZ2VzVmlld2VyLmxlZnQsWTplLnRyYWNrQ2hhbmdlc1ZpZXdlci50b3B9LHNpemU6e1dpZHRoOmUudHJhY2tDaGFuZ2VzVmlld2VyLndpZHRoLEhlaWdodDplLnRyYWNrQ2hhbmdlc1ZpZXdlci5oZWlnaHR9fTt2YXIgQj17dHJhY2tDaGFuZ2VzVmlld2VySW5mbzpDfTtlLnNlbmRDb21tYW5kKGUuQ29tbWFuZC5XaW5kb3dSZXNpemVkLDAsMCwwLEIpO31mdW5jdGlvbiBBKCl7dmFyIEU9e2xvY2F0aW9uOntYOmUudGV4dFZpZXdlci5sZWZ0LFk6ZS50ZXh0Vmlld2VyLnRvcC1lLnJpYmJvbkJhckhlaWdodH0sc2l6ZTp7V2lkdGg6ZS50ZXh0Vmlld2VyLndpZHRoLEhlaWdodDplLnRleHRWaWV3ZXIuaGVpZ2h0fX07dmFyIEM9e3Zpc2libGU6Yixsb2NhdGlvbjp7WDplLmhvclJ1bGVyVmlld2VyLmxlZnQsWTplLmhvclJ1bGVyVmlld2VyLnRvcC1lLnJpYmJvbkJhckhlaWdodH0sc2l6ZTp7V2lkdGg6ZS5ob3JSdWxlclZpZXdlci53aWR0aCxIZWlnaHQ6ZS5ob3JSdWxlclZpZXdlci5oZWlnaHR9fTt2YXIgRj17dmlzaWJsZTpnLGxvY2F0aW9uOntYOmUudmVydFJ1bGVyVmlld2VyLmxlZnQsWTplLnZlcnRSdWxlclZpZXdlci50b3AtZS5yaWJib25CYXJIZWlnaHR9LHNpemU6e1dpZHRoOmUudmVydFJ1bGVyVmlld2VyLndpZHRoLEhlaWdodDplLnZlcnRSdWxlclZpZXdlci5oZWlnaHR9fTt2YXIgRD17dmlzaWJsZTpmLGxvY2F0aW9uOntYOmUuc3RhdHVzQmFyVmlld2VyLmxlZnQsWTplLnN0YXR1c0JhclZpZXdlci50b3AtZS5yaWJib25CYXJIZWlnaHR9LHNpemU6e1dpZHRoOmUuc3RhdHVzQmFyVmlld2VyLndpZHRoLEhlaWdodDplLnN0YXR1c0JhclZpZXdlci5oZWlnaHR9fTt2YXIgQj17dGV4dFZpZXdlckluZm86RSxob3JSdWxlckluZm86Qyx2ZXJ0UnVsZXJJbmZvOkYsc3RhdHVzQmFySW5mbzpEfTtlLnNlbmRDb21tYW5kKGUuQ29tbWFuZC5XaW5kb3dSZXNpemVkLDAsMCwwLEIpO31lLnNob3dIb3Jpem9udGFsUnVsZXI9ZnVuY3Rpb24oc2hvdyl7aWYodHlwZW9mIHNob3c9PT1cInVuZGVmaW5lZFwiKXtzaG93PXRydWU7fXNob3c9ISFzaG93O2lmKGI9PT1zaG93KXtyZXR1cm47fWI9c2hvdztpZihzaG93KXtlLmhvclJ1bGVyVmlld2VyLnNob3coKTt9ZWxzZXtlLmhvclJ1bGVyVmlld2VyLmhpZGUoKTt9aSgpO2UudGV4dFZpZXdlci5yZWZyZXNoQ2FyZXRMb2NhdGlvbigpO3ZhciBCPXNob3c/ZS5Db21tYW5kLlNob3dIb3Jpem9udGFsUnVsZXJCYXI6ZS5Db21tYW5kLkhpZGVIb3Jpem9udGFsUnVsZXJCYXI7ZS5zZW5kQ29tbWFuZChCKTt9O2Uuc2hvd1ZlcnRpY2FsUnVsZXI9ZnVuY3Rpb24oc2hvdyl7aWYodHlwZW9mIHNob3c9PT1cInVuZGVmaW5lZFwiKXtzaG93PXRydWU7fXNob3c9ISFzaG93O2lmKGc9PT1zaG93KXtyZXR1cm47fWc9c2hvdztpZihzaG93KXtlLnZlcnRSdWxlclZpZXdlci5zaG93KCk7fWVsc2V7ZS52ZXJ0UnVsZXJWaWV3ZXIuaGlkZSgpO31pKCk7ZS50ZXh0Vmlld2VyLnJlZnJlc2hDYXJldExvY2F0aW9uKCk7dmFyIEI9c2hvdz9lLkNvbW1hbmQuU2hvd1ZlcnRpY2FsUnVsZXJCYXI6ZS5Db21tYW5kLkhpZGVWZXJ0aWNhbFJ1bGVyQmFyO2Uuc2VuZENvbW1hbmQoQik7fTtlLnNob3dTdGF0dXNCYXI9ZnVuY3Rpb24oc2hvdyl7aWYodHlwZW9mIHNob3c9PT1cInVuZGVmaW5lZFwiKXtzaG93PXRydWU7fXNob3c9ISFzaG93O2lmKGY9PT1zaG93KXtyZXR1cm47fWY9c2hvdztpZihzaG93KXtlLnN0YXR1c0JhclZpZXdlci5zaG93KCk7fWVsc2V7ZS5zdGF0dXNCYXJWaWV3ZXIuaGlkZSgpO31pKCk7ZS50ZXh0Vmlld2VyLnJlZnJlc2hDYXJldExvY2F0aW9uKCk7dmFyIEI9c2hvdz9lLkNvbW1hbmQuU2hvd1N0YXR1c0JhcjplLkNvbW1hbmQuSGlkZVN0YXR1c0JhcjtlLnNlbmRDb21tYW5kKEIpO307ZnVuY3Rpb24gaygpe2UudGV4dFZpZXdlci5ibHVyKCk7ZS5ob3JSdWxlclZpZXdlci5ibHVyKCk7ZS52ZXJ0UnVsZXJWaWV3ZXIuYmx1cigpO2Uuc3RhdHVzQmFyVmlld2VyLmJsdXIoKTtlLnRyYWNrQ2hhbmdlc1ZpZXdlci5ibHVyKCk7aWYoZS50eERpYWxvZyl7ZS50eERpYWxvZy5ibHVyKCk7fX1lLmFkYXB0Vmlld1RvQ29udGFpbmVyU2l6ZT1mdW5jdGlvbigpe3ZhciBCPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhUZW1wbGF0ZURlc2lnbmVyQ29udGFpbmVyXCIpLnBhcmVudEVsZW1lbnQ7dmFyIEUsQztpZihCLnRhZ05hbWU9PT1cIkJPRFlcIil7RT1NYXRoLnJvdW5kKHdpbmRvdy5pbm5lcldpZHRoKTtDPU1hdGgucm91bmQod2luZG93LmlubmVySGVpZ2h0KTt9ZWxzZXt2YXIgRD1CLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO0U9TWF0aC5yb3VuZChELndpZHRoKTtDPU1hdGgucm91bmQoRC5oZWlnaHQpO31pZigoZS5pc1RvdWNoRGV2aWNlKSYmKChDLWUuY2xpZW50U2l6ZS5IZWlnaHQpPjIwKSl7aygpO31lLmNsaWVudFNpemU9e1dpZHRoOkUsSGVpZ2h0OkN9O2koKTtlLnVwZGF0ZVJpYmJvblRhYkNvbnRlbnRPZmZzZXQoKTtlLnVwZGF0ZVJpYmJvblNjcm9sbEFycm93cygpO2UudXBkYXRlUmliYm9uSGlkZUJ1dHRvblBvcygpO2UuYWRhcHRSaWJib25UYWJXaWR0aHMoKTt9O2Uuc2hvd1NpZGVCYXI9ZnVuY3Rpb24oc2lkZUJhclR5cGUsc2hvdyl7aWYodHlwZW9mIHNpZGVCYXJUeXBlPT09XCJ1bmRlZmluZWRcIil7dGhyb3cgbmV3IEVycm9yKGUuRXJyb3IuVG9vRmV3UGFyYW1ldGVycyk7fWlmKHR5cGVvZiBzaWRlQmFyVHlwZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBFcnJvcihcXCdQYXJhbWV0ZXIgXCJzaWRlQmFyVHlwZVwiIG11c3QgYmUgbnVtZXJpYy5cXCcpO31pZih0eXBlb2Ygc2hvdz09PVwidW5kZWZpbmVkXCIpe3Nob3c9dHJ1ZTt9c2hvdz0hIXNob3c7ZS5zZW5kQ29tbWFuZChlLkNvbW1hbmQuU2hvd1NpZGVCYXIsTWF0aC5yb3VuZChzaWRlQmFyVHlwZSksc2hvdz8xOjApO307ZS50d2lwczJtbT1mdW5jdGlvbihCKXtyZXR1cm4gQi8xNDQwKjI1LjQ7fTtlLm1tMnR3aXBzPWZ1bmN0aW9uKEIpe3JldHVybiBCLzI1LjQqMTQ0MDt9O2UudHdpcHMycHg9ZnVuY3Rpb24oQyxELEIpe0Q9RHx8MTAwO0I9Qnx8OTY7cmV0dXJuKEMqQipELzE0NDAwMCk7fTtlLnB4MnR3aXBzPWZ1bmN0aW9uKEMsRCxCKXtEPUR8fDEwMDtCPUJ8fDk2O3JldHVybiBNYXRoLnJvdW5kKEMqMTQ0MDAwLyhCKkQpKTt9O2Z1bmN0aW9uIHMoQyxCKXtyZXR1cm57V2lkdGg6ZS5weDJ0d2lwcyhDLldpZHRoLEJ8fGUuem9vbSxlLkRlZlJlcyksSGVpZ2h0OmUucHgydHdpcHMoQy5IZWlnaHQsQnx8ZS56b29tLGUuRGVmUmVzKX07fWUucG9pbnRQaXhlbFRvVHdpcHM9ZnVuY3Rpb24oQyxCKXtyZXR1cm57WDplLnB4MnR3aXBzKEMuWCxCfHxlLnpvb20sZS5EZWZSZXMpLFk6ZS5weDJ0d2lwcyhDLlksQnx8ZS56b29tLGUuRGVmUmVzKX07fTtyZXR1cm4gdDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dGhpcy5fX2V4dGVuZHM9dGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKGMsZCl7Zm9yKHZhciBiIGluIGQpe2lmKGQuaGFzT3duUHJvcGVydHkoYikpe2NbYl09ZFtiXTt9fWZ1bmN0aW9uIGEoKXt0aGlzLmNvbnN0cnVjdG9yPWM7fWEucHJvdG90eXBlPWQucHJvdG90eXBlO2MucHJvdG90eXBlPW5ldyBhKCk7fTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRmllbGRUeXBlPXtNZXJnZUZpZWxkOjAsSWZGaWVsZDoxLEluY2x1ZGVUZXh0RmllbGQ6MixEYXRlRmllbGQ6MyxOZXh0RmllbGQ6NCxOZXh0SWZGaWVsZDo1LH07Yi5GaWVsZERpc3BsYXlNb2RlPXtTaG93RmllbGRUZXh0OjAsU2hvd0ZpZWxkQ29kZXM6MSx9O2IuUmVsYXRpb25hbE9wZXJhdG9yPU9iamVjdC5mcmVlemUoe0VxdWFsczowLE5vdEVxdWFsOjEsTGVzc1RoYW46MixHcmVhdGVyVGhhbjozLEdyZWF0ZXJUaGFuT3JFcXVhbFRvOjQsTGVzc1RoYW5PckVxdWFsVG86NX0pO2IuRGF0YUJhc2VUeXBlPU9iamVjdC5mcmVlemUoe1hNTDoxLEpTT046Mn0pO2IuRmllbGRBZGFwdGVyPShmdW5jdGlvbigpe2Z1bmN0aW9uIEZpZWxkQWRhcHRlcihwcmVzZXJ2ZUZvcm1hdHRpbmcpe3RoaXMucHJlc2VydmVGb3JtYXR0aW5nPSEhcHJlc2VydmVGb3JtYXR0aW5nO31yZXR1cm4gRmllbGRBZGFwdGVyO30pKCk7Yi5JZkZpZWxkPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoSWZGaWVsZCxkKTtmdW5jdGlvbiBJZkZpZWxkKCl7ZC5jYWxsKHRoaXMsdHJ1ZSk7dGhpcy5leHByZXNzaW9uMT1cIlwiO3RoaXMuZXhwcmVzc2lvbjI9XCJcIjt0aGlzLnRydWVUZXh0PVwiXCI7dGhpcy5mYWxzZVRleHQ9XCJcIjt0aGlzLm9wZXJhdG9yPWIuUmVsYXRpb25hbE9wZXJhdG9yLkVxdWFsczt9SWZGaWVsZC5wcm90b3R5cGUudG9QYXNjYWxDYXNlPWZ1bmN0aW9uKCl7cmV0dXJue0V4cHJlc3Npb24xOnRoaXMuZXhwcmVzc2lvbjEsRXhwcmVzc2lvbjI6dGhpcy5leHByZXNzaW9uMixUcnVlVGV4dDp0aGlzLnRydWVUZXh0LEZhbHNlVGV4dDp0aGlzLmZhbHNlVGV4dCxPcGVyYXRvcjp0aGlzLm9wZXJhdG9yLFByZXNlcnZlRm9ybWF0dGluZzp0aGlzLnByZXNlcnZlRm9ybWF0dGluZ307fTtyZXR1cm4gSWZGaWVsZDt9KShiLkZpZWxkQWRhcHRlcik7Yi5OZXh0SWZGaWVsZD0oZnVuY3Rpb24oZCl7X19leHRlbmRzKE5leHRJZkZpZWxkLGQpO2Z1bmN0aW9uIE5leHRJZkZpZWxkKCl7ZC5jYWxsKHRoaXMsdHJ1ZSk7dGhpcy5leHByZXNzaW9uMT1cIlwiO3RoaXMuZXhwcmVzc2lvbjI9XCJcIjt0aGlzLm9wZXJhdG9yPWIuUmVsYXRpb25hbE9wZXJhdG9yLkVxdWFsczt9TmV4dElmRmllbGQucHJvdG90eXBlLnRvUGFzY2FsQ2FzZT1mdW5jdGlvbigpe3JldHVybntFeHByZXNzaW9uMTp0aGlzLmV4cHJlc3Npb24xLEV4cHJlc3Npb24yOnRoaXMuZXhwcmVzc2lvbjIsT3BlcmF0b3I6dGhpcy5vcGVyYXRvcixQcmVzZXJ2ZUZvcm1hdHRpbmc6dGhpcy5wcmVzZXJ2ZUZvcm1hdHRpbmd9O307cmV0dXJuIE5leHRJZkZpZWxkO30pKGIuRmllbGRBZGFwdGVyKTtiLk5leHRGaWVsZD0oZnVuY3Rpb24oZCl7X19leHRlbmRzKE5leHRGaWVsZCxkKTtmdW5jdGlvbiBOZXh0RmllbGQoKXtkLmNhbGwodGhpcyx0cnVlKTt9TmV4dEZpZWxkLnByb3RvdHlwZS50b1Bhc2NhbENhc2U9ZnVuY3Rpb24oKXtyZXR1cm57fTt9O3JldHVybiBOZXh0RmllbGQ7fSkoYi5GaWVsZEFkYXB0ZXIpO2IuRGF0ZUZpZWxkPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoRGF0ZUZpZWxkLGQpO2Z1bmN0aW9uIERhdGVGaWVsZChmb3JtYXQpe2QuY2FsbCh0aGlzLHRydWUpO3RoaXMuZm9ybWF0PWZvcm1hdHx8XCJcIjt9RGF0ZUZpZWxkLnByb3RvdHlwZS50b1Bhc2NhbENhc2U9ZnVuY3Rpb24oKXtyZXR1cm57Rm9ybWF0OnRoaXMuZm9ybWF0LFByZXNlcnZlRm9ybWF0dGluZzp0aGlzLnByZXNlcnZlRm9ybWF0dGluZ307fTtyZXR1cm4gRGF0ZUZpZWxkO30pKGIuRmllbGRBZGFwdGVyKTtiLnNob3dGaWVsZFByb3BzRGlhbG9nSGFuZGxlcj1mdW5jdGlvbigpe2lmKGIuY3VycmVudEZpZWxkRGF0YSl7Yi5zaG93RmllbGREaWFsb2coYi5jdXJyZW50RmllbGREYXRhLmZpZWxkQWRhcHRlcixiLmN1cnJlbnRGaWVsZERhdGEubWVyZ2VGaWVsZFR5cGUpO319O2Iuc2hvd0ZpZWxkRGlhbG9nPWZ1bmN0aW9uKGUsZixnKXt2YXIgZDtzd2l0Y2goZil7Y2FzZSBiLkZpZWxkVHlwZS5NZXJnZUZpZWxkOmQ9bmV3IGIuTWVyZ2VGaWVsZERpYWxvZyhlLGcpO2JyZWFrO2Nhc2UgYi5GaWVsZFR5cGUuSWZGaWVsZDpkPW5ldyBiLklmRmllbGREaWFsb2coZSxnKTticmVhaztjYXNlIGIuRmllbGRUeXBlLkRhdGVGaWVsZDpkPW5ldyBiLkRhdGVGaWVsZERpYWxvZyhlLGcpO2JyZWFrO2Nhc2UgYi5GaWVsZFR5cGUuSW5jbHVkZVRleHRGaWVsZDpkPW5ldyBiLkluY2x1ZGVUZXh0RmllbGREaWFsb2coZSxnKTticmVhaztjYXNlIGIuRmllbGRUeXBlLk5leHRJZkZpZWxkOmQ9bmV3IGIuTmV4dElmRmllbGREaWFsb2coZSxnKTticmVhazt9aWYoZCl7ZC5zaG93TW9kYWwoKTt9fTtiLnNlbGVjdE1hc3RlclRhYmxlPWZ1bmN0aW9uKGQpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNlbGVjdE1hc3RlclRhYmxlLDAsMCwwLGQpO307cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihsLGEpe3ZhciBiPWwuX3ByaXZhdGU9bC5fcHJpdmF0ZXx8e307dmFyIGM7Yi5sYXN0TW91c2VVcEV2ZW50PW51bGw7dmFyIGY9e1RleHRTZWxlY3Rpb246MSxUZXh0SW5wdXRQb3NpdGlvbjoyLEhlYWRlcjo0LE5vSGVhZGVyOjgsRm9vdGVyOjE2LE5vRm9vdGVyOjMyLFBhZ2VNYXJnaW46NjQsUGFnZU51bWJlckZpZWxkOjEyOCxTZWxlY3RlZEZyYW1lOjI1NixUYWJsZTo1MTIsVGV4dEZpZWxkOjEwMjQsTWlzc3BlbGxlZFdvcmQ6MjA0OH07dmFyIGQ9XCJ0eE1lbnVfXCI7Yi5pbml0Q29udGV4dE1lbnVzPWZ1bmN0aW9uKCl7Yz1hKFwiI3R4Q29udGV4dE1lbnVcIikubWVudSgpLmhpZGUoKTtjLm9uKFwibWVudXNlbGVjdFwiLGkpO307ZnVuY3Rpb24gaChuKXt2YXIgcD1bXTt2YXIgbz0xO2Zvcih2YXIgbT0wO208MzI7KyttKXtzd2l0Y2gobiZvKXtjYXNlIGYuRm9vdGVyOnAucHVzaChcIkZvb3RlclwiKTticmVhaztjYXNlIGYuSGVhZGVyOnAucHVzaChcIkhlYWRlclwiKTticmVhaztjYXNlIGYuTWlzc3BlbGxlZFdvcmQ6cC5wdXNoKFwiTWlzc3BlbGxlZFdvcmRcIik7YnJlYWs7Y2FzZSBmLk5vRm9vdGVyOnAucHVzaChcIk5vRm9vdGVyXCIpO2JyZWFrO2Nhc2UgZi5Ob0hlYWRlcjpwLnB1c2goXCJOb0hlYWRlclwiKTticmVhaztjYXNlIGYuUGFnZU1hcmdpbjpwLnB1c2goXCJQYWdlTWFyZ2luXCIpO2JyZWFrO2Nhc2UgZi5QYWdlTnVtYmVyRmllbGQ6cC5wdXNoKFwiUGFnZU51bWJlckZpZWxkXCIpO2JyZWFrO2Nhc2UgZi5TZWxlY3RlZEZyYW1lOnAucHVzaChcIlNlbGVjdGVkRnJhbWVcIik7YnJlYWs7Y2FzZSBmLlRhYmxlOnAucHVzaChcIlRhYmxlXCIpO2JyZWFrO2Nhc2UgZi5UZXh0RmllbGQ6cC5wdXNoKFwiVGV4dEZpZWxkXCIpO2JyZWFrO2Nhc2UgZi5UZXh0SW5wdXRQb3NpdGlvbjpwLnB1c2goXCJUZXh0SW5wdXRQb3NpdGlvblwiKTticmVhaztjYXNlIGYuVGV4dFNlbGVjdGlvbjpwLnB1c2goXCJUZXh0U2VsZWN0aW9uXCIpO2JyZWFrO31vPDw9MTt9cmV0dXJuIHA7fWZ1bmN0aW9uIGoobixxKXt2YXIgcD1kLmxlbmd0aDtmb3IodmFyIG89MDtvPG4uY2xhc3NMaXN0Lmxlbmd0aDsrK28pe3ZhciBtPW4uY2xhc3NMaXN0W29dO2lmKG0uc3Vic3RyaW5nKDAscCk9PT1kKXtuLmNsYXNzTGlzdC5yZW1vdmUobSk7fX1xLmZvckVhY2goZnVuY3Rpb24ocil7bi5jbGFzc0xpc3QuYWRkKGQrcik7fSk7fWIuY29udGV4dE1lbnVEYXRhUmVjZWl2ZWRIYW5kbGVyPWZ1bmN0aW9uKG0pe3ZhciByPW0uZGV0YWlsO3ZhciBxPXIubWVudUl0ZW1zO3ZhciBwPWgoci5sb2NhdGlvbik7dmFyIG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eENvbnRleHRNZW51XCIpO2UocSxuKTt2YXIgbz1hKFwiI3R4Q29udGV4dE1lbnVcIik7by5tZW51KFwicmVmcmVzaFwiKTtiLmNhbGNNZW51V2lkdGhzKG4pO2oobixwKTtrKGIubGFzdE1vdXNlVXBFdmVudCk7dmFyIHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiN0eENvbnRleHRNZW51ID4gbGkgPiB1bFwiKTtbXS5mb3JFYWNoLmNhbGwocyxmdW5jdGlvbih0KXtpZih0eXBlb2YgdC5kYXRhc2V0LnRyYW5zZm9ybVN0YXRlSWQ9PT1cInVuZGVmaW5lZFwiKXtyZXR1cm47fXQuc3R5bGUuZGlzcGxheT1cIlwiO2IuY2FsY01lbnVTY3JvbGxJbmZvKHQsZmFsc2UsdHJ1ZSk7dC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO30pO307ZnVuY3Rpb24gZShvLG0pe3ZhciBuO3ZhciBwPWZhbHNlO20uaW5uZXJIVE1MPVwiXCI7by5mb3JFYWNoKGZ1bmN0aW9uKHYpe2lmKCF2LlRleHQpe3A9dHJ1ZTtyZXR1cm47fXZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtzLmRhdGFzZXQuaXRlbUlkPXYuSUQ7aWYoIXYuRW5hYmxlZCl7cy5jbGFzc0xpc3QuYWRkKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt9bS5hcHBlbmRDaGlsZChzKTt2YXIgcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtpZihwKXtxLnN0eWxlLmJvcmRlclRvcD1cIjFweCBzb2xpZCBsaWdodGdyYXlcIjtwPWZhbHNlO31zLmFwcGVuZENoaWxkKHEpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5jbGFzc0xpc3QuYWRkKFwic21hbGwtbWVudS1pdGVtLWltYWdlLXdyYXBwZXJcIik7aWYodi5JbWFnZURhdGFVUkwpe249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtuLnNyYz12LkltYWdlRGF0YVVSTDtyLmFwcGVuZENoaWxkKG4pO31lbHNle2lmKHYuQ2hlY2tlZCl7bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO24uc3JjPWIuaW1hZ2VSZXNvdXJjZXMuc21hbGwuY2hlY2ttYXJrO3IuYXBwZW5kQ2hpbGQobik7ci5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvblwiKTtyLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXNlbGVjdGVkXCIpO319aWYobil7bi5zdHlsZS53aWR0aD1uLnN0eWxlLmhlaWdodD1cIjE2cHhcIjt9cS5hcHBlbmRDaGlsZChyKTtyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5jbGFzc0xpc3QuYWRkKFwic21hbGwtbWVudS1pdGVtLWNhcHRpb24tY29udGFpbmVyXCIpO3EuYXBwZW5kQ2hpbGQocik7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7dC50ZXh0Q29udGVudD12LlRleHQ7ci5hcHBlbmRDaGlsZCh0KTtpZih2Lkl0ZW1zLmxlbmd0aCl7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO3UuY2xhc3NMaXN0LmFkZChcImRyb3BEb3duTWVudVwiKTt1LmNsYXNzTGlzdC5hZGQoXCJjb250ZXh0TWVudVwiKTtzLmFwcGVuZENoaWxkKHUpO2lmKHYuRHJvcERvd25Jc1Njcm9sbGFibGUpe2IuZW5hYmxlU2Nyb2xsV29ya2Fyb3VuZCh1KTt9ZSh2Lkl0ZW1zLHUpO319KTt9ZnVuY3Rpb24gaShvLHEpe3ZhciBuPXEuaXRlbS5jb250ZXh0O3ZhciBtPW4uZGF0YXNldC5pdGVtSWQ7aWYobSl7dmFyIHA9cGFyc2VJbnQobSwxMCk7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ29udGV4dE1lbnVJdGVtQ2xpY2tlZCxwKTt9fWIuaXNJbnNpZGVFbGVtZW50V2l0aElEPWZ1bmN0aW9uKG0sbil7aWYoIW0pe3JldHVybiBmYWxzZTt9ZWxzZXtpZihtLnBhcmVudEVsZW1lbnQmJihtLnBhcmVudEVsZW1lbnQuaWQ9PT1uKSl7cmV0dXJuIHRydWU7fWVsc2V7cmV0dXJuIGIuaXNJbnNpZGVFbGVtZW50V2l0aElEKG0ucGFyZW50RWxlbWVudCxuKTt9fX07ZnVuY3Rpb24gZyhtLG4pe2lmKCFtKXtyZXR1cm4gbnVsbDt9ZWxzZXtpZihtLnBhcmVudEVsZW1lbnQmJihtLnBhcmVudEVsZW1lbnQudGFnTmFtZT09PW4pKXtyZXR1cm4gbS5wYXJlbnRFbGVtZW50O31lbHNle3JldHVybiBnKG0ucGFyZW50RWxlbWVudCxuKTt9fX1iLmlzUGFydE9mTWVudUl0ZW1XaXRoU3ViTWVudT1mdW5jdGlvbihtKXt2YXIgbj1nKG0sXCJMSVwiKTtpZihuJiZuLmNsYXNzTGlzdC5jb250YWlucyhcInR4dWktbWVudS1pdGVtXCIpKXtyZXR1cm4obi5xdWVyeVNlbGVjdG9yQWxsKFwidWxcIikubGVuZ3RoPjApO31yZXR1cm4gZmFsc2U7fTtmdW5jdGlvbiBrKG0pe2IuZmlsZU1lbnUuaGlkZSgpO2Muc2hvdygpLnBvc2l0aW9uKHtteTpcImxlZnQgdG9wXCIsYXQ6XCJsZWZ0IGJvdHRvbVwiLG9mOm0sfSk7YShkb2N1bWVudCkub24oXCJjbGlja1wiLGZ1bmN0aW9uKG4pe2lmKCEoYi5pc0luc2lkZUVsZW1lbnRXaXRoSUQobi50YXJnZXQsXCJ0eENvbnRleHRNZW51XCIpJiZiLmlzUGFydE9mTWVudUl0ZW1XaXRoU3ViTWVudShuLnRhcmdldCkpKXtjLmhpZGUoKTthKGRvY3VtZW50KS5vZmYobik7fX0pO31yZXR1cm4gbDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGksYSl7dmFyIGM9aS5fcHJpdmF0ZT1pLl9wcml2YXRlfHx7fTt2YXIgZD17UlRGOlwidGV4dC9ydGZcIixIVE1MOlwidGV4dC9odG1sXCIsUGxhaW46XCJ0ZXh0L3BsYWluXCJ9O2MuQ2xpcGJvYXJkRGF0YVR5cGU9T2JqZWN0LmZyZWV6ZSh7Tm9uZTowLFJURjoxLEhUTUw6MixQbGFpbjozLEZpbGU6NCxmcm9tVmFsdWU6ZnVuY3Rpb24oail7c3dpdGNoKGope2Nhc2UgdGhpcy5SVEY6cmV0dXJuIGQuUlRGO2Nhc2UgdGhpcy5IVE1MOnJldHVybiBkLkhUTUw7Y2FzZSB0aGlzLlBsYWluOnJldHVybiBkLlBsYWluO31yZXR1cm5cIlwiO30sdG9WYWx1ZTpmdW5jdGlvbihqKXtzd2l0Y2goail7Y2FzZSBkLlJURjpyZXR1cm4gdGhpcy5SVEY7Y2FzZSBkLkhUTUw6cmV0dXJuIHRoaXMuSFRNTDtjYXNlIGQuUGxhaW46cmV0dXJuIHRoaXMuUGxhaW47fXJldHVybiB0aGlzLk5vbmU7fX0pO2MuQ2xpcGJvYXJkTW9kZT1PYmplY3QuZnJlZXplKHtDbGllbnQ6MSxTZXJ2ZXI6Mn0pO2MuY2xpcGJvYXJkTW9kZT1jLkNsaXBib2FyZE1vZGUuU2VydmVyO3ZhciBoPXtTdGFydDowLERhdGE6MSxFbmQ6Mn07dmFyIGI9e2lkOlwiXCIsZGF0YTpcIlwiLGNodW5rc0V4cGVjdGVkOjAsY2h1bmtzUmVjZWl2ZWQ6MCxpc0VtcHR5U2VsZWN0aW9uOmZhbHNlLHN0YXJ0OmZ1bmN0aW9uKGope3RoaXMuaWQ9ai5pZDt0aGlzLmRhdGE9XCJcIjt0aGlzLmNodW5rc1JlY2VpdmVkPTA7dGhpcy5pc0VtcHR5U2VsZWN0aW9uPWouaXNFbXB0eVNlbGVjdGlvbjt9LHByb2dyZXNzOmZ1bmN0aW9uKGope3RoaXMuY2h1bmtzRXhwZWN0ZWQ9ai5jaHVua3M7fSxyZXNldDpmdW5jdGlvbigpe3RoaXMuaWQ9XCJcIjt0aGlzLmRhdGE9XCJcIjt0aGlzLmNodW5rc0V4cGVjdGVkPTA7dGhpcy5jaHVua3NSZWNlaXZlZD0wO319O2Z1bmN0aW9uIGcobSxsLGope3ZhciBwPVwiXCI7dmFyIG89ZmFsc2U7dmFyIHE9bS50eXBlcztqPWp8fGZhbHNlO3ZhciBrPVtdLnNvbWUuY2FsbChxLGZ1bmN0aW9uKHIpe3JldHVybiByPT09XCJGaWxlc1wiO30pO2lmKG0udHlwZXMpe2lmKCFvJiZbXS5zb21lLmNhbGwocSxmdW5jdGlvbihyKXtyZXR1cm4gcj09PWQuUlRGO30pKXtwPW0uZ2V0RGF0YShkLlJURik7aWYocC5sZW5ndGg+MCl7Yy5wYXN0ZVRleHQocCxjLkNsaXBib2FyZERhdGFUeXBlLlJURixqKTtvPXRydWU7fX1pZighbyYmW10uc29tZS5jYWxsKHEsZnVuY3Rpb24ocil7cmV0dXJuIHI9PT1kLkhUTUw7fSkpe3A9bS5nZXREYXRhKGQuSFRNTCk7aWYocC5sZW5ndGg+MCl7Yy5wYXN0ZVRleHQocCxjLkNsaXBib2FyZERhdGFUeXBlLkhUTUwsaik7bz10cnVlO319aWYoIW8mJltdLnNvbWUuY2FsbChxLGZ1bmN0aW9uKHIpe3JldHVybiByPT09ZC5QbGFpbjt9KSl7cD1tLmdldERhdGEoZC5QbGFpbik7aWYocC5sZW5ndGg+MCl7Yy5wYXN0ZVRleHQocCxjLkNsaXBib2FyZERhdGFUeXBlLlBsYWluLGopO289dHJ1ZTt9fWlmKGwmJiFvKXtwPW0uZ2V0RGF0YShcIlRleHRcIik7aWYocCYmKHAubGVuZ3RoPjApKXtjLnBhc3RlVGV4dChwLGMuQ2xpcGJvYXJkRGF0YVR5cGUuUGxhaW4saik7bz10cnVlO319fWlmKCFvJiZtLmZpbGVzJiZtLmZpbGVzLmxlbmd0aCl7ZihtLmZpbGVzWzBdLGopO289dHJ1ZTt9aWYoIW8mJm0uaXRlbXMmJmspe3ZhciBuPVtdLmZpbmQuY2FsbChtLml0ZW1zLGZ1bmN0aW9uKHIpe3JldHVybiByLmtpbmQ9PT1cImZpbGVcIjt9KTtpZihuKXtlKG4saik7bz10cnVlO319cmV0dXJuIG87fWMuaGFuZGxlQ2xpZW50UGFzdGU9ZnVuY3Rpb24oayxqKXtpZih0eXBlb2Ygaj09PVwidW5kZWZpbmVkXCIpe2o9dHJ1ZTt9aWYoayYmay5jbGlwYm9hcmREYXRhKXtpZihnKGsuY2xpcGJvYXJkRGF0YSxqKSl7ay5zdG9wUHJvcGFnYXRpb24oKTtrLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGZhbHNlO319cmV0dXJuIHRydWU7fTtjLmhhbmRsZURyb3A9ZnVuY3Rpb24oail7ai5zdG9wUHJvcGFnYXRpb24oKTtqLnByZXZlbnREZWZhdWx0KCk7aWYoaiYmai5kYXRhVHJhbnNmZXIpe2coai5kYXRhVHJhbnNmZXIsdHJ1ZSx0cnVlKTt9fTtmdW5jdGlvbiBlKGwsail7dmFyIGs9bC5nZXRBc0ZpbGUoKTtmKGssaik7fWMuRmlsZURyb3BwZWRFdmVudEFyZ3M9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaihmaWxlQmxvYixrKXt0aGlzLmZpbGVOYW1lPWZpbGVCbG9iLm5hbWU7dGhpcy5maWxlVHlwZT1maWxlQmxvYi50eXBlO3RoaXMuY2FuY2VsPSEhazt9cmV0dXJuIGo7fSkoKTtmdW5jdGlvbiBmKGwsayl7aWYoIWMudHhQcm9wZXJ0aWVzLmNhbkVkaXQpe3JldHVybjt9dmFyIGo9bmV3IGMuRmlsZURyb3BwZWRFdmVudEFyZ3MobCxmYWxzZSk7Yy5maXJlRXZlbnQoYy5FdmVudE5hbWUuZmlsZURyb3BwZWQsaik7aWYoai5jYW5jZWwpe3JldHVybjt9dmFyIG09bC5uYW1lO3ZhciBvPWwudHlwZTt2YXIgbj1uZXcgRmlsZVJlYWRlcigpO24ub25sb2FkPWZ1bmN0aW9uKHEpe3ZhciByPXtkYXRhQjY0OnEudGFyZ2V0LnJlc3VsdCxmaWxlTmFtZTptfTt2YXIgcD1mdW5jdGlvbigpe2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkNsaWVudFBhc3RlLGMuQ2xpcGJvYXJkRGF0YVR5cGUuRmlsZSwwLDAscik7fTtpZihjLmRvY3VtZW50RGlydHkmJihvLnN1YnN0cmluZygwLDUpIT09XCJpbWFnZVwiKSl7Yy5maWxlU2F2ZVF1ZXN0aW9uKHApO31lbHNle3AoKTt9fTtuLnJlYWRBc0RhdGFVUkwobCk7fWMuVGV4dERyb3BwZWRFdmVudEFyZ3M9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaihjYW5jZWwsdGV4dCx0ZXh0VHlwZSl7dGhpcy5jYW5jZWw9Y2FuY2VsO3RoaXMudGV4dD10ZXh0O3RoaXMudGV4dFR5cGU9dGV4dFR5cGU7fXJldHVybiBqO30pKCk7Yy5UZXh0UGFzdGVkRXZlbnRBcmdzPShmdW5jdGlvbigpe2Z1bmN0aW9uIGooY2FuY2VsLHRleHQsdGV4dFR5cGUpe3RoaXMuY2FuY2VsPWNhbmNlbDt0aGlzLnRleHQ9dGV4dDt0aGlzLnRleHRUeXBlPXRleHRUeXBlO31yZXR1cm4gajt9KSgpO2MucGFzdGVUZXh0PWZ1bmN0aW9uKG0sbixrKXt2YXIgaixsPWMuQ2xpcGJvYXJkRGF0YVR5cGUuZnJvbVZhbHVlKG4pO2lmKGspe2o9bmV3IGMuVGV4dERyb3BwZWRFdmVudEFyZ3MoZmFsc2UsbSxsKTtjLmZpcmVFdmVudChjLkV2ZW50TmFtZS50ZXh0RHJvcHBlZCxqKTt9ZWxzZXtqPW5ldyBjLlRleHRQYXN0ZWRFdmVudEFyZ3MoZmFsc2UsbSxsKTtjLmZpcmVFdmVudChjLkV2ZW50TmFtZS50ZXh0UGFzdGVkLGopO31tPVwiXCIrai50ZXh0O249Yy5DbGlwYm9hcmREYXRhVHlwZS50b1ZhbHVlKGoudGV4dFR5cGUpO2lmKCFqLmNhbmNlbCl7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuQ2xpZW50UGFzdGUsbiwwLDAsbSk7fX07Yy5DbGlwYm9hcmRNb2RlQ2hhbmdlZEV2ZW50QXJncz0oZnVuY3Rpb24oKXtmdW5jdGlvbiBqKGNsaXBib2FyZE1vZGUpe3RoaXMuY2xpcGJvYXJkTW9kZT1jbGlwYm9hcmRNb2RlO31yZXR1cm4gajt9KSgpO2Muc2V0Q2xpcGJvYXJkTW9kZT1mdW5jdGlvbihrKXtjLmNsaXBib2FyZE1vZGU9azt2YXIgaj1uZXcgYy5DbGlwYm9hcmRNb2RlQ2hhbmdlZEV2ZW50QXJncyhrKTtjLmZpcmVFdmVudChjLkV2ZW50TmFtZS5jbGlwYm9hcmRNb2RlQ2hhbmdlZCxqKTt9O2MuQ2xpcGJvYXJkVHJhbnNmZXJTdGFydEV2ZW50QXJncz0oZnVuY3Rpb24oKXtmdW5jdGlvbiBDbGlwYm9hcmRUcmFuc2ZlclN0YXJ0RXZlbnRBcmdzKGlkKXt0aGlzLmlkPWlkO31yZXR1cm4gQ2xpcGJvYXJkVHJhbnNmZXJTdGFydEV2ZW50QXJnczt9KSgpO2MuQ2xpcGJvYXJkVHJhbnNmZXJQcm9ncmVzc0V2ZW50QXJncz0oZnVuY3Rpb24oKXtmdW5jdGlvbiBDbGlwYm9hcmRUcmFuc2ZlclByb2dyZXNzRXZlbnRBcmdzKGlkLHByb2dyZXNzKXt0aGlzLmlkPWlkO3RoaXMucHJvZ3Jlc3M9cHJvZ3Jlc3M7fXJldHVybiBDbGlwYm9hcmRUcmFuc2ZlclByb2dyZXNzRXZlbnRBcmdzO30pKCk7Yy5DbGlwYm9hcmRUcmFuc2ZlckNvbXBsZXRlRXZlbnRBcmdzPShmdW5jdGlvbigpe2Z1bmN0aW9uIENsaXBib2FyZFRyYW5zZmVyQ29tcGxldGVFdmVudEFyZ3MoaWQpe3RoaXMuaWQ9aWQ7fXJldHVybiBDbGlwYm9hcmRUcmFuc2ZlckNvbXBsZXRlRXZlbnRBcmdzO30pKCk7Yy5DbGlwYm9hcmRUcmFuc2ZlckFib3J0ZWRFdmVudEFyZ3M9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ2xpcGJvYXJkVHJhbnNmZXJBYm9ydGVkRXZlbnRBcmdzKGlkKXt0aGlzLmlkPWlkO31yZXR1cm4gQ2xpcGJvYXJkVHJhbnNmZXJBYm9ydGVkRXZlbnRBcmdzO30pKCk7Yy5wcm9jZXNzU2VsZWN0aW9uSFRNTENvbnRlbnRNZXNzYWdlPWZ1bmN0aW9uKGspe3ZhciBqO2s9ay5EYXRhO2lmKCFjLnRleHRWaWV3ZXIpe3JldHVybjt9aWYoYy5vdmVybGF5Q29udHJvbHMuZXhpc3QoKSl7cmV0dXJuO31zd2l0Y2goay5tc2dUeXBlKXtjYXNlIGguU3RhcnQ6aWYoYi5pZCl7aj1uZXcgYy5DbGlwYm9hcmRUcmFuc2ZlckFib3J0ZWRFdmVudEFyZ3MoYi5pZCk7Yy5maXJlRXZlbnQoYy5FdmVudE5hbWUuY2xpcGJvYXJkRGF0YVRyYW5zZmVyQWJvcnRlZCxqKTt9Yi5zdGFydChrKTtpZighay5pc0VtcHR5U2VsZWN0aW9uKXtqPW5ldyBjLkNsaXBib2FyZFRyYW5zZmVyU3RhcnRFdmVudEFyZ3Moay5pZCk7Yy5maXJlRXZlbnQoYy5FdmVudE5hbWUuY2xpcGJvYXJkRGF0YVRyYW5zZmVyU3RhcnQsaik7fWJyZWFrO2Nhc2UgaC5EYXRhOmlmKGsuaWQhPT1iLmlkKXticmVhazt9Yi5kYXRhKz1rLmRhdGE7Yi5wcm9ncmVzcyhrKTsrK2IuY2h1bmtzUmVjZWl2ZWQ7aWYoIWIuaXNFbXB0eVNlbGVjdGlvbil7aj1uZXcgYy5DbGlwYm9hcmRUcmFuc2ZlclByb2dyZXNzRXZlbnRBcmdzKGsuaWQsKGsubnVtYmVyL2suY2h1bmtzKSoxMDApO2MuZmlyZUV2ZW50KGMuRXZlbnROYW1lLmNsaXBib2FyZERhdGFUcmFuc2ZlclByb2dyZXNzLGopO31icmVhaztjYXNlIGguRW5kOnZhciBsPWIuaXNFbXB0eVNlbGVjdGlvbjtpZigoay5pZCE9PWIuaWQpfHwoYi5jaHVua3NSZWNlaXZlZCE9Yi5jaHVua3NFeHBlY3RlZCkpe2JyZWFrO31jLnRleHRWaWV3ZXIuc2V0SGlkZGVuVGV4dEZpZWxkVGV4dChiLmRhdGEpO2IucmVzZXQoKTtjLnRleHRWaWV3ZXIuc2VsZWN0SGlkZGVuVGV4dGZpZWxkQ29udGVudCgpO2lmKCFsKXtqPW5ldyBjLkNsaXBib2FyZFRyYW5zZmVyQ29tcGxldGVFdmVudEFyZ3Moay5pZCk7Yy5maXJlRXZlbnQoYy5FdmVudE5hbWUuY2xpcGJvYXJkRGF0YVRyYW5zZmVyQ29tcGxldGUsaik7fWJyZWFrO319O3JldHVybiBpO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRXZlbnROYW1lPXtyaWJib25UYWJzTG9hZGVkOlwicmliYm9uVGFic0xvYWRlZFwiLHRleHREcm9wcGVkOlwidGV4dERyb3BwZWRcIixmaWxlRHJvcHBlZDpcImZpbGVEcm9wcGVkXCIsdGV4dFBhc3RlZDpcInRleHRQYXN0ZWRcIixkb2N1bWVudExvYWRlZDpcImRvY3VtZW50TG9hZGVkXCIsd2ViU29ja2V0Q2xvc2VkOlwid2ViU29ja2V0Q2xvc2VkXCIsdGV4dENvbnRyb2xMb2FkZWQ6XCJ0ZXh0Q29udHJvbExvYWRlZFwiLHJpYmJvblRhYkluZGV4Q2hhbmdlZDpcInJpYmJvblRhYkluZGV4Q2hhbmdlZFwiLGh5cGVybGlua0NsaWNrZWQ6XCJoeXBlcmxpbmtDbGlja2VkXCIsdGV4dENvbnRyb2xDaGFuZ2VkOlwidGV4dENvbnRyb2xDaGFuZ2VkXCIsaW5wdXRQb3NpdGlvbkNoYW5nZWQ6XCJpbnB1dFBvc2l0aW9uQ2hhbmdlZFwiLGNsaXBib2FyZERhdGFUcmFuc2ZlclN0YXJ0OlwiY2xpcGJvYXJkRGF0YVRyYW5zZmVyU3RhcnRcIixjbGlwYm9hcmREYXRhVHJhbnNmZXJQcm9ncmVzczpcImNsaXBib2FyZERhdGFUcmFuc2ZlclByb2dyZXNzXCIsY2xpcGJvYXJkRGF0YVRyYW5zZmVyQ29tcGxldGU6XCJjbGlwYm9hcmREYXRhVHJhbnNmZXJDb21wbGV0ZVwiLGNsaXBib2FyZERhdGFUcmFuc2ZlckFib3J0ZWQ6XCJjbGlwYm9hcmREYXRhVHJhbnNmZXJBYm9ydGVkXCIsdGV4dFZpZXdMb2NhdGlvbkNoYW5nZWQ6XCJ0ZXh0Vmlld0xvY2F0aW9uQ2hhbmdlZFwiLHpvb21GYWN0b3JDaGFuZ2VkOlwiem9vbUZhY3RvckNoYW5nZWRcIixjbGlwYm9hcmRNb2RlQ2hhbmdlZDpcImNsaXBib2FyZE1vZGVDaGFuZ2VkXCIsdW5oYW5kbGVkRXJyb3I6XCJ1bmhhbmRsZWRFcnJvclwifTtiLlN1YlRleHRQYXJ0RXZlbnRUeXBlPXtFbnRlcmVkOjAsTGVmdDoxLENsaWNrZWQ6MixEb3VibGVDbGlja2VkOjN9O2IuZXZlbnRMaXN0ZW5lcnM9e307Yy5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7aWYoIWV2ZW50TmFtZSl7dGhyb3cgbmV3IEVycm9yKFwiV3JvbmcgbnVtYmVyIG9mIHBhcmFtZXRlcnMuXCIpO31pZih0eXBlb2YgZXZlbnROYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJldmVudE5hbWVcIiBtdXN0IGJlIG9mIHR5cGUgXCJzdHJpbmdcIi5cXCcpO31pZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihcIldyb25nIG51bWJlciBvZiBwYXJhbWV0ZXJzLlwiKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImNhbGxiYWNrXCIgbXVzdCBiZSBvZiB0eXBlIFwiZnVuY3Rpb25cIi5cXCcpO31iLmV2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV09Yi5ldmVudExpc3RlbmVyc1tldmVudE5hbWVdfHxbXTt2YXIgZT1iLmV2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV07dmFyIGQ9ZS5pbmRleE9mKGNhbGxiYWNrKTtpZihkPT09LTEpe2UucHVzaChjYWxsYmFjayk7fWlmKGIuVGV4dFZpZXdHZW5lcmF0b3JFdmVudHMuaW5kZXhPZihldmVudE5hbWUpPj0wKXtiLnN1YnNjcmliZVRvRXZlbnQoZXZlbnROYW1lLGIuRXZlbnRDYXRlZ29yeS5UZXh0Vmlld0dlbmVyYXRvcik7fX07Yy5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7aWYoIWV2ZW50TmFtZSl7dGhyb3cgbmV3IEVycm9yKFwiV3JvbmcgbnVtYmVyIG9mIHBhcmFtZXRlcnMuXCIpO31pZih0eXBlb2YgZXZlbnROYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJldmVudE5hbWVcIiBtdXN0IGJlIG9mIHR5cGUgXCJzdHJpbmdcIi5cXCcpO31pZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihcIldyb25nIG51bWJlciBvZiBwYXJhbWV0ZXJzLlwiKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImNhbGxiYWNrXCIgbXVzdCBiZSBvZiB0eXBlIFwiZnVuY3Rpb25cIi5cXCcpO31pZighYi5ldmVudExpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShldmVudE5hbWUpKXtyZXR1cm47fXZhciBnPWIuZXZlbnRMaXN0ZW5lcnNbZXZlbnROYW1lXTt0cnl7dmFyIGY9Zy5pbmRleE9mKGNhbGxiYWNrKTtpZihmPi0xKXtnLnNwbGljZShmLDEpO2lmKGcubGVuZ3RoPT09MCl7ZGVsZXRlIGIuZXZlbnRMaXN0ZW5lcnNbZXZlbnROYW1lXTt9fX1jYXRjaChkKXt9aWYoYi5UZXh0Vmlld0dlbmVyYXRvckV2ZW50cy5pbmRleE9mKGV2ZW50TmFtZSk+PTApe2lmKGcubGVuZ3RoPT09MCl7Yi51bnN1YnNjcmliZUZyb21FdmVudChldmVudE5hbWUsYi5FdmVudENhdGVnb3J5LlRleHRWaWV3R2VuZXJhdG9yKTt9fX07Yi5maXJlRXZlbnQ9ZnVuY3Rpb24oaCxnKXtpZighYi5ldmVudExpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShoKSl7cmV0dXJuO312YXIgaz1iLmV2ZW50TGlzdGVuZXJzW2hdO2Zvcih2YXIgaj0wO2o8ay5sZW5ndGg7KytqKXt2YXIgZD1rW2pdO3RyeXtkKGcpO31jYXRjaChmKXt9fX07cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpOyhmdW5jdGlvbihhKXtpZihhLk11dGF0aW9uT2JzZXJ2ZXIpe3JldHVybjt9ZnVuY3Rpb24gYyhkKXtyZXR1cm4gd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsJiZ3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGQpfHxkO31mdW5jdGlvbiBiKGQpe3RoaXMuX2NhbGxiYWNrPWQ7fWIucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGUsZCl7ZT1jKGUpO2lmKCFkLmNoaWxkTGlzdCYmIWQuYXR0cmlidXRlcyYmIWQuY2hhcmFjdGVyRGF0YXx8ZC5hdHRyaWJ1dGVPbGRWYWx1ZSYmIWQuYXR0cmlidXRlc3x8ZC5hdHRyaWJ1dGVGaWx0ZXImJmQuYXR0cmlidXRlRmlsdGVyLmxlbmd0aCYmIWQuYXR0cmlidXRlc3x8ZC5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUmJiFkLmNoYXJhY3RlckRhdGEpe3Rocm93IG5ldyBTeW50YXhFcnJvcigpO319fTthLk11dGF0aW9uT2JzZXJ2ZXI9Yjt9KSh0aGlzKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuZW5hYmxlQnV0dG9uPWZ1bmN0aW9uKGUsZCl7aWYodHlwZW9mIGQ9PT1cInVuZGVmaW5lZFwiKXtkPXRydWU7fWUuZGlzYWJsZWQ9IWQ7aWYoZCl7ZS5jbGFzc0xpc3QucmVtb3ZlKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt9ZWxzZXtlLmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO319O2IuSFRNTERpYWxvZz0oZnVuY3Rpb24oKXtmdW5jdGlvbiBkKCl7dGhpcy5kaWFsb2dEYXRhPXtkaWFsb2dSZXN1bHQ6ZmFsc2V9O3RoaXMucmVzb3VyY2VzUmVjZWl2ZWRIYW5kbGVyQm91bmQ9dGhpcy5yZXNvdXJjZXNSZWNlaXZlZEhhbmRsZXIuYmluZCh0aGlzKTt0aGlzLmRpYWxvZ0NvbnRhaW5lcklEPVwiZGlhbG9nQ29udGFpbmVyXCIrcmFuZG9tSW50RnJvbUludGVydmFsKDEwMDAwLDk5OTk5KTt0aGlzLmlzRGlhbG9nUmVhZHk9ZmFsc2U7dGhpcy5jbG9zZVJlcXVlc3RlZD1mYWxzZTt9ZC5wcm90b3R5cGUuT0tIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHQ9dHJ1ZTt0aGlzLmNsb3NlKGUpO307ZC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaXNEaWFsb2dSZWFkeSl7dGhpcy5jbG9zZVJlcXVlc3RlZD10cnVlO3JldHVybjt9dGhpcy5jbG9zaW5nKCk7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuRGlhbG9nUmVzdWx0LHRoaXMuRGlhbG9nSW5mby5EaWFsb2dUeXBlLDAsMCx0aGlzLmRpYWxvZ0RhdGEpO2EoZSkuZGlhbG9nKFwiZGVzdHJveVwiKS5yZW1vdmUoKTthKFwiI1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpLnJlbW92ZSgpO2lmKCFiLmlzVG91Y2hEZXZpY2Upe2IudGV4dFZpZXdlci5mb2N1cygpO319O2QucHJvdG90eXBlLnJlc291cmNlc1JlY2VpdmVkSGFuZGxlcj1mdW5jdGlvbihmKXtpZihmLmRldGFpbC5kaWFsb2dUeXBlPT10aGlzLkRpYWxvZ0luZm8uRGlhbG9nVHlwZSl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpYWxvZ1Jlc291cmNlc1JlY2VpdmVkXCIsdGhpcy5yZXNvdXJjZXNSZWNlaXZlZEhhbmRsZXJCb3VuZCk7dGhpcy5kaWFsb2dpemUoZi5kZXRhaWwucmVzb3VyY2VzKTt9fTtkLnByb3RvdHlwZS5kaWFsb2dpemU9ZnVuY3Rpb24oZil7dmFyIGc9dGhpczt0aGlzLmNhcHRpb249Zi5zdHJpbmdzW3RoaXMuRGlhbG9nSW5mby5UaXRsZVJlc291cmNlTmFtZV07dmFyIGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaWFsb2dDb250YWluZXJJRCk7ZS5pbm5lckhUTUw9Zi5odG1sO2EoXCIjXCIrdGhpcy5EaWFsb2dJbmZvLkVsZW1lbnRJRCkuZGlhbG9nKHttb2RhbDp0cnVlLHJlc2l6YWJsZTp0aGlzLkRpYWxvZ0luZm8uUmVzaXphYmxlfHxmYWxzZSx3aWR0aDp0aGlzLkRpYWxvZ0luZm8uV2lkdGh8fFwiYXV0b1wiLGhlaWdodDp0aGlzLkRpYWxvZ0luZm8uSGVpZ2h0fHxcImF1dG9cIixkaWFsb2dDbGFzczp0aGlzLkRpYWxvZ0luZm8uRGlhbG9nQ2xhc3N8fFwiXCIsdGl0bGU6Zy5jYXB0aW9uLGJ1dHRvbnM6dGhpcy5EaWFsb2dJbmZvLkJ1dHRvbnN8fHtPSzp7dGV4dDpcIk9LXCIsY2xpY2s6ZnVuY3Rpb24oKXtnLk9LSGFuZGxlcih0aGlzKTt9LGlkOlwiYnRuT0tfXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRH0sQ2FuY2VsOnt0ZXh0OlwiQ2FuY2VsXCIsY2xpY2s6ZnVuY3Rpb24oKXtnLmNsb3NlKHRoaXMpO30saWQ6XCJidG5DYW5jZWxfXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRH19LGNsb3NlOmZ1bmN0aW9uKCl7Zy5jbG9zZSh0aGlzKTt9LH0pLmtleXByZXNzKGZ1bmN0aW9uKGkpe2lmKGkua2V5Q29kZT09YS51aS5rZXlDb2RlLkVOVEVSKXt2YXIgaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bk9LX1wiK2cuZGlhbG9nQ29udGFpbmVySUQpO2lmKCFofHwhaC5kaXNhYmxlZCl7Zy5PS0hhbmRsZXIodGhpcyk7fXJldHVybiBmYWxzZTt9fSk7dGhpcy5hcHBseVN0cmluZ1Jlc291cmNlcyhmLnN0cmluZ3MpO3RoaXMuZGlhbG9nUmVhZHkodGhpcyk7dGhpcy5pc0RpYWxvZ1JlYWR5PXRydWU7aWYodGhpcy5jbG9zZVJlcXVlc3RlZCl7dGhpcy5jbG9zZShhKFwiI1wiK3RoaXMuRGlhbG9nSW5mby5FbGVtZW50SUQpKTt9fTtkLnByb3RvdHlwZS5zZXREZWZhdWx0QnRuVGV4dHM9ZnVuY3Rpb24oail7dmFyIGk7dmFyIGc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5PS19cIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKTtpZihnJiZqLmhhc093blByb3BlcnR5KFwiQlROX09LXCIpKXtpPWcucXVlcnlTZWxlY3RvcihcInNwYW4udHh1aS1idXR0b24tdGV4dFwiKTtpLnRleHRDb250ZW50PWouQlROX09LO312YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bkNhbmNlbF9cIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKTtpZihlJiZqLmhhc093blByb3BlcnR5KFwiQlROX0NBTkNFTFwiKSl7aT1lLnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLnR4dWktYnV0dG9uLXRleHRcIik7aS50ZXh0Q29udGVudD1qLkJUTl9DQU5DRUw7fXZhciBoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuWWVzX1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpO2lmKGgmJmouaGFzT3duUHJvcGVydHkoXCJCVE5fWUVTXCIpKXtpPWgucXVlcnlTZWxlY3RvcihcInNwYW4udHh1aS1idXR0b24tdGV4dFwiKTtpLnRleHRDb250ZW50PWouQlROX1lFUzt9dmFyIGY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5Ob19cIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKTtpZihmJiZqLmhhc093blByb3BlcnR5KFwiQlROX05PXCIpKXtpPWYucXVlcnlTZWxlY3RvcihcInNwYW4udHh1aS1idXR0b24tdGV4dFwiKTtpLnRleHRDb250ZW50PWouQlROX05PO319O2QucHJvdG90eXBlLnNob3dNb2RhbD1mdW5jdGlvbihnKXt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKSxmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zi5pZD10aGlzLmRpYWxvZ0NvbnRhaW5lcklEO2UuYXBwZW5kQ2hpbGQoZik7aWYoIWcpe2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkaWFsb2dSZXNvdXJjZXNSZWNlaXZlZFwiLHRoaXMucmVzb3VyY2VzUmVjZWl2ZWRIYW5kbGVyQm91bmQpO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkdldERpYWxvZ1Jlc291cmNlcyx0aGlzLkRpYWxvZ0luZm8uRGlhbG9nVHlwZSk7fWVsc2V7dGhpcy5kaWFsb2dpemUoZyk7fX07ZC5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24oZSl7fTtkLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbihlKXt9O2QucHJvdG90eXBlLmNsb3Npbmc9ZnVuY3Rpb24oKXt9O3JldHVybiBkO30pKCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3RoaXMuX19leHRlbmRzPXRoaXMuX19leHRlbmRzfHxmdW5jdGlvbihjLGQpe2Zvcih2YXIgYiBpbiBkKXtpZihkLmhhc093blByb3BlcnR5KGIpKXtjW2JdPWRbYl07fX1mdW5jdGlvbiBhKCl7dGhpcy5jb25zdHJ1Y3Rvcj1jO31hLnByb3RvdHlwZT1kLnByb3RvdHlwZTtjLnByb3RvdHlwZT1uZXcgYSgpO307dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkh5cGVybGlua0RpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGUsZCk7ZnVuY3Rpb24gZSgpe2QuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5IeXBlcmxpbmtEaWFsb2csRWxlbWVudElEOlwiaHlwZXJsaW5rRGlhbG9nXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJIWVBMTktfRElBTE9HX0NBUFRJT05cIix9O3RoaXMuZG9jVGFyZ2V0c1JlY2VpdmVkSGFuZGxlckJvdW5kPXRoaXMuZG9jVGFyZ2V0c1JlY2VpdmVkSGFuZGxlci5iaW5kKHRoaXMpO3RoaXMudHhJdGVtUmVjZWl2ZWRIYW5kbGVyQm91bmQ9dGhpcy50eEl0ZW1SZWNlaXZlZEhhbmRsZXIuYmluZCh0aGlzKTt0aGlzLnRhcmdldHM9W107fWUucHJvdG90eXBlLmRvY1RhcmdldHNSZWNlaXZlZEhhbmRsZXI9ZnVuY3Rpb24oZil7dGhpcy50YXJnZXRzPWYuZGV0YWlsLnRhcmdldHM7dGhpcy51cGRhdGVUYXJnZXRzKCk7fTtlLnByb3RvdHlwZS51cGRhdGVUYXJnZXRzPWZ1bmN0aW9uKCl7dmFyIGY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoeXBlcmxpbmtEaWFsb2dfc2VsVGFyZ2V0XCIpO2YuaW5uZXJIVE1MPVwiXCI7dmFyIGc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoeXBlcmxpbmtEaWFsb2dfY2JBdXRvR2VuZXJhdGVkXCIpLmNoZWNrZWQ7dGhpcy50YXJnZXRzLmZvckVhY2goZnVuY3Rpb24oaSl7aWYoaS5Jc0F1dG9HZW5lcmF0ZWQmJiFnKXtyZXR1cm47fXZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7aC50ZXh0PWkuVGFyZ2V0TmFtZTtmLmFkZChoKTt9KTt9O2UucHJvdG90eXBlLnR4SXRlbVJlY2VpdmVkSGFuZGxlcj1mdW5jdGlvbihmKXt2YXIgaD1mLmRldGFpbC5pdGVtVHlwZSxnPWYuZGV0YWlsLml0ZW07aWYoZz09PW51bGwpe3JldHVybjt9c3dpdGNoKGgpe2Nhc2UgYi5JdGVtVHlwZS5IeXBlcnRleHRMaW5rOmEoXCIjaHlwZXJsaW5rRGlhbG9nX3R4dExpbmtlZFRleHRcIikudmFsKGcuVGV4dCk7YShcIiNoeXBlcmxpbmtEaWFsb2dfdHh0TGlua1RhcmdldFwiKS52YWwoZy5UYXJnZXQpO2JyZWFrO2Nhc2UgYi5JdGVtVHlwZS5Eb2N1bWVudExpbms6YShcIiNoeXBlcmxpbmtEaWFsb2dfdHh0TGlua2VkVGV4dFwiKS52YWwoZy5UZXh0KTthKFwiI2h5cGVybGlua0RpYWxvZ190eHRMaW5rVGFyZ2V0XCIpLnZhbChcIiNcIitnLlRhcmdldE5hbWUpO2JyZWFrO319O2UucHJvdG90eXBlLk9LSGFuZGxlcj1mdW5jdGlvbihmKXt2YXIgZz1hKFwiI2h5cGVybGlua0RpYWxvZ190eHRMaW5rZWRUZXh0XCIpLnZhbCgpLGg9YShcIiNoeXBlcmxpbmtEaWFsb2dfdHh0TGlua1RhcmdldFwiKS52YWwoKTtpZigoZy5sZW5ndGg+MCkmJihoLmxlbmd0aD4wKSl7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuSW5zZXJ0SXRlbSxiLkl0ZW1UeXBlLkh5cGVydGV4dExpbmssMCwwLHtsaW5rZWRUZXh0OmcsbGlua1RhcmdldDpofSk7fXRoaXMuY2xvc2UoZik7fTtlLnByb3RvdHlwZS5jbG9zaW5nPWZ1bmN0aW9uKGYpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkb2N1bWVudFRhcmdldHNSZWNlaXZlZFwiLHRoaXMuZG9jVGFyZ2V0c1JlY2VpdmVkSGFuZGxlckJvdW5kKTtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHhJdGVtUmVjZWl2ZWRcIix0aGlzLnR4SXRlbVJlY2VpdmVkSGFuZGxlckJvdW5kKTt9O2UucHJvdG90eXBlLmRpYWxvZ1JlYWR5PWZ1bmN0aW9uKCl7dmFyIGY9dGhpcztkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZG9jdW1lbnRUYXJnZXRzUmVjZWl2ZWRcIix0aGlzLmRvY1RhcmdldHNSZWNlaXZlZEhhbmRsZXJCb3VuZCk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInR4SXRlbVJlY2VpdmVkXCIsdGhpcy50eEl0ZW1SZWNlaXZlZEhhbmRsZXJCb3VuZCk7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuR2V0RG9jdW1lbnRUYXJnZXRzKTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5HZXRJdGVtLGIuSXRlbVR5cGUuTGluayk7YShcIiNoeXBlcmxpbmtEaWFsb2dfc2VsVGFyZ2V0XCIpLmNoYW5nZShmdW5jdGlvbigpe3ZhciBnPWEodGhpcykudmFsKCk7YShcIiNoeXBlcmxpbmtEaWFsb2dfdHh0TGlua1RhcmdldFwiKS52YWwoXCIjXCIrZyk7fSk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoeXBlcmxpbmtEaWFsb2dfY2JBdXRvR2VuZXJhdGVkXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGcpe2YudXBkYXRlVGFyZ2V0cygpO30pO307ZS5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24oZil7YShcIiNIWVBMTktfRElBTE9HX0xCTF9MSU5LRURfVEVYVFwiKS50ZXh0KGYuSFlQTE5LX0RJQUxPR19MQkxfTElOS0VEX1RFWFQpO2EoXCIjSFlQTE5LX0RJQUxPR19MQkxfTElOS19UR1RcIikudGV4dChmLkhZUExOS19ESUFMT0dfTEJMX0xJTktfVEdUKTthKFwiI0hZUExOS19ESUFMT0dfTEJMX1NFTF9UR1RcIikudGV4dChmLkhZUExOS19ESUFMT0dfTEJMX1NFTF9UR1QpO2EoXCIjSFlQTE5LX0RJQUxPR19BVVRPX0dFTkVSQVRFRF9CT09LTUFSS1NcIikudGV4dChmLkhZUExOS19ESUFMT0dfQVVUT19HRU5FUkFURURfQk9PS01BUktTKTt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhmKTt9O3JldHVybiBlO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5JbnB1dEJveERpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGUsZCk7ZnVuY3Rpb24gZShnLGosaSxoKXtkLmNhbGwodGhpcyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuSW5wdXRCb3hEaWFsb2d9O3RoaXMuY2FwdGlvbj1nO3RoaXMudGV4dD1qfHxcIlwiO3RoaXMubGFiZWw9aXx8bnVsbDt0aGlzLmlzUGFzc3dvcmRCb3g9aHx8ZmFsc2U7dGhpcy5jYWxsYmFjaz1udWxsO3RoaXMuZGlhbG9nUmVzdWx0PWZhbHNlO3RoaXMuZGlhbG9nQ29udGFpbmVySUQ9XCJkaWFsb2dDb250YWluZXJcIityYW5kb21JbnRGcm9tSW50ZXJ2YWwoMTAwMDAsOTk5OTkpO31lLnByb3RvdHlwZS5PS0hhbmRsZXI9ZnVuY3Rpb24oZyl7dmFyIGg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dEJveERpYWxvZ190eHRJbnB1dEJveFwiKTt0aGlzLnRleHQ9aC52YWx1ZTt0aGlzLmRpYWxvZ1Jlc3VsdD10cnVlO3RoaXMuY2xvc2UoZyk7fTtlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihoKXtpZih0aGlzLmNhbGxiYWNrKXtpZih0aGlzLmRpYWxvZ1Jlc3VsdCl7dGhpcy5jYWxsYmFjayh0aGlzLnRleHQpO319ZWxzZXt2YXIgZz17dGV4dDp0aGlzLnRleHQsZGlhbG9nUmVzdWx0OnRoaXMuZGlhbG9nUmVzdWx0fTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5EaWFsb2dSZXN1bHQsYi5IVE1MRGlhbG9nVHlwZS5JbnB1dEJveERpYWxvZywwLDAsZyk7fWEoaCkuZGlhbG9nKFwiZGVzdHJveVwiKS5yZW1vdmUoKTthKFwiI1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpLnJlbW92ZSgpO2lmKCFiLmlzVG91Y2hEZXZpY2Upe2IudGV4dFZpZXdlci5mb2N1cygpO319O2UucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oaCl7dmFyIGo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dEJveERpYWxvZ190eHRJbnB1dEJveFwiKTtqLnZhbHVlPXRoaXMudGV4dDtpZih0aGlzLmlzUGFzc3dvcmRCb3gpe2oudHlwZT1cInBhc3N3b3JkXCI7fWlmKHRoaXMubGFiZWwpe3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXRCb3hEaWFsb2dfbGJsSW5wdXRveERpYWxvZ1wiKTt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0Qm94RGlhbG9nXCIpO2kuc3R5bGUuZGlzcGxheT1cIlwiO2kuaW5uZXJIVE1MPXRoaXMubGFiZWw7Zy5zdHlsZS5oZWlnaHQ9KGcuY2xpZW50SGVpZ2h0K2kuY2xpZW50SGVpZ2h0KzUpK1wicHhcIjt9fTtmdW5jdGlvbiBmKGope3ZhciBoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuT0tfXCIrai5kaWFsb2dDb250YWluZXJJRCk7dmFyIGk9aC5xdWVyeVNlbGVjdG9yKFwic3Bhbi50eHVpLWJ1dHRvbi10ZXh0XCIpO2kudGV4dENvbnRlbnQ9Yi52YXJpb3VzU3RyaW5nUmVzb3VyY2VzLkJUTl9PSzt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bkNhbmNlbF9cIitqLmRpYWxvZ0NvbnRhaW5lcklEKTtpPWcucXVlcnlTZWxlY3RvcihcInNwYW4udHh1aS1idXR0b24tdGV4dFwiKTtpLnRleHRDb250ZW50PWIudmFyaW91c1N0cmluZ1Jlc291cmNlcy5CVE5fQ0FOQ0VMO31lLnByb3RvdHlwZS5kaWFsb2dpemU9ZnVuY3Rpb24oaCl7dmFyIGk9dGhpczt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKTtnLmlubmVySFRNTD1oLmh0bWw7YShcIiNpbnB1dEJveERpYWxvZ1wiKS5kaWFsb2coe21vZGFsOnRydWUscmVzaXphYmxlOmZhbHNlLHdpZHRoOlwiYXV0b1wiLGhlaWdodDoxMTAsdGl0bGU6dGhpcy5jYXB0aW9ufHxcIklucHV0IEJveFwiLGJ1dHRvbnM6e09LOnt0ZXh0OlwiT0tcIixjbGljazpmdW5jdGlvbigpe2kuT0tIYW5kbGVyKHRoaXMpO30saWQ6XCJidG5PS19cIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEfSxDYW5jZWw6e3RleHQ6XCJDYW5jZWxcIixjbGljazpmdW5jdGlvbigpe2kuY2xvc2UodGhpcyk7fSxpZDpcImJ0bkNhbmNlbF9cIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEfX0sY2xvc2U6ZnVuY3Rpb24oKXtpLmNsb3NlKHRoaXMpO30sb3BlbjpmdW5jdGlvbigpe2kuaW5pdCh0aGlzKTt9LH0pLmtleXByZXNzKGZ1bmN0aW9uKGope2lmKGoua2V5Q29kZT09YS51aS5rZXlDb2RlLkVOVEVSKXtpLk9LSGFuZGxlcih0aGlzKTtyZXR1cm4gZmFsc2U7fX0pO2YodGhpcyk7dGhpcy5pc0RpYWxvZ1JlYWR5PXRydWU7fTtlLnByb3RvdHlwZS5zaG93TW9kYWxfYmFzZT1lLnByb3RvdHlwZS5zaG93TW9kYWw7ZS5wcm90b3R5cGUuc2hvd01vZGFsPWZ1bmN0aW9uKGcpe3RoaXMuY2FsbGJhY2s9Zzt0aGlzLnNob3dNb2RhbF9iYXNlKCk7fTtyZXR1cm4gZTt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuTG9hZERpY3Rpb25hcnlEaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhnLGQpO2Z1bmN0aW9uIGcoaCl7ZC5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLkxvYWREaWN0aW9uYXJ5RGlhbG9nLEVsZW1lbnRJRDpcImxvYWREaWN0aW9uYXJ5RGlhbG9nXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJMT0FEX0RJQ1RfRElBTE9HX1RJVExFXCJ9O3RoaXMuYXZhaWxhYmxlRGljdHM9aC5BdmFpbGFibGVEaWN0czt0aGlzLmxvYWRlZERpY3RzPWguTG9hZGVkRGljdHM7fWZ1bmN0aW9uIGYobil7dmFyIG09W107dmFyIGo9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNsb2FkRGljdGlvbmFyeURpYWxvZyBpbnB1dFt0eXBlPWNoZWNrYm94XVwiKTtmb3IodmFyIGw9MDtsPGoubGVuZ3RoOysrbCl7dmFyIGg9altsXTtpZighaC5kaXNhYmxlZCYmaC5jaGVja2VkKXt2YXIgaz1oLmRhdGFzZXQuZGljdE5hbWU7bS5wdXNoKGspO319cmV0dXJuIG07fWcucHJvdG90eXBlLmNsb3Npbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmRpYWxvZ0RhdGEuZGlhbG9nUmVzdWx0KXt0aGlzLmRpYWxvZ0RhdGEuc2VsZWN0ZWQ9Zih0aGlzKTt9fTtmdW5jdGlvbiBlKGgscSl7dmFyIG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkaWN0TmFtZUNoZWNrQm94Q29udGFuaWVyXCIpO20uaW5uZXJIVE1MPVwiXCI7Zm9yKHZhciBwPTA7cDxoLmxlbmd0aDsrK3Ape3ZhciBsPWhbcF07dmFyIGs9XCJjaGtEaWN0TmFtZVwiK3A7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO24uaWQ9aztuLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImNoZWNrYm94XCIpO24uZGF0YXNldC5kaWN0TmFtZT1sO24udGl0bGU9bDtuLnN0eWxlLmNzc0Zsb2F0PVwibGVmdFwiO24uc3R5bGUuY2xlYXI9XCJsZWZ0XCI7dmFyIGo9cS5zb21lKGZ1bmN0aW9uKGkpe3JldHVybihsPT09aSk7fSk7aWYoail7bi5jaGVja2VkPXRydWU7bi5kaXNhYmxlZD10cnVlO31tLmFwcGVuZENoaWxkKG4pO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtvLnNldEF0dHJpYnV0ZShcImZvclwiLGspO28udGV4dENvbnRlbnQ9bDtvLnRpdGxlPWw7by5zdHlsZS5jc3NGbG9hdD1cImxlZnRcIjttLmFwcGVuZENoaWxkKG8pO319Zy5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oaCl7ZShoLmF2YWlsYWJsZURpY3RzLGgubG9hZGVkRGljdHMpO307Zy5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24oaCl7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoaCk7fTtyZXR1cm4gZzt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuTG9hZFRoZXNhdXJ1c0RpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGcsZCk7ZnVuY3Rpb24gZyhoKXtkLmNhbGwodGhpcyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuTG9hZFRoZXNhdXJ1c0RpYWxvZyxFbGVtZW50SUQ6XCJsb2FkVGhlc2F1cnVzRGlhbG9nXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJMT0FEX1RIRVNBVVJVU19ESUFMT0dfVElUTEVcIn07dGhpcy5hdmFpbGFibGVUaGVzYXVyaT1oLmF2YWlsYWJsZVRoZXNhdXJpO3RoaXMubG9hZGVkVGhlc2F1cmk9aC5sb2FkZWRUaGVzYXVyaTt9ZnVuY3Rpb24gZihtKXt2YXIgbD1bXTt2YXIgaj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2xvYWRUaGVzYXVydXNEaWFsb2cgaW5wdXRbdHlwZT1jaGVja2JveF1cIik7Zm9yKHZhciBrPTA7azxqLmxlbmd0aDsrK2spe3ZhciBoPWpba107aWYoIWguZGlzYWJsZWQmJmguY2hlY2tlZCl7dmFyIG49aC5kYXRhc2V0LnRoZXNhdXJ1c05hbWU7bC5wdXNoKG4pO319cmV0dXJuIGw7fWcucHJvdG90eXBlLmNsb3Npbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmRpYWxvZ0RhdGEuZGlhbG9nUmVzdWx0KXt0aGlzLmRpYWxvZ0RhdGEuc2VsZWN0ZWQ9Zih0aGlzKTt9fTtmdW5jdGlvbiBlKGgsbyl7dmFyIHE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aGVzYXVydXNOYW1lQ2hlY2tCb3hDb250YW5pZXJcIik7cS5pbm5lckhUTUw9XCJcIjtmb3IodmFyIG49MDtuPGgubGVuZ3RoOysrbil7dmFyIHA9aFtuXTt2YXIgaz1cImNoa1RoZXNhdXJ1c05hbWVcIituO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtsLmlkPWs7bC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJjaGVja2JveFwiKTtsLmRhdGFzZXQudGhlc2F1cnVzTmFtZT1wO2wudGl0bGU9cDtsLnN0eWxlLmNzc0Zsb2F0PVwibGVmdFwiO2wuc3R5bGUuY2xlYXI9XCJsZWZ0XCI7dmFyIGo9by5zb21lKGZ1bmN0aW9uKGkpe3JldHVybihwPT09aSk7fSk7aWYoail7bC5jaGVja2VkPXRydWU7bC5kaXNhYmxlZD10cnVlO31xLmFwcGVuZENoaWxkKGwpO3ZhciBtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTttLnNldEF0dHJpYnV0ZShcImZvclwiLGspO20udGV4dENvbnRlbnQ9cDttLnRpdGxlPXA7bS5zdHlsZS5jc3NGbG9hdD1cImxlZnRcIjtxLmFwcGVuZENoaWxkKG0pO319Zy5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oaCl7ZShoLmF2YWlsYWJsZVRoZXNhdXJpLGgubG9hZGVkVGhlc2F1cmkpO307Zy5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24oaCl7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoaCk7fTtyZXR1cm4gZzt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O3ZhciBkPXtCTVA6MSxQTkc6MixHSUY6MyxKUEc6NCxXTUY6NSxFTUY6NixUSUY6N307Yi5PcGVuRmlsZURpYWxvZz0oZnVuY3Rpb24oZSl7X19leHRlbmRzKHEsZSk7ZnVuY3Rpb24gcSh1LHYpe2UuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5PcGVuRmlsZURpYWxvZyxFbGVtZW50SUQ6XCJvcGVuRmlsZURpYWxvZ1wiLFRpdGxlUmVzb3VyY2VOYW1lOlwiT1BFTl9GSUxFX0RJQUxPR19USVRMRVwifTt0aGlzLmNvbW1hbmQ9dXx8Yi5Db21tYW5kLk9wZW5GaWxlO3RoaXMuZmlsZVR5cGU9dnx8Yi5GaWxlVHlwZS5Eb2N1bWVudDt0aGlzLnN1YkZpbGVUeXBlPS0xO3RoaXMuaW1hZ2VEYXRhVVJMcz17ZGlyOlwiXCIsZmlsZTpcIlwifTt0aGlzLmFsdFRleHRzPXtmaWxlTmFtZTpcIlwiLGRpck5hbWU6XCJcIn07dGhpcy5kaXJOYW1lcz1bXTt0aGlzLmZpbGVOYW1lcz1bXTt0aGlzLmZpbGVGaWx0ZXJzPVtdO3RoaXMuZmlsZUZpbHRlckFsbD1cIlwiO3RoaXMuZmlsZUxpc3RSZWNlaXZlZEhhbmRsZXJCb3VuZD10aGlzLmZpbGVMaXN0UmVjZWl2ZWRIYW5kbGVyLmJpbmQodGhpcyk7dGhpcy5maWxlVHlwZUNoYW5nZUhhbmRsZXJCb3VuZD10aGlzLmZpbGVUeXBlQ2hhbmdlSGFuZGxlci5iaW5kKHRoaXMpO3RoaXMuZmlsZU5hbWVDaGFuZ2VIYW5kbGVyQm91bmQ9dGhpcy5maWxlTmFtZUNoYW5nZUhhbmRsZXIuYmluZCh0aGlzKTt9cS5wcm90b3R5cGUuY2xvc2luZz1mdW5jdGlvbigpe3ZhciB3PXRoaXM7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZpbGVMaXN0UmVjZWl2ZWRcIix0aGlzLmZpbGVMaXN0UmVjZWl2ZWRIYW5kbGVyQm91bmQpO2lmKHRoaXMuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHQpe3ZhciB4PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhPRkRUeHRGaWxlTmFtZVwiKTt2YXIgdj14LnZhbHVlO2lmKHYmJih2IT09XCJcIikpe2Iuc2VuZENvbW1hbmQodGhpcy5jb21tYW5kLHRoaXMuZmlsZVR5cGUsdSgpLDAsdik7fX1mdW5jdGlvbiB1KCl7cmV0dXJuKHcuZmlsZVR5cGU9PWIuRmlsZVR5cGUuRGF0YUJhc2UpP3cuc3ViRmlsZVR5cGU6MDt9fTtmdW5jdGlvbiBpKHUpe3doaWxlKHUmJnUudGFnTmFtZSE9PVwiVFJcIil7dT11LnBhcmVudEVsZW1lbnQ7fXJldHVybiB1O31mdW5jdGlvbiBwKHYsdSl7di5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdD10cnVlO3YuY2xvc2UoYShcIiNcIit2LkRpYWxvZ0luZm8uRWxlbWVudElEKSk7fWZ1bmN0aW9uIG8odSl7dmFyIHY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eE9GRFR4dEZpbGVOYW1lXCIpO3YudmFsdWU9XCJcIjtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5PcGVuRGlyZWN0b3J5LDAsMCwwLHUpO31mdW5jdGlvbiBrKHUpe3N3aXRjaCh1KXtjYXNlIGQuQk1QOnJldHVybltcImJtcFwiXTtjYXNlIGQuRU1GOnJldHVybltcImVtZlwiXTtjYXNlIGQuR0lGOnJldHVybltcImdpZlwiXTtjYXNlIGQuSlBHOnJldHVybltcImpwZ1wiLFwianBlZ1wiXTtjYXNlIGQuUE5HOnJldHVybltcInBuZ1wiXTtjYXNlIGQuVElGOnJldHVybltcInRpZlwiXTtjYXNlIGQuV01GOnJldHVybltcIndtZlwiXTt9cmV0dXJuW107fWZ1bmN0aW9uIGYodSl7c3dpdGNoKHUpe2Nhc2UgYi5EYXRhQmFzZVR5cGUuWE1MOnJldHVybltcInhtbFwiXTtjYXNlIGIuRGF0YUJhc2VUeXBlLkpTT046cmV0dXJuW1wianNvblwiXTt9cmV0dXJuW107fWZ1bmN0aW9uIHQodSl7c3dpdGNoKHUpe2Nhc2UgYi5UWFN0cmVhbVR5cGUuTVNXb3JkOnJldHVybltcImRvY1wiXTtjYXNlIGIuVFhTdHJlYW1UeXBlLldvcmRwcm9jZXNzaW5nTUw6cmV0dXJuW1wiZG9jeFwiXTtjYXNlIGIuVFhTdHJlYW1UeXBlLlNwcmVhZHNoZWV0TUw6cmV0dXJuW1wieGxzeFwiXTtjYXNlIGIuVFhTdHJlYW1UeXBlLkhUTUxGb3JtYXQ6cmV0dXJuW1wiaHRtXCIsXCJodG1sXCJdO2Nhc2UgYi5UWFN0cmVhbVR5cGUuQWRvYmVQREY6cmV0dXJuW1wicGRmXCJdO2Nhc2UgYi5UWFN0cmVhbVR5cGUuUmljaFRleHRGb3JtYXQ6cmV0dXJuW1wicnRmXCJdO2Nhc2UgYi5UWFN0cmVhbVR5cGUuSW50ZXJuYWxVbmljb2RlRm9ybWF0OnJldHVybltcInR4XCJdO2Nhc2UgYi5UWFN0cmVhbVR5cGUuUGxhaW5UZXh0OnJldHVybltcInR4dFwiXTt9cmV0dXJuW107fWZ1bmN0aW9uIGcodix1KXtpZighdnx8IXYubGVuZ3RoKXtyZXR1cm4gdTt9dmFyIHc9W107dS5mb3JFYWNoKGZ1bmN0aW9uKHkpe3ZhciB4PXkuc3BsaXQoXCIuXCIpLnBvcCgpLnRvTG93ZXJDYXNlKCk7aWYodi5zb21lKGZ1bmN0aW9uKHope3JldHVybiB6PT09eDt9KSl7dy5wdXNoKHkpO319KTtyZXR1cm4gdzt9ZnVuY3Rpb24gaCh1LHYpe2lmKHY9PTApe3JldHVybltdO31zd2l0Y2godSl7Y2FzZSBiLkZpbGVUeXBlLkRvY3VtZW50OnJldHVybiB0KHYpO2Nhc2UgYi5GaWxlVHlwZS5JbWFnZTpyZXR1cm4gayh2KTtjYXNlIGIuRmlsZVR5cGUuRGF0YUJhc2U6cmV0dXJuIGYodik7fX1mdW5jdGlvbiBsKHUpe2lmKCF1KXtyZXR1cm4gZmFsc2U7fXJldHVybiB1LmNsYXNzTGlzdC5jb250YWlucyhcInR4T0ZESXRlbVR5cGVEaXJcIik7fWZ1bmN0aW9uIG4odSl7aWYoIXUpe3JldHVybiBmYWxzZTt9cmV0dXJuIHUuY2xhc3NMaXN0LmNvbnRhaW5zKFwidHhPRkRJdGVtVHlwZUZpbGVcIik7fWZ1bmN0aW9uIHMoeSl7dmFyIHo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eE9GRFRibEZpbGVzQW5kRm9sZGVyc1wiKTt2YXIgQz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4T0ZEU2VsRmlsZVR5cGVcIik7Zm9yKHZhciB4PXouY2hpbGRyZW4ubGVuZ3RoLTE7eD49MDstLXgpe3ZhciB1PXouY2hpbGRyZW5beF07aWYodS50YWdOYW1lPT09XCJUUlwiKXt6LnJlbW92ZUNoaWxkKHUpO319eS5zdWJGaWxlVHlwZT1wYXJzZUludChDLnZhbHVlLDEwKTt2YXIgdz1oKHkuZmlsZVR5cGUseS5zdWJGaWxlVHlwZSk7dmFyIHY9Zyh3LHkuZmlsZU5hbWVzKTt5LmRpck5hbWVzLmZvckVhY2goZnVuY3Rpb24oRCl7dmFyIEg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlRSXCIpO3ZhciBGPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJURFwiKTt2YXIgRz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiVERcIik7dmFyIEU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIklNR1wiKTtILmNsYXNzTGlzdC5hZGQoXCJ0eE9GREl0ZW1UeXBlRGlyXCIpO0UuYWx0PXkuYWx0VGV4dHMuZGlyTmFtZTtFLnNyYz15LmltYWdlRGF0YVVSTHMuZGlyO0cudGV4dENvbnRlbnQ9RDtGLmFwcGVuZENoaWxkKEUpO0guYXBwZW5kQ2hpbGQoRik7SC5hcHBlbmRDaGlsZChHKTt6LmFwcGVuZENoaWxkKEgpO30pO3YuZm9yRWFjaChmdW5jdGlvbihIKXt2YXIgRz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiVFJcIik7dmFyIEU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlREXCIpO3ZhciBGPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJURFwiKTt2YXIgRD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSU1HXCIpO0cuY2xhc3NMaXN0LmFkZChcInR4T0ZESXRlbVR5cGVGaWxlXCIpO0QuYWx0PXkuYWx0VGV4dHMuZmlsZU5hbWU7RC5zcmM9eS5pbWFnZURhdGFVUkxzLmZpbGU7Ri50ZXh0Q29udGVudD1IO0UuYXBwZW5kQ2hpbGQoRCk7Ry5hcHBlbmRDaGlsZChFKTtHLmFwcGVuZENoaWxkKEYpO3ouYXBwZW5kQ2hpbGQoRyk7fSk7ZnVuY3Rpb24gQShFKXt2YXIgRD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bk9LX1wiK3kuZGlhbG9nQ29udGFpbmVySUQpO3ZhciBHPWkoRS50YXJnZXQpO2lmKEcpe2EoXCIjdHhPRkRUYmxGaWxlc0FuZEZvbGRlcnMgdHIuc2VsZWN0ZWRcIikucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKTtHLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTt2YXIgSD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4T0ZEVHh0RmlsZU5hbWVcIik7dmFyIEY9Ry5jaGlsZHJlblsxXTtpZihuKEcpKXtiLmVuYWJsZUJ1dHRvbihELHRydWUpO0gudmFsdWU9Ri50ZXh0Q29udGVudDt9ZWxzZXtpZihsKEcpKXtiLmVuYWJsZUJ1dHRvbihELHRydWUpO0gudmFsdWU9XCJcIjt9fX19ZnVuY3Rpb24gQihFKXt2YXIgRD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bk9LX1wiK3kuZGlhbG9nQ29udGFpbmVySUQpO3ZhciBHPWkoRS50YXJnZXQpO2lmKEcpe3ZhciBGPUcuY2hpbGRyZW5bMV07aWYobChHKSl7Yi5lbmFibGVCdXR0b24oRCxmYWxzZSk7byhGLnRleHRDb250ZW50KTt9ZWxzZXtpZihuKEcpKXtwKHksRi50ZXh0Q29udGVudCk7fX19fWEoXCIjdHhPRkRUYmxGaWxlc0FuZEZvbGRlcnMgdHJcIikuY2xpY2soQSk7YShcIiN0eE9GRFRibEZpbGVzQW5kRm9sZGVycyB0clwiKS5kYmxjbGljayhCKTt9ZnVuY3Rpb24gcih4KXt2YXIgeT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4T0ZEU2VsRmlsZVR5cGVcIik7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIk9QVElPTlwiKTt1LnZhbHVlPVwiMFwiO3UudGV4dENvbnRlbnQ9eC5maWxlRmlsdGVyQWxsO3Uuc2VsZWN0ZWQ9dHJ1ZTt5LmFwcGVuZENoaWxkKHUpO2Zvcih2YXIgdz0wO3c8eC5maWxlRmlsdGVycy5sZW5ndGg7Kyt3KXt2YXIgdj14LmZpbGVGaWx0ZXJzW3ddO3U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIk9QVElPTlwiKTt1LnZhbHVlPXYuRmlsZVR5cGU7dS50ZXh0Q29udGVudD12LlRleHQ7eS5hcHBlbmRDaGlsZCh1KTt9fXEucHJvdG90eXBlLmZpbGVUeXBlQ2hhbmdlSGFuZGxlcj1mdW5jdGlvbih2KXt2YXIgdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bk9LX1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpO3ZhciB3PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhPRkRUeHRGaWxlTmFtZVwiKTtiLmVuYWJsZUJ1dHRvbih1LGZhbHNlKTt3LnZhbHVlPVwiXCI7cyh0aGlzKTt9O2Z1bmN0aW9uIGooKXtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0eE9GRFRibEZpbGVzQW5kRm9sZGVycyB0ci5zZWxlY3RlZFwiKTt9ZnVuY3Rpb24gbSgpe3ZhciB1PWooKTtyZXR1cm4odSYmbCh1KSk7fXEucHJvdG90eXBlLmZpbGVOYW1lQ2hhbmdlSGFuZGxlcj1mdW5jdGlvbih2KXthKFwiI3R4T0ZEVGJsRmlsZXNBbmRGb2xkZXJzIHRyLnNlbGVjdGVkXCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7dmFyIHU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5PS19cIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKTt2YXIgdz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4T0ZEVHh0RmlsZU5hbWVcIik7aWYody52YWx1ZS5sZW5ndGh8fG0oKSl7Yi5lbmFibGVCdXR0b24odSx0cnVlKTt9ZWxzZXtiLmVuYWJsZUJ1dHRvbih1LGZhbHNlKTt9fTtxLnByb3RvdHlwZS5maWxlTGlzdFJlY2VpdmVkSGFuZGxlcj1mdW5jdGlvbih1KXt0aGlzLmZpbGVOYW1lcz11LmRldGFpbC5maWxlTmFtZXM7dGhpcy5kaXJOYW1lcz11LmRldGFpbC5kaXJOYW1lcztzKHRoaXMpO307cS5wcm90b3R5cGUuT0tIYW5kbGVyPWZ1bmN0aW9uKHYpe2lmKG0oKSl7dmFyIHc9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0eE9GRFRibEZpbGVzQW5kRm9sZGVycyB0ci5zZWxlY3RlZFwiKS5jaGlsZHJlblsxXTt2YXIgdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bk9LX1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpO2IuZW5hYmxlQnV0dG9uKHUsZmFsc2UpO28ody50ZXh0Q29udGVudCk7fWVsc2V7dGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdD10cnVlO3RoaXMuY2xvc2Uodik7fX07cS5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24odil7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImZpbGVMaXN0UmVjZWl2ZWRcIix0aGlzLmZpbGVMaXN0UmVjZWl2ZWRIYW5kbGVyQm91bmQpO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkdldEZpbGVMaXN0LHRoaXMuZmlsZVR5cGUpO3ZhciB4PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhPRkRUeHRGaWxlTmFtZVwiKTt4LnZhbHVlPVwiXCI7dmFyIHU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5PS19cIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKTtiLmVuYWJsZUJ1dHRvbih1LGZhbHNlKTt2YXIgdz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4T0ZEU2VsRmlsZVR5cGVcIik7dy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsdGhpcy5maWxlVHlwZUNoYW5nZUhhbmRsZXJCb3VuZCk7eC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsdGhpcy5maWxlTmFtZUNoYW5nZUhhbmRsZXJCb3VuZCk7eC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIix0aGlzLmZpbGVOYW1lQ2hhbmdlSGFuZGxlckJvdW5kKTt9O3EucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKHUpe2EoXCIjT1BFTl9GSUxFX0RJQUxPR19MQkxfRklMRU5BTUVcIikudGV4dCh1Lk9QRU5fRklMRV9ESUFMT0dfTEJMX0ZJTEVOQU1FKTthKFwiI09QRU5fRklMRV9ESUFMT0dfTEJMX0ZJTEVUWVBFXCIpLnRleHQodS5PUEVOX0ZJTEVfRElBTE9HX0xCTF9GSUxFVFlQRSk7dGhpcy5pbWFnZURhdGFVUkxzLmRpcj11LkltYWdlRGF0YVVSTHMuRGlyO3RoaXMuYWx0VGV4dHMuZmlsZU5hbWU9dS5PUEVOX0ZJTEVfRElBTE9HX0FMVF9UWFRfRklMRV9OQU1FO3RoaXMuYWx0VGV4dHMuZGlyTmFtZT11Lk9QRU5fRklMRV9ESUFMT0dfQUxUX1RYVF9ESVJfTkFNRTt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyh1KTt0aGlzLmZpbGVGaWx0ZXJBbGw9dS5GaWxlVHlwZXMuQWxsO3N3aXRjaCh0aGlzLmZpbGVUeXBlKXtjYXNlIGIuRmlsZVR5cGUuRG9jdW1lbnQ6dGhpcy5maWxlRmlsdGVycz11LkZpbGVUeXBlcy5Eb2N1bWVudDt0aGlzLmltYWdlRGF0YVVSTHMuZmlsZT11LkltYWdlRGF0YVVSTHMuRG9jdW1lbnQ7YnJlYWs7Y2FzZSBiLkZpbGVUeXBlLkltYWdlOnRoaXMuZmlsZUZpbHRlcnM9dS5GaWxlVHlwZXMuSW1hZ2U7dGhpcy5pbWFnZURhdGFVUkxzLmZpbGU9dS5JbWFnZURhdGFVUkxzLkltYWdlO2JyZWFrO2Nhc2UgYi5GaWxlVHlwZS5EYXRhQmFzZTp0aGlzLmZpbGVGaWx0ZXJzPXUuRmlsZVR5cGVzLkRhdGFCYXNlO3RoaXMuaW1hZ2VEYXRhVVJMcy5maWxlPXUuSW1hZ2VEYXRhVVJMcy5EYXRhQmFzZTticmVhazt9cih0aGlzKTt9O3JldHVybiBxO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5XYWl0RGlhbG9nPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZSxkKTtmdW5jdGlvbiBlKCl7ZC5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLldhaXREaWFsb2csRWxlbWVudElEOlwid2FpdERpYWxvZ1wiLFdpZHRoOlwiYXV0b1wiLEhlaWdodDoxMDAsVGl0bGVSZXNvdXJjZU5hbWU6XCJXQUlUX0RMR19USVRMRVwiLERpYWxvZ0NsYXNzOlwibm8tY2xvc2VcIixCdXR0b25zOnt9LH07fWUucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKGYpe2EoXCIjV0FJVF9ETEdfTEFCRUxfTUVTU0FHRVwiKS50ZXh0KGYuV0FJVF9ETEdfTEFCRUxfTUVTU0FHRSk7fTtlLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe3ZhciBnPWEoXCIjd2FpdERpYWxvZ1wiKSxoPWcuY3NzKFwibWFyZ2luLWxlZnRcIiksZj17d2lkdGg6Zy5jc3MoXCJib3JkZXItbGVmdC13aWR0aFwiKSxjb2xvcjpnLmNzcyhcImJvcmRlci1sZWZ0LWNvbG9yXCIpLHN0eWxlOmcuY3NzKFwiYm9yZGVyLWxlZnQtc3R5bGVcIil9O2cuY3NzKFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLGYud2lkdGgpO2cuY3NzKFwiYm9yZGVyLWJvdHRvbS1jb2xvclwiLGYuY29sb3IpO2cuY3NzKFwiYm9yZGVyLWJvdHRvbS1zdHlsZVwiLGYuc3R5bGUpO2cuY3NzKFwibWFyZ2luLWJvdHRvbVwiLGgpO307cmV0dXJuIGU7fSkoYi5IVE1MRGlhbG9nKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGYsYSl7dmFyIGI9Zi5fcHJpdmF0ZT1mLl9wcml2YXRlfHx7fSxnPXtOb25lOjAsQ3JlYXRlRmlsZTo4MTkyLE92ZXJ3cml0ZUZpbGU6MTYzODQsSW5saW5lOjMyNzY4fSxjPXtBbGxvd0F1dGhvcmluZzoxLEFsbG93QXV0aG9yaW5nRmllbGRzOjIsQWxsb3dDb250ZW50QWNjZXNzaWJpbGl0eTo0LEFsbG93RG9jdW1lbnRBc3NlbWJseTo4LEFsbG93RXh0cmFjdENvbnRlbnRzOjE2LEFsbG93R2VuZXJhbEVkaXRpbmc6MzIsQWxsb3dIaWdoTGV2ZWxQcmludGluZzo2NCxBbGxvd0xvd0xldmVsUHJpbnRpbmc6MTI4LEFsbG93QWxsOjI1NSx9LGU9e0Rpc2FibGVkOi0xLEFsbDowLE9ubHlDb3JyZWN0OjF9LGQ9e0Rpc2FibGVkOi0xLEFsbDowLE9ubHlBdEJlZ2luOjEsT25seVdoZW5CZWdpbklzVXBwZXI6Mn07Yi5PcHRpb25zRGlhbG9nPShmdW5jdGlvbihoKXtfX2V4dGVuZHMoayxoKTtmdW5jdGlvbiBrKG8pe2guY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5PcHRpb25zRGlhbG9nLEVsZW1lbnRJRDpcIm9wdGlvbnNEaWFsb2dcIixXaWR0aDo1NDAsSGVpZ2h0OjM1MCxUaXRsZVJlc291cmNlTmFtZTpcIk9QVElPTlNfRElBTE9HX1RJVExFXCJ9O3RoaXMub3B0aW9ucz1vO3RoaXMuZXJyb3JNZXNzYWdlcz17cGVybVB3ZEVtcHR5OlwiXCIsc2FtZVB3ZDpcIlwiLGRvY1B3ZEVtcHR5OlwiXCJ9O31iLmFycmF5QnVmZmVyVG9CNjQ9ZnVuY3Rpb24ocCl7dmFyIG89W10scT1uZXcgVWludDhBcnJheShwKSx0PXEuYnl0ZUxlbmd0aDtmb3IodmFyIHI9MDtyPHQ7cisrKXtvLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShxW3JdKSk7fXZhciBzPW8uam9pbihcIlwiKTtyZXR1cm4gd2luZG93LmJ0b2Eocyk7fTtrLnByb3RvdHlwZS5PS0hhbmRsZXI9ZnVuY3Rpb24ocCl7dmFyIG89ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtVc2VyUGFzc3dvcmRcIikscT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFVzZXJQYXNzd29yZFwiKTtpZihvLmNoZWNrZWQmJihxLnZhbHVlLmxlbmd0aD09MCkpe2IualF1ZXJ5QWxlcnQodGhpcy5jYXB0aW9uLHRoaXMuZXJyb3JNZXNzYWdlcy5kb2NQd2RFbXB0eSk7cmV0dXJuO310aGlzLmRpYWxvZ0RhdGEuZGlhbG9nUmVzdWx0PXRydWU7dGhpcy5jbG9zZShwKTt9O2Z1bmN0aW9uIGooKXt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0lnbm9yZVVwcGVyXCIpLHY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxJZ25vcmVVcHBlclwiKSxwPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrSWdub3JlQ250TnVtc1wiKSx0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrSWdub3JlVVJMc1wiKSxxPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrSWdub3JlRW1haWxzXCIpLG89ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtGbGFnUmVwZWF0ZWRXb3Jkc1wiKSxzPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrSWdub3JlVXBwZXJBbmRMb3dlclwiKSx3PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsSWdub3JlVXBwZXJMb3dlclwiKTt2YXIgdT17aWdub3JlVXBwZXJDYXNlV29yZHM6ZS5BbGwsaWdub3JlQ29udE51bXM6dHJ1ZSxpZ25vcmVVUkxzOnRydWUsaWdub3JlRW1haWxzOnRydWUsZmxhZ1JlcGVhdGVkOnRydWUsaWdub3JlQWxsOmQuT25seVdoZW5CZWdpbklzVXBwZXJ9O2lmKCFyLmNoZWNrZWQpe3UuaWdub3JlVXBwZXJDYXNlV29yZHM9ZS5EaXNhYmxlZDt9ZWxzZXt1Lmlnbm9yZVVwcGVyQ2FzZVdvcmRzPXYuc2VsZWN0ZWRJbmRleDt9dS5pZ25vcmVDb250TnVtcz1wLmNoZWNrZWQ7dS5pZ25vcmVVUkxzPXQuY2hlY2tlZDt1Lmlnbm9yZUVtYWlscz1xLmNoZWNrZWQ7dS5mbGFnUmVwZWF0ZWQ9by5jaGVja2VkO2lmKCFzLmNoZWNrZWQpe3UuaWdub3JlQWxsPWQuRGlzYWJsZWQ7fWVsc2V7dS5pZ25vcmVBbGw9dy5zZWxlY3RlZEluZGV4O31yZXR1cm4gdTt9ay5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24ocCl7dmFyIG89e2RpYWxvZ1Jlc3VsdDp0aGlzLmRpYWxvZ0RhdGEuZGlhbG9nUmVzdWx0fTtpZih0aGlzLmRpYWxvZ0RhdGEuZGlhbG9nUmVzdWx0KXtvLmNzc1NhdmVNb2RlPWkoKTtvLnJlcVBERkRvY1B3ZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa1VzZXJQYXNzd29yZFwiKS5jaGVja2VkO28ucGRmRG9jUHdkPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHh0VXNlclBhc3N3b3JkXCIpLnZhbHVlO28ucGRmYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0VuUERGQUV4cFwiKS5jaGVja2VkO28uaHlwaEVuYWJsZWQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtFbmFibGVIeXBoZW5hdGlvblwiKS5jaGVja2VkO28ubGFuZ0RldGVjdEVuYWJsZWQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtFbmFibGVMYW5nRGV0ZWN0XCIpLmNoZWNrZWQ7by5zcGVsbENoZWNrRW5hYmxlZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0VuYWJsZVNwZWxsQ2hlY2tcIikuY2hlY2tlZDtvLnBmeEZpbGVQYXNzd29yZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFBERkNlcnRQd2RcIikudmFsdWU7aWYodGhpcy5vcHRpb25zLklzVFhTcGVsbEFzc2VtYmx5UHJlc2VudCl7by5zcGVsbENoZWNraW5nPWooKTt9dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHRQREZDZXJ0RmlsZVwiKSxxPXIuZmlsZXM7aWYocS5sZW5ndGgpe3ZhciB0PXRoaXMscz1uZXcgRmlsZVJlYWRlcigpO3Mub25sb2FkZW5kPWZ1bmN0aW9uKCl7dmFyIHU9Yi5hcnJheUJ1ZmZlclRvQjY0KHMucmVzdWx0KTtvLnBmeEZpbGU9dTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5EaWFsb2dSZXN1bHQsdC5EaWFsb2dJbmZvLkRpYWxvZ1R5cGUsMCwwLG8pO307cy5yZWFkQXNBcnJheUJ1ZmZlcihxWzBdKTt9ZWxzZXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5EaWFsb2dSZXN1bHQsdGhpcy5EaWFsb2dJbmZvLkRpYWxvZ1R5cGUsMCwwLG8pO319ZWxzZXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5EaWFsb2dSZXN1bHQsdGhpcy5EaWFsb2dJbmZvLkRpYWxvZ1R5cGUsMCwwLG8pO31hKHApLmRpYWxvZyhcImRlc3Ryb3lcIikucmVtb3ZlKCk7YShcIiNcIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKS5yZW1vdmUoKTtpZighYi5pc1RvdWNoRGV2aWNlKXtiLnRleHRWaWV3ZXIuZm9jdXMoKTt9fTtmdW5jdGlvbiBpKCl7aWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyYkNTU09wdHNOb1N0U2hcIikuY2hlY2tlZCl7cmV0dXJuIGcuTm9uZTt9ZWxzZXtpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJiQ1NTT3B0c0lubFN0U2hcIikuY2hlY2tlZCl7cmV0dXJuIGcuSW5saW5lO319fWZ1bmN0aW9uIGwobyl7c3dpdGNoKG8uQ3NzU2F2ZU1vZGUpe2Nhc2UgZy5Ob25lOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmJDU1NPcHRzTm9TdFNoXCIpLmNoZWNrZWQ9dHJ1ZTticmVhaztjYXNlIGcuSW5saW5lOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmJDU1NPcHRzSW5sU3RTaFwiKS5jaGVja2VkPXRydWU7YnJlYWs7fX1mdW5jdGlvbiBtKHcpe3ZhciByPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrSWdub3JlVXBwZXJcIiksdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbElnbm9yZVVwcGVyXCIpLHA9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtJZ25vcmVDbnROdW1zXCIpLHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtJZ25vcmVVUkxzXCIpLHE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtJZ25vcmVFbWFpbHNcIiksbz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0ZsYWdSZXBlYXRlZFdvcmRzXCIpLHM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtJZ25vcmVVcHBlckFuZExvd2VyXCIpLHY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxJZ25vcmVVcHBlckxvd2VyXCIpO3IuY2hlY2tlZD10cnVlO3N3aXRjaCh3Lklnbm9yZVVwcGVyQ2FzZVdvcmRzKXtjYXNlIGUuRGlzYWJsZWQ6ci5jaGVja2VkPWZhbHNlO3UuZGlzYWJsZWQ9dHJ1ZTticmVhaztkZWZhdWx0OnUuc2VsZWN0ZWRJbmRleD13Lklnbm9yZVVwcGVyQ2FzZVdvcmRzO2JyZWFrO31wLmNoZWNrZWQ9dy5JZ25vcmVDb250YWluaW5nTnVtYmVyczt0LmNoZWNrZWQ9dy5JZ25vcmVVUkxzO3EuY2hlY2tlZD13Lklnbm9yZUVtYWlsQWRkcmVzc2VzO28uY2hlY2tlZD13LkZsYWdSZXBlYXRlZFdvcmRzO3MuY2hlY2tlZD10cnVlO3N3aXRjaCh3Lklnbm9yZUFsbCl7Y2FzZSBkLkRpc2FibGVkOnMuY2hlY2tlZD1mYWxzZTt2LmRpc2FibGVkPXRydWU7YnJlYWs7ZGVmYXVsdDp2LnNlbGVjdGVkSW5kZXg9dy5JZ25vcmVBbGw7YnJlYWs7fX1mdW5jdGlvbiBuKHQpe3ZhciB1PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHh0UERGQ2VydFB3ZFwiKSxzPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrVXNlclBhc3N3b3JkXCIpLHY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHRVc2VyUGFzc3dvcmRcIikscj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0VuUERGQUV4cFwiKSxvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrRW5hYmxlSHlwaGVuYXRpb25cIikscD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0VuYWJsZUxhbmdEZXRlY3RcIikscT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0VuYWJsZVNwZWxsQ2hlY2tcIik7bCh0KTt1LnZhbHVlPXQuUERGQ2VydEZpbGVQd2Q7cy5jaGVja2VkPXQuUmVxdWlyZVVzZXJQd2Q7di5kaXNhYmxlZD0hdC5SZXF1aXJlVXNlclB3ZDt2LnZhbHVlPXQuUERGVXNlclB3ZDtyLmNoZWNrZWQ9dC5QREZBO2lmKHQuSXNUWFNwZWxsQXNzZW1ibHlQcmVzZW50KXtvLmNoZWNrZWQ9dC5Jc0h5cGhlbmF0aW9uRW5hYmxlZDtwLmNoZWNrZWQ9dC5Jc0xhbmd1YWdlRGV0ZWN0aW9uRW5hYmxlZDtxLmNoZWNrZWQ9dC5Jc1NwZWxsQ2hlY2tpbmdFbmFibGVkO2lmKHQuSXNTcGVsbENoZWNraW5nRW5hYmxlZCl7bSh0LlNwZWxsQ2hlY2tTZXR0aW5ncyk7fWVsc2V7YShcIiNvcHRpb25zRGlhbG9nVGFic1wiKS50YWJzKFwib3B0aW9uXCIsXCJkaXNhYmxlZFwiLFs0XSk7fX1lbHNle2EoXCIjb3B0aW9uc0RpYWxvZ1RhYnNcIikudGFicyhcIm9wdGlvblwiLFwiZGlzYWJsZWRcIixbMyw0XSk7fX1rLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbih1KXthKFwiI29wdGlvbnNEaWFsb2dUYWJzXCIpLnRhYnMoKTtuKHUub3B0aW9ucyk7ZnVuY3Rpb24gcyh2KXt2YXIgdz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFVzZXJQYXNzd29yZFwiKTt3LmRpc2FibGVkPSF0aGlzLmNoZWNrZWQ7fXZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrVXNlclBhc3N3b3JkXCIpO3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIscyk7ZnVuY3Rpb24gcih2KXt2YXIgdz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbElnbm9yZVVwcGVyXCIpO3cuZGlzYWJsZWQ9IXRoaXMuY2hlY2tlZDt9dmFyIG89ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtJZ25vcmVVcHBlclwiKTtvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHIpO2Z1bmN0aW9uIHEodil7dmFyIHc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxJZ25vcmVVcHBlckxvd2VyXCIpO3cuZGlzYWJsZWQ9IXRoaXMuY2hlY2tlZDt9dmFyIHA9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtJZ25vcmVVcHBlckFuZExvd2VyXCIpO3AuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIscSk7fTtrLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihvKXthKFwiI09QVElPTlNfRElBTE9HX1RBQl9IVE1MXCIpLnRleHQoby5PUFRJT05TX0RJQUxPR19UQUJfSFRNTCk7YShcIiNPUFRJT05TX0RJQUxPR19UQUJfUERGX1NFQ1wiKS50ZXh0KG8uT1BUSU9OU19ESUFMT0dfVEFCX1BERl9TRUMpO2EoXCIjT1BUSU9OU19ESUFMT0dfVEFCX1BERl9FWFBcIikudGV4dChvLk9QVElPTlNfRElBTE9HX1RBQl9QREZfRVhQKTthKFwiI09QVElPTlNfRElBTE9HX0dSUF9TVFlMRVNIX1NBVl9PUFRTID4gbGVnZW5kXCIpLnRleHQoby5PUFRJT05TX0RJQUxPR19HUlBfU1RZTEVTSF9TQVZfT1BUUyk7YShcIiNPUFRJT05TX0RJQUxPR19MQkxfQ1NTX09QVFNfTk9fU1RTSFwiKS50ZXh0KG8uT1BUSU9OU19ESUFMT0dfTEJMX0NTU19PUFRTX05PX1NUU0gpO2EoXCIjT1BUSU9OU19ESUFMT0dfTEJMX0NTU19PUFRTX0lOTF9TVFNIXCIpLnRleHQoby5PUFRJT05TX0RJQUxPR19MQkxfQ1NTX09QVFNfSU5MX1NUU0gpO2EoXCIjT1BUSU9OU19ESUFMT0dfR1JQX1BERl9ESUdfU0lHID4gbGVnZW5kXCIpLnRleHQoby5PUFRJT05TX0RJQUxPR19HUlBfUERGX0RJR19TSUcpO2EoXCIjT1BUSU9OU19ESUFMT0dfR1JQX1BERl9QV0QgPiBsZWdlbmRcIikudGV4dChvLk9QVElPTlNfRElBTE9HX0dSUF9QREZfUFdEKTthKFwiI09QVElPTlNfRElBTE9HX0xCTF9QREZfQ0VSVF9GSUxFXCIpLnRleHQoby5PUFRJT05TX0RJQUxPR19MQkxfUERGX0NFUlRfRklMRSk7YShcIiNPUFRJT05TX0RJQUxPR19MQkxfUERGX0NFUlRfUFdEXCIpLnRleHQoby5PUFRJT05TX0RJQUxPR19MQkxfUERGX0NFUlRfUFdEKTthKFwiI09QVElPTlNfRElBTE9HX0xCTF9QREZfUkVRX1BXRFwiKS50ZXh0KG8uT1BUSU9OU19ESUFMT0dfTEJMX1BERl9SRVFfUFdEKTthKFwiI09QVElPTlNfRElBTE9HX0xCTF9QREZfRE9DX1BXRFwiKS50ZXh0KG8uT1BUSU9OU19ESUFMT0dfTEJMX1BERl9ET0NfUFdEKTthKFwiI09QVElPTlNfRElBTE9HX0dSUF9QREZfRVhQX09QVFMgPiBsZWdlbmRcIikudGV4dChvLk9QVElPTlNfRElBTE9HX0dSUF9QREZfRVhQX09QVFMpO2EoXCIjT1BUSU9OU19ESUFMT0dfQ0hLX0VOX1BERkFcIikudGV4dChvLk9QVElPTlNfRElBTE9HX0NIS19FTl9QREZBKTthKFwiI09QVElPTlNfRElBTE9HX1RBQl9QUk9PRklOR1wiKS50ZXh0KG8uT1BUSU9OU19ESUFMT0dfVEFCX1BST09GSU5HKTthKFwiI09QVElPTlNfRElBTE9HX0dSUF9QUk9PRl9PUFRTID4gbGVnZW5kXCIpLnRleHQoby5PUFRJT05TX0RJQUxPR19HUlBfUFJPT0ZfT1BUUyk7YShcIiNPUFRJT05TX0RJQUxPR19MQkxfUFJPT0ZfU1BFTExfQ0hFQ0tcIikudGV4dChvLk9QVElPTlNfRElBTE9HX0xCTF9QUk9PRl9TUEVMTF9DSEVDSyk7YShcIiNPUFRJT05TX0RJQUxPR19MQkxfUFJPT0ZfSFlQSEVOXCIpLnRleHQoby5PUFRJT05TX0RJQUxPR19MQkxfUFJPT0ZfSFlQSEVOKTthKFwiI09QVElPTlNfRElBTE9HX0xCTF9QUk9PRl9MQU5HREVURUNUXCIpLnRleHQoby5PUFRJT05TX0RJQUxPR19MQkxfUFJPT0ZfTEFOR0RFVEVDVCk7YShcIiNPUFRJT05TX0RJQUxPR19UQUJfU1BFTExfQ0hFQ0tcIikudGV4dChvLk9QVElPTlNfRElBTE9HX1RBQl9TUEVMTF9DSEVDSyk7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMobyk7aWYoby5UWFNwZWxsKXthKFwiI0xCTF9JR05PUkVfVVBQRVJDQVNFXCIpLnRleHQoby5UWFNwZWxsLkxCTF9JR05PUkVfVVBQRVJDQVNFKTthKFwiI0lUTV9VUFBFUkNBU0VfQUxMXCIpLnRleHQoby5UWFNwZWxsLklUTV9VUFBFUkNBU0VfQUxMKTthKFwiI0lUTV9VUFBFUkNBU0VfT05MWV9DT1JSRUNUXCIpLnRleHQoby5UWFNwZWxsLklUTV9VUFBFUkNBU0VfT05MWV9DT1JSRUNUKTthKFwiI0xCTF9JR05PUkVfV09SRF9XSVRIX05VTUJFUlNcIikudGV4dChvLlRYU3BlbGwuTEJMX0lHTk9SRV9XT1JEX1dJVEhfTlVNQkVSUyk7YShcIiNMQkxfSUdOT1JFX0lOVEVSTkVUX0FERFJFU1NFU1wiKS50ZXh0KG8uVFhTcGVsbC5MQkxfSUdOT1JFX0lOVEVSTkVUX0FERFJFU1NFUyk7YShcIiNMQkxfSUdOT1JFX0VNQUlMX0FERFJFU1NFU1wiKS50ZXh0KG8uVFhTcGVsbC5MQkxfSUdOT1JFX0VNQUlMX0FERFJFU1NFUyk7YShcIiNMQkxfRkxBR19SRVBFQVRFRF9XT1JEU1wiKS50ZXh0KG8uVFhTcGVsbC5MQkxfRkxBR19SRVBFQVRFRF9XT1JEUyk7YShcIiNMQkxfSUdOT1JFX0NBU0VcIikudGV4dChvLlRYU3BlbGwuTEJMX0lHTk9SRV9DQVNFKTthKFwiI0lUTV9DQVNFX0FMTFwiKS50ZXh0KG8uVFhTcGVsbC5JVE1fQ0FTRV9BTEwpO2EoXCIjSVRNX0NBU0VfV09SRF9CRUdJTl9BTFdBWVNcIikudGV4dChvLlRYU3BlbGwuSVRNX0NBU0VfV09SRF9CRUdJTl9BTFdBWVMpO2EoXCIjSVRNX0NBU0VfV09SRF9CRUdJTl9JU19VUFBFUlwiKS50ZXh0KG8uVFhTcGVsbC5JVE1fQ0FTRV9XT1JEX0JFR0lOX0lTX1VQUEVSKTt9dGhpcy5lcnJvck1lc3NhZ2VzLmRvY1B3ZEVtcHR5PW8uT1BUSU9OU19ESUFMT0dfRE9DX1BXRF9FTVBUWV9FUlJPUjt0aGlzLmVycm9yTWVzc2FnZXMucGVybVB3ZEVtcHR5PW8uT1BUSU9OU19ESUFMT0dfUEVSTV9QV0RfRU1QVFlfRVJST1I7dGhpcy5lcnJvck1lc3NhZ2VzLnNhbWVQd2Q9by5PUFRJT05TX0RJQUxPR19TQU1FX1BXRF9FUlJPUjt9O3JldHVybiBrO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGY7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5TYXZlRG9jdW1lbnRBc0RpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGYsZCk7ZnVuY3Rpb24gZihnLGgpe2QuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5TYXZlRG9jdW1lbnRBc0RpYWxvZyxFbGVtZW50SUQ6XCJzYXZlRG9jdW1lbnRBc0RpYWxvZ1wiLFdpZHRoOjI4MCxUaXRsZVJlc291cmNlTmFtZTpcIlNBVkVET0NBU19ESUFMT0dfVElUTEVcIn07dGhpcy5maWxlTmFtZT1nO3RoaXMuc3RyZWFtVHlwZT1oO3RoaXMuZXJyb3JNZXNzYWdlcz17ZmlsZU5hbWVFbXB0eTpcIlwifTt9Zi5wcm90b3R5cGUuT0tIYW5kbGVyPWZ1bmN0aW9uKGcpe3ZhciBoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHh0U2F2ZURvY0FzRmlsZW5hbWVcIikudmFsdWU7aWYoYS50cmltKGgpPT1cIlwiKXtiLmpRdWVyeUFsZXJ0KHRoaXMuY2FwdGlvbix0aGlzLmVycm9yTWVzc2FnZXMuZmlsZU5hbWVFbXB0eSk7cmV0dXJuO310aGlzLmRpYWxvZ0RhdGEuZGlhbG9nUmVzdWx0PXRydWU7dGhpcy5jbG9zZShnKTt9O2Z1bmN0aW9uIGUoKXt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbFNhdmVBc0RvY1R5cGVcIik7dmFyIGg9Zy5vcHRpb25zW2cuc2VsZWN0ZWRJbmRleF0udmFsdWU7cmV0dXJuIHBhcnNlSW50KGgsMTApO31mLnByb3RvdHlwZS5jbG9zaW5nPWZ1bmN0aW9uKGcpe2lmKHRoaXMuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHQpe3RoaXMuZGlhbG9nRGF0YS5maWxlTmFtZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFNhdmVEb2NBc0ZpbGVuYW1lXCIpLnZhbHVlO3RoaXMuZGlhbG9nRGF0YS5zdHJlYW1UeXBlPWUoKTt9fTtmLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbihnKXt2YXIgaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFNhdmVEb2NBc0ZpbGVuYW1lXCIpO2gudmFsdWU9Zy5maWxlTmFtZTthKFwiI3NlbFNhdmVBc0RvY1R5cGVcIikudmFsKFwiXCIrZy5zdHJlYW1UeXBlKTt9O2YucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKGcpe2EoXCIjU0FWRURPQ0FTX0RJQUxPR19MQkxfRklMRU5BTUVcIikudGV4dChnLlNBVkVET0NBU19ESUFMT0dfTEJMX0ZJTEVOQU1FKTthKFwiI1NBVkVET0NBU19ESUFMT0dfTEJMX0RPQ19UWVBFXCIpLnRleHQoZy5TQVZFRE9DQVNfRElBTE9HX0xCTF9ET0NfVFlQRSk7dGhpcy5lcnJvck1lc3NhZ2VzLmZpbGVOYW1lRW1wdHk9Zy5TQVZFRE9DQVNfRElBTE9HX0ZJTEVfTkFNRV9FTVBUWV9FUlJPUjt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhnKTt9O3JldHVybiBmO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5Gb250U3R5bGU9T2JqZWN0LmZyZWV6ZSh7UmVndWxhcjowLEJvbGQ6MSxJdGFsaWM6MixVbmRlcmxpbmU6NCxTdHJpa2VvdXQ6OH0pO2IuRm9udERpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGUsZCk7ZnVuY3Rpb24gZShmKXtkLmNhbGwodGhpcyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuRm9udERpYWxvZyxFbGVtZW50SUQ6XCJ0eEZvbnREaWFsb2dcIixUaXRsZVJlc291cmNlTmFtZTpcIkZPTlRfRExHX1RJVExFXCIsfTt0aGlzLnN0YXRlPWY7fWUucHJvdG90eXBlLk9LSGFuZGxlcj1mdW5jdGlvbihmKXt0aGlzLmRpYWxvZ0RhdGEuZGlhbG9nUmVzdWx0PXRydWU7dGhpcy5jbG9zZShmKTt9O2UucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGcpe3ZhciBmPXtzdGF0ZTp7Zm9udE5hbWU6dGhpcy5zdGF0ZS5mb250TmFtZSxmb250U2l6ZTp0aGlzLnN0YXRlLmZvbnRTaXplLGZvbnRTdHlsZTp0aGlzLnN0YXRlLmZvbnRTdHlsZX0sZGlhbG9nUmVzdWx0OnRoaXMuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHR9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkRpYWxvZ1Jlc3VsdCxiLkhUTUxEaWFsb2dUeXBlLkZvbnREaWFsb2csMCwwLGYpO2EoZykuZGlhbG9nKFwiZGVzdHJveVwiKS5yZW1vdmUoKTthKFwiI1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpLnJlbW92ZSgpO2lmKCFiLmlzVG91Y2hEZXZpY2Upe2IudGV4dFZpZXdlci5mb2N1cygpO319O2UucHJvdG90eXBlLmRpYWxvZ1JlYWR5PWZ1bmN0aW9uKCl7dmFyIHM9dGhpcyxxLGw7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxUeEZudERsZ05hbWVzXCIpO3RoaXMuc3RhdGUuZm9udE5hbWVzLmZvckVhY2goZik7dmFyIHk9dGhpcy5zdGF0ZS5mb250U2l6ZXM7aWYoeS5pbmRleE9mKHRoaXMuc3RhdGUuZm9udFNpemUpPT09LTEpe3kucHVzaCh0aGlzLnN0YXRlLmZvbnRTaXplKTt5LnNvcnQoZnVuY3Rpb24oeixBKXtyZXR1cm4gei1BO30pO312YXIgdj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbFR4Rm50RGxnU2l6ZXNcIik7eS5mb3JFYWNoKGcpO3ZhciBwPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRk9OVF9ETEdfU1RZTEVfUkVHVUxBUlwiKTtwLnZhbHVlPWIuRm9udFN0eWxlLlJlZ3VsYXI7dmFyIG89ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJGT05UX0RMR19TVFlMRV9JVEFMSUNcIik7by52YWx1ZT1iLkZvbnRTdHlsZS5JdGFsaWM7dmFyIG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJGT05UX0RMR19TVFlMRV9CT0xEXCIpO20udmFsdWU9Yi5Gb250U3R5bGUuQm9sZDt2YXIgbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkZPTlRfRExHX1NUWUxFX0JPTERfSVRBTElDXCIpO24udmFsdWU9KGIuRm9udFN0eWxlLkJvbGR8Yi5Gb250U3R5bGUuSXRhbGljKTtyKHRoaXMuc3RhdGUuZm9udFN0eWxlKTt2YXIgaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa1R4Rm50RGxnU3RyaWtlVGhyb3VnaFwiKTt2YXIgaj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa1R4Rm50RGxnVW5kZXJsaW5lXCIpO2guY2hlY2tlZD0hISh0aGlzLnN0YXRlLmZvbnRTdHlsZSZiLkZvbnRTdHlsZS5TdHJpa2VvdXQpO2ouY2hlY2tlZD0hISh0aGlzLnN0YXRlLmZvbnRTdHlsZSZiLkZvbnRTdHlsZS5VbmRlcmxpbmUpO3QuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHUpO3YuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHcpO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsVHhGbnREbGdTdHlsZXNcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHgpO2guYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGkpO2ouYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGspO2Z1bmN0aW9uIGYoeil7bD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3QuYXBwZW5kQ2hpbGQobCk7bC52YWx1ZT1sLnRleHQ9ejtpZih6PT09cy5zdGF0ZS5mb250TmFtZSl7bC5zZWxlY3RlZD10cnVlO319ZnVuY3Rpb24gZyh6KXtsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7di5hcHBlbmRDaGlsZChsKTtsLnZhbHVlPWwudGV4dD16O2lmKHo9PT1zLnN0YXRlLmZvbnRTaXplKXtsLnNlbGVjdGVkPXRydWU7fX1mdW5jdGlvbiByKHope3N3aXRjaCh6JjMpe2Nhc2UgYi5Gb250U3R5bGUuSXRhbGljOm8uc2VsZWN0ZWQ9dHJ1ZTticmVhaztjYXNlIGIuRm9udFN0eWxlLkJvbGQ6bS5zZWxlY3RlZD10cnVlO2JyZWFrO2Nhc2UgKGIuRm9udFN0eWxlLkl0YWxpY3xiLkZvbnRTdHlsZS5Cb2xkKTpuLnNlbGVjdGVkPXRydWU7YnJlYWs7Y2FzZSBiLkZvbnRTdHlsZS5SZWd1bGFyOmRlZmF1bHQ6cC5zZWxlY3RlZD10cnVlO2JyZWFrO319ZnVuY3Rpb24gdSh6KXtzLnN0YXRlLmZvbnROYW1lPXQudmFsdWU7fWZ1bmN0aW9uIHcoeil7cy5zdGF0ZS5mb250U2l6ZT1wYXJzZUludCh2LnZhbHVlLDEwKTt9ZnVuY3Rpb24geCh6KXt2YXIgQT16LnRhcmdldDtzLnN0YXRlLmZvbnRTdHlsZSY9fjM7cy5zdGF0ZS5mb250U3R5bGV8PXBhcnNlSW50KEEudmFsdWUsMTApO31mdW5jdGlvbiBpKHope2lmKGguY2hlY2tlZCl7cy5zdGF0ZS5mb250U3R5bGV8PWIuRm9udFN0eWxlLlN0cmlrZW91dDt9ZWxzZXtzLnN0YXRlLmZvbnRTdHlsZSY9fmIuRm9udFN0eWxlLlN0cmlrZW91dDt9fWZ1bmN0aW9uIGsoeil7aWYoai5jaGVja2VkKXtzLnN0YXRlLmZvbnRTdHlsZXw9Yi5Gb250U3R5bGUuVW5kZXJsaW5lO31lbHNle3Muc3RhdGUuZm9udFN0eWxlJj1+Yi5Gb250U3R5bGUuVW5kZXJsaW5lO319fTtlLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihmKXthKFwiI0ZPTlRfRExHX0xCTF9GT05UXCIpLnRleHQoZi5GT05UX0RMR19MQkxfRk9OVCk7YShcIiNGT05UX0RMR19MQkxfU0laRVwiKS50ZXh0KGYuRk9OVF9ETEdfTEJMX1NJWkUpO2EoXCIjRk9OVF9ETEdfTEJMX1NUWUxFXCIpLnRleHQoZi5GT05UX0RMR19MQkxfU1RZTEUpO2EoXCIjRk9OVF9ETEdfR1JQX0VGRkVDVFMgPiBsZWdlbmRcIikudGV4dChmLkZPTlRfRExHX0dSUF9FRkZFQ1RTKTthKFwiI0ZPTlRfRExHX1NUUklLRU9VVFwiKS50ZXh0KGYuRk9OVF9ETEdfU1RSSUtFT1VUKTthKFwiI0ZPTlRfRExHX1NUWUxFX0JPTERcIikudGV4dChmLkZPTlRfRExHX1NUWUxFX0JPTEQpO2EoXCIjRk9OVF9ETEdfU1RZTEVfSVRBTElDXCIpLnRleHQoZi5GT05UX0RMR19TVFlMRV9JVEFMSUMpO2EoXCIjRk9OVF9ETEdfU1RZTEVfQk9MRF9JVEFMSUNcIikudGV4dChmLkZPTlRfRExHX1NUWUxFX0JPTERfSVRBTElDKTthKFwiI0ZPTlRfRExHX1NUWUxFX1JFR1VMQVJcIikudGV4dChmLkZPTlRfRExHX1NUWUxFX1JFR1VMQVIpO2EoXCIjRk9OVF9ETEdfVU5ERVJMSU5FXCIpLnRleHQoZi5GT05UX0RMR19VTkRFUkxJTkUpO3RoaXMuc2V0RGVmYXVsdEJ0blRleHRzKGYpO307cmV0dXJuIGU7fSkoYi5IVE1MRGlhbG9nKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7Yi5UaGVzYXVydXNEaWFsb2dDb21tYW5kPXt9O2IuVGhlc2F1cnVzRGlhbG9nPShmdW5jdGlvbihlKXtfX2V4dGVuZHMobyxlKTtmdW5jdGlvbiBvKHApe2UuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5UaGVzYXVydXNEaWFsb2csRWxlbWVudElEOlwidGhlc2F1cnVzRGlhbG9nXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJUSEVTQVVSVVNfRExHX1RJVExFXCJ9O3RoaXMuZGlhbG9nU3RhdGVVcGRhdGVkSGFuZGxlckJvdW5kPXRoaXMuZGlhbG9nU3RhdGVVcGRhdGVkSGFuZGxlci5iaW5kKHRoaXMpO3RoaXMuc3RhdGU9cDt0aGlzLm5vQWx0VGV4dD1cIlwiO3RoaXMubGFzdFNlbGVjdGVkU3lub255bT1udWxsO31vLnByb3RvdHlwZS5hcHBseURpYWxvZ1N0YXRlPWZ1bmN0aW9uKEwpe3ZhciB5LEcsSSxKLE4sRCxCLEUsQyxBLHgseixIO3ZhciB2PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGhlc2F1cnVzRGlhbG9nX2NiTGFuZ3VhZ2VcIik7dmFyIFE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aGVzYXVydXNEaWFsb2dfdHh0RmluZFN5bm9ueW1zRm9yXCIpO3ZhciByPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGhlc2F1cnVzRGlhbG9nX2J0bkJhY2tcIik7dmFyIFA9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aGVzYXVydXNEaWFsb2dfdHZTeW5vbnltc1wiKTt2YXIgdT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bk9LX1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQrXCIgc3Bhbi50eHVpLWJ1dHRvbi10ZXh0XCIpO3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuT0tfXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRCk7aWYoTC5sYW5ndWFnZXMpe0wubGFuZ3VhZ2VzLmZvckVhY2gocSk7fWlmKEwuZmluZFN5bm9ueW1zRm9yKXtRLnZhbHVlPUwuZmluZFN5bm9ueW1zRm9yO31pZihMLmJhY2tCdXR0b24pe3IuZGlzYWJsZWQ9IUwuYmFja0J1dHRvbi5FbmFibGVkO31pZihMLmluc2VydEJ1dHRvbil7UihMLmluc2VydEJ1dHRvbik7fWlmKEwuc3lub255bXMpe1MoTC5zeW5vbnltcyk7fWlmKEwuc2VsZWN0ZWRMYW5ndWFnZSl7SyhMLnNlbGVjdGVkTGFuZ3VhZ2UpO31mdW5jdGlvbiBxKHMpe3k9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTt2LmFwcGVuZENoaWxkKHkpO3kudmFsdWU9eS50ZXh0PXMudGV4dDt9ZnVuY3Rpb24gUihzKXtpZihzLlRleHQpe3UudGV4dENvbnRlbnQ9cy5UZXh0O31GKHMuRW5hYmxlZCk7fWZ1bmN0aW9uIEYocyl7dC5kaXNhYmxlZD0hcztpZihzKXt0LmNsYXNzTGlzdC5yZW1vdmUoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO31lbHNle3QuY2xhc3NMaXN0LmFkZChcInR4dWktc3RhdGUtZGlzYWJsZWRcIik7fX1mdW5jdGlvbiBLKHMpe3YudmFsdWU9czt9ZnVuY3Rpb24gUyhUKXt2YXIgcz0oZG9jdW1lbnQuYWN0aXZlRWxlbWVudD09UCk7c2VsZi5sYXN0U2VsZWN0ZWRTeW5vbnltPW51bGw7UC5pbm5lckhUTUw9XCJcIjtpZihULmxlbmd0aD09MCl7RD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7UC5hcHBlbmRDaGlsZChEKTtCPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtELmFwcGVuZENoaWxkKEIpO3o9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7Qi5hcHBlbmRDaGlsZCh6KTt6LmNsYXNzTGlzdC5hZGQoXCJub0FsdFRleHRcIik7ei50ZXh0Q29udGVudD1zZWxmLm5vQWx0VGV4dDtGKGZhbHNlKTtyZXR1cm47fWZvcihHPTA7RzxULmxlbmd0aDsrK0cpe0o9VFtHXTtOPVwiXCIrKEcrMSkrXCIuIFwiK0oudGV4dDtEPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtELmRhdGFzZXQuY29sbGFwc2VkPVwiZmFsc2VcIjtIPUouaXRlbXNbMF07RC5kYXRhc2V0LndvcmQ9SC53b3JkO0QuZGF0YXNldC50ZXh0PUgudGV4dDtQLmFwcGVuZENoaWxkKEQpO0QuY2xhc3NMaXN0LmFkZChcInRyZWVOb2RlXCIpO0QuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsZnVuY3Rpb24oVSl7TyhVLmN1cnJlbnRUYXJnZXQpO30pO0QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oVSl7bSgpO1UuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7fSk7Qj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7RC5hcHBlbmRDaGlsZChCKTtCLmFwcGVuZENoaWxkKGkoKSk7Qi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix3KTtCPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtELmFwcGVuZENoaWxkKEIpO3o9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7Qi5hcHBlbmRDaGlsZCh6KTt6LnRleHRDb250ZW50PU47RT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7UC5hcHBlbmRDaGlsZChFKTtFLmNsYXNzTGlzdC5hZGQoXCJ0cmVlTm9kZUl0ZW1Db250YWluZXJcIik7Qz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7RS5hcHBlbmRDaGlsZChDKTtDLmNvbFNwYW49Mjt4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Qy5hcHBlbmRDaGlsZCh4KTt4LmNsYXNzTGlzdC5hZGQoXCJ0aGVzYXVydXNEaWFsb2dfaXRlbXNXcmFwcGVyXCIpO0E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO3guYXBwZW5kQ2hpbGQoQSk7QS5jbGFzc0xpc3QuYWRkKFwidGhlc2F1cnVzRGlhbG9nX3RibEl0ZW1zXCIpO0EuY2xhc3NMaXN0LmFkZChcInVuc2VsZWN0YWJsZVwiKTtwKEEsSi5pdGVtcyxULmxlbmd0aCk7eC5zdHlsZS5oZWlnaHQ9eC5jbGllbnRIZWlnaHQrXCJweFwiO3guZGF0YXNldC5oZWlnaHQ9eC5jbGllbnRIZWlnaHQ7fUYodHJ1ZSk7aWYocyl7UC5ibHVyKCk7UC5mb2N1cygpO319ZnVuY3Rpb24gTShzKXt2YXIgVD1zLmN1cnJlbnRUYXJnZXQ7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuVGhlc2F1cnVzRGlhbG9nQ29tbWFuZCxiLlRoZXNhdXJ1c0RpYWxvZ0NvbW1hbmQuU2VsZWN0ZWROb2RlQ2hhbmdlZCwwLDAse3dvcmQ6VC5kYXRhc2V0LndvcmQsdGV4dDpULmRhdGFzZXQudGV4dH0pO31mdW5jdGlvbiBwKHMsVCxVKXtmb3IoST0wO0k8VC5sZW5ndGg7KytJKXtIPVRbSV07RD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7cy5hcHBlbmRDaGlsZChEKTtELmNsYXNzTGlzdC5hZGQoXCJ0cmVlTm9kZUl0ZW1cIik7RC5kYXRhc2V0LndvcmQ9SC53b3JkO0QuZGF0YXNldC50ZXh0PUgudGV4dDtELmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLE0pO0QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oVil7bSgpO1YuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7fSk7Qj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7RC5hcHBlbmRDaGlsZChCKTtpZihHPChVLTEpKXtCLmFwcGVuZENoaWxkKGwoKSk7fWVsc2V7Qi5hcHBlbmRDaGlsZChnKCkpO31CPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtELmFwcGVuZENoaWxkKEIpO2lmKEk8KFQubGVuZ3RoLTEpKXtCLmFwcGVuZENoaWxkKGsoKSk7fWVsc2V7Qi5hcHBlbmRDaGlsZChoKCkpO31CPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtELmFwcGVuZENoaWxkKEIpO3o9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7Qi5hcHBlbmRDaGlsZCh6KTt6LnRleHRDb250ZW50PUgudGV4dDt9fWZ1bmN0aW9uIE8ocyl7aWYocy5kYXRhc2V0LmNvbGxhcHNlZD09PVwidHJ1ZVwiKXtuKHMpO31lbHNle2Yocyk7fX1mdW5jdGlvbiB3KHMpe3ZhciBUPXMuY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50O08oVCk7fX07ZnVuY3Rpb24gZihzKXtpZighcy5jbGFzc0xpc3QuY29udGFpbnMoXCJ0cmVlTm9kZVwiKSl7dGhyb3cgbmV3IEVycm9yKFwiT25seSB0cmVlIG5vZGVzIGNhbiBiZSBjb2xsYXBzZWQuXCIpO312YXIgcT1zLmNlbGxzWzBdO3ZhciB0PXMubmV4dFNpYmxpbmc7dmFyIHI9dC5jZWxsc1swXTt2YXIgcD1yLmNoaWxkcmVuWzBdO3Auc3R5bGUuaGVpZ2h0PVwiMHB4XCI7cy5kYXRhc2V0LmNvbGxhcHNlZD1cInRydWVcIjtxLmlubmVySFRNTD1cIlwiO3EuYXBwZW5kQ2hpbGQoaigpKTt9ZnVuY3Rpb24gbihzKXtpZighcy5jbGFzc0xpc3QuY29udGFpbnMoXCJ0cmVlTm9kZVwiKSl7dGhyb3cgbmV3IEVycm9yKFwiT25seSB0cmVlIG5vZGVzIGNhbiBiZSBleHBhbmRlZC5cIik7fXZhciBxPXMuY2VsbHNbMF07dmFyIHQ9cy5uZXh0U2libGluZzt2YXIgcj10LmNlbGxzWzBdO3ZhciBwPXIuY2hpbGRyZW5bMF07cC5zdHlsZS5oZWlnaHQ9cC5kYXRhc2V0LmhlaWdodCtcInB4XCI7cy5kYXRhc2V0LmNvbGxhcHNlZD1cImZhbHNlXCI7cS5pbm5lckhUTUw9XCJcIjtxLmFwcGVuZENoaWxkKGkoKSk7fW8ucHJvdG90eXBlLmRpYWxvZ1N0YXRlVXBkYXRlZEhhbmRsZXI9ZnVuY3Rpb24ocCl7dGhpcy5hcHBseURpYWxvZ1N0YXRlKHAuZGV0YWlsKTt9O2Z1bmN0aW9uIG0oKXt2YXIgcD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3RoZXNhdXJ1c0RpYWxvZ190dlN5bm9ueW1zIHRyXCIpO1tdLmZvckVhY2guY2FsbChwLGZ1bmN0aW9uKHEpe3EuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO30pO31mdW5jdGlvbiBpKCl7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGMsXCJzdmdcIik7cC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwid2lkdGhcIixcIjE2XCIpO3Auc2V0QXR0cmlidXRlTlMobnVsbCxcImhlaWdodFwiLFwiMTZcIik7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGMsXCJyZWN0XCIpO3Iuc2V0QXR0cmlidXRlTlMobnVsbCxcInhcIixcIjRcIik7ci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieVwiLFwiNFwiKTtyLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJoZWlnaHRcIixcIjhcIik7ci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwid2lkdGhcIixcIjhcIik7ci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZmlsbFwiLFwibm9uZVwiKTtyLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixcImdyYXlcIik7cC5hcHBlbmRDaGlsZChyKTt2YXIgcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYyxcImxpbmVcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDFcIixcIjZcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTFcIixcIjhcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDJcIixcIjEwXCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInkyXCIsXCI4XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZVwiLFwiZ3JheVwiKTtwLmFwcGVuZENoaWxkKHEpO3JldHVybiBwO31mdW5jdGlvbiBqKCl7dmFyIHA9aSgpO3ZhciBxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhjLFwibGluZVwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ4MVwiLFwiOFwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5MVwiLFwiNlwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ4MlwiLFwiOFwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5MlwiLFwiMTBcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlXCIsXCJncmF5XCIpO3AuYXBwZW5kQ2hpbGQocSk7cmV0dXJuIHA7fWZ1bmN0aW9uIGwoKXt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYyxcInN2Z1wiKTtwLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ3aWR0aFwiLFwiMTZcIik7cC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaGVpZ2h0XCIsXCIxOFwiKTt2YXIgcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYyxcImxpbmVcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDFcIixcIjhcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTFcIixcIjBcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDJcIixcIjhcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTJcIixcIjE4XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZVwiLFwiZ3JheVwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2UtZGFzaGFycmF5XCIsXCIxLCAxXCIpO3AuYXBwZW5kQ2hpbGQocSk7cmV0dXJuIHA7fWZ1bmN0aW9uIGsoKXt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYyxcInN2Z1wiKTtwLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ3aWR0aFwiLFwiMTZcIik7cC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaGVpZ2h0XCIsXCIxOFwiKTt2YXIgcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYyxcImxpbmVcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDFcIixcIjhcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTFcIixcIjBcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDJcIixcIjhcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTJcIixcIjE4XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZVwiLFwiZ3JheVwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2UtZGFzaGFycmF5XCIsXCIxLCAxXCIpO3AuYXBwZW5kQ2hpbGQocSk7cT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYyxcImxpbmVcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDFcIixcIjhcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTFcIixcIjhcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDJcIixcIjE2XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInkyXCIsXCI4XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZVwiLFwiZ3JheVwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2UtZGFzaGFycmF5XCIsXCIxLCAxXCIpO3AuYXBwZW5kQ2hpbGQocSk7cmV0dXJuIHA7fWZ1bmN0aW9uIGcoKXt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYyxcInN2Z1wiKTtwLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ3aWR0aFwiLFwiMTZcIik7cC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaGVpZ2h0XCIsXCIxOFwiKTtyZXR1cm4gcDt9ZnVuY3Rpb24gaCgpe3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhjLFwic3ZnXCIpO3Auc2V0QXR0cmlidXRlTlMobnVsbCxcIndpZHRoXCIsXCIxNlwiKTtwLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJoZWlnaHRcIixcIjE4XCIpO3ZhciBxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhjLFwibGluZVwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ4MVwiLFwiOFwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5MVwiLFwiMFwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ4MlwiLFwiOFwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5MlwiLFwiOFwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixcImdyYXlcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLWRhc2hhcnJheVwiLFwiMSwgMVwiKTtwLmFwcGVuZENoaWxkKHEpO3E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGMsXCJsaW5lXCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcIngxXCIsXCI4XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcInkxXCIsXCI4XCIpO3Euc2V0QXR0cmlidXRlTlMobnVsbCxcIngyXCIsXCIxNlwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5MlwiLFwiOFwiKTtxLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixcImdyYXlcIik7cS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLWRhc2hhcnJheVwiLFwiMSwgMVwiKTtwLmFwcGVuZENoaWxkKHEpO3JldHVybiBwO31vLnByb3RvdHlwZS5PS0hhbmRsZXI9ZnVuY3Rpb24ocCl7dGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdD10cnVlO3RoaXMuY2xvc2UocCk7fTtvLnByb3RvdHlwZS5nZXRTZWxlY3RlZFN5bm9ueW09ZnVuY3Rpb24oKXt2YXIgcD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRoZXNhdXJ1c0RpYWxvZ190dlN5bm9ueW1zXCIpO3ZhciBxPXAucXVlcnlTZWxlY3RvcihcInRyLnNlbGVjdGVkXCIpO2lmKCFxJiZ0aGlzLmxhc3RTZWxlY3RlZFN5bm9ueW0pe3JldHVybiB0aGlzLmxhc3RTZWxlY3RlZFN5bm9ueW07fWlmKCFxJiZwLnJvd3MubGVuZ3RoKXtxPXAucm93c1swXTt9aWYoIXEpe3JldHVybiBudWxsO31yZXR1cm57d29yZDpxLmRhdGFzZXQud29yZCx0ZXh0OnEuZGF0YXNldC50ZXh0fTt9O28ucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKHEpe3ZhciBwPXtzdGF0ZTp7c2VsZWN0ZWRFbGVtZW50OnRoaXMuZ2V0U2VsZWN0ZWRTeW5vbnltKCl9LGRpYWxvZ1Jlc3VsdDp0aGlzLmRpYWxvZ0RhdGEuZGlhbG9nUmVzdWx0fTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5EaWFsb2dSZXN1bHQsYi5IVE1MRGlhbG9nVHlwZS5UaGVzYXVydXNEaWFsb2csMCwwLHApO2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0aGVzYXVydXNEaWFsb2dTdGF0ZVVwZGF0ZWRcIix0aGlzLmRpYWxvZ1N0YXRlVXBkYXRlZEhhbmRsZXJCb3VuZCk7YShxKS5kaWFsb2coXCJkZXN0cm95XCIpLnJlbW92ZSgpO2EoXCIjXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRCkucmVtb3ZlKCk7aWYoIWIuaXNUb3VjaERldmljZSl7Yi50ZXh0Vmlld2VyLmZvY3VzKCk7fX07by5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oKXt2YXIgdj10aGlzO3RoaXMuYXBwbHlEaWFsb2dTdGF0ZSh0aGlzLnN0YXRlKTt2YXIgcT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRoZXNhdXJ1c0RpYWxvZ19idG5CYWNrXCIpO3EuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIscik7dmFyIHo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aGVzYXVydXNEaWFsb2dfdHh0RmluZFN5bm9ueW1zRm9yXCIpO3ouYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsQSk7ei5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsQSk7dmFyIHM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aGVzYXVydXNEaWFsb2dfY2JMYW5ndWFnZVwiKTtzLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix0KTt2YXIgdz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRoZXNhdXJ1c0RpYWxvZ190dlN5bm9ueW1zXCIpO3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix5KTt3LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHgpO3cuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIixmdW5jdGlvbigpe3YubGFzdFNlbGVjdGVkU3lub255bT12LmdldFNlbGVjdGVkU3lub255bSgpO20oKTt9KTt2YXIgQj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRoZXNhdXJ1c0RpYWxvZ190cmVlVmlld1dyYXBwZXJcIik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRoZXNhdXJ1c0RpYWxvZ1N0YXRlVXBkYXRlZFwiLHRoaXMuZGlhbG9nU3RhdGVVcGRhdGVkSGFuZGxlckJvdW5kKTt6LmZvY3VzKCk7ZnVuY3Rpb24gcCgpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlRoZXNhdXJ1c0RpYWxvZ0NvbW1hbmQsYi5UaGVzYXVydXNEaWFsb2dDb21tYW5kLkJhY2spO31mdW5jdGlvbiByKEMpe3AoKTt9ZnVuY3Rpb24gQShDKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5UaGVzYXVydXNEaWFsb2dDb21tYW5kLGIuVGhlc2F1cnVzRGlhbG9nQ29tbWFuZC5GaW5kU3lub255bVRleHRDaGFuZ2VkLDAsMCx7dGV4dDp6LnZhbHVlfSk7fWZ1bmN0aW9uIHQoQyl7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuVGhlc2F1cnVzRGlhbG9nQ29tbWFuZCxiLlRoZXNhdXJ1c0RpYWxvZ0NvbW1hbmQuTGFuZ3VhZ2VDaGFuZ2VkLDAsMCx7bGFuZ3VhZ2VOYW1lOnMudmFsdWV9KTt9ZnVuY3Rpb24geChDKXt2YXIgRD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RoZXNhdXJ1c0RpYWxvZ190dlN5bm9ueW1zIHRyLnNlbGVjdGVkXCIpO2lmKCFEJiYody5yb3dzLmxlbmd0aD4xKSl7dy5yb3dzWzBdLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTt9fWZ1bmN0aW9uIHkoRCl7dmFyIEY9RC5rZXlDb2RlfHxELndoaWNofHwwO3N3aXRjaChGKXtjYXNlIGIuS2V5Q29kZS5Eb3duQXJyb3c6SCgpO0QucHJldmVudERlZmF1bHQoKTticmVhaztjYXNlIGIuS2V5Q29kZS5VcEFycm93OkgodHJ1ZSk7RC5wcmV2ZW50RGVmYXVsdCgpO2JyZWFrO2Nhc2UgYi5LZXlDb2RlLkxlZnRBcnJvdzpDKCk7RC5wcmV2ZW50RGVmYXVsdCgpO2JyZWFrO2Nhc2UgYi5LZXlDb2RlLlJpZ2h0QXJyb3c6RSgpO0QucHJldmVudERlZmF1bHQoKTticmVhaztjYXNlIGIuS2V5Q29kZS5TcGFjZTpHKCk7RC5wcmV2ZW50RGVmYXVsdCgpO2JyZWFrO2Nhc2UgYi5LZXlDb2RlLkJhY2tzcGFjZTppZihkb2N1bWVudC5hY3RpdmVFbGVtZW50PT13KXtwKCk7RC5wcmV2ZW50RGVmYXVsdCgpO31icmVhaztjYXNlIGIuS2V5Q29kZS5FbnRlcjp2Lk9LSGFuZGxlcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRoZXNhdXJ1c0RpYWxvZ1wiKSk7RC5wcmV2ZW50RGVmYXVsdCgpO2JyZWFrO31mdW5jdGlvbiBDKCl7dmFyIEk9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aGVzYXVydXNEaWFsb2dfdHZTeW5vbnltcyB0ci5zZWxlY3RlZFwiKTtpZihJLmNsYXNzTGlzdC5jb250YWlucyhcInRyZWVOb2RlXCIpKXtmKEkpO3UoSSk7fWVsc2V7aWYoSS5jbGFzc0xpc3QuY29udGFpbnMoXCJ0cmVlTm9kZUl0ZW1cIikpe0kuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO0k9SS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnByZXZpb3VzU2libGluZztJLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTt1KEkpO319fWZ1bmN0aW9uIEUoKXt2YXIgST1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RoZXNhdXJ1c0RpYWxvZ190dlN5bm9ueW1zIHRyLnNlbGVjdGVkXCIpO2lmKEkuY2xhc3NMaXN0LmNvbnRhaW5zKFwidHJlZU5vZGVcIikpe2lmKEkuZGF0YXNldC5jb2xsYXBzZWQ9PVwidHJ1ZVwiKXtuKEkpO31lbHNle0kuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO0k9SS5uZXh0U2libGluZy5jZWxsc1swXS5jaGlsZHJlblswXS5jaGlsZHJlblswXS5yb3dzWzBdO0kuY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO311KEkpO319ZnVuY3Rpb24gRygpe3ZhciBJPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGhlc2F1cnVzRGlhbG9nX3R2U3lub255bXMgdHIuc2VsZWN0ZWRcIik7aWYoSSYmSS5jbGFzc0xpc3QuY29udGFpbnMoXCJ0cmVlTm9kZUl0ZW1cIikpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlRoZXNhdXJ1c0RpYWxvZ0NvbW1hbmQsYi5UaGVzYXVydXNEaWFsb2dDb21tYW5kLlNlbGVjdGVkTm9kZUNoYW5nZWQsMCwwLHt3b3JkOkkuZGF0YXNldC53b3JkLHRleHQ6SS5kYXRhc2V0LnRleHR9KTt9fWZ1bmN0aW9uIEgoTCl7dmFyIEssSixJO0w9ISFMO0s9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aGVzYXVydXNEaWFsb2dfdHZTeW5vbnltc1wiKTtKPUsucXVlcnlTZWxlY3RvckFsbChcInRyLnRyZWVOb2RlLCB0cjpub3QoW2RhdGEtY29sbGFwc2VkPVxcJ3RydWVcXCddKSArIHRyLnRyZWVOb2RlSXRlbUNvbnRhaW5lciB0ci50cmVlTm9kZUl0ZW1cIik7Zm9yKEk9MDtJPEoubGVuZ3RoOysrSSl7aWYoSltJXS5jbGFzc0xpc3QuY29udGFpbnMoXCJzZWxlY3RlZFwiKSl7SltJXS5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7YnJlYWs7fX1pZihJPT1KLmxlbmd0aCl7cmV0dXJuO31JPUw/KEktMSkubW9kKEoubGVuZ3RoKTooSSsxKS5tb2QoSi5sZW5ndGgpO0pbSV0uY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO3UoSltJXSk7fX1mdW5jdGlvbiB1KEUpe3ZhciBDPUIuY2xpZW50SGVpZ2h0O3ZhciBEPUUuY2xpZW50SGVpZ2h0O3ZhciBGPUUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLXcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO2lmKEY8Qi5zY3JvbGxUb3Ape0Iuc2Nyb2xsVG9wPUYtQytEO31lbHNle2lmKChGK0QpPihCLnNjcm9sbFRvcCtDKSl7Qi5zY3JvbGxUb3A9Rjt9fX19O28ucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKHApe2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiVEhFU0FVUlVTX0RMR19MQkxfRklORF9TWU5fRk9SXCIpLnRleHRDb250ZW50PXAuVEhFU0FVUlVTX0RMR19MQkxfRklORF9TWU5fRk9SO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiVEhFU0FVUlVTX0RMR19MQkxfTEFOR1VBR0VcIikudGV4dENvbnRlbnQ9cC5USEVTQVVSVVNfRExHX0xCTF9MQU5HVUFHRTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlRIRVNBVVJVU19ETEdfTEJMX1NZTk9OWU1TXCIpLnRleHRDb250ZW50PXAuVEhFU0FVUlVTX0RMR19MQkxfU1lOT05ZTVM7dGhpcy5ub0FsdFRleHQ9cC5USEVTQVVSVVNfRExHX05PX0FMVEVSTkFUSVZFUzt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhwKTtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bk9LX1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQrXCIgc3Bhbi50eHVpLWJ1dHRvbi10ZXh0XCIpLnRleHRDb250ZW50PXAuVEhFU0FVUlVTX0RMR19CVE5fSU5TRVJUO307cmV0dXJuIG87fSkoYi5IVE1MRGlhbG9nKTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkNsaWVudFBhc3RlRGlhbG9nPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZixkKTtmdW5jdGlvbiBmKGwpe2QuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5DbGllbnRQYXN0ZURpYWxvZyxFbGVtZW50SUQ6XCJjbGllbnRQYXN0ZURpYWxvZ1wiLFdpZHRoOjMwMCxIZWlnaHQ6MjU1LFRpdGxlUmVzb3VyY2VOYW1lOlwiQ0xJRU5UUEFTVEVfRElBTE9HX1RJVExFXCIsQnV0dG9uczp7fSxEaWFsb2dFbGVtZW50OmgoKX07fWZ1bmN0aW9uIGgoKXt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3AuY2xhc3NMaXN0LmFkZChcInR4RGlhbG9nXCIpO3ZhciBtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5zdHlsZS5tYXJnaW49XCI1cHggMTBweCAxMHB4IDEwcHhcIjtvLnN0eWxlLmNzc0Zsb2F0PVwibGVmdFwiO28uc3R5bGUuY2xlYXI9XCJsZWZ0XCI7by5zdHlsZS5ib3JkZXI9XCIxcHggc29saWQgI0FCQUJBQlwiO28uc3R5bGUuYmFja2dyb3VuZENvbG9yPVwid2hpdGVcIjtvLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCI7by5zdHlsZS5wYWRkaW5nPVwiMTBweFwiO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bi5jb250ZW50RWRpdGFibGU9dHJ1ZTtuLnN0eWxlLndpZHRoPVwiMjAwcHhcIjtuLnN0eWxlLmhlaWdodD1cIjE1MHB4XCI7bi5zdHlsZS5ib3JkZXI9XCIzcHggZGFzaGVkICNjMmMyYzJcIjtuLnN0eWxlLmJvcmRlclJhZGl1cz1cIjE1cHhcIjtuLnN0eWxlLnRleHRBbGlnbj1cImNlbnRlclwiO24uc3R5bGUuYmFja2dyb3VuZENvbG9yPVwid2hpdGVcIjtuLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCI7bi5zdHlsZS5mb250RmFtaWx5PVwiVmVyZGFuYSwgQXJpYWwsIHNhbnMtc2VyZmljICFpbXBvcnRhbnRcIjtuLnN0eWxlLmNvbG9yPVwiI2MyYzJjMlwiO24uc3R5bGUuZm9udFNpemU9XCIxNnB4XCI7bi5zdHlsZS5wYWRkaW5nPVwiMTBweFwiO24uc3R5bGUuYmFja2dyb3VuZEltYWdlPVwiIHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQURJQUFBQXlDQVlBQUFBZVA0aXhBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQXlGcFZGaDBXRTFNT21OdmJTNWhaRzlpWlM1NGJYQUFBQUFBQUR3L2VIQmhZMnRsZENCaVpXZHBiajBpNzd1L0lpQnBaRDBpVnpWTk1FMXdRMlZvYVVoNmNtVlRlazVVWTNwcll6bGtJajgrSUR4NE9uaHRjRzFsZEdFZ2VHMXNibk02ZUQwaVlXUnZZbVU2Ym5NNmJXVjBZUzhpSUhnNmVHMXdkR3M5SWtGa2IySmxJRmhOVUNCRGIzSmxJRFV1TlMxak1ERTBJRGM1TGpFMU1UUTRNU3dnTWpBeE15OHdNeTh4TXkweE1qb3dPVG94TlNBZ0lDQWdJQ0FnSWo0Z1BISmtaanBTUkVZZ2VHMXNibk02Y21SbVBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1THpBeUx6SXlMWEprWmkxemVXNTBZWGd0Ym5NaklqNGdQSEprWmpwRVpYTmpjbWx3ZEdsdmJpQnlaR1k2WVdKdmRYUTlJaUlnZUcxc2JuTTZlRzF3UFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzaGhjQzh4TGpBdklpQjRiV3h1Y3pwNGJYQk5UVDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDIxdEx5SWdlRzFzYm5NNmMzUlNaV1k5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM5elZIbHdaUzlTWlhOdmRYSmpaVkpsWmlNaUlIaHRjRHBEY21WaGRHOXlWRzl2YkQwaVFXUnZZbVVnVUdodmRHOXphRzl3SUVORElDaFhhVzVrYjNkektTSWdlRzF3VFUwNlNXNXpkR0Z1WTJWSlJEMGllRzF3TG1scFpEcEJSak13TTBWQ1FqWXpPREF4TVVVME9UVXlRMFZHTmpoRE1FRTNNVFkwTmlJZ2VHMXdUVTA2Ukc5amRXMWxiblJKUkQwaWVHMXdMbVJwWkRwQlJqTXdNMFZDUXpZek9EQXhNVVUwT1RVeVEwVkdOamhETUVFM01UWTBOaUkrSUR4NGJYQk5UVHBFWlhKcGRtVmtSbkp2YlNCemRGSmxaanBwYm5OMFlXNWpaVWxFUFNKNGJYQXVhV2xrT2tGR016QXpSVUk1TmpNNE1ERXhSVFE1TlRKRFJVWTJPRU13UVRjeE5qUTJJaUJ6ZEZKbFpqcGtiMk4xYldWdWRFbEVQU0o0YlhBdVpHbGtPa0ZHTXpBelJVSkJOak00TURFeFJUUTVOVEpEUlVZMk9FTXdRVGN4TmpRMklpOCtJRHd2Y21SbU9rUmxjMk55YVhCMGFXOXVQaUE4TDNKa1pqcFNSRVkrSUR3dmVEcDRiWEJ0WlhSaFBpQThQM2h3WVdOclpYUWdaVzVrUFNKeUlqOCtEbjhSZ3dBQUFrZEpSRUZVZU5yc21zMHJoRUVjeDhkNkt3ZmxzRkZLL2dlUjZCRnVYdU9nUkE0T2lpS0tpd01SQnlkRmV5QXVrdGNWUjBUVXJoUnlVSVJjRUNjdkJ5R3QxKy9ZbjR0a1BjL096RDZyK2RXblBlenp6RHlmMmQzNS9XWm1JendlRHdzaVlrQU5LQWNad0dueS9pdXdEUmJBT1BDWmZRRERNRDVmSFVGSThBYy9CcU9neUlJRW8zdUtxSTFqYXROU1dCVXBCQnNnbFltTFZHcXpVSlZJSXBnQzBVeDhSRlBiaVNwRU9rQThreGZ4MUlkVWtVaFF4ZVJIRmZVbFRTUUpKQ2dRU2FDK3BJazRtYnB3eXY2TjJESzBpQmJSSWxwRWkyZ1JMYUpGdElnVzBTSmFSSXNFR1ZFZ0JXVFJPamsyd1BYSkNwK3RHdVFHdU1ibjlYcHY4THJKUlE1Qm5BMEh1YzNFdGZmOHF6WHlENzVaYmdlWno0YXh4RHBvNUNJdnpMOGhOaGFHRW91ZzJEQ014NjlaNnhYVWd2NHdrcGdBWlZ6aSsvVDdEbHBCZXhoSURETC91WXp2dHp6U0IrckFtMDBsT2tFekRYekFoTWdQWGlxWWhSTWtpY0VIdGdIMG1NM3M4NkFBM05sQTRobFVnaUdySmNvYXlBZlhJWlI0WVA3ak9YZXd0ZFl1bFREbklaQzRwb0ZjRVZVMG5vQnNjS0JRNGhMa01QK3ByOURxOTRJYTNsSWdjUVF5cVE2VVVzYmYwa2U5TEZGaWh3YnNRdlo2aEdmU1VqQWpRV0tWQnVwSzFjTEtSL1daUzZERUhNMU85NnBYaUR4Qk5ZRnVBUkxEbENjc0oyQVJTOTB1RXJKYTB2U0NlaXBjUTc1bWQ5SFM5Tm5rZlMzTXdwOERaRzgrVElNU21neitVbkp3OFFHNzdxTHdhVGt2UUVuelFMUGVwTWlPWld3SDhVeWNEdlovZU8rTUtvUWwwWjNLMnRjNnBjemNUOVh6RXkwTjBzQ2VqQTQvQkJnQTBscHM4Z1NSZkRFQUFBQUFTVVZPUks1Q1lJST0pXCI7bi5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PVwibm8tcmVwZWF0XCI7bi5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb249XCJjZW50ZXIgYm90dG9tIDMwcHhcIjt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtwLmlkPVwiY2xpZW50UGFzdGVEaWFsb2dcIjtvLmlkPVwicGFzdGVBcmVhV3JhcHBlclwiO24uaWQ9XCJwYXN0ZUFyZWFcIjtsLmlkPVwiQ0xJRU5UUEFTVEVfRElBTE9HX1BMQUNFSExEX1RYVFwiO3AuYXBwZW5kQ2hpbGQobSk7bS5hcHBlbmRDaGlsZChvKTtvLmFwcGVuZENoaWxkKG4pO24uYXBwZW5kQ2hpbGQobCk7cmV0dXJuIHA7fWZ1bmN0aW9uIGkoKXt2YXIgbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhc3RlQXJlYVwiKTtyZXR1cm4gbC5pbm5lckhUTUw7fWZ1bmN0aW9uIGsoKXt2YXIgbD1pKCk7Yi5wYXN0ZVRleHQobCxiLkNsaXBib2FyZERhdGFUeXBlLkhUTUwpO31mLnByb3RvdHlwZS5jbG9zaW5nPWZ1bmN0aW9uKCl7Yi5tb2RpZmllcktleXM9MDt9O2Z1bmN0aW9uIGUobCl7aygpO2wuY2xvc2UoYShcIiNcIitsLkRpYWxvZ0luZm8uRWxlbWVudElEKSk7fWZ1bmN0aW9uIGoobixsKXtpZighYi5oYW5kbGVDbGllbnRQYXN0ZShsLGZhbHNlKSl7bi5jbG9zZShhKFwiI1wiK24uRGlhbG9nSW5mby5FbGVtZW50SUQpKTtyZXR1cm47fXZhciBtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFzdGVBcmVhXCIpO20uaW5uZXJIVE1MPVwiXCI7c2V0VGltZW91dChmdW5jdGlvbigpe2Uobik7fSwxMCk7cmV0dXJuIGZhbHNlO31mdW5jdGlvbiBnKG0sbCl7Yi5oYW5kbGVEcm9wKGwpO20uY2xvc2UoYShcIiNcIittLkRpYWxvZ0luZm8uRWxlbWVudElEKSk7cmV0dXJuIGZhbHNlO31mLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbihtKXt2YXIgcT10aGlzO3ZhciBuPWEoXCIjY2xpZW50UGFzdGVEaWFsb2dcIiksbz1uLmNzcyhcIm1hcmdpbi1sZWZ0XCIpLGw9e3dpZHRoOm4uY3NzKFwiYm9yZGVyLWxlZnQtd2lkdGhcIiksY29sb3I6bi5jc3MoXCJib3JkZXItbGVmdC1jb2xvclwiKSxzdHlsZTpuLmNzcyhcImJvcmRlci1sZWZ0LXN0eWxlXCIpfTtuLmNzcyhcImJvcmRlci1ib3R0b20td2lkdGhcIixsLndpZHRoKTtuLmNzcyhcImJvcmRlci1ib3R0b20tY29sb3JcIixsLmNvbG9yKTtuLmNzcyhcImJvcmRlci1ib3R0b20tc3R5bGVcIixsLnN0eWxlKTtuLmNzcyhcIm1hcmdpbi1ib3R0b21cIixvKTt2YXIgcD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhc3RlQXJlYVwiKTtpZighYi5pc1RvdWNoRGV2aWNlKXtwLmZvY3VzKCk7fXAuYWRkRXZlbnRMaXN0ZW5lcihcInBhc3RlXCIsZnVuY3Rpb24ocil7aihxLHIpO30pO3AuYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIixmdW5jdGlvbihyKXtnKHEscik7ci5zdG9wUHJvcGFnYXRpb24oKTt9KTtwLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZW50ZXJcIixmdW5jdGlvbihyKXtyLnByZXZlbnREZWZhdWx0KCk7ci5zdG9wUHJvcGFnYXRpb24oKTt9KTtwLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLGZ1bmN0aW9uKHIpe3IucHJldmVudERlZmF1bHQoKTtyLnN0b3BQcm9wYWdhdGlvbigpO3IuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9XCJjb3B5XCI7fSk7fTtmLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihsKXthKFwiI0NMSUVOVFBBU1RFX0RJQUxPR19QTEFDRUhMRF9UWFRcIikudGV4dChsLkNMSUVOVFBBU1RFX0RJQUxPR19QTEFDRUhMRF9UWFQpO307cmV0dXJuIGY7fSkoYi5IVE1MRGlhbG9nKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTtiLlNwZWxsQ2hlY2tEaWFsb2dDb21tYW5kPXtJZ25vcmVPbmNlOjEsSWdub3JlQWxsOjIsQWRkVG9EaWN0OjMsQ2hhbmdlOjQsQ2hhbmdlQWxsOjUsU3VnZ2VzdGlvblNlbGVjdGVkOjYsU3VnZ2VzdGlvbkRpY3RTZWxlY3RlZDo3LFByZXZpZXdUZXh0Q2hhbmdlZDo4fTt2YXIgYz1mYWxzZTtiLlNwZWxsQ2hlY2tEaWFsb2c9KGZ1bmN0aW9uKGYpe19fZXh0ZW5kcyhrLGYpO2Z1bmN0aW9uIGsobCl7Zi5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLlNwZWxsQ2hlY2tEaWFsb2csRWxlbWVudElEOlwic3BlbGxDaGVja0RpYWxvZ1wiLFRpdGxlUmVzb3VyY2VOYW1lOlwiU1BFTExDSEVDS19ESUFMT0dfVElUTEVcIixCdXR0b25zOnt9fTt0aGlzLmRpYWxvZ1N0YXRlVXBkYXRlZEhhbmRsZXJCb3VuZD10aGlzLmRpYWxvZ1N0YXRlVXBkYXRlZEhhbmRsZXIuYmluZCh0aGlzKTt0aGlzLmluaXRpYWxTdGF0ZT1sO31rLnByb3RvdHlwZS5idG5JZ25vcmVPbmNlQ2xpY2s9ZnVuY3Rpb24obCl7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuU3BlbGxDaGVja0RpYWxvZ0NvbW1hbmQsYi5TcGVsbENoZWNrRGlhbG9nQ29tbWFuZC5JZ25vcmVPbmNlKTt9O2sucHJvdG90eXBlLmJ0bklnbm9yZUFsbENsaWNrPWZ1bmN0aW9uKGwpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNwZWxsQ2hlY2tEaWFsb2dDb21tYW5kLGIuU3BlbGxDaGVja0RpYWxvZ0NvbW1hbmQuSWdub3JlQWxsKTt9O2sucHJvdG90eXBlLmJ0bkFkZFRvRGljdENsaWNrPWZ1bmN0aW9uKGwpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNwZWxsQ2hlY2tEaWFsb2dDb21tYW5kLGIuU3BlbGxDaGVja0RpYWxvZ0NvbW1hbmQuQWRkVG9EaWN0KTt9O2sucHJvdG90eXBlLmJ0bkNoYW5nZUNsaWNrPWZ1bmN0aW9uKGwpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNwZWxsQ2hlY2tEaWFsb2dDb21tYW5kLGIuU3BlbGxDaGVja0RpYWxvZ0NvbW1hbmQuQ2hhbmdlKTt9O2sucHJvdG90eXBlLmJ0bkNoYW5nZUFsbENsaWNrPWZ1bmN0aW9uKGwpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNwZWxsQ2hlY2tEaWFsb2dDb21tYW5kLGIuU3BlbGxDaGVja0RpYWxvZ0NvbW1hbmQuQ2hhbmdlQWxsKTt9O3ZhciBlPXtzcGFuQmVmb3JlOm51bGwsc3BhbkVtcGg6bnVsbCxzcGFuQWZ0ZXI6bnVsbCx0ZXh0Q29udGVudDpcIlwifTtmdW5jdGlvbiBnKGwpe3ZhciBtO2lmKGwudGFyZ2V0LmNoaWxkcmVuLmxlbmd0aCE9Myl7bC50YXJnZXQuaW5uZXJIVE1MPVwiXCI7bC50YXJnZXQuYXBwZW5kQ2hpbGQoZS5zcGFuQmVmb3JlKTtsLnRhcmdldC5hcHBlbmRDaGlsZChlLnNwYW5FbXBoKTtsLnRhcmdldC5hcHBlbmRDaGlsZChlLnNwYW5BZnRlcik7cmV0dXJuO312YXIgcj1sLnRhcmdldC5jaGlsZHJlblsxXSxzPXIudGV4dENvbnRlbnQsdD1lLnNwYW5FbXBoLnRleHRDb250ZW50O2lmKHMhPT10KXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TcGVsbENoZWNrRGlhbG9nQ29tbWFuZCxiLlNwZWxsQ2hlY2tEaWFsb2dDb21tYW5kLlByZXZpZXdUZXh0Q2hhbmdlZCwwLDAscyk7fWVsc2V7dmFyIHA9bC50YXJnZXQuY2hpbGRyZW5bMF0sbj1sLnRhcmdldC5jaGlsZHJlblsyXSxxPWUuc3BhbkJlZm9yZSxvPWUuc3BhbkFmdGVyO2lmKHAudGV4dENvbnRlbnQhPT1xLnRleHRDb250ZW50KXtwLnRleHRDb250ZW50PXEudGV4dENvbnRlbnQ7fWVsc2V7aWYobi50ZXh0Q29udGVudCE9PW8udGV4dENvbnRlbnQpe24udGV4dENvbnRlbnQ9by50ZXh0Q29udGVudDt9ZWxzZXtpZihsLnRhcmdldC50ZXh0Q29udGVudCE9PWUudGV4dENvbnRlbnQpe2wudGFyZ2V0LmlubmVySFRNTD1cIlwiO2wudGFyZ2V0LmFwcGVuZENoaWxkKGUuc3BhbkJlZm9yZSk7bC50YXJnZXQuYXBwZW5kQ2hpbGQoZS5zcGFuRW1waCk7bC50YXJnZXQuYXBwZW5kQ2hpbGQoZS5zcGFuQWZ0ZXIpO319fX1lLnNwYW5CZWZvcmU9bC50YXJnZXQuY2hpbGRyZW5bMF0uY2xvbmVOb2RlKHRydWUpO2Uuc3BhbkVtcGg9ci5jbG9uZU5vZGUodHJ1ZSk7ZS5zcGFuQWZ0ZXI9bC50YXJnZXQuY2hpbGRyZW5bMl0uY2xvbmVOb2RlKHRydWUpO2UudGV4dENvbnRlbnQ9bC50YXJnZXQudGV4dENvbnRlbnQ7fWZ1bmN0aW9uIGoocCxsKXtsLmlubmVySFRNTD1cIlwiO3ZhciB0PXAuVGV4dDt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiU1BBTlwiKTt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiU1BBTlwiKTt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiU1BBTlwiKTtvLnN0eWxlLmZvbnRXZWlnaHQ9XCJib2xkXCI7by5zdHlsZS5jb2xvcj1cInJlZFwiO28uaWQ9XCJ0eFNwZWxsRGxnUHJldkFyZWFFbXBoV29yZFwiO24uY29udGVudEVkaXRhYmxlPWZhbHNlO20uY29udGVudEVkaXRhYmxlPWZhbHNlO2lmKHAuRW1waGFzaXplZEFyZWFTdGFydCE9PW51bGwpe3ZhciBzPXQuc3Vic3RyaW5nKHAuRW1waGFzaXplZEFyZWFTdGFydCxwLkVtcGhhc2l6ZWRBcmVhRW5kKTtvLnRleHRDb250ZW50PXM7dmFyIHI9dC5zdWJzdHJpbmcoMCxwLkVtcGhhc2l6ZWRBcmVhU3RhcnQpO3ZhciBxPXQuc3Vic3RyaW5nKHAuRW1waGFzaXplZEFyZWFFbmQpO24udGV4dENvbnRlbnQ9cjttLnRleHRDb250ZW50PXE7fWVsc2V7bS50ZXh0Q29udGVudD10O31sLmFwcGVuZENoaWxkKG4pO2wuYXBwZW5kQ2hpbGQobyk7bC5hcHBlbmRDaGlsZChtKTtlLnNwYW5CZWZvcmU9bi5jbG9uZU5vZGUodHJ1ZSk7ZS5zcGFuRW1waD1vLmNsb25lTm9kZSh0cnVlKTtlLnNwYW5BZnRlcj1tLmNsb25lTm9kZSh0cnVlKTtlLnRleHRDb250ZW50PWwudGV4dENvbnRlbnQ7fWsucHJvdG90eXBlLmFwcGx5UHJldkFyZWFTdGF0ZT1mdW5jdGlvbihtKXt2YXIgbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4U3BlbGxDaGVja1ByZXZpZXdBcmVhXCIpO2lmKG0uQXJlYUVuYWJsZWQpe2wuY29udGVudEVkaXRhYmxlPXRydWU7fWVsc2V7bC5yZW1vdmVBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik7fWlmKG0uVGV4dCE9PW51bGwpe2oobSxsKTt9fTtrLnByb3RvdHlwZS5zZXRTdWdEaWN0cz1mdW5jdGlvbihwKXt2YXIgbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4U3BlbGxDaGVja1NlbFN1Z2dEaWN0XCIpO20uaW5uZXJIVE1MPVwiXCI7Zm9yKHZhciBuPTA7bjxwLk5hbWVzLmxlbmd0aDsrK24pe3ZhciBvPXAuTmFtZXNbbl07dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIk9QVElPTlwiKTtsLnRleHRDb250ZW50PW87bC52YWx1ZT1vO20uYXBwZW5kQ2hpbGQobCk7fWlmKHAuU2VsZWN0ZWREaWN0IT09bnVsbCl7bS52YWx1ZT1wLlNlbGVjdGVkRGljdDt9fTtmdW5jdGlvbiBoKGwpe2lmKGMpe3JldHVybjt9Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuU3BlbGxDaGVja0RpYWxvZ0NvbW1hbmQsYi5TcGVsbENoZWNrRGlhbG9nQ29tbWFuZC5TdWdnZXN0aW9uRGljdFNlbGVjdGVkLDAsMCxsLnRhcmdldC52YWx1ZSk7fWsucHJvdG90eXBlLnNldFN1Z2dlc3Rpb25zPWZ1bmN0aW9uKG4pe3ZhciBvPW4uU3VnZ2VzdGlvbnM7dmFyIGw9bi5Ob1N1Z2dlc3Rpb25zQ3JlYXRlZDt2YXIgbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4U3BlbGxDaGVja1NlbFN1Z2dlc3Rpb25zXCIpO20uaW5uZXJIVE1MPVwiXCI7aWYobCl7bS5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLFwiZGlzYWJsZWRcIik7fWVsc2V7bS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTt9by5mb3JFYWNoKGZ1bmN0aW9uKHEpe3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJPUFRJT05cIik7cC50ZXh0Q29udGVudD1xO20uYXBwZW5kQ2hpbGQocCk7fSk7aWYoIWwpe20uc2VsZWN0ZWRJbmRleD0wO319O2Z1bmN0aW9uIGkobCl7aWYoYyl7cmV0dXJuO31iLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TcGVsbENoZWNrRGlhbG9nQ29tbWFuZCxiLlNwZWxsQ2hlY2tEaWFsb2dDb21tYW5kLlN1Z2dlc3Rpb25TZWxlY3RlZCwwLDAsbC50YXJnZXQudmFsdWUpO31rLnByb3RvdHlwZS5zZXRCdXR0b25TdGF0ZXM9ZnVuY3Rpb24ocSl7dmFyIG89ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJRF9TUEVMTF9CVE5fSUdOT1JFX09OQ0VcIik7aWYocS5CdG5JZ25vcmUuVGV4dCE9PW51bGwpe28udGV4dENvbnRlbnQ9cS5CdG5JZ25vcmUuVGV4dDt9aWYocS5CdG5JZ25vcmUuRW5hYmxlZCE9PW51bGwpe2IuZW5hYmxlQnV0dG9uKG8scS5CdG5JZ25vcmUuRW5hYmxlZCk7fXZhciBwPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSURfU1BFTExfQlROX0lHTk9SRV9BTExcIik7aWYocS5CdG5JZ25vcmVBbGwuRW5hYmxlZCE9PW51bGwpe2IuZW5hYmxlQnV0dG9uKHAscS5CdG5JZ25vcmVBbGwuRW5hYmxlZCk7fXZhciBsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSURfU1BFTExfQlROX0FERF9UT19ESUNUSU9OQVJZXCIpO2lmKHEuQnRuQWRkVG9EaWN0LkVuYWJsZWQhPT1udWxsKXtiLmVuYWJsZUJ1dHRvbihsLHEuQnRuQWRkVG9EaWN0LkVuYWJsZWQpO312YXIgbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIklEX1NQRUxMX0JUTl9DSEFOR0VcIik7aWYocS5CdG5DaGFuZ2UuVGV4dCE9PW51bGwpe20udGV4dENvbnRlbnQ9cS5CdG5DaGFuZ2UuVGV4dDt9aWYocS5CdG5DaGFuZ2UuRW5hYmxlZCE9PW51bGwpe2IuZW5hYmxlQnV0dG9uKG0scS5CdG5DaGFuZ2UuRW5hYmxlZCk7fXZhciBuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSURfU1BFTExfQlROX0NIQU5HRV9BTExcIik7aWYocS5CdG5DaGFuZ2VBbGwuVGV4dCE9PW51bGwpe24udGV4dENvbnRlbnQ9cS5CdG5DaGFuZ2VBbGwuVGV4dDt9aWYocS5CdG5DaGFuZ2VBbGwuRW5hYmxlZCE9PW51bGwpe2IuZW5hYmxlQnV0dG9uKG4scS5CdG5DaGFuZ2VBbGwuRW5hYmxlZCk7fX07ay5wcm90b3R5cGUudXBkYXRlU3VnQXJlYT1mdW5jdGlvbihtKXt2YXIgbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4U3BlbGxDaGVja1NlbFN1Z2dEaWN0XCIpO2lmKG0uQ2JTdWdEaWN0c0VuYWJsZWQpe2wucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7fWVsc2V7bC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLFwiZGlzYWJsZWRcIik7fX07ay5wcm90b3R5cGUuc2V0RGlhbG9nU3RhdGU9ZnVuY3Rpb24obSl7dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFNwZWxsQ2hlY2tMYmxMYW5nXCIpO2lmKG0uTGJsTGFuZ1RleHQhPT1udWxsKXtsLnRleHRDb250ZW50PW0uTGJsTGFuZ1RleHQ7fWlmKG0uTWVzc2FnZUJveFRleHQhPT1udWxsKXtiLmpRdWVyeUFsZXJ0KFwiVFhTcGVsbFwiLG0uTWVzc2FnZUJveFRleHQpO31pZihtLkNsb3NlRGlhbG9nKXt0aGlzLmNsb3NlKGEoXCIjXCIrdGhpcy5EaWFsb2dJbmZvLkVsZW1lbnRJRCkpO319O2sucHJvdG90eXBlLmFwcGx5RGlhbG9nU3RhdGU9ZnVuY3Rpb24obCl7Yz10cnVlO2lmKGwuUHJldmlldyE9PW51bGwpe3RoaXMuYXBwbHlQcmV2QXJlYVN0YXRlKGwuUHJldmlldyk7fWlmKGwuU3VnRGljdHMhPT1udWxsKXt0aGlzLnNldFN1Z0RpY3RzKGwuU3VnRGljdHMpO31pZihsLlN1Z2dlc3Rpb25zIT09bnVsbCl7dGhpcy5zZXRTdWdnZXN0aW9ucyhsLlN1Z2dlc3Rpb25zKTt9aWYobC5CdXR0b25TdGF0ZXMhPT1udWxsKXt0aGlzLnNldEJ1dHRvblN0YXRlcyhsLkJ1dHRvblN0YXRlcyk7fWlmKGwuU3VnZ2VzdGlvbnNBcmVhIT09bnVsbCl7dGhpcy51cGRhdGVTdWdBcmVhKGwuU3VnZ2VzdGlvbnNBcmVhKTt9aWYobC5EaWFsb2dTdGF0ZSE9PW51bGwpe3RoaXMuc2V0RGlhbG9nU3RhdGUobC5EaWFsb2dTdGF0ZSk7fWM9ZmFsc2U7fTtrLnByb3RvdHlwZS5kaWFsb2dTdGF0ZVVwZGF0ZWRIYW5kbGVyPWZ1bmN0aW9uKGwpe3ZhciBtPWwuZGV0YWlsO3RoaXMuYXBwbHlEaWFsb2dTdGF0ZShtKTt9O2sucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKGwpe2EoXCIjSURfU1BFTExfTEJMX05PVF9JTl9ESUNUSU9OQVJJRVNcIikudGV4dChsLklEX1NQRUxMX0xCTF9OT1RfSU5fRElDVElPTkFSSUVTKTthKFwiI0xCTF9MQU5HVUFHRVwiKS50ZXh0KGwuTEJMX0xBTkdVQUdFKTthKFwiI0lEX1NQRUxMX0JUTl9JR05PUkVfT05DRVwiKS50ZXh0KGwuSURfU1BFTExfQlROX0lHTk9SRV9PTkNFKTthKFwiI0lEX1NQRUxMX0JUTl9JR05PUkVfQUxMXCIpLnRleHQobC5JRF9TUEVMTF9CVE5fSUdOT1JFX0FMTCk7YShcIiNJRF9TUEVMTF9CVE5fQUREX1RPX0RJQ1RJT05BUllcIikudGV4dChsLklEX1NQRUxMX0JUTl9BRERfVE9fRElDVElPTkFSWSk7YShcIiNJRF9TUEVMTF9MQkxfU1VHR0VTVElPTlNcIikudGV4dChsLklEX1NQRUxMX0xCTF9TVUdHRVNUSU9OUyk7YShcIiNJRF9TUEVMTF9CVE5fQ0hBTkdFXCIpLnRleHQobC5JRF9TUEVMTF9CVE5fQ0hBTkdFKTthKFwiI0lEX1NQRUxMX0JUTl9DSEFOR0VfQUxMXCIpLnRleHQobC5JRF9TUEVMTF9CVE5fQ0hBTkdFX0FMTCk7YShcIiNJRF9TUEVMTF9MQkxfU1VHR0VTVElPTlNfRElDVElPTkFSWVwiKS50ZXh0KGwuSURfU1BFTExfTEJMX1NVR0dFU1RJT05TX0RJQ1RJT05BUlkpO2EoXCIjSURfU1BFTExfQlROX0NBTkNFTFwiKS50ZXh0KGwuSURfU1BFTExfQlROX0NBTkNFTCk7fTtrLnByb3RvdHlwZS5jbG9zaW5nPWZ1bmN0aW9uKCl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNwZWxsQ2hlY2tEaWFsb2dTdGF0ZVVwZGF0ZWRcIix0aGlzLmRpYWxvZ1N0YXRlVXBkYXRlZEhhbmRsZXJCb3VuZCk7fTtrLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe3ZhciByPXRoaXM7dmFyIG09YShcIiNzcGVsbENoZWNrRGlhbG9nXCIpLHE9bS5jc3MoXCJtYXJnaW4tbGVmdFwiKSxsPXt3aWR0aDptLmNzcyhcImJvcmRlci1sZWZ0LXdpZHRoXCIpLGNvbG9yOm0uY3NzKFwiYm9yZGVyLWxlZnQtY29sb3JcIiksc3R5bGU6bS5jc3MoXCJib3JkZXItbGVmdC1zdHlsZVwiKX07bS5jc3MoXCJib3JkZXItYm90dG9tLXdpZHRoXCIsbC53aWR0aCk7bS5jc3MoXCJib3JkZXItYm90dG9tLWNvbG9yXCIsbC5jb2xvcik7bS5jc3MoXCJib3JkZXItYm90dG9tLXN0eWxlXCIsbC5zdHlsZSk7bS5jc3MoXCJtYXJnaW4tYm90dG9tXCIscSk7YShcIiNJRF9TUEVMTF9CVE5fSUdOT1JFX09OQ0VcIikuY2xpY2soci5idG5JZ25vcmVPbmNlQ2xpY2spO2EoXCIjSURfU1BFTExfQlROX0lHTk9SRV9BTExcIikuY2xpY2soci5idG5JZ25vcmVBbGxDbGljayk7YShcIiNJRF9TUEVMTF9CVE5fQUREX1RPX0RJQ1RJT05BUllcIikuY2xpY2soci5idG5BZGRUb0RpY3RDbGljayk7YShcIiNJRF9TUEVMTF9CVE5fQ0hBTkdFXCIpLmNsaWNrKHIuYnRuQ2hhbmdlQ2xpY2spO2EoXCIjSURfU1BFTExfQlROX0NIQU5HRV9BTExcIikuY2xpY2soci5idG5DaGFuZ2VBbGxDbGljayk7YShcIiNJRF9TUEVMTF9CVE5fQ0FOQ0VMXCIpLmNsaWNrKGZ1bmN0aW9uKCl7ci5jbG9zZShhKFwiI1wiK3IuRGlhbG9nSW5mby5FbGVtZW50SUQpKTt9KTt0aGlzLmFwcGx5RGlhbG9nU3RhdGUodGhpcy5pbml0aWFsU3RhdGUpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzcGVsbENoZWNrRGlhbG9nU3RhdGVVcGRhdGVkXCIsdGhpcy5kaWFsb2dTdGF0ZVVwZGF0ZWRIYW5kbGVyQm91bmQpO3ZhciBwPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhTcGVsbENoZWNrU2VsU3VnZ2VzdGlvbnNcIik7cC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsaSk7dmFyIG89ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFNwZWxsQ2hlY2tTZWxTdWdnRGljdFwiKTtvLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixoKTt2YXIgbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4U3BlbGxDaGVja1ByZXZpZXdBcmVhXCIpO24uYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsZyk7fTtyZXR1cm4gazt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRWRnZVByaW50RGlhbG9nPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZSxkKTtmdW5jdGlvbiBlKGYpe2QuY2FsbCh0aGlzKTt2YXIgZz10aGlzO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLkVkZ2VQcmludERpYWxvZyxFbGVtZW50SUQ6XCJlZGdlUHJpbnREaWFsb2dcIixXaWR0aDo0MDAsVGl0bGVSZXNvdXJjZU5hbWU6XCJFREdFX1BSSU5UX0RJQUxPR19USVRMRVwiLEJ1dHRvbnM6e0NhbmNlbDp7dGV4dDpcIkNhbmNlbFwiLGNsaWNrOmZ1bmN0aW9uKCl7Zy5jbG9zZSh0aGlzKTt9LGlkOlwiYnRuQ2FuY2VsX1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUR9fX07dGhpcy5wcmludEhhbmRsZXJVcmw9Zjt9ZS5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oZil7dmFyIGc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGdlUHJpbnREaWFsb2dfZG93bmxvYWRMaW5rXCIpO2cuZG93bmxvYWQ9XCJwcmludF9yZXN1bHQucGRmXCI7Zy5ocmVmPXRoaXMucHJpbnRIYW5kbGVyVXJsO307ZS5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24oaCl7dmFyIGY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJFREdFX1BSSU5UX0RJQUxPR19URVhUXCIpO2YuaW5uZXJIVE1MPWguRURHRV9QUklOVF9ESUFMT0dfVEVYVDt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkVER0VfUFJJTlRfRElBTE9HX0RPV05MT0FEX0xJTktfVEVYVFwiKTtnLmlubmVySFRNTD1oLkVER0VfUFJJTlRfRElBTE9HX0RPV05MT0FEX0xJTktfVEVYVDt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhoKTt9O3JldHVybiBlO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5QZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dDb21tYW5kPXt9O2IuUGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZyxkKTtmdW5jdGlvbiBnKGgpe2QuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5QZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2csRWxlbWVudElEOlwicGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJQRVJNSVNTSU9OU0FERFVTRVJfRExHX1RJVExFXCJ9O3RoaXMuZGlhbG9nU3RhdGVVcGRhdGVkSGFuZGxlckJvdW5kPXRoaXMuZGlhbG9nU3RhdGVVcGRhdGVkSGFuZGxlci5iaW5kKHRoaXMpO3RoaXMuc3RhdGU9aDt0aGlzLnJlZ2lzdGVyZWRVc2VyTmFtZUhpbnRUZXh0PVwiXCI7fWcucHJvdG90eXBlLmFwcGx5RGlhbG9nU3RhdGU9ZnVuY3Rpb24oeCl7dmFyIHY9dGhpcyxvLG47dmFyIHk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dfdHh0TmV3VXNlclwiKTt2YXIgaz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ19idG5EZWxldGVcIik7dmFyIGo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dfYnRuQWRkXCIpO3ZhciBxPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nX2xiVXNlcnNcIik7dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5PS19cIit2LmRpYWxvZ0NvbnRhaW5lcklEKTt2YXIgbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ19jYlJlZ1VzZXJzXCIpO3ZhciByPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nX3Jvd0xibE5ld1VzZXJcIik7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dfcm93TmV3VXNlclwiKTt2YXIgcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ19yb3dMYmxSZWdVc2Vyc1wiKTt2YXIgdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ19yb3dSZWdVc2Vyc1wiKTtpZih4LnVzZXJOYW1lIT09bnVsbCl7eS52YWx1ZT14LnVzZXJOYW1lO31pZih4LnVzZXJOYW1lcyl7aSh4LnVzZXJOYW1lcyk7fWlmKHgucmVnaXN0ZXJlZFVzZXJOYW1lcyl7aWYoeC5yZWdpc3RlcmVkVXNlck5hbWVzLmxlbmd0aCl7aCh4LnJlZ2lzdGVyZWRVc2VyTmFtZXMpO31lbHNle3Muc3R5bGUuZGlzcGxheT11LnN0eWxlLmRpc3BsYXk9XCJub25lXCI7fX1pZih4LmRlbGV0ZUJ1dHRvbil7Yi5lbmFibGVCdXR0b24oayx4LmRlbGV0ZUJ1dHRvbi5FbmFibGVkKTt9aWYoeC5hZGRCdXR0b24pe2IuZW5hYmxlQnV0dG9uKGoseC5hZGRCdXR0b24uRW5hYmxlZCk7fWlmKHgub2tCdXR0b24pe2IuZW5hYmxlQnV0dG9uKGwseC5va0J1dHRvbi5FbmFibGVkKTt9aWYoeC5zZWxlY3RlZEluZGV4IT09bnVsbCl7dyh4LnNlbGVjdGVkSW5kZXgpO31pZigoeC5hbGxvd0FkZGl0aW9uYWwhPT1udWxsKSYmIXguYWxsb3dBZGRpdGlvbmFsKXtyLnN0eWxlLmRpc3BsYXk9dC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO31mdW5jdGlvbiBpKEIpe3ZhciB6LEE7cS5pbm5lckhUTUw9XCJcIjtmb3Ioej0wO3o8Qi5sZW5ndGg7Kyt6KXtBPUJbel07bz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3EuYXBwZW5kQ2hpbGQobyk7by5kYXRhc2V0LmluZGV4PXo7by5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixwKTtuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO28uYXBwZW5kQ2hpbGQobik7bi50ZXh0Q29udGVudD1BO319ZnVuY3Rpb24gdyh6KXtmKCk7aWYoej4tMSl7dmFyIEE9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dfbGJVc2VycyBkaXZcIik7aWYoejxBLmxlbmd0aCl7QVt6XS5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7fX19ZnVuY3Rpb24gcCh6KXtmKCk7ei5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5QZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dDb21tYW5kLGIuUGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nQ29tbWFuZC5TZWxlY3RlZEluZGV4Q2hhbmdlZCwwLDAse2luZGV4OnBhcnNlSW50KHouY3VycmVudFRhcmdldC5kYXRhc2V0LmluZGV4LDEwKX0pO31mdW5jdGlvbiBoKEEpe3ZhciB6O2lmKCFBLmxlbmd0aCl7cmV0dXJuO316PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7bS5hcHBlbmRDaGlsZCh6KTt6LmRpc2FibGVkPXRydWU7ei5zZWxlY3RlZD10cnVlO3ouc3R5bGUuZGlzcGxheT1cIm5vbmVcIjt6LnN0eWxlLmNvbG9yPVwiI0FBQVwiO3oudGV4dENvbnRlbnQ9di5yZWdpc3RlcmVkVXNlck5hbWVIaW50VGV4dDtBLmZvckVhY2goZnVuY3Rpb24oQil7ej1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO20uYXBwZW5kQ2hpbGQoeik7ei50ZXh0Q29udGVudD1CO30pO20uc2VsZWN0ZWRJbmRleD0wO319O2cucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGkpe3ZhciBoPXtkaWFsb2dSZXN1bHQ6dGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuRGlhbG9nUmVzdWx0LGIuSFRNTERpYWxvZ1R5cGUuUGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nLDAsMCxoKTtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nVXBkYXRlZFwiLHRoaXMuZGlhbG9nU3RhdGVVcGRhdGVkSGFuZGxlckJvdW5kKTthKGkpLmRpYWxvZyhcImRlc3Ryb3lcIikucmVtb3ZlKCk7YShcIiNcIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKS5yZW1vdmUoKTtpZighYi5pc1RvdWNoRGV2aWNlKXtiLnRleHRWaWV3ZXIuZm9jdXMoKTt9fTtmdW5jdGlvbiBlKGgpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ0NvbW1hbmQsYi5QZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dDb21tYW5kLkRlbGV0ZUJ1dHRvbkNsaWNrZWQpO31mdW5jdGlvbiBmKCl7dmFyIGg9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dfbGJVc2VycyBkaXZcIik7W10uZm9yRWFjaC5jYWxsKGgsZnVuY3Rpb24oaSl7aS5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7fSk7fWcucHJvdG90eXBlLmRpYWxvZ1JlYWR5PWZ1bmN0aW9uKCl7dmFyIG89dGhpcztoKCk7dmFyIHA9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dfdHh0TmV3VXNlclwiKTt2YXIgbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ19jYlJlZ1VzZXJzXCIpO20uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLG4pO3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nX2J0bkFkZFwiKTtpLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsayk7dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dfYnRuRGVsZXRlXCIpO3AuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIscSk7cC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIscSk7cC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHMpO3AuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIscik7aS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixqKTt0aGlzLmFwcGx5RGlhbG9nU3RhdGUodGhpcy5zdGF0ZSk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ1VwZGF0ZWRcIix0aGlzLmRpYWxvZ1N0YXRlVXBkYXRlZEhhbmRsZXJCb3VuZCk7ZnVuY3Rpb24gcSh0KXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5QZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dDb21tYW5kLGIuUGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nQ29tbWFuZC5Vc2VyTmFtZUNoYW5nZWQsMCwwLHt1c2VyTmFtZTpwLnZhbHVlfSk7fWZ1bmN0aW9uIHModCl7dmFyIHU9dC5rZXlDb2RlfHx0LndoaWNofHwwO3N3aXRjaCh1KXtjYXNlIGIuS2V5Q29kZS5FbnRlcjppZighaS5kaXNhYmxlZCl7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuUGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nQ29tbWFuZCxiLlBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ0NvbW1hbmQuQWRkQnV0dG9uQ2xpY2tlZCk7dC5wcmV2ZW50RGVmYXVsdCgpO31icmVhazt9fWZ1bmN0aW9uIGsodCl7cyh0KTt9ZnVuY3Rpb24gcigpe2YoKTtiLmVuYWJsZUJ1dHRvbihsLGZhbHNlKTt9ZnVuY3Rpb24gaih0KXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5QZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dDb21tYW5kLGIuUGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nQ29tbWFuZC5BZGRCdXR0b25DbGlja2VkKTtwLmZvY3VzKCk7fWZ1bmN0aW9uIGgoKXt2YXIgdj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ1wiKS5wYXJlbnRFbGVtZW50O3ZhciB1PXYucXVlcnlTZWxlY3RvcihcImRpdi50eHVpLWRpYWxvZy1idXR0b25wYW5lID4gLnR4dWktZGlhbG9nLWJ1dHRvbnNldFwiKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO3UuYXBwZW5kQ2hpbGQodCk7dC50eXBlPVwiYnV0dG9uXCI7dC5pZD1cInBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ19idG5EZWxldGVcIjt0LmNsYXNzTGlzdC5hZGQoXCJ0eHVpLWJ1dHRvblwiKTt0LmNsYXNzTGlzdC5hZGQoXCJ0eHVpLWJ1dHRvbi10ZXh0LW9ubHlcIik7dC5jbGFzc0xpc3QuYWRkKFwidHh1aS1zdGF0ZS1kZWZhdWx0XCIpO3ZhciB3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO3QuYXBwZW5kQ2hpbGQodyk7dy5jbGFzc0xpc3QuYWRkKFwidHh1aS1idXR0b24tdGV4dFwiKTt3LnRleHRDb250ZW50PW8uc3RyaW5nUmVzb3VyY2VzLlBFUk1JU1NJT05TQUREVVNFUl9ETEdfQlROX0RFTEVURTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUpO31mdW5jdGlvbiBuKHQpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ0NvbW1hbmQsYi5QZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dDb21tYW5kLlJlZ2lzdGVyZWRVc2VyU2VsZWN0ZWQsMCwwLHt1c2VyTmFtZTptLnZhbHVlfSk7bS5zZWxlY3RlZEluZGV4PTA7fX07Zy5wcm90b3R5cGUuZGlhbG9nU3RhdGVVcGRhdGVkSGFuZGxlcj1mdW5jdGlvbihoKXt0aGlzLmFwcGx5RGlhbG9nU3RhdGUoaC5kZXRhaWwpO307Zy5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24oaCl7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJQRVJNSVNTSU9OU0FERFVTRVJfRExHX0xCTF9ORVdfVVNFUlwiKS50ZXh0Q29udGVudD1oLlBFUk1JU1NJT05TQUREVVNFUl9ETEdfTEJMX05FV19VU0VSO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiUEVSTUlTU0lPTlNBRERVU0VSX0RMR19MQkxfVVNFUlNcIikudGV4dENvbnRlbnQ9aC5QRVJNSVNTSU9OU0FERFVTRVJfRExHX0xCTF9VU0VSUztkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ19idG5BZGRcIikudGV4dENvbnRlbnQ9aC5QRVJNSVNTSU9OU0FERFVTRVJfRExHX0JUTl9BREQ7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJQRVJNSVNTSU9OU0FERFVTRVJfRExHX0xCTF9SRUdfVVNFUlNcIikudGV4dENvbnRlbnQ9aC5QRVJNSVNTSU9OU0FERFVTRVJfRExHX0xCTF9SRUdfVVNFUlM7dGhpcy5yZWdpc3RlcmVkVXNlck5hbWVIaW50VGV4dD1oLlBFUk1JU1NJT05TQUREVVNFUl9ETEdfUkVHX1VTRVJTX0hJTlQ7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoaCk7dGhpcy5zdHJpbmdSZXNvdXJjZXM9aDt9O3JldHVybiBnO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5NYW5hZ2VDb25kaXRpb25hbEluc3RydWN0aW9uc0RpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGUsZCk7ZnVuY3Rpb24gZShmKXtkLmNhbGwodGhpcyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuTWFuYWdlQ29uZGl0aW9uYWxJbnN0cnVjdGlvbnNEaWFsb2csRWxlbWVudElEOlwibWFuYWdlQ29uZGl0aW9uYWxJbnN0cnVjdGlvbnNEaWFsb2dcIixXaWR0aDpcImF1dG9cIixUaXRsZVJlc291cmNlTmFtZTpcIklEX01BTkFHRUNPTkRJVElPTkFMSU5TVFJVQ1RJT05TX0NBUFRJT05cIn07dGhpcy5mb3JtRmllbGRzPWYuZm9ybUZpZWxkczt0aGlzLmluc3RydWN0aW9ucz1mLmNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25zO3RoaXMuZGVsZXRlZD1bXTt0aGlzLmRpYWxvZ0RhdGEuZGVsZXRlZD1bXTt0aGlzLmRpYWxvZ0RhdGEuaW5zdHJ1Y3Rpb25zPW51bGw7fWUucHJvdG90eXBlLmNsb3Npbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmRpYWxvZ0RhdGEuZGlhbG9nUmVzdWx0KXt0aGlzLmRpYWxvZ0RhdGEuaW5zdHJ1Y3Rpb25zPXRoaXMuaW5zdHJ1Y3Rpb25zO3RoaXMuZGlhbG9nRGF0YS5kZWxldGVkPXRoaXMuZGVsZXRlZDt9fTtlLnByb3RvdHlwZS5wb3B1bGF0ZVNlbGVjdD1mdW5jdGlvbigpe3ZhciBoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFuYWdlQ29uZGl0aW9uYWxJbnN0cnVjdGlvbnNEaWFsb2dfc2VsSW5zdHJ1Y3Rpb25zXCIpO2guaW5uZXJIVE1MPVwiXCI7dGhpcy5pbnN0cnVjdGlvbnMuZm9yRWFjaChmdW5jdGlvbihqKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO2kudmFsdWU9aS50ZXh0PWkudGl0bGU9ai5uYW1lO2guYXBwZW5kQ2hpbGQoaSk7fSk7aC5zZWxlY3RlZEluZGV4PTA7dmFyIGc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJRF9NQU5BR0VDT05ESVRJT05BTElOU1RSVUNUSU9OU19FRElUXCIpO3ZhciBmPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSURfTUFOQUdFQ09ORElUSU9OQUxJTlNUUlVDVElPTlNfREVMRVRFXCIpO2IuZW5hYmxlQnV0dG9uKGcsKHRoaXMuaW5zdHJ1Y3Rpb25zLmxlbmd0aD4wKSk7Yi5lbmFibGVCdXR0b24oZiwodGhpcy5pbnN0cnVjdGlvbnMubGVuZ3RoPjApKTt9O2UucHJvdG90eXBlLmRpYWxvZ1JlYWR5PWZ1bmN0aW9uKCl7dmFyIG09dGhpczt2YXIgbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hbmFnZUNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25zRGlhbG9nX3NlbEluc3RydWN0aW9uc1wiKTt0aGlzLnBvcHVsYXRlU2VsZWN0KCk7dmFyIGo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJRF9NQU5BR0VDT05ESVRJT05BTElOU1RSVUNUSU9OU19ORVdcIik7dmFyIGg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJRF9NQU5BR0VDT05ESVRJT05BTElOU1RSVUNUSU9OU19FRElUXCIpO3ZhciBmPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSURfTUFOQUdFQ09ORElUSU9OQUxJTlNUUlVDVElPTlNfREVMRVRFXCIpO2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsaSk7ai5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixrKTtmLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGcpO2IuZW5hYmxlQnV0dG9uKGosKHRoaXMuZm9ybUZpZWxkcy5sZW5ndGg+MCkpO2Z1bmN0aW9uIGsobyl7dmFyIHA9bS5pbnN0cnVjdGlvbnMubWFwKGZ1bmN0aW9uKHIpe3JldHVybiByLm5hbWU7fSk7dmFyIG49bmV3IGIuQ29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZyhtLmZvcm1GaWVsZHMscCxxKTtuLnNob3dNb2RhbCgpO2Z1bmN0aW9uIHEocil7bS5pbnN0cnVjdGlvbnMucHVzaChyKTttLnBvcHVsYXRlU2VsZWN0KCk7fX1mdW5jdGlvbiBpKG8pe3ZhciBwPW0uaW5zdHJ1Y3Rpb25zLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lO30pO2lmKCFsLnZhbHVlKXtyZXR1cm47fXZhciByPW0uaW5zdHJ1Y3Rpb25zLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWwudmFsdWU7fSk7dmFyIHE9Y2xvbmVPYmplY3Qocik7dmFyIG49bmV3IGIuQ29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZyhtLmZvcm1GaWVsZHMscCxzLHEpO24uc2hvd01vZGFsKCk7ZnVuY3Rpb24gcyh1KXtmb3IodmFyIHQ9MDt0PG0uaW5zdHJ1Y3Rpb25zLmxlbmd0aDsrK3Qpe2lmKG0uaW5zdHJ1Y3Rpb25zW3RdLm5hbWU9PT11Lm5hbWVPbGQpe20uZGVsZXRlZC5wdXNoKHUubmFtZU9sZCk7bS5pbnN0cnVjdGlvbnMuc3BsaWNlKHQsMSx1KTttLnBvcHVsYXRlU2VsZWN0KCk7YnJlYWs7fX19fWZ1bmN0aW9uIGcobil7dmFyIG87aWYoIWwudmFsdWUpe3JldHVybjt9Zm9yKG89MDtvPG0uaW5zdHJ1Y3Rpb25zLmxlbmd0aDsrK28pe3ZhciBwPW0uaW5zdHJ1Y3Rpb25zW29dO2lmKHAubmFtZT09PWwudmFsdWUpe20uZGVsZXRlZC5wdXNoKHAubmFtZSk7bS5pbnN0cnVjdGlvbnMuc3BsaWNlKG8sMSk7bS5wb3B1bGF0ZVNlbGVjdCgpO2JyZWFrO319fX07ZS5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24oZil7YShcIiNJRF9NQU5BR0VDT05ESVRJT05BTElOU1RSVUNUSU9OU19JVEVNU1wiKS50ZXh0KGYuSURfTUFOQUdFQ09ORElUSU9OQUxJTlNUUlVDVElPTlNfSVRFTVMpO2EoXCIjSURfTUFOQUdFQ09ORElUSU9OQUxJTlNUUlVDVElPTlNfTkVXXCIpLnRleHQoZi5JRF9NQU5BR0VDT05ESVRJT05BTElOU1RSVUNUSU9OU19ORVcpO2EoXCIjSURfTUFOQUdFQ09ORElUSU9OQUxJTlNUUlVDVElPTlNfRURJVFwiKS50ZXh0KGYuSURfTUFOQUdFQ09ORElUSU9OQUxJTlNUUlVDVElPTlNfRURJVCk7YShcIiNJRF9NQU5BR0VDT05ESVRJT05BTElOU1RSVUNUSU9OU19ERUxFVEVcIikudGV4dChmLklEX01BTkFHRUNPTkRJVElPTkFMSU5TVFJVQ1RJT05TX0RFTEVURSk7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoZik7fTtyZXR1cm4gZTt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuSW5zZXJ0Qm9va21hcmtEaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUoZil7ZC5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLkluc2VydEJvb2ttYXJrRGlhbG9nLEVsZW1lbnRJRDpcImluc2VydEJvb2ttYXJrRGlhbG9nXCIsV2lkdGg6XCJhdXRvXCIsVGl0bGVSZXNvdXJjZU5hbWU6Zi5jYXB0aW9uUmVzSUR9O3RoaXMuZXhpc3Rpbmc9Zi5leGlzdGluZzt0aGlzLmVkaXQ9Zi5lZGl0O3RoaXMudGFyZ2V0PShmLmVkaXQmJmYuYXRJbnB1dFBvcyk/Zi5hdElucHV0UG9zOnt0YXJnZXROYW1lOlwiXCIsaGFzaENvZGU6MCxkZWxldGVhYmxlOnRydWV9O31lLnByb3RvdHlwZS5jbG9zaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdCl7dmFyIGY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnNlcnRCb29rbWFya0RpYWxvZ19jYkRlbGV0ZWFibGVcIik7dmFyIGc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnNlcnRCb29rbWFya0RpYWxvZ190eHRUYXJnZXROYW1lXCIpO3RoaXMuZGlhbG9nRGF0YS50YXJnZXROYW1lPWcudmFsdWUudHJpbSgpO3RoaXMuZGlhbG9nRGF0YS50YXJnZXRIYXNoQ29kZT10aGlzLnRhcmdldC5oYXNoQ29kZTt0aGlzLmRpYWxvZ0RhdGEuZGVsZXRlYWJsZT1mLmNoZWNrZWQ7fX07ZS5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oKXt2YXIgaz10aGlzLGo7dmFyIG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnNlcnRCb29rbWFya0RpYWxvZ190eHRUYXJnZXROYW1lXCIpO3ZhciBsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5zZXJ0Qm9va21hcmtEaWFsb2dfc2VsVGFyZ2V0TmFtZVwiKTt2YXIgaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluc2VydEJvb2ttYXJrRGlhbG9nX2NiRGVsZXRlYWJsZVwiKTt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluc2VydEJvb2ttYXJrRGlhbG9nX2NiQXV0b0dlbmVyYXRlZFwiKTt2YXIgZj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bk9LX1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpO24udmFsdWU9dGhpcy50YXJnZXQudGFyZ2V0TmFtZS50cmltKCk7Yi5lbmFibGVCdXR0b24oZiwhIW4udmFsdWUpO24uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsbyk7bi5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsbyk7aC5jaGVja2VkPXRoaXMudGFyZ2V0LmRlbGV0ZWFibGU7Zy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihwKXtpKCk7fSk7aSgpO2wuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLG0pO2Z1bmN0aW9uIG8oKXtiLmVuYWJsZUJ1dHRvbihmLCEhbi52YWx1ZS50cmltKCkpO31mdW5jdGlvbiBtKCl7dmFyIHA9ay5leGlzdGluZy5maW5kKGZ1bmN0aW9uKHEpe3JldHVybiBxLmhhc2hDb2RlPT1sLnZhbHVlO30pO24udmFsdWU9cC50YXJnZXROYW1lO2IuZW5hYmxlQnV0dG9uKGYpO2lmKGsuZWRpdCl7ay50YXJnZXQ9cDtoLmNoZWNrZWQ9cC5kZWxldGVhYmxlO319ZnVuY3Rpb24gaSgpe3ZhciBwPWcuY2hlY2tlZDtsLmlubmVySFRNTD1cIlwiO2suZXhpc3RpbmcuZm9yRWFjaChmdW5jdGlvbihxKXtpZihxLmlzQXV0b0dlbmVyYXRlZCYmIXApe3JldHVybjt9aj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO2oudGV4dD1xLnRhcmdldE5hbWU7ai52YWx1ZT1xLmhhc2hDb2RlO2wuYWRkKGopO30pO2lmKGsudGFyZ2V0Lmhhc2hDb2RlKXtsLnZhbHVlPWsudGFyZ2V0Lmhhc2hDb2RlO319fTtlLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihqKXt2YXIgaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluc2VydEJvb2ttYXJrRGlhbG9nX2xibFRhcmdldE5hbWVcIik7dmFyIGg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnNlcnRCb29rbWFya0RpYWxvZ19sYmxTZWxUYXJnZXROYW1lXCIpO3ZhciBnPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5zZXJ0Qm9va21hcmtEaWFsb2dfbGJsRGVsZXRlYWJsZVwiKTt2YXIgZj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluc2VydEJvb2ttYXJrRGlhbG9nX2xibEF1dG9HZW5lcmF0ZWRcIik7aS5pbm5lclRleHQ9ai5JRF9JTlNFUlRCT09LTUFSS19OQU1FO2guaW5uZXJUZXh0PWouSURfSU5TRVJUQk9PS01BUktfTkFNRVNfSU5TRVJUO2cuaW5uZXJUZXh0PWouSURfSU5TRVJUQk9PS01BUktfREVMRVRBQkxFO2YuaW5uZXJUZXh0PWouSURfSU5TRVJUQk9PS01BUktfQVVUT01BVElDQUxMWV9HRU5FUkFURUQ7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoaik7fTtyZXR1cm4gZTt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRGVsZXRlQm9va21hcmtzRGlhbG9nPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZSxkKTtmdW5jdGlvbiBlKGYpe2QuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5EZWxldGVCb29rbWFya3NEaWFsb2csRWxlbWVudElEOlwiZGVsZXRlQm9va21hcmtzRGlhbG9nXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJJRF9ERUxFVEVCT09LTUFSS1NfQ0FQVElPTlwifTt0aGlzLmJvb2ttYXJrcz1mLmJvb2ttYXJrczt0aGlzLmF0SW5wdXRQb3M9Zi5hdElucHV0UG9zO3RoaXMuZGVsZXRlZEhhc2hDb2Rlcz1bXTt9ZS5wcm90b3R5cGUuY2xvc2luZz1mdW5jdGlvbigpe2lmKHRoaXMuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHQpe3RoaXMuZGlhbG9nRGF0YS5kZWxldGVkSGFzaENvZGVzPXRoaXMuZGVsZXRlZEhhc2hDb2Rlczt9fTtlLnByb3RvdHlwZS5wb3B1bGF0ZVNlbGVjdD1mdW5jdGlvbihmKXt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGV0ZUJvb2ttYXJrc0RpYWxvZ19jYkF1dG9HZW5lcmF0ZWRcIikuY2hlY2tlZDtmLmlubmVySFRNTD1cIlwiO3RoaXMuYm9va21hcmtzLmZvckVhY2goZnVuY3Rpb24oaSl7aWYoaS5pc0F1dG9HZW5lcmF0ZWQmJiFnKXtyZXR1cm47fXZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7aC50ZXh0PWgudGl0bGU9aS50YXJnZXROYW1lO2gudmFsdWU9aS50YXJnZXRIYXNoQ29kZTtmLmFkZChoKTt9KTtpZih0aGlzLmF0SW5wdXRQb3Mpe2YudmFsdWU9dGhpcy5hdElucHV0UG9zLnRhcmdldEhhc2hDb2RlO31lbHNle2Yuc2VsZWN0ZWRJbmRleD0wO319O2UucHJvdG90eXBlLmRpYWxvZ1JlYWR5PWZ1bmN0aW9uKCl7dmFyIG09dGhpczt2YXIgaz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGV0ZUJvb2ttYXJrc0RpYWxvZ19zZWxCb29rbWFya3NcIik7dGhpcy5wb3B1bGF0ZVNlbGVjdChrKTt2YXIgaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGV0ZUJvb2ttYXJrc0RpYWxvZ19idG5Hb3RvXCIpO3ZhciBmPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVsZXRlQm9va21hcmtzRGlhbG9nX2J0bkRlbGV0ZVwiKTtoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGkpO2YuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZyk7ay5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsbCk7dmFyIGo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWxldGVCb29rbWFya3NEaWFsb2dfY2JBdXRvR2VuZXJhdGVkXCIpO2ouYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24obil7bS5wb3B1bGF0ZVNlbGVjdChrKTtrLmZvY3VzKCk7fSk7ZnVuY3Rpb24gaSgpe2lmKGsudmFsdWUpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkdvVG9JdGVtLGIuSXRlbVR5cGUuRG9jdW1lbnRUYXJnZXQsMCwwLHtoYXNoY29kZTpwYXJzZUludChrLnZhbHVlLDEwKX0pO319ZnVuY3Rpb24gZygpe3ZhciBuPXBhcnNlSW50KGsudmFsdWUsMTApO2sucmVtb3ZlKGsuc2VsZWN0ZWRJbmRleCk7Yi5lbmFibGVCdXR0b24oZixmYWxzZSk7Yi5lbmFibGVCdXR0b24oaCxmYWxzZSk7aWYoIW0uZGVsZXRlZEhhc2hDb2Rlcy5maW5kKGZ1bmN0aW9uKG8pe3JldHVybiBvPT1uO30pKXttLmRlbGV0ZWRIYXNoQ29kZXMucHVzaChuKTt9fWZ1bmN0aW9uIGwoKXt2YXIgbj1rLnNlbGVjdGVkSW5kZXg+LTE7Yi5lbmFibGVCdXR0b24oZixuKTtiLmVuYWJsZUJ1dHRvbihoLG4pO319O2UucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKGope3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVsZXRlQm9va21hcmtzRGlhbG9nX2xibEJvb2ttYXJrc1wiKTt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGV0ZUJvb2ttYXJrc0RpYWxvZ19idG5Hb3RvXCIpO3ZhciBmPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVsZXRlQm9va21hcmtzRGlhbG9nX2J0bkRlbGV0ZVwiKTt2YXIgaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGV0ZUJvb2ttYXJrc0RpYWxvZ19sYmxBdXRvR2VuZXJhdGVkXCIpO2kuaW5uZXJUZXh0PWouSURfREVMRVRFQk9PS01BUktTX0xBQkVMO2cuaW5uZXJUZXh0PWouSURfREVMRVRFQk9PS01BUktTX0dPVE87Zi5pbm5lclRleHQ9ai5JRF9ERUxFVEVCT09LTUFSS1NfREVMRVRFO2guaW5uZXJUZXh0PWouSURfREVMRVRFQk9PS01BUktTX0FVVE9NQVRJQ0FMTFlfR0VORVJBVEVEO3RoaXMuc2V0RGVmYXVsdEJ0blRleHRzKGopO307cmV0dXJuIGU7fSkoYi5IVE1MRGlhbG9nKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGUsYSl7dmFyIGI9ZS5fcHJpdmF0ZT1lLl9wcml2YXRlfHx7fTt2YXIgZDtiLkFkdmFuY2VkSW5zdHJ1Y3Rpb25TZXR0aW5nc0RpYWxvZz0oZnVuY3Rpb24oZil7X19leHRlbmRzKGcsZik7ZnVuY3Rpb24gZyhqLGksaCl7Zi5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLkFkdmFuY2VkSW5zdHJ1Y3Rpb25TZXR0aW5nc0RpYWxvZyxFbGVtZW50SUQ6XCJhZHZhbmNlZEluc3RydWN0aW9uU2V0dGluZ3NEaWFsb2dcIixXaWR0aDpcImF1dG9cIixUaXRsZVJlc291cmNlTmFtZTpcIklEX0lOU1RSVUNUSU9OX0FEVkFOQ0VEX1NFVFRJTkdTX0NBUFRJT05cIn07dGhpcy5pbnN0cnVjdGlvbj1pO3RoaXMuZmllbGRUeXBlPWg7dGhpcy5fPXt9O3RoaXMuXy5zdWNjZXNzSGFuZGxlcj1qO31nLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihoKXt0cnl7aWYodGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdCl7aWYodGhpcy5fLnN1Y2Nlc3NIYW5kbGVyKXt0aGlzLl8uc3VjY2Vzc0hhbmRsZXIodGhpcy5pbnN0cnVjdGlvbik7fX19ZmluYWxseXthKGgpLmRpYWxvZyhcImRlc3Ryb3lcIikucmVtb3ZlKCk7YShcIiNcIit0aGlzLmRpYWxvZ0NvbnRhaW5lcklEKS5yZW1vdmUoKTt9fTtnLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe3ZhciBxPXRoaXM7dmFyIG89ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2xibEVuYWJsZUVsc2VQYXRoXCIpO3ZhciBsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ19jYklzSW5pdGlhbFwiKTt2YXIgbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfY2JSZWFjdHNUb0Zvcm1GaWVsZENoYW5nZVwiKTt2YXIgaj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfY2JFbmFibGVFbHNlUGF0aFwiKTt2YXIgcD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkdmFuY2VkSW5zdHJ1Y3Rpb25TZXR0aW5nc0RpYWxvZ19zZWxFbHNlVmFsdWVcIik7dmFyIGg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZHZhbmNlZEluc3RydWN0aW9uU2V0dGluZ3NEaWFsb2dfYnRuSXRlbXNcIik7dmFyIHM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZHZhbmNlZEluc3RydWN0aW9uU2V0dGluZ3NEaWFsb2dfdHh0RWxzZVZhbHVlXCIpO3ZhciBuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjYWR2YW5jZWRJbnN0cnVjdGlvblNldHRpbmdzRGlhbG9nIGltZy5hYm91dEljb25cIik7W10uZm9yRWFjaC5jYWxsKG4sZnVuY3Rpb24odSl7dS5zcmM9Yi5pbWFnZVJlc291cmNlcy5zbWFsbC5hYm91dDt9KTtzd2l0Y2godGhpcy5pbnN0cnVjdGlvbi50eXBlKXtjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLlNldEl0ZW1zOm8uaW5uZXJUZXh0PWQuSURfSU5TVFJVQ1RJT05fQURWQU5DRURfU0VUVElOR1NfRUxTRV9JTlNUUlVDVElPTl9TRVRJVEVNUztoLnN0eWxlLmRpc3BsYXk9XCJcIjtiLmVuYWJsZUJ1dHRvbihoLHRoaXMuaW5zdHJ1Y3Rpb24uaGFzRWxzZVBhdGgpO2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsaSk7YnJlYWs7Y2FzZSBiLkluc3RydWN0aW9uVHlwZS5TZXRWYWx1ZTpzd2l0Y2godGhpcy5maWVsZFR5cGUpe2Nhc2UgYi5Gb3JtRmllbGRUeXBlLkNoZWNrRm9ybUZpZWxkOmMocCxbe3RleHQ6ZC5JRF9JTlNUUlVDVElPTl9BRFZBTkNFRF9TRVRUSU5HU19FTFNFX0lOU1RSVUNUSU9OX0NIRUNLRUQsdmFsdWU6XCJUcnVlXCJ9LHt0ZXh0OmQuSURfSU5TVFJVQ1RJT05fQURWQU5DRURfU0VUVElOR1NfRUxTRV9JTlNUUlVDVElPTl9VTkNIRUNLRUQsdmFsdWU6XCJGYWxzZVwifV0pO3AudmFsdWU9dGhpcy5pbnN0cnVjdGlvbi5lbHNlVmFsdWU7cC5zdHlsZS5kaXNwbGF5PVwiXCI7cC5kaXNhYmxlZD0hdGhpcy5pbnN0cnVjdGlvbi5oYXNFbHNlUGF0aDticmVhaztkZWZhdWx0OnMudmFsdWU9dGhpcy5pbnN0cnVjdGlvbi5lbHNlVmFsdWU7cy5kaXNhYmxlZD0hdGhpcy5pbnN0cnVjdGlvbi5oYXNFbHNlUGF0aDtzLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLHQpO3MuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHQpO3Muc3R5bGUuZGlzcGxheT1cIlwiO2JyZWFrO31icmVhaztjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLklzRW5hYmxlZDpjKHAsW3t0ZXh0OmQuSURfSU5TVFJVQ1RJT05fQURWQU5DRURfU0VUVElOR1NfRUxTRV9JTlNUUlVDVElPTl9BTExPV0ZJTExJTix2YWx1ZTpcIlRydWVcIn0se3RleHQ6ZC5JRF9JTlNUUlVDVElPTl9BRFZBTkNFRF9TRVRUSU5HU19FTFNFX0lOU1RSVUNUSU9OX0RFTllGSUxMSU4sdmFsdWU6XCJGYWxzZVwifV0pO3AudmFsdWU9dGhpcy5pbnN0cnVjdGlvbi5lbHNlVmFsdWU7cC5zdHlsZS5kaXNwbGF5PVwiXCI7cC5kaXNhYmxlZD0hdGhpcy5pbnN0cnVjdGlvbi5oYXNFbHNlUGF0aDticmVhaztjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLklzVmFsdWVWYWxpZDpjKHAsW3t0ZXh0OmQuSURfSU5TVFJVQ1RJT05fQURWQU5DRURfU0VUVElOR1NfRUxTRV9JTlNUUlVDVElPTl9TRVRWQUxVRUFTVkFMSUQsdmFsdWU6XCJUcnVlXCJ9LHt0ZXh0OmQuSURfSU5TVFJVQ1RJT05fQURWQU5DRURfU0VUVElOR1NfRUxTRV9JTlNUUlVDVElPTl9TRVRWQUxVRUFTSU5WQUxJRCx2YWx1ZTpcIkZhbHNlXCJ9XSk7cC52YWx1ZT10aGlzLmluc3RydWN0aW9uLmVsc2VWYWx1ZTtwLnN0eWxlLmRpc3BsYXk9XCJcIjtwLmRpc2FibGVkPSF0aGlzLmluc3RydWN0aW9uLmhhc0Vsc2VQYXRoO2JyZWFrO31sLmNoZWNrZWQ9dGhpcy5pbnN0cnVjdGlvbi5pc0luaXRpYWw7ai5jaGVja2VkPXRoaXMuaW5zdHJ1Y3Rpb24uaGFzRWxzZVBhdGg7bS5jaGVja2VkPXRoaXMuaW5zdHJ1Y3Rpb24ucmVhY3RzVG9Gb3JtRmllbGRDaGFuZ2U7bC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZnVuY3Rpb24odSl7cS5pbnN0cnVjdGlvbi5pc0luaXRpYWw9bC5jaGVja2VkO30pO20uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGZ1bmN0aW9uKHUpe3EuaW5zdHJ1Y3Rpb24ucmVhY3RzVG9Gb3JtRmllbGRDaGFuZ2U9bS5jaGVja2VkO30pO2ouYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGspO3AuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHIpO2Z1bmN0aW9uIGsodSl7cS5pbnN0cnVjdGlvbi5oYXNFbHNlUGF0aD1qLmNoZWNrZWQ7c3dpdGNoKHEuaW5zdHJ1Y3Rpb24udHlwZSl7Y2FzZSBiLkluc3RydWN0aW9uVHlwZS5TZXRJdGVtczpiLmVuYWJsZUJ1dHRvbihoLHEuaW5zdHJ1Y3Rpb24uaGFzRWxzZVBhdGgpO2JyZWFrO2Nhc2UgYi5JbnN0cnVjdGlvblR5cGUuU2V0VmFsdWU6c3dpdGNoKHEuZmllbGRUeXBlKXtjYXNlIGIuRm9ybUZpZWxkVHlwZS5DaGVja0Zvcm1GaWVsZDpwLmRpc2FibGVkPSFxLmluc3RydWN0aW9uLmhhc0Vsc2VQYXRoO2JyZWFrO2RlZmF1bHQ6cy5kaXNhYmxlZD0hcS5pbnN0cnVjdGlvbi5oYXNFbHNlUGF0aDticmVhazt9YnJlYWs7Y2FzZSBiLkluc3RydWN0aW9uVHlwZS5Jc0VuYWJsZWQ6Y2FzZSBiLkluc3RydWN0aW9uVHlwZS5Jc1ZhbHVlVmFsaWQ6cC5kaXNhYmxlZD0hcS5pbnN0cnVjdGlvbi5oYXNFbHNlUGF0aDticmVhazt9fWZ1bmN0aW9uIHIodSl7cS5pbnN0cnVjdGlvbi5lbHNlVmFsdWU9cC52YWx1ZTt9ZnVuY3Rpb24gdCh1KXtxLmluc3RydWN0aW9uLmVsc2VWYWx1ZT1zLnZhbHVlLnRyaW0oKTt9ZnVuY3Rpb24gaSh2KXt2YXIgdz1xLmluc3RydWN0aW9uLmVsc2VWYWx1ZXx8W107dmFyIHg9dy5qb2luKFwiO1wiKTt2YXIgdT1uZXcgYi5JbnB1dEJveERpYWxvZyhkLlVTUl9JTlBfRk9STV9GSUVMRF9JVEVNU19USVRMRSx4LGQuVVNSX0lOUF9GT1JNX0ZJRUxEX0lURU1TX0xBQkVMKTt1LnNob3dNb2RhbChmdW5jdGlvbih5KXt3PXkuc3BsaXQoXCI7XCIpLm1hcChmdW5jdGlvbih6KXtyZXR1cm4gei50cmltKCk7fSkuZmlsdGVyKGZ1bmN0aW9uKHope3JldHVybiAhIXo7fSk7cS5pbnN0cnVjdGlvbi5lbHNlVmFsdWU9dzt9KTt9fTtnLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihvKXtkPW87dmFyIG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2xibEluaXRpYWxJbnN0clwiKTt2YXIgbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfbGJsRW5hYmxlRWxzZVBhdGhcIik7dmFyIGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2ljb0Fib3V0SW5pdGlhbEluc3RyXCIpO3ZhciBuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ19sYmxSZWFjdHNUb0Zvcm1GaWVsZENoYW5nZVwiKTt2YXIgaj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfaWNvQWJvdXRSZWFjdHNUb0Zvcm1GaWVsZENoYW5nZVwiKTt2YXIgaz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkdmFuY2VkSW5zdHJ1Y3Rpb25TZXR0aW5nc0RpYWxvZ19pY29BYm91dFZhbHVlXCIpO3ZhciBwPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWR2YW5jZWRJbnN0cnVjdGlvblNldHRpbmdzRGlhbG9nX3R4dEVsc2VWYWx1ZVwiKTt2YXIgaD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkdmFuY2VkSW5zdHJ1Y3Rpb25TZXR0aW5nc0RpYWxvZ19idG5JdGVtc1wiKTt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhvKTttLmlubmVyVGV4dD1vLklEX0lOU1RSVUNUSU9OX0FEVkFOQ0VEX1NFVFRJTkdTX0lTX0lOSVRJQUxfSU5TVFJVQ1RJT047bC5pbm5lclRleHQ9by5JRF9JTlNUUlVDVElPTl9BRFZBTkNFRF9TRVRUSU5HU19FTFNFX0lOU1RSVUNUSU9OO2kudGl0bGU9by5UT09MVElQX0lTX0lOSVRJQUxfSU5TVFJVQ1RJT04ucmVwbGFjZSgvXFxcXHIvZyxcIlwiKTtuLmlubmVyVGV4dD1vLklEX0lOU1RSVUNUSU9OX0FEVkFOQ0VEX1NFVFRJTkdTX0hBTkRMRV9GT1JNX0ZJRUxEX0NIQU5HRUQ7ai50aXRsZT1vLlRPT0xUSVBfSVNfRk9STV9GSUVMRF9DSEFOR0VfSU5TVFJVQ1RJT04ucmVwbGFjZSgvXFxcXHIvZyxcIlwiKTtrLnRpdGxlPW8uVE9PTFRJUF9JU19FTFNFX0lOU1RSVUNUSU9OLnJlcGxhY2UoL1xcXFxyL2csXCJcIik7cC5wbGFjZWhvbGRlcj1vLklEX0lOU1RSVUNUSU9OX0FEVkFOQ0VEX1NFVFRJTkdTX0VMU0VfSU5TVFJVQ1RJT05fRU1QVFlWQUxVRTtoLmlubmVyVGV4dD1vLklEX0lOU1RSVUNUSU9OX0FEVkFOQ0VEX1NFVFRJTkdTX0VMU0VfSU5TVFJVQ1RJT05fQlVUVE9OO307cmV0dXJuIGc7fSkoYi5IVE1MRGlhbG9nKTtmdW5jdGlvbiBjKGYsaCl7dmFyIGc7aC5mb3JFYWNoKGZ1bmN0aW9uKGkpe2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtnLnRleHQ9aS50ZXh0O2cudmFsdWU9aS52YWx1ZTtmLmFkZChnKTt9KTt9cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihuLGEpe3ZhciBiPW4uX3ByaXZhdGU9bi5fcHJpdmF0ZXx8e307dmFyIG07dmFyIGc7dmFyIGs7dmFyIGo7dmFyIHA7dmFyIGM7dmFyIG89T2JqZWN0LmZyZWV6ZSh7Q2hlY2tTdGF0ZTpcIkNoZWNrU3RhdGVcIixOb1ZhbHVlOlwiTm9WYWx1ZVwiLEN1c3RvbVRleHQ6XCJDdXN0b21UZXh0XCIsUmVnZXg6XCJSZWdleFwiLFNwZWNpZmljSXRlbTpcIlNwZWNpZmljSXRlbVwiLEFueUl0ZW06XCJBbnlJdGVtXCIsRGF0ZTpcIkRhdGVcIixZZWFyOlwiWWVhclwiLE1vbnRoOlwiTW9udGhcIixEYXlPZk1vbnRoOlwiRGF5T2ZNb250aFwiLFdlZWtkYXk6XCJXZWVrZGF5XCJ9KTtiLkluc3RydWN0aW9uVHlwZT1PYmplY3QuZnJlZXplKHtJc0VuYWJsZWQ6XCJJc0VuYWJsZWRcIixJc1ZhbHVlVmFsaWQ6XCJJc1ZhbHVlVmFsaWRcIixTZXRWYWx1ZTpcIlNldFZhbHVlXCIsU2V0SXRlbXM6XCJTZXRJdGVtc1wiLH0pO3ZhciBkPXtDaGVja0Zvcm1GaWVsZDpbXSxUZXh0Rm9ybUZpZWxkOltdLFNlbGVjdGlvbkZvcm1GaWVsZDpbXSxEYXRlRm9ybUZpZWxkOltdfTt2YXIgaT17Q2hlY2tGb3JtRmllbGQ6W10sVGV4dEZvcm1GaWVsZDpbXSxTZWxlY3Rpb25Gb3JtRmllbGQ6W10sRGF0ZUZvcm1GaWVsZDpbXX07dmFyIGU9T2JqZWN0LmZyZWV6ZSh7SXM6XCJJc1wiLElzQUxpc3RJdGVtOlwiSXNBTGlzdEl0ZW1cIixJc05vdDpcIklzTm90XCIsSXNOb3RBTGlzdEl0ZW06XCJJc05vdEFMaXN0SXRlbVwiLE1hdGNoZXNSZWdleDpcIk1hdGNoZXNSZWdleFwiLERvZXNOb3RNYXRjaFJlZ2V4OlwiRG9lc05vdE1hdGNoUmVnZXhcIixDb250YWluczpcIkNvbnRhaW5zXCIsU3RhcnRzV2l0aDpcIlN0YXJ0c1dpdGhcIixFbmRzV2l0aDpcIkVuZHNXaXRoXCIsRG9lc05vdENvbnRhaW46XCJEb2VzTm90Q29udGFpblwiLERvZXNOb3RTdGFydFdpdGg6XCJEb2VzTm90U3RhcnRXaXRoXCIsRG9lc05vdEVuZFdpdGg6XCJEb2VzTm90RW5kV2l0aFwiLElzR3JlYXRlclRoYW46XCJJc0dyZWF0ZXJUaGFuXCIsSXNHcmVhdGVyVGhhbk9yRXF1YWw6XCJJc0dyZWF0ZXJUaGFuT3JFcXVhbFwiLElzTGVzc1RoYW46XCJJc0xlc3NUaGFuXCIsSXNMZXNzVGhhbk9yRXF1YWw6XCJJc0xlc3NUaGFuT3JFcXVhbFwifSk7Yi5Gb3JtRmllbGRUeXBlPU9iamVjdC5mcmVlemUoe1RleHRGb3JtRmllbGQ6XCJUZXh0Rm9ybUZpZWxkXCIsQ2hlY2tGb3JtRmllbGQ6XCJDaGVja0Zvcm1GaWVsZFwiLFNlbGVjdGlvbkZvcm1GaWVsZDpcIlNlbGVjdGlvbkZvcm1GaWVsZFwiLERhdGVGb3JtRmllbGQ6XCJEYXRlRm9ybUZpZWxkXCJ9KTtiLkNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2c9KGZ1bmN0aW9uKHEpe19fZXh0ZW5kcyhyLHEpO2Z1bmN0aW9uIHIodCxzLHYsdSl7cS5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLkNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2csRWxlbWVudElEOlwiY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ1wiLFdpZHRoOlwiYXV0b1wiLFRpdGxlUmVzb3VyY2VOYW1lOlwiSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQVBUSU9OXCJ9O3RoaXMuaW5zdHJ1Y3Rpb249dT11fHx7bmFtZTpcIlwiLG5hbWVPbGQ6XCJcIixjb25kaXRpb25zOltudWxsXSxpbnN0cnVjdGlvbnM6W251bGxdfTt0aGlzLmZvcm1GaWVsZHM9dD10fHxbXTt0aGlzLmV4aXN0aW5nTmFtZXM9czt0aGlzLmNvbmRpdGlvblJvd3M9W107dGhpcy5pbnN0cnVjdGlvblJvd3M9W107dGhpcy5fPXtzdWNjZXNzSGFuZGxlcjp2fTt9ci5wcm90b3R5cGUudXBkYXRlSW5zdHJ1Y3Rpb249ZnVuY3Rpb24oKXt2YXIgcz10aGlzO3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ190eHROYW1lXCIpO3RoaXMuaW5zdHJ1Y3Rpb24ubmFtZT10LnZhbHVlLnRyaW0oKTtpZighdGhpcy5pbnN0cnVjdGlvbi5uYW1lT2xkKXt0aGlzLmluc3RydWN0aW9uLm5hbWVPbGQ9dGhpcy5pbnN0cnVjdGlvbi5uYW1lO310aGlzLmluc3RydWN0aW9uLmNvbmRpdGlvbnM9W107dGhpcy5jb25kaXRpb25Sb3dzLmZvckVhY2goZnVuY3Rpb24odSl7cy5pbnN0cnVjdGlvbi5jb25kaXRpb25zLnB1c2godS5nZXRJbmZvKCkpO30pO3RoaXMuaW5zdHJ1Y3Rpb24uaW5zdHJ1Y3Rpb25zPVtdO3RoaXMuaW5zdHJ1Y3Rpb25Sb3dzLmZvckVhY2goZnVuY3Rpb24odSl7cy5pbnN0cnVjdGlvbi5pbnN0cnVjdGlvbnMucHVzaCh1LmdldEluZm8oKSk7fSk7fTtyLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihzKXt0cnl7aWYodGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdCl7dGhpcy51cGRhdGVJbnN0cnVjdGlvbigpO2lmKHRoaXMuXy5zdWNjZXNzSGFuZGxlcil7dGhpcy5fLnN1Y2Nlc3NIYW5kbGVyKHRoaXMuaW5zdHJ1Y3Rpb24pO319fWZpbmFsbHl7YShzKS5kaWFsb2coXCJkZXN0cm95XCIpLnJlbW92ZSgpO2EoXCIjXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRCkucmVtb3ZlKCk7fX07ci5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oKXt2YXIgcz10aGlzO3RoaXMudHh0TmFtZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfdHh0TmFtZVwiKTt0aGlzLmJ0bk9LPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuT0tfXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRCk7dGhpcy50eHROYW1lLnZhbHVlPXRoaXMuaW5zdHJ1Y3Rpb24ubmFtZTtiLmVuYWJsZUJ1dHRvbihzLmJ0bk9LLCEhdGhpcy5pbnN0cnVjdGlvbi5uYW1lKTt0aGlzLnR4dE5hbWUuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHYpO3RoaXMudHh0TmFtZS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIix2KTt2YXIgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfZGl2Q29uZGl0aW9ucyA+IHRhYmxlXCIpO3ZhciB1PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ19kaXZBY3Rpb25zID4gdGFibGVcIik7dGhpcy5wb3B1bGF0ZVRhYmxlKHQsZix0aGlzLmluc3RydWN0aW9uLmNvbmRpdGlvbnMsdGhpcy5jb25kaXRpb25Sb3dzKTt0aGlzLnBvcHVsYXRlVGFibGUodSxoLHRoaXMuaW5zdHJ1Y3Rpb24uaW5zdHJ1Y3Rpb25zLHRoaXMuaW5zdHJ1Y3Rpb25Sb3dzKTtmdW5jdGlvbiB2KCl7dmFyIHg9cy50eHROYW1lLnZhbHVlLnRyaW0oKTt2YXIgdz0oeD09PXMuaW5zdHJ1Y3Rpb24ubmFtZU9sZCl8fCFzLmV4aXN0aW5nTmFtZXMuZmluZChmdW5jdGlvbih5KXtyZXR1cm4geT09PXg7fSk7aWYoIXcpe3MudHh0TmFtZS5jbGFzc0xpc3QuYWRkKFwiaW52YWxpZFRleHRcIik7cy50eHROYW1lLnRpdGxlPW0uRVJSX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fTkFNRV9VTklRVUVORVNTO31lbHNle3MudHh0TmFtZS5jbGFzc0xpc3QucmVtb3ZlKFwiaW52YWxpZFRleHRcIik7cy50eHROYW1lLnRpdGxlPVwiXCI7fWlmKHcpe3c9ISF4O31iLmVuYWJsZUJ1dHRvbihzLmJ0bk9LLHcpO319O3IucHJvdG90eXBlLnBvcHVsYXRlVGFibGU9ZnVuY3Rpb24odSxELHgsQyl7dmFyIEU9dGhpcyx2LHk7Zm9yKHY9MDt2PHgubGVuZ3RoOysrdil7dmFyIHc9eFt2XTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7dmFyIHM9Y2xvbmVPYmplY3Qodyk7eT1uZXcgRChzLHRoaXMuZm9ybUZpZWxkcyx0LHY9PT0wKTt5LmFkZEV2ZW50TGlzdGVuZXIoXCJpc1ZhbGlkQ2hhbmdlZFwiLEEpO3kuYWRkRXZlbnRMaXN0ZW5lcihcImFkZEJ1dHRvbkNsaWNrZWRcIix6KTt5LmFkZEV2ZW50TGlzdGVuZXIoXCJyZW1vdmVCdXR0b25DbGlja2VkXCIsQik7Qy5wdXNoKHkpO3UuYXBwZW5kQ2hpbGQodCk7fWlmKHgubGVuZ3RoPT09MSl7Q1swXS5pc1JlbW92ZUJ1dHRvbkVuYWJsZWQ9ZmFsc2U7fWZ1bmN0aW9uIHooRil7dmFyIEc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO3ZhciBIPW5ldyBEKG51bGwsRS5mb3JtRmllbGRzLEcpO0guYWRkRXZlbnRMaXN0ZW5lcihcImlzVmFsaWRDaGFuZ2VkXCIsQSk7SC5hZGRFdmVudExpc3RlbmVyKFwiYWRkQnV0dG9uQ2xpY2tlZFwiLHopO0guYWRkRXZlbnRMaXN0ZW5lcihcInJlbW92ZUJ1dHRvbkNsaWNrZWRcIixCKTtpZihDLmxlbmd0aD09PTEpe0NbMF0uaXNSZW1vdmVCdXR0b25FbmFibGVkPXRydWU7fWlmKEYubmV4dFNpYmxpbmcpe2Zvcih2PTA7djxDLmxlbmd0aDsrK3Ype2lmKENbdl0udHI9PT1GLm5leHRTaWJsaW5nKXtDLnNwbGljZSh2LDAsSCk7YnJlYWs7fX11Lmluc2VydEJlZm9yZShHLEYubmV4dFNpYmxpbmcpO31lbHNle3UuYXBwZW5kQ2hpbGQoRyk7Qy5wdXNoKEgpO319ZnVuY3Rpb24gQihGKXtmb3Iodj0wO3Y8Qy5sZW5ndGg7Kyt2KXt2YXIgRz1DW3ZdLnRyO2lmKEc9PT1GKXtDLnNwbGljZSh2LDEpO3UucmVtb3ZlQ2hpbGQoRyk7YnJlYWs7fX1pZihDLmxlbmd0aD09PTEpe0NbMF0uaXNSZW1vdmVCdXR0b25FbmFibGVkPWZhbHNlO31pZihEPT09Zil7Q1swXS5yZW1vdmVMb2dPcCgpO319ZnVuY3Rpb24gQShGKXtiLmVuYWJsZUJ1dHRvbihFLmJ0bk9LLEYpO319O3IucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKHMpe209czthKFwiI0lEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fTkFNRVwiKS50ZXh0KHMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9OQU1FKTthKFwiI0lEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ09ORElUSU9OU1wiKS50ZXh0KHMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DT05ESVRJT05TKTthKFwiI0lEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fSU5TVFJVQ1RJT05TXCIpLnRleHQocy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0lOU1RSVUNUSU9OUyk7YShcIiNJRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfRk9STUZJRUxEVkFMVUVcIikudGV4dChzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fTEJMX1JPV19GT1JNRklFTERWQUxVRSk7YShcIiNJRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfQ09NUEFSSVNPTlwiKS50ZXh0KHMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9MQkxfUk9XX0NPTVBBUklTT04pO2EoXCIjSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9MQkxfUk9XX0NPTVBBUkVUT1wiKS50ZXh0KHMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9MQkxfUk9XX0NPTVBBUkVUTyk7YShcIiNJRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfSU5TVFJVQ1RJT05GT1JNRklFTERcIikudGV4dChzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fTEJMX1JPV19JTlNUUlVDVElPTkZPUk1GSUVMRCk7YShcIiNJRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfSU5TVFJVQ1RJT05UWVBFXCIpLnRleHQocy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfSU5TVFJVQ1RJT05UWVBFKTt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhzKTtqPVt7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19BTkQsdmFsdWU6XCJBbmRcIn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfT1IsdmFsdWU6XCJPclwifSxdO2QuQ2hlY2tGb3JtRmllbGQ9W3t0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0VRVUFMU1RPLHZhbHVlOmUuSXN9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0RPRVNOT1RFUVVBTFRPLHZhbHVlOmUuSXNOb3R9XTtkLkRhdGVGb3JtRmllbGQ9W3t0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0VRVUFMU1RPREFURSx2YWx1ZTplLklzfSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19ET0VTTk9URVFVQUxUT0RBVEUsdmFsdWU6ZS5Jc05vdH0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfSVNHUkVBVEVSVEhBTkRBVEUsdmFsdWU6ZS5Jc0dyZWF0ZXJUaGFufSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19JU0dSRUFURVJUSEFOT1JFUVVBTERBVEUsdmFsdWU6ZS5Jc0dyZWF0ZXJUaGFuT3JFcXVhbH0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfSVNMRVNTVEhBTkRBVEUsdmFsdWU6ZS5Jc0xlc3NUaGFufSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19JU0xFU1NUSEFOT1JFUVVBTERBVEUsdmFsdWU6ZS5Jc0xlc3NUaGFuT3JFcXVhbH1dO2QuU2VsZWN0aW9uRm9ybUZpZWxkPVt7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19FUVVBTFNUTyx2YWx1ZTplLklzfSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19FUVVBTFNUTytcIiBcIisocy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfQU5ZSVRFTStcIlwiKVswXS50b0xvd2VyQ2FzZSgpKyhzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19BTllJVEVNK1wiXCIpLnN1YnN0cmluZygxKSx2YWx1ZTplLklzQUxpc3RJdGVtfSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19ET0VTTk9URVFVQUxUTyx2YWx1ZTplLklzTm90fSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19ET0VTTk9URVFVQUxUTytcIiBcIisocy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfQU5ZSVRFTStcIlwiKVswXS50b0xvd2VyQ2FzZSgpKyhzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19BTllJVEVNK1wiXCIpLnN1YnN0cmluZygxKSx2YWx1ZTplLklzTm90QUxpc3RJdGVtfSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19NQVRDSEVTUkVHRVgsdmFsdWU6ZS5NYXRjaGVzUmVnZXh9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0RPRVNOT1RNQVRDSFJFR0VYLHZhbHVlOmUuRG9lc05vdE1hdGNoUmVnZXh9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0NPTlRBSU5TLHZhbHVlOmUuQ29udGFpbnN9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX1NUQVJUU1dJVEgsdmFsdWU6ZS5TdGFydHNXaXRofSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19FTkRTV0lUSCx2YWx1ZTplLkVuZHNXaXRofSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19ET0VTTk9UQ09OVEFJTix2YWx1ZTplLkRvZXNOb3RDb250YWlufSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19ET0VTTk9UU1RBUlRXSVRILHZhbHVlOmUuRG9lc05vdFN0YXJ0V2l0aH0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRE9FU05PVEVORFdJVEgsdmFsdWU6ZS5Eb2VzTm90RW5kV2l0aH0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfSVNHUkVBVEVSVEhBTix2YWx1ZTplLklzR3JlYXRlclRoYW59LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0lTR1JFQVRFUlRIQU5PUkVRVUFMLHZhbHVlOmUuSXNHcmVhdGVyVGhhbk9yRXF1YWx9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0lTTEVTU1RIQU4sdmFsdWU6ZS5Jc0xlc3NUaGFufSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19JU0xFU1NUSEFOT1JFUVVBTCx2YWx1ZTplLklzTGVzc1RoYW5PckVxdWFsfV07ZC5UZXh0Rm9ybUZpZWxkPVt7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19FUVVBTFNUTyx2YWx1ZTplLklzfSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19ET0VTTk9URVFVQUxUTyx2YWx1ZTplLklzTm90fSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19NQVRDSEVTUkVHRVgsdmFsdWU6ZS5NYXRjaGVzUmVnZXh9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0RPRVNOT1RNQVRDSFJFR0VYLHZhbHVlOmUuRG9lc05vdE1hdGNoUmVnZXh9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0NPTlRBSU5TLHZhbHVlOmUuQ29udGFpbnN9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX1NUQVJUU1dJVEgsdmFsdWU6ZS5TdGFydHNXaXRofSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19FTkRTV0lUSCx2YWx1ZTplLkVuZHNXaXRofSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19ET0VTTk9UQ09OVEFJTix2YWx1ZTplLkRvZXNOb3RDb250YWlufSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19ET0VTTk9UU1RBUlRXSVRILHZhbHVlOmUuRG9lc05vdFN0YXJ0V2l0aH0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRE9FU05PVEVORFdJVEgsdmFsdWU6ZS5Eb2VzTm90RW5kV2l0aH0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfSVNHUkVBVEVSVEhBTix2YWx1ZTplLklzR3JlYXRlclRoYW59LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0lTR1JFQVRFUlRIQU5PUkVRVUFMLHZhbHVlOmUuSXNHcmVhdGVyVGhhbk9yRXF1YWx9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0lTTEVTU1RIQU4sdmFsdWU6ZS5Jc0xlc3NUaGFufSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19JU0xFU1NUSEFOT1JFUVVBTCx2YWx1ZTplLklzTGVzc1RoYW5PckVxdWFsfV07Zz1be3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfREFURSx2YWx1ZTpvLkRhdGV9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX1lFQVIsdmFsdWU6by5ZZWFyfSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19NT05USCx2YWx1ZTpvLk1vbnRofSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19EQVlPRk1PTlRILHZhbHVlOm8uRGF5T2ZNb250aH0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfREFZT0ZXRUVLLHZhbHVlOm8uV2Vla2RheX1dO2s9W3t0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX01PTlRIXzAsdmFsdWU6XCJKYW51YXJ5XCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX01PTlRIXzEsdmFsdWU6XCJGZWJydWFyeVwifSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19NT05USF8yLHZhbHVlOlwiTWFyY2hcIn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfTU9OVEhfMyx2YWx1ZTpcIkFwcmlsXCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX01PTlRIXzQsdmFsdWU6XCJNYXlcIn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfTU9OVEhfNSx2YWx1ZTpcIkp1bmVcIn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfTU9OVEhfNix2YWx1ZTpcIkp1bHlcIn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfTU9OVEhfNyx2YWx1ZTpcIkF1Z3VzdFwifSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19NT05USF84LHZhbHVlOlwiU2VwdGVtYmVyXCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX01PTlRIXzksdmFsdWU6XCJPY3RvYmVyXCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX01PTlRIXzEwLHZhbHVlOlwiTm92ZW1iZXJcIn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfTU9OVEhfMTEsdmFsdWU6XCJEZWNlbWJlclwifV07cD1be3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfREFZT0ZXRUVLXzAsdmFsdWU6XCJTdW5kYXlcIn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfREFZT0ZXRUVLXzEsdmFsdWU6XCJNb25kYXlcIn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfREFZT0ZXRUVLXzIsdmFsdWU6XCJUdWVzZGF5XCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0RBWU9GV0VFS18zLHZhbHVlOlwiV2VkbmVzZGF5XCJ9LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0RBWU9GV0VFS180LHZhbHVlOlwiVGh1cnNkYXlcIn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfREFZT0ZXRUVLXzUsdmFsdWU6XCJGcmlkYXlcIn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfREFZT0ZXRUVLXzYsdmFsdWU6XCJTYXR1cmRheVwifV07Yz1be3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfSU5TVFJVQ1RJT05fQ0hFQ0tFRCx2YWx1ZTpcIlRydWVcIn0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfSU5TVFJVQ1RJT05fVU5DSEVDS0VELHZhbHVlOlwiRmFsc2VcIn1dO2kuVGV4dEZvcm1GaWVsZD1be3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfSU5TVFJVQ1RJT05UWVBFX0FMTE9XRklMTElOLHZhbHVlOntpbnN0cjpiLkluc3RydWN0aW9uVHlwZS5Jc0VuYWJsZWQsdmFsOlwiVHJ1ZVwifX0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfSU5TVFJVQ1RJT05UWVBFX0RFTllGSUxMSU4sdmFsdWU6e2luc3RyOmIuSW5zdHJ1Y3Rpb25UeXBlLklzRW5hYmxlZCx2YWw6XCJGYWxzZVwifX0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfSU5TVFJVQ1RJT05UWVBFX1NFVE5FV1ZBTFVFLHZhbHVlOntpbnN0cjpiLkluc3RydWN0aW9uVHlwZS5TZXRWYWx1ZX19LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9MQkxfUk9XX0lOU1RSVUNUSU9OVFlQRV9TRVRWQUxVRUFTVkFMSUQsdmFsdWU6e2luc3RyOmIuSW5zdHJ1Y3Rpb25UeXBlLklzVmFsdWVWYWxpZCx2YWw6XCJUcnVlXCJ9fSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fTEJMX1JPV19JTlNUUlVDVElPTlRZUEVfU0VUVkFMVUVBU0lOVkFMSUQsdmFsdWU6e2luc3RyOmIuSW5zdHJ1Y3Rpb25UeXBlLklzVmFsdWVWYWxpZCx2YWw6XCJGYWxzZVwifX1dO2kuU2VsZWN0aW9uRm9ybUZpZWxkPVt7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fTEJMX1JPV19JTlNUUlVDVElPTlRZUEVfQUxMT1dGSUxMSU4sdmFsdWU6e2luc3RyOmIuSW5zdHJ1Y3Rpb25UeXBlLklzRW5hYmxlZCx2YWw6XCJUcnVlXCJ9fSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fTEJMX1JPV19JTlNUUlVDVElPTlRZUEVfREVOWUZJTExJTix2YWx1ZTp7aW5zdHI6Yi5JbnN0cnVjdGlvblR5cGUuSXNFbmFibGVkLHZhbDpcIkZhbHNlXCJ9fSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fTEJMX1JPV19JTlNUUlVDVElPTlRZUEVfU0VUTkVXVkFMVUUsdmFsdWU6e2luc3RyOmIuSW5zdHJ1Y3Rpb25UeXBlLlNldFZhbHVlfX0se3RleHQ6cy5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0xCTF9ST1dfSU5TVFJVQ1RJT05UWVBFX1NFVE5FV0lURU1TLHZhbHVlOntpbnN0cjpiLkluc3RydWN0aW9uVHlwZS5TZXRJdGVtc319LHt0ZXh0OnMuSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9MQkxfUk9XX0lOU1RSVUNUSU9OVFlQRV9TRVRWQUxVRUFTVkFMSUQsdmFsdWU6e2luc3RyOmIuSW5zdHJ1Y3Rpb25UeXBlLklzVmFsdWVWYWxpZCx2YWw6XCJUcnVlXCJ9fSx7dGV4dDpzLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fTEJMX1JPV19JTlNUUlVDVElPTlRZUEVfU0VUVkFMVUVBU0lOVkFMSUQsdmFsdWU6e2luc3RyOmIuSW5zdHJ1Y3Rpb25UeXBlLklzVmFsdWVWYWxpZCx2YWw6XCJGYWxzZVwifX1dO2kuQ2hlY2tGb3JtRmllbGQ9aS5EYXRlRm9ybUZpZWxkPWkuVGV4dEZvcm1GaWVsZDt9O3JldHVybiByO30pKGIuSFRNTERpYWxvZyk7Yi5Sb3dCYXNlPShmdW5jdGlvbigpe2Z1bmN0aW9uIHEocil7dGhpcy50cj1yO3RoaXMuXz17ZXZlbnRMaXN0ZW5lcnM6e30sfTt9cS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihzLHIpe2lmKCF0aGlzLl8uZXZlbnRMaXN0ZW5lcnNbc10pe3RoaXMuXy5ldmVudExpc3RlbmVyc1tzXT1bXTt9dGhpcy5fLmV2ZW50TGlzdGVuZXJzW3NdLnB1c2gocik7fTtxLnByb3RvdHlwZS5maXJlRXZlbnQ9ZnVuY3Rpb24ocyxyKXt2YXIgdD10aGlzLl8uZXZlbnRMaXN0ZW5lcnNbc107aWYodCl7dC5mb3JFYWNoKGZ1bmN0aW9uKHUpe3Uocik7fSk7fX07cmV0dXJuIHE7fSkoKTt2YXIgbD0oZnVuY3Rpb24ocSl7X19leHRlbmRzKHIscSk7ZnVuY3Rpb24gcihzLHUsdCl7cS5jYWxsKHRoaXMsdSk7dGhpcy5mb3JtRmllbGRzPXM7dGhpcy5pc0ZpcnN0Um93PXR8fGZhbHNlO3RoaXMuZmllbGQ9bnVsbDt0aGlzLl8uaXNWYWxpZD10cnVlO31PYmplY3QuZGVmaW5lUHJvcGVydHkoci5wcm90b3R5cGUsXCJpc1ZhbGlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uaXNWYWxpZDt9LHNldDpmdW5jdGlvbihzKXtpZihzIT09dGhpcy5fLmlzVmFsaWQpe3RoaXMuXy5pc1ZhbGlkPXM7dGhpcy5maXJlSXNWYWxpZENoYW5nZWRFdmVudCgpO319LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO3IucHJvdG90eXBlLmZpcmVJc1ZhbGlkQ2hhbmdlZEV2ZW50PWZ1bmN0aW9uKCl7dGhpcy5maXJlRXZlbnQoXCJpc1ZhbGlkQ2hhbmdlZFwiLHRoaXMuXy5pc1ZhbGlkKTt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSxcImlzQWRkQnV0dG9uRW5hYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgcz10aGlzLnRyLnF1ZXJ5U2VsZWN0b3IoXCJidXR0b24uY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ19idG5BZGRcIik7cmV0dXJuICFzLmRpc2FibGVkO30sc2V0OmZ1bmN0aW9uKHQpe3ZhciBzPXRoaXMudHIucXVlcnlTZWxlY3RvcihcImJ1dHRvbi5jb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2J0bkFkZFwiKTtiLmVuYWJsZUJ1dHRvbihzLHQpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLFwiaXNSZW1vdmVCdXR0b25FbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3ZhciBzPXRoaXMudHIucXVlcnlTZWxlY3RvcihcImJ1dHRvbi5jb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2J0blJlbVwiKTtyZXR1cm4gIXMuZGlzYWJsZWQ7fSxzZXQ6ZnVuY3Rpb24odCl7dmFyIHM9dGhpcy50ci5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uLmNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfYnRuUmVtXCIpO2IuZW5hYmxlQnV0dG9uKHMsdCk7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtyLnByb3RvdHlwZS5hZGRGaWVsZE5hbWVTZWxlY3Q9ZnVuY3Rpb24ocyx0KXt2YXIgdix3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIikseT10aGlzO3RoaXMuZm9ybUZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKHope3Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTt2LnRleHQ9ei5uYW1lO3YudmFsdWU9ei5oYXNoQ29kZTt3LmFkZCh2KTt9KTt0aGlzLmZpZWxkPXUodCk7dy52YWx1ZT10O3cuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHgpO3RoaXMudHIuY2VsbHNbc10uYXBwZW5kQ2hpbGQodyk7ZnVuY3Rpb24geCh6KXt2YXIgQj1wYXJzZUludCh3LnZhbHVlLDEwKTt2YXIgQT11KEIpO3kuZmllbGQ9QTt5LnJlc2V0KCk7eS5hZGRGaWVsZERldGFpbHMoKTt9ZnVuY3Rpb24gdShBKXt2YXIgej15LmZvcm1GaWVsZHMuZmluZChmdW5jdGlvbihCKXtyZXR1cm4gQi5oYXNoQ29kZT09PUE7fSk7aWYoIXope3Rocm93IG5ldyBFcnJvcihcIkZpZWxkIHdpdGggaGFzaCBjb2RlIFxcJ1wiK0ErXCJcXCcgbm90IGZvdW5kLlwiKTt9cmV0dXJuIHo7fX07ci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiTk9UIElNUExFTUVOVEVEXCIpO307ci5wcm90b3R5cGUuYWRkRmllbGREZXRhaWxzPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIk5PVCBJTVBMRU1FTlRFRFwiKTt9O3IucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIk5PVCBJTVBMRU1FTlRFRFwiKTt9O3IucHJvdG90eXBlLmdldEluZm89ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiTk9UIElNUExFTUVOVEVEXCIpO307cmV0dXJuIHI7fSkoYi5Sb3dCYXNlKTt2YXIgZj0oZnVuY3Rpb24ocSl7X19leHRlbmRzKHMscSk7ZnVuY3Rpb24gcyh6LEEsRCxCKXtxLmNhbGwodGhpcyxBLEQsQik7dmFyIEM9dGhpczt0aGlzLmNvbmRpdGlvbj16PXp8fHtmaWVsZEhhc2hDb2RlOkFbMF0uaGFzaENvZGUsdmFsdWU6XCJcIixjb21wT3A6ZC5UZXh0Rm9ybUZpZWxkWzBdLnZhbHVlLGNvbXBPcEludGVybmFsOmQuVGV4dEZvcm1GaWVsZFswXS52YWx1ZSxsb2dPcDpqWzBdLnZhbHVlLHZhbHVlVHlwZTpvLk5vVmFsdWV9O0QuaW5uZXJIVE1MPVwiPHRkPjwvdGQ+PHRkPjwvdGQ+PHRkPjwvdGQ+PHRkPjwvdGQ+PHRkPjwvdGQ+PHRkPjwvdGQ+PHRkPjwvdGQ+XCI7RC5jZWxsc1s1XS5pbm5lckhUTUw9XFwnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2J0bkFkZFwiPuKelVxcXFx1RkUwRTwvYnV0dG9uPlxcJztELmNlbGxzWzZdLmlubmVySFRNTD1cXCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNvbmRpdGlvbmFsSW5zdHJ1Y3Rpb25EaWFsb2dfYnRuUmVtXCI+4p6WXFxcXHVGRTBFPC9idXR0b24+XFwnO3ZhciB2PUQucXVlcnlTZWxlY3RvcihcImJ1dHRvbi5jb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2J0bkFkZFwiKTt2LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHcpO3ZhciB4PUQucXVlcnlTZWxlY3RvcihcImJ1dHRvbi5jb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2J0blJlbVwiKTt4LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHkpO2lmKCFCKXtyKEQuY2VsbHNbMF0sei5sb2dPcCk7fXRoaXMuYWRkRmllbGROYW1lU2VsZWN0KDEsei5maWVsZEhhc2hDb2RlKTt0aGlzLmFkZEZpZWxkRGV0YWlscygpO2Z1bmN0aW9uIHcoKXtDLmZpcmVFdmVudChcImFkZEJ1dHRvbkNsaWNrZWRcIixDLnRyKTt9ZnVuY3Rpb24geSgpe0MuZmlyZUV2ZW50KFwicmVtb3ZlQnV0dG9uQ2xpY2tlZFwiLEMudHIpO319T2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLFwibG9naWNhbE9wZXJhdG9yXCIse2dldDpmdW5jdGlvbigpe3ZhciB2PXRoaXMudHIuY2VsbHNbMF0ucXVlcnlTZWxlY3RvcihcInNlbGVjdFwiKTtyZXR1cm4gdj92LnZhbHVlOmpbMF0udmFsdWU7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsXCJjb21wYXJpc29uT3BlcmF0b3JcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHY9dGhpcy50ci5jZWxsc1syXS5xdWVyeVNlbGVjdG9yKFwic2VsZWN0XCIpLnZhbHVlO3N3aXRjaCh2KXtjYXNlIGUuTWF0Y2hlc1JlZ2V4OmNhc2UgZS5Jc0FMaXN0SXRlbTpyZXR1cm4gZS5JcztjYXNlIGUuRG9lc05vdE1hdGNoUmVnZXg6Y2FzZSBlLklzTm90QUxpc3RJdGVtOnJldHVybiBlLklzTm90O2RlZmF1bHQ6cmV0dXJuIHY7fX0sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLFwiY29tcGFyaXNvbk9wZXJhdG9ySW50ZXJuYWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHIuY2VsbHNbMl0ucXVlcnlTZWxlY3RvcihcInNlbGVjdFwiKS52YWx1ZTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcImNvbXBhcmlzb25WYWx1ZVwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdix3O3N3aXRjaCh0aGlzLmZpZWxkLmZpZWxkVHlwZSl7Y2FzZSBiLkZvcm1GaWVsZFR5cGUuRGF0ZUZvcm1GaWVsZDp2PSh0aGlzLmNvbXBhcmlzb25WYWx1ZVR5cGUhPT1vLk5vVmFsdWUpPzQ6bnVsbDticmVhaztjYXNlIGIuRm9ybUZpZWxkVHlwZS5DaGVja0Zvcm1GaWVsZDpzd2l0Y2godGhpcy5jb21wYXJpc29uT3BlcmF0b3Ipe2Nhc2UgZS5JczpyZXR1cm5cIlRydWVcIjtjYXNlIGUuSXNOb3Q6cmV0dXJuXCJGYWxzZVwiO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjaGVjayBmb3JtIGZpZWxkIGNvbXBhcmlzb24gb3BlcmF0b3IgXFwnXCIrdGhpcy5jb21wYXJpc29uT3BlcmF0b3IrXCJcXCcuIEEgY2hlY2sgZm9ybSBmaWVsZCBvbmx5IGFsbG93cyB0aGUgb3BlcmF0b3JzIFxcJ0lzXFwnIGFuZCBcXCdJc05vdFxcJy5cIik7fWRlZmF1bHQ6dj0zO2JyZWFrO31pZighdil7cmV0dXJuIG51bGw7fXc9dGhpcy50ci5jZWxsc1t2XS5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7aWYoIXcpe3c9dGhpcy50ci5jZWxsc1t2XS5xdWVyeVNlbGVjdG9yKFwic2VsZWN0XCIpO31yZXR1cm4gdy52YWx1ZTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcImNvbXBhcmlzb25WYWx1ZVR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuZmllbGQuZmllbGRUeXBlKXtjYXNlIGIuRm9ybUZpZWxkVHlwZS5EYXRlRm9ybUZpZWxkOnJldHVybiB0aGlzLnRyLmNlbGxzWzNdLnF1ZXJ5U2VsZWN0b3IoXCJzZWxlY3RcIikudmFsdWU7Y2FzZSBiLkZvcm1GaWVsZFR5cGUuQ2hlY2tGb3JtRmllbGQ6cmV0dXJuIG8uQ2hlY2tTdGF0ZTtkZWZhdWx0OnN3aXRjaCh0aGlzLmNvbXBhcmlzb25PcGVyYXRvckludGVybmFsKXtjYXNlIGUuTWF0Y2hlc1JlZ2V4OmNhc2UgZS5Eb2VzTm90TWF0Y2hSZWdleDpyZXR1cm4gby5SZWdleDtjYXNlIGUuSXNBTGlzdEl0ZW06Y2FzZSBlLklzTm90QUxpc3RJdGVtOnJldHVybiBvLkFueUl0ZW07ZGVmYXVsdDpyZXR1cm4gdGhpcy5jb21wYXJpc29uVmFsdWU9PT1cIlwiP28uTm9WYWx1ZTpvLkN1c3RvbVRleHQ7fX19LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO3MucHJvdG90eXBlLmFkZEZpZWxkRGV0YWlscz1mdW5jdGlvbigpe3RoaXMudHIuY2VsbHNbMl0uaW5uZXJIVE1MPVwiXCI7dGhpcy50ci5jZWxsc1szXS5pbm5lckhUTUw9XCJcIjt0aGlzLnRyLmNlbGxzWzRdLmlubmVySFRNTD1cIlwiO3N3aXRjaCh0aGlzLmNvbmRpdGlvbi52YWx1ZVR5cGUpe2Nhc2Ugby5DaGVja1N0YXRlOnRoaXMuY2hlY2tTdGF0ZSgpO2JyZWFrO2Nhc2Ugby5Ob1ZhbHVlOnRoaXMubm9WYWx1ZSgpO2JyZWFrO2Nhc2Ugby5TcGVjaWZpY0l0ZW06dGhpcy5jb25kaXRpb24udmFsdWVUeXBlPW8uQ3VzdG9tVGV4dDtjYXNlIG8uQ3VzdG9tVGV4dDpjYXNlIG8uQW55SXRlbTp0aGlzLmN1c3RvbVRleHQoKTticmVhaztjYXNlIG8uUmVnZXg6dGhpcy5jdXN0b21UZXh0KCk7YnJlYWs7Y2FzZSBvLkRhdGU6dGhpcy5kYXRlKCk7YnJlYWs7Y2FzZSBvLlllYXI6dGhpcy55ZWFyKCk7YnJlYWs7Y2FzZSBvLk1vbnRoOnRoaXMubW9udGgoKTticmVhaztjYXNlIG8uRGF5T2ZNb250aDp0aGlzLmRheU9mTW9udGgoKTticmVhaztjYXNlIG8uV2Vla2RheTp0aGlzLndlZWtkYXkoKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVua25vd24gY29uZGl0aW9uIHZhbHVlIHR5cGUgXFwnXCIrdGhpcy5jb25kaXRpb24udmFsdWVUeXBlK1wiXFwnLlwiKTt9fTtmdW5jdGlvbiByKHgsdil7dmFyIHc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtqLmZvckVhY2goZnVuY3Rpb24oeSl7dmFyIHo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTt6LnRleHQ9eS50ZXh0O3oudmFsdWU9eS52YWx1ZTt3LmFkZCh6KTt9KTt3LnZhbHVlPXY7eC5hcHBlbmRDaGlsZCh3KTt9cy5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt2YXIgeT10aGlzO3RoaXMuY29uZGl0aW9uLmZpZWxkSGFzaENvZGU9dGhpcy5maWVsZC5oYXNoQ29kZTtzd2l0Y2godGhpcy5maWVsZC5maWVsZFR5cGUpe2Nhc2UgYi5Gb3JtRmllbGRUeXBlLlRleHRGb3JtRmllbGQ6eigpO2JyZWFrO2Nhc2UgYi5Gb3JtRmllbGRUeXBlLkNoZWNrRm9ybUZpZWxkOnYoKTticmVhaztjYXNlIGIuRm9ybUZpZWxkVHlwZS5TZWxlY3Rpb25Gb3JtRmllbGQ6eCgpO2JyZWFrO2Nhc2UgYi5Gb3JtRmllbGRUeXBlLkRhdGVGb3JtRmllbGQ6dygpO2JyZWFrO31mdW5jdGlvbiB6KCl7eS5jb25kaXRpb24udmFsdWU9XCJcIjt5LmNvbmRpdGlvbi5jb21wT3A9eS5jb25kaXRpb24uY29tcE9wSW50ZXJuYWw9ZC5UZXh0Rm9ybUZpZWxkWzBdLnZhbHVlO3kuY29uZGl0aW9uLnZhbHVlVHlwZT1vLk5vVmFsdWU7fWZ1bmN0aW9uIHYoKXt5LmNvbmRpdGlvbi52YWx1ZT1jWzBdLnZhbHVlO3kuY29uZGl0aW9uLmNvbXBPcD15LmNvbmRpdGlvbi5jb21wT3BJbnRlcm5hbD1kLkNoZWNrRm9ybUZpZWxkWzBdLnZhbHVlO3kuY29uZGl0aW9uLnZhbHVlVHlwZT1vLkNoZWNrU3RhdGU7fWZ1bmN0aW9uIHgoKXt5LmNvbmRpdGlvbi52YWx1ZT1cIlwiO3kuY29uZGl0aW9uLmNvbXBPcD15LmNvbmRpdGlvbi5jb21wT3BJbnRlcm5hbD1kLlNlbGVjdGlvbkZvcm1GaWVsZFswXS52YWx1ZTt5LmNvbmRpdGlvbi52YWx1ZVR5cGU9by5Ob1ZhbHVlO31mdW5jdGlvbiB3KCl7dmFyIEE9bmV3IERhdGUoKTt5LmNvbmRpdGlvbi52YWx1ZT1BLnRvTG9jYWxlRGF0ZVN0cmluZyhiLmdldEN1bHR1cmVzKCkuY3VsdHVyZSk7eS5jb25kaXRpb24uY29tcE9wPXkuY29uZGl0aW9uLmNvbXBPcEludGVybmFsPWQuRGF0ZUZvcm1GaWVsZFswXS52YWx1ZTt5LmNvbmRpdGlvbi52YWx1ZVR5cGU9by5EYXRlO310aGlzLmlzVmFsaWQ9dHJ1ZTt9O3MucHJvdG90eXBlLnJlbW92ZUxvZ09wPWZ1bmN0aW9uKCl7dGhpcy50ci5jZWxsc1swXS5pbm5lckhUTUw9XCJcIjt0aGlzLmNvbmRpdGlvbi5sb2dPcD1qWzBdLnZhbHVlO307cy5wcm90b3R5cGUuYWRkQ29tcE9wcz1mdW5jdGlvbih2KXt2YXIgej10aGlzLHcseD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO3YuZm9yRWFjaChmdW5jdGlvbihBKXt3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7dy50ZXh0PUEudGV4dDt3LnZhbHVlPUEudmFsdWU7eC5hZGQodyk7fSk7eC52YWx1ZT10aGlzLmNvbmRpdGlvbi5jb21wT3BJbnRlcm5hbDt4LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix5KTt0aGlzLnRyLmNlbGxzWzJdLmFwcGVuZENoaWxkKHgpO2Z1bmN0aW9uIHkoQil7dmFyIEE9eC52YWx1ZSxEPW8uQ3VzdG9tVGV4dDt6LmNvbmRpdGlvbi5jb21wT3BJbnRlcm5hbD1BO3ZhciBDPXoudHIuY2VsbHNbM10ucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9dGV4dF1cIik7aWYoIUMpe3Rocm93IG5ldyBFcnJvcihcIlxcJ0NvbXBhcmlzb24gdmFsdWVcXCcgdGV4dGJveCBub3QgZm91bmQuXCIpO31zd2l0Y2goQSl7Y2FzZSBlLk1hdGNoZXNSZWdleDpBPWUuSXM7RD1vLlJlZ2V4O2JyZWFrO2Nhc2UgZS5Eb2VzTm90TWF0Y2hSZWdleDpBPWUuSXNOb3Q7RD1vLlJlZ2V4O2JyZWFrO2Nhc2UgZS5Jc0FMaXN0SXRlbTpBPWUuSXM7RD1vLkFueUl0ZW07YnJlYWs7Y2FzZSBlLklzTm90QUxpc3RJdGVtOkE9ZS5Jc05vdDtEPW8uQW55SXRlbTticmVhaztkZWZhdWx0OmlmKCh6LmNvbmRpdGlvbi52YWx1ZVR5cGU9PT1vLlJlZ2V4KXx8KHouY29uZGl0aW9uLnZhbHVlVHlwZT09PW8uQW55SXRlbSkpe0Q9by5DdXN0b21UZXh0O31icmVhazt9aWYoRD09PW8uQW55SXRlbSl7Qy52YWx1ZT1cIlwiO0MuZGlzYWJsZWQ9dHJ1ZTt9ZWxzZXtpZih6LmZpZWxkLmZpZWxkVHlwZSE9PWIuRm9ybUZpZWxkVHlwZS5DaGVja0Zvcm1GaWVsZCl7Qy5kaXNhYmxlZD1mYWxzZTt9fXouY29uZGl0aW9uLmNvbXBPcD1BO3ouY29uZGl0aW9uLnZhbHVlVHlwZT1EO3oudmFsaWRhdGUoKTt9fTtzLnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLmZpZWxkLmZpZWxkVHlwZSl7Y2FzZSBiLkZvcm1GaWVsZFR5cGUuVGV4dEZvcm1GaWVsZDpjYXNlIGIuRm9ybUZpZWxkVHlwZS5TZWxlY3Rpb25Gb3JtRmllbGQ6dGhpcy52YWxpZGF0ZUN1c3RvbVRleHQoKTticmVhaztjYXNlIGIuRm9ybUZpZWxkVHlwZS5DaGVja0Zvcm1GaWVsZDp0aGlzLnZhbGlkYXRlQ2hlY2tTdGF0ZSgpO2JyZWFrO2Nhc2UgYi5Gb3JtRmllbGRUeXBlLkRhdGVGb3JtRmllbGQ6dGhpcy52YWxpZGF0ZURhdGUoKTticmVhazt9fTtzLnByb3RvdHlwZS52YWxpZGF0ZUN1c3RvbVRleHQ9ZnVuY3Rpb24oKXt2YXIgdj10aGlzLnRyLmNlbGxzWzNdLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFt0eXBlPXRleHRdXCIpO2lmKCF2KXt0aHJvdyBuZXcgRXJyb3IoXCJUZXh0Ym94IG5vdCBmb3VuZC4gQ2Fubm90IHZhbGlkYXRlIHJvdy5cIik7fXRoaXMuaXNWYWxpZD11KHYsdGhpcy5jb25kaXRpb24udmFsdWVUeXBlLHRoaXMuY29uZGl0aW9uLmNvbXBPcCk7fTtzLnByb3RvdHlwZS52YWxpZGF0ZUNoZWNrU3RhdGU9ZnVuY3Rpb24oKXt0aGlzLmlzVmFsaWQ9dHJ1ZTt9O3MucHJvdG90eXBlLnZhbGlkYXRlRGF0ZT1mdW5jdGlvbigpe307cy5wcm90b3R5cGUuY2hlY2tTdGF0ZT1mdW5jdGlvbigpe3RoaXMuYWRkQ29tcE9wcyhkLkNoZWNrRm9ybUZpZWxkKTt2YXIgdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7di50eXBlPVwidGV4dFwiO3YuZGlzYWJsZWQ9dHJ1ZTt2LnZhbHVlPW0uSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0NIRUNLRUQ7dGhpcy50ci5jZWxsc1szXS5hcHBlbmRDaGlsZCh2KTt9O3MucHJvdG90eXBlLm5vVmFsdWU9ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5maWVsZC5maWVsZFR5cGUpe2Nhc2UgYi5Gb3JtRmllbGRUeXBlLlRleHRGb3JtRmllbGQ6Y2FzZSBiLkZvcm1GaWVsZFR5cGUuU2VsZWN0aW9uRm9ybUZpZWxkOnRoaXMuY3VzdG9tVGV4dCgpO2JyZWFrO2Nhc2UgYi5Gb3JtRmllbGRUeXBlLkNoZWNrRm9ybUZpZWxkOnRoaXMuY2hlY2tTdGF0ZSgpO2JyZWFrO2Nhc2UgYi5Gb3JtRmllbGRUeXBlLkRhdGVGb3JtRmllbGQ6dGhpcy5kYXRlKCk7YnJlYWs7fX07cy5wcm90b3R5cGUuYWRkRGF0ZVBpY2tlckNvbXBWYWxUeXBlcz1mdW5jdGlvbigpe3ZhciB5PXRoaXMsdix3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7dj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3YudGV4dD1tLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQ0JYX1JPV19FTVBUWVZBTFVFO3YudmFsdWU9by5Ob1ZhbHVlO3cuYWRkKHYpO2cuZm9yRWFjaChmdW5jdGlvbih6KXt2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7di50ZXh0PXoudGV4dDt2LnZhbHVlPXoudmFsdWU7dy5hZGQodik7fSk7dy52YWx1ZT10aGlzLmNvbmRpdGlvbi52YWx1ZVR5cGU7dy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIseCk7dGhpcy50ci5jZWxsc1szXS5hcHBlbmRDaGlsZCh3KTtmdW5jdGlvbiB4KHope3ZhciBBPW5ldyBEYXRlKCk7eS50ci5jZWxsc1s0XS5pbm5lckhUTUw9XCJcIjtzd2l0Y2gody52YWx1ZSl7Y2FzZSBvLk5vVmFsdWU6eS5jb25kaXRpb24udmFsdWU9bnVsbDticmVhaztjYXNlIG8uRGF0ZTp5LmNvbmRpdGlvbi52YWx1ZT1BLnRvTG9jYWxlRGF0ZVN0cmluZyhiLmdldEN1bHR1cmVzKCkuY3VsdHVyZSk7eS5hZGREYXRlVmFsdWUobS5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRU1QVFlWQUxVRSk7YnJlYWs7Y2FzZSBvLlllYXI6eS5jb25kaXRpb24udmFsdWU9QS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCk7eS5hZGREYXRlVmFsdWUobS5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRU1QVFlWQUxVRSk7YnJlYWs7Y2FzZSBvLk1vbnRoOnkuY29uZGl0aW9uLnZhbHVlPWtbMF0udmFsdWU7eS5hZGRNb250aHMoKTticmVhaztjYXNlIG8uRGF5T2ZNb250aDp5LmNvbmRpdGlvbi52YWx1ZT1cIjFcIjt5LmFkZERheXNPZk1vbnRoKCk7YnJlYWs7Y2FzZSBvLldlZWtkYXk6eS5jb25kaXRpb24udmFsdWU9cFswXS52YWx1ZTt5LmFkZFdlZWtkYXlzKCk7YnJlYWs7fX19O3MucHJvdG90eXBlLmFkZERhdGVWYWx1ZT1mdW5jdGlvbih2KXtpZih0aGlzLmNvbmRpdGlvbi52YWx1ZT09PW51bGwpe3JldHVybjt9dmFyIHc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO3cudHlwZT1cInRleHRcIjt3LnBsYWNlaG9sZGVyPXY7dy52YWx1ZT10aGlzLmNvbmRpdGlvbi52YWx1ZT90aGlzLmNvbmRpdGlvbi52YWx1ZS50cmltKCk6XCJcIjt0aGlzLnRyLmNlbGxzWzRdLmFwcGVuZENoaWxkKHcpO307cy5wcm90b3R5cGUuZGF0ZT1mdW5jdGlvbigpe3RoaXMuYWRkQ29tcE9wcyhkLkRhdGVGb3JtRmllbGQpO3RoaXMuYWRkRGF0ZVBpY2tlckNvbXBWYWxUeXBlcygpO3RoaXMuYWRkRGF0ZVZhbHVlKG0uSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0VNUFRZVkFMVUUpO307cy5wcm90b3R5cGUueWVhcj1mdW5jdGlvbigpe3RoaXMuYWRkQ29tcE9wcyhkLkRhdGVGb3JtRmllbGQpO3RoaXMuYWRkRGF0ZVBpY2tlckNvbXBWYWxUeXBlcygpO3RoaXMuYWRkRGF0ZVZhbHVlKG0uSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0VNUFRZVkFMVUUpO307cy5wcm90b3R5cGUuYWRkTW9udGhzPWZ1bmN0aW9uKCl7dmFyIHYsdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO2suZm9yRWFjaChmdW5jdGlvbih4KXt2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7di50ZXh0PXgudGV4dDt2LnZhbHVlPXgudmFsdWU7dy5hZGQodik7fSk7dy52YWx1ZT10aGlzLmNvbmRpdGlvbi52YWx1ZTt0aGlzLnRyLmNlbGxzWzRdLmFwcGVuZENoaWxkKHcpO307cy5wcm90b3R5cGUubW9udGg9ZnVuY3Rpb24oKXt0aGlzLmFkZENvbXBPcHMoZC5EYXRlRm9ybUZpZWxkKTt0aGlzLmFkZERhdGVQaWNrZXJDb21wVmFsVHlwZXMoKTt0aGlzLmFkZE1vbnRocygpO307cy5wcm90b3R5cGUuYWRkRGF5c09mTW9udGg9ZnVuY3Rpb24oKXt2YXIgdyx4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7Zm9yKHZhciB2PTE7djwzMjsrK3Ype3c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTt3LnRleHQ9dy52YWx1ZT12O3guYWRkKHcpO314LnZhbHVlPXRoaXMuY29uZGl0aW9uLnZhbHVlO3RoaXMudHIuY2VsbHNbNF0uYXBwZW5kQ2hpbGQoeCk7fTtzLnByb3RvdHlwZS5kYXlPZk1vbnRoPWZ1bmN0aW9uKCl7dGhpcy5hZGRDb21wT3BzKGQuRGF0ZUZvcm1GaWVsZCk7dGhpcy5hZGREYXRlUGlja2VyQ29tcFZhbFR5cGVzKCk7dGhpcy5hZGREYXlzT2ZNb250aCgpO307cy5wcm90b3R5cGUuYWRkV2Vla2RheXM9ZnVuY3Rpb24oKXt2YXIgdix3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7cC5mb3JFYWNoKGZ1bmN0aW9uKHgpe3Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTt2LnRleHQ9eC50ZXh0O3YudmFsdWU9eC52YWx1ZTt3LmFkZCh2KTt9KTt3LnZhbHVlPXRoaXMuY29uZGl0aW9uLnZhbHVlO3RoaXMudHIuY2VsbHNbNF0uYXBwZW5kQ2hpbGQodyk7fTtzLnByb3RvdHlwZS53ZWVrZGF5PWZ1bmN0aW9uKCl7dGhpcy5hZGRDb21wT3BzKGQuRGF0ZUZvcm1GaWVsZCk7dGhpcy5hZGREYXRlUGlja2VyQ29tcFZhbFR5cGVzKCk7dGhpcy5hZGRXZWVrZGF5cygpO307ZnVuY3Rpb24gdCh3KXtpZighdyl7cmV0dXJuIGZhbHNlO310cnl7dmFyIHg9bmV3IFJlZ0V4cCh3KTtyZXR1cm4gdHJ1ZTt9Y2F0Y2godil7cmV0dXJuIGZhbHNlO319ZnVuY3Rpb24gdSh4LHksdil7dmFyIHc7c3dpdGNoKHkpe2Nhc2Ugby5SZWdleDp3PXQoeC52YWx1ZSk7YnJlYWs7ZGVmYXVsdDpzd2l0Y2godil7Y2FzZSBlLklzOmNhc2UgZS5Jc05vdDp3PXRydWU7YnJlYWs7ZGVmYXVsdDp3PSh4LnZhbHVlIT09XCJcIik7YnJlYWs7fWJyZWFrO31pZih3KXt4LmNsYXNzTGlzdC5yZW1vdmUoXCJpbnZhbGlkVGV4dFwiKTt9ZWxzZXt4LmNsYXNzTGlzdC5hZGQoXCJpbnZhbGlkVGV4dFwiKTt9cmV0dXJuIHc7fXMucHJvdG90eXBlLmFkZEN1c3RvbVRleHRWYWx1ZT1mdW5jdGlvbigpe3ZhciB2PXRoaXM7dGhpcy50ci5jZWxsc1szXS5pbm5lckhUTUw9XCJcIjt2YXIgdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7dy50eXBlPVwidGV4dFwiO3cucGxhY2Vob2xkZXI9bS5JRF9DT05ESVRJT05BTElOU1RSVUNUSU9OX0NCWF9ST1dfRU1QVFlWQUxVRTt3LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLHgpO3cuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHgpO3cudmFsdWU9dGhpcy5jb25kaXRpb24udmFsdWU/dGhpcy5jb25kaXRpb24udmFsdWUudHJpbSgpOlwiXCI7dGhpcy50ci5jZWxsc1szXS5hcHBlbmRDaGlsZCh3KTtpZih0aGlzLmNvbmRpdGlvbi52YWx1ZVR5cGU9PT1vLkFueUl0ZW0pe3cuZGlzYWJsZWQ9dHJ1ZTt9ZnVuY3Rpb24geCh5KXt2LmlzVmFsaWQ9dSh3LHYuY29uZGl0aW9uLnZhbHVlVHlwZSx2LmNvbmRpdGlvbi5jb21wT3ApO319O3MucHJvdG90eXBlLmN1c3RvbVRleHQ9ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5maWVsZC5maWVsZFR5cGUpe2Nhc2UgYi5Gb3JtRmllbGRUeXBlLlNlbGVjdGlvbkZvcm1GaWVsZDp0aGlzLmFkZENvbXBPcHMoZC5TZWxlY3Rpb25Gb3JtRmllbGQpO2JyZWFrO2RlZmF1bHQ6dGhpcy5hZGRDb21wT3BzKGQuVGV4dEZvcm1GaWVsZCk7YnJlYWs7fXRoaXMuYWRkQ3VzdG9tVGV4dFZhbHVlKCk7fTtzLnByb3RvdHlwZS5nZXRJbmZvPWZ1bmN0aW9uKCl7cmV0dXJue2ZpZWxkSGFzaENvZGU6dGhpcy5maWVsZC5oYXNoQ29kZSxsb2dPcDp0aGlzLmxvZ2ljYWxPcGVyYXRvcixjb21wT3A6dGhpcy5jb21wYXJpc29uT3BlcmF0b3IsY29tcE9wSW50ZXJuYWw6dGhpcy5jb21wYXJpc29uT3BlcmF0b3JJbnRlcm5hbCx2YWx1ZTp0aGlzLmNvbXBhcmlzb25WYWx1ZSx2YWx1ZVR5cGU6dGhpcy5jb21wYXJpc29uVmFsdWVUeXBlfTt9O3JldHVybiBzO30obCkpO3ZhciBoPShmdW5jdGlvbihxKXtfX2V4dGVuZHMocixxKTtmdW5jdGlvbiByKHoseSxCKXtxLmNhbGwodGhpcyx5LEIpO3ZhciBBPXRoaXM7dGhpcy5pbnN0cnVjdGlvbj16PXp8fHtmaWVsZEhhc2hDb2RlOnlbMF0uaGFzaENvZGUsdHlwZTpiLkluc3RydWN0aW9uVHlwZS5Jc0VuYWJsZWQsdmFsdWU6XCJUcnVlXCIsZWxzZVZhbHVlOlwiRmFsc2VcIixpc0luaXRpYWw6dHJ1ZSxoYXNFbHNlUGF0aDp0cnVlLHJlYWN0c1RvRm9ybUZpZWxkQ2hhbmdlOnRydWV9O0IuaW5uZXJIVE1MPVwiPHRkPjwvdGQ+PHRkPjwvdGQ+PHRkPjwvdGQ+PHRkPjwvdGQ+PHRkPjwvdGQ+PHRkPjwvdGQ+XCI7Qi5jZWxsc1szXS5pbm5lckhUTUw9XFwnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2J0blNldHRpbmdzXCI+Jm5ic3A7PC9idXR0b24+XFwnO0IuY2VsbHNbNF0uaW5uZXJIVE1MPVxcJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ19idG5BZGRcIj7inpVcXFxcdUZFMEU8L2J1dHRvbj5cXCc7Qi5jZWxsc1s1XS5pbm5lckhUTUw9XFwnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2J0blJlbVwiPuKellxcXFx1RkUwRTwvYnV0dG9uPlxcJzt2YXIgdz1CLnF1ZXJ5U2VsZWN0b3IoXCJidXR0b24uY29uZGl0aW9uYWxJbnN0cnVjdGlvbkRpYWxvZ19idG5TZXR0aW5nc1wiKTt3LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHgpO3ZhciBzPUIucXVlcnlTZWxlY3RvcihcImJ1dHRvbi5jb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2J0bkFkZFwiKTtzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHQpO3ZhciB1PUIucXVlcnlTZWxlY3RvcihcImJ1dHRvbi5jb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nX2J0blJlbVwiKTt1LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHYpO3cuc3R5bGUuYmFja2dyb3VuZEltYWdlPVwidXJsKFwiK2IuaW1hZ2VSZXNvdXJjZXMuc21hbGwuYWR2YW5jZWRTZXR0aW5ncytcIilcIjt0aGlzLmFkZEZpZWxkTmFtZVNlbGVjdCgwLHouZmllbGRIYXNoQ29kZSk7dGhpcy5hZGRGaWVsZERldGFpbHMoKTtmdW5jdGlvbiB4KCl7dmFyIEQ9Y2xvbmVPYmplY3Qoeik7dmFyIEM9bmV3IGIuQWR2YW5jZWRJbnN0cnVjdGlvblNldHRpbmdzRGlhbG9nKEUsRCxBLmZpZWxkLmZpZWxkVHlwZSk7Qy5zaG93TW9kYWwoKTtmdW5jdGlvbiBFKEYpe0EuaW5zdHJ1Y3Rpb24uaXNJbml0aWFsPUYuaXNJbml0aWFsO0EuaW5zdHJ1Y3Rpb24uZWxzZVZhbHVlPUYuZWxzZVZhbHVlO0EuaW5zdHJ1Y3Rpb24uaGFzRWxzZVBhdGg9Ri5oYXNFbHNlUGF0aDtBLmluc3RydWN0aW9uLnJlYWN0c1RvRm9ybUZpZWxkQ2hhbmdlPUYucmVhY3RzVG9Gb3JtRmllbGRDaGFuZ2U7fX1mdW5jdGlvbiB0KCl7QS5maXJlRXZlbnQoXCJhZGRCdXR0b25DbGlja2VkXCIsQS50cik7fWZ1bmN0aW9uIHYoKXtBLmZpcmVFdmVudChcInJlbW92ZUJ1dHRvbkNsaWNrZWRcIixBLnRyKTt9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSxcImluc3RydWN0aW9uVHlwZVwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRyLmNlbGxzWzFdLnF1ZXJ5U2VsZWN0b3IoXCJzZWxlY3RcIikudmFsdWU7dmFyIHM9SlNPTi5wYXJzZSh0KTtyZXR1cm4gcy5pbnN0cjt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSxcImluc3RydWN0aW9uVmFsdWVcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHY9dGhpcy50ci5jZWxsc1sxXS5xdWVyeVNlbGVjdG9yKFwic2VsZWN0XCIpLnZhbHVlO3ZhciBzPUpTT04ucGFyc2Uodik7aWYocy52YWwpe3JldHVybiBzLnZhbDt9c3dpdGNoKHRoaXMuaW5zdHJ1Y3Rpb25UeXBlKXtjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLlNldEl0ZW1zOnJldHVybiB0aGlzLmluc3RydWN0aW9uLnZhbHVlO2Nhc2UgYi5JbnN0cnVjdGlvblR5cGUuU2V0VmFsdWU6c3dpdGNoKHRoaXMuZmllbGQuZmllbGRUeXBlKXtjYXNlIGIuRm9ybUZpZWxkVHlwZS5DaGVja0Zvcm1GaWVsZDp2YXIgdD10aGlzLnRyLmNlbGxzWzJdLnF1ZXJ5U2VsZWN0b3IoXCJzZWxlY3RcIik7aWYoIXQpe3Rocm93IG5ldyBFcnJvcihcIlZhbHVlIGRyb3AgZG93biBlbGVtZW50IG5vdCBmb3VuZC5cIik7fXJldHVybiB0LnZhbHVlO2RlZmF1bHQ6dmFyIHU9dGhpcy50ci5jZWxsc1syXS5xdWVyeVNlbGVjdG9yKFwiaW5wdXRbdHlwZT10ZXh0XVwiKTtpZighdSl7dGhyb3cgbmV3IEVycm9yKFwiVmFsdWUgdGV4dGJveCBub3QgZm91bmQuXCIpO31yZXR1cm4gdS52YWx1ZTt9fXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5zdHJ1Y3Rpb24gdHlwZSBcXCdcIit0aGlzLmluc3RydWN0aW9uVHlwZStcIlxcJy5cIik7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuaW5zdHJ1Y3Rpb24uZmllbGRIYXNoQ29kZT10aGlzLmZpZWxkLmhhc2hDb2RlO3RoaXMucmVzZXRJbnN0cnVjdGlvbigpO307ci5wcm90b3R5cGUucmVzZXRJbnN0cnVjdGlvbj1mdW5jdGlvbigpe3RoaXMuaW5zdHJ1Y3Rpb24udHlwZT1iLkluc3RydWN0aW9uVHlwZS5Jc0VuYWJsZWQ7dGhpcy5pbnN0cnVjdGlvbi52YWx1ZT1cIlRydWVcIjt0aGlzLnJlc2V0QWRkaXRpb25hbFNldHRpbmdzKCk7fTtyLnByb3RvdHlwZS5yZXNldEFkZGl0aW9uYWxTZXR0aW5ncz1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLmluc3RydWN0aW9uLnR5cGUpe2Nhc2UgYi5JbnN0cnVjdGlvblR5cGUuSXNFbmFibGVkOmNhc2UgYi5JbnN0cnVjdGlvblR5cGUuSXNWYWx1ZVZhbGlkOnRoaXMuaW5zdHJ1Y3Rpb24uZWxzZVZhbHVlPSh0aGlzLmluc3RydWN0aW9uLnZhbHVlPT09XCJUcnVlXCIpP1wiRmFsc2VcIjpcIlRydWVcIjt0aGlzLmluc3RydWN0aW9uLmlzSW5pdGlhbD10cnVlO3RoaXMuaW5zdHJ1Y3Rpb24uaGFzRWxzZVBhdGg9dHJ1ZTt0aGlzLmluc3RydWN0aW9uLnJlYWN0c1RvRm9ybUZpZWxkQ2hhbmdlPXRydWU7YnJlYWs7Y2FzZSBiLkluc3RydWN0aW9uVHlwZS5TZXRJdGVtczpjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLlNldFZhbHVlOnN3aXRjaCh0aGlzLmZpZWxkLmZpZWxkVHlwZSl7Y2FzZSBiLkZvcm1GaWVsZFR5cGUuQ2hlY2tGb3JtRmllbGQ6dGhpcy5pbnN0cnVjdGlvbi5lbHNlVmFsdWU9KHRoaXMuaW5zdHJ1Y3Rpb24udmFsdWU9PT1cIlRydWVcIik/XCJGYWxzZVwiOlwiVHJ1ZVwiO2JyZWFrO2RlZmF1bHQ6dGhpcy5pbnN0cnVjdGlvbi5lbHNlVmFsdWU9bnVsbDticmVhazt9dGhpcy5pbnN0cnVjdGlvbi5pc0luaXRpYWw9dHJ1ZTt0aGlzLmluc3RydWN0aW9uLmhhc0Vsc2VQYXRoPWZhbHNlO3RoaXMuaW5zdHJ1Y3Rpb24ucmVhY3RzVG9Gb3JtRmllbGRDaGFuZ2U9dHJ1ZTticmVhazt9fTtyLnByb3RvdHlwZS5hZGRGaWVsZERldGFpbHM9ZnVuY3Rpb24oKXt0aGlzLnRyLmNlbGxzWzFdLmlubmVySFRNTD1cIlwiO3RoaXMudHIuY2VsbHNbMl0uaW5uZXJIVE1MPVwiXCI7dGhpcy5hZGRJbnN0cnVjdGlvbnMoKTtzd2l0Y2godGhpcy5pbnN0cnVjdGlvbi50eXBlKXtjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLlNldEl0ZW1zOnRoaXMuYWRkRmllbGREZXRhaWxzX3NldEl0ZW1zKCk7YnJlYWs7Y2FzZSBiLkluc3RydWN0aW9uVHlwZS5TZXRWYWx1ZTp0aGlzLmFkZEZpZWxkRGV0YWlsc19zZXRWYWx1ZSgpO2JyZWFrO319O3IucHJvdG90eXBlLmFkZEluc3RydWN0aW9ucz1mdW5jdGlvbigpe3ZhciB5PXRoaXMsdix3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiksdCxzPWZhbHNlO3ZhciB1PWlbdGhpcy5maWVsZC5maWVsZFR5cGVdO3UuZm9yRWFjaChmdW5jdGlvbihBKXt2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7di50ZXh0PUEudGV4dDt2LnZhbHVlPUpTT04uc3RyaW5naWZ5KEEudmFsdWUpO3cuYWRkKHYpO30pO2Zvcih0PTA7dDx1Lmxlbmd0aDsrK3Qpe3Y9dy5vcHRpb25zW3RdO3ZhciB6PUpTT04ucGFyc2Uodi52YWx1ZSk7aWYoei5pbnN0cj09PXRoaXMuaW5zdHJ1Y3Rpb24udHlwZSl7c3dpdGNoKHRoaXMuaW5zdHJ1Y3Rpb24udHlwZSl7Y2FzZSBiLkluc3RydWN0aW9uVHlwZS5Jc0VuYWJsZWQ6Y2FzZSBiLkluc3RydWN0aW9uVHlwZS5Jc1ZhbHVlVmFsaWQ6aWYodGhpcy5pbnN0cnVjdGlvbi52YWx1ZT09PXoudmFsKXt3LnNlbGVjdGVkSW5kZXg9dDtzPXRydWU7fWJyZWFrO2RlZmF1bHQ6dy5zZWxlY3RlZEluZGV4PXQ7cz10cnVlO2JyZWFrO319aWYocyl7YnJlYWs7fX13LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix4KTt0aGlzLnRyLmNlbGxzWzFdLmFwcGVuZENoaWxkKHcpO2Z1bmN0aW9uIHgoQSl7dmFyIEI9SlNPTi5wYXJzZSh3LnZhbHVlKTt5LnRyLmNlbGxzWzJdLmlubmVySFRNTD1cIlwiO3kuaW5zdHJ1Y3Rpb24udHlwZT1CLmluc3RyO3N3aXRjaChCLmluc3RyKXtjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLklzRW5hYmxlZDpjYXNlIGIuSW5zdHJ1Y3Rpb25UeXBlLklzVmFsdWVWYWxpZDp5Lmluc3RydWN0aW9uLnZhbHVlPUIudmFsO2JyZWFrO2Nhc2UgYi5JbnN0cnVjdGlvblR5cGUuU2V0SXRlbXM6eS5pbnN0cnVjdGlvbi52YWx1ZT1bXTt5LmFkZEZpZWxkRGV0YWlsc19zZXRJdGVtcygpO2JyZWFrO2Nhc2UgYi5JbnN0cnVjdGlvblR5cGUuU2V0VmFsdWU6c3dpdGNoKHkuZmllbGQuZmllbGRUeXBlKXtjYXNlIGIuRm9ybUZpZWxkVHlwZS5DaGVja0Zvcm1GaWVsZDp5Lmluc3RydWN0aW9uLnZhbHVlPWNbMF0udmFsdWU7YnJlYWs7ZGVmYXVsdDp5Lmluc3RydWN0aW9uLnZhbHVlPVwiXCI7YnJlYWs7fXkuYWRkRmllbGREZXRhaWxzX3NldFZhbHVlKCk7YnJlYWs7fXkucmVzZXRBZGRpdGlvbmFsU2V0dGluZ3MoKTt9fTtyLnByb3RvdHlwZS5hZGRGaWVsZERldGFpbHNfc2V0SXRlbXM9ZnVuY3Rpb24oKXt2YXIgdT10aGlzO3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7cy50eXBlPVwiYnV0dG9uXCI7cy50ZXh0Q29udGVudD1tLklEX0NPTkRJVElPTkFMSU5TVFJVQ1RJT05fQlROX1JPV19JTlNUUlVDVElPTl9TUEVDSUZZSVRFTVM7cy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0KTt0aGlzLnRyLmNlbGxzWzJdLmFwcGVuZENoaWxkKHMpO2Z1bmN0aW9uIHQoKXt2YXIgdz11Lmluc3RydWN0aW9uLnZhbHVlLmpvaW4oXCI7XCIpO3ZhciB2PW5ldyBiLklucHV0Qm94RGlhbG9nKG0uVVNSX0lOUF9GT1JNX0ZJRUxEX0lURU1TX1RJVExFLHcsbS5VU1JfSU5QX0ZPUk1fRklFTERfSVRFTVNfTEFCRUwpO3Yuc2hvd01vZGFsKGZ1bmN0aW9uKHkpe3ZhciB4PXkuc3BsaXQoXCI7XCIpLm1hcChmdW5jdGlvbih6KXtyZXR1cm4gei50cmltKCk7fSkuZmlsdGVyKGZ1bmN0aW9uKHope3JldHVybiAhIXo7fSk7dS5pbnN0cnVjdGlvbi52YWx1ZT14O30pO319O3IucHJvdG90eXBlLmFkZEZpZWxkRGV0YWlsc19zZXRWYWx1ZT1mdW5jdGlvbigpe3ZhciB1LHcscyx0PXRoaXM7c3dpdGNoKHRoaXMuZmllbGQuZmllbGRUeXBlKXtjYXNlIGIuRm9ybUZpZWxkVHlwZS5DaGVja0Zvcm1GaWVsZDp1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7Yy5mb3JFYWNoKGZ1bmN0aW9uKHkpe3M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtzLnRleHQ9eS50ZXh0O3MudmFsdWU9eS52YWx1ZTt1LmFkZChzKTt9KTt1LmNsYXNzTGlzdC5hZGQoXCJzZWxJbnN0cnVjdGlvblZhbHVlXCIpO3UudmFsdWU9dGhpcy5pbnN0cnVjdGlvbi52YWx1ZTt1LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIix2KTt0aGlzLnRyLmNlbGxzWzJdLmFwcGVuZENoaWxkKHUpO2JyZWFrO2RlZmF1bHQ6dz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7dy50eXBlPVwidGV4dFwiO3cudmFsdWU9dGhpcy5pbnN0cnVjdGlvbi52YWx1ZTt3LnBsYWNlaG9sZGVyPW0uSURfQ09ORElUSU9OQUxJTlNUUlVDVElPTl9DQlhfUk9XX0VNUFRZVkFMVUU7dy5jbGFzc0xpc3QuYWRkKFwidHh0SW5zdHJ1Y3Rpb25WYWx1ZVwiKTt3LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLHgpO3cuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHgpO3RoaXMudHIuY2VsbHNbMl0uYXBwZW5kQ2hpbGQodyk7YnJlYWs7fWZ1bmN0aW9uIHgoeSl7dC5pbnN0cnVjdGlvbi52YWx1ZT13LnZhbHVlLnRyaW0oKTt9ZnVuY3Rpb24gdih5KXt0Lmluc3RydWN0aW9uLnZhbHVlPXUudmFsdWU7dC5pbnN0cnVjdGlvbi5lbHNlVmFsdWU9KHUudmFsdWU9PT1cIlRydWVcIik/XCJGYWxzZVwiOlwiVHJ1ZVwiO319O3IucHJvdG90eXBlLmdldEluZm89ZnVuY3Rpb24oKXtyZXR1cm57ZmllbGRIYXNoQ29kZTp0aGlzLmZpZWxkLmhhc2hDb2RlLHR5cGU6dGhpcy5pbnN0cnVjdGlvblR5cGUsdmFsdWU6dGhpcy5pbnN0cnVjdGlvblZhbHVlLGVsc2VWYWx1ZTp0aGlzLmluc3RydWN0aW9uLmVsc2VWYWx1ZSxpc0luaXRpYWw6dGhpcy5pbnN0cnVjdGlvbi5pc0luaXRpYWwsaGFzRWxzZVBhdGg6dGhpcy5pbnN0cnVjdGlvbi5oYXNFbHNlUGF0aCxyZWFjdHNUb0Zvcm1GaWVsZENoYW5nZTp0aGlzLmluc3RydWN0aW9uLnJlYWN0c1RvRm9ybUZpZWxkQ2hhbmdlfTt9O3JldHVybiByO30obCkpO3JldHVybiBuO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRmllbGREaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUoZixnKXtkLmNhbGwodGhpcyk7dGhpcy5maWVsZEFkYXB0ZXI9Zjt0aGlzLnRleHRGaWVsZD1nfHxudWxsO3RoaXMuZmllbGREYXRhUmVjZWl2ZWRIYW5kbGVyQm91bmQ9dGhpcy5maWVsZERhdGFSZWNlaXZlZEhhbmRsZXIuYmluZCh0aGlzKTt9ZS5wcm90b3R5cGUuZmllbGREYXRhUmVjZWl2ZWRIYW5kbGVyPWZ1bmN0aW9uKGYpe3ZhciBoPWYuZGV0YWlsLmZpZWxkVHlwZSxnPWYuZGV0YWlsLmZpZWxkO2lmKCFnfHwoaCE9dGhpcy5EaWFsb2dJbmZvLkZpZWxkVHlwZSkpe3JldHVybjt9dGhpcy5zZXRWYWx1ZXMoZyk7fTtlLnByb3RvdHlwZS5PS0hhbmRsZXI9ZnVuY3Rpb24oZyl7aWYodGhpcy50ZXh0RmllbGQpe3ZhciBmPXt1cGRhdGVkVmFsdWVzOnRoaXMuZ2V0VmFsdWVzKCksdGV4dEZpZWxkOnRoaXMudGV4dEZpZWxkfTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5VcGRhdGVGaWVsZCx0aGlzLkRpYWxvZ0luZm8uRmllbGRUeXBlLDAsMCxmKTt9ZWxzZXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5JbnNlcnRJdGVtLGIuSXRlbVR5cGUuRmllbGRBZGFwdGVyLHRoaXMuRGlhbG9nSW5mby5GaWVsZFR5cGUsMCx0aGlzLmdldFZhbHVlcygpKTt9dGhpcy5jbG9zZShnKTt9O2UucHJvdG90eXBlLmNsb3Npbmc9ZnVuY3Rpb24oZil7aWYoIXRoaXMuZmllbGRBZGFwdGVyKXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZmllbGREYXRhUmVjZWl2ZWRcIix0aGlzLmZpZWxkRGF0YVJlY2VpdmVkSGFuZGxlckJvdW5kKTt9fTtlLnByb3RvdHlwZS5kaWFsb2dpemVfYmFzZT1lLnByb3RvdHlwZS5kaWFsb2dpemU7ZS5wcm90b3R5cGUuZGlhbG9naXplPWZ1bmN0aW9uKGYpe3RoaXMuZGlhbG9naXplX2Jhc2UoZik7aWYoIXRoaXMuZmllbGRBZGFwdGVyKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZmllbGREYXRhUmVjZWl2ZWRcIix0aGlzLmZpZWxkRGF0YVJlY2VpdmVkSGFuZGxlckJvdW5kKTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5HZXRJdGVtLGIuSXRlbVR5cGUuRmllbGRBZGFwdGVyKTt9ZWxzZXt0aGlzLnNldFZhbHVlcyh0aGlzLmZpZWxkQWRhcHRlcik7fX07ZS5wcm90b3R5cGUuc2V0VmFsdWVzPWZ1bmN0aW9uKGYpe307ZS5wcm90b3R5cGUuZ2V0VmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJue307fTtyZXR1cm4gZTt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuSWZGaWVsZERpYWxvZz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGUsZCk7ZnVuY3Rpb24gZShmLGcpe2QuY2FsbCh0aGlzLGYsZyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuSWZGaWVsZERpYWxvZyxGaWVsZFR5cGU6Yi5GaWVsZFR5cGUuSWZGaWVsZCxFbGVtZW50SUQ6XCJpZkZpZWxkRGlhbG9nXCIsV2lkdGg6Mzg1LFRpdGxlUmVzb3VyY2VOYW1lOlwiSUZfRklFTERfRElBTE9HX1RJVExFXCJ9O31lLnByb3RvdHlwZS5zZXRWYWx1ZXM9ZnVuY3Rpb24oZil7YShcIiN0eHRGaWVsZE5hbWVcIikudmFsKGYuRXhwcmVzc2lvbjEpO2EoXCIjdHh0Q29tcGFyZVRvXCIpLnZhbChmLkV4cHJlc3Npb24yKTthKFwiI3R4dEluc2VydFRoaXNcIikudmFsKGYuVHJ1ZVRleHQpO2EoXCIjdHh0T3RoZXJ3aXNlXCIpLnZhbChmLkZhbHNlVGV4dCk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxJZkZsZE9wZXJhdG9yc1wiKS5zZWxlY3RlZEluZGV4PWYuT3BlcmF0b3I7fTtlLnByb3RvdHlwZS5nZXRWYWx1ZXM9ZnVuY3Rpb24oKXt2YXIgZj17RXhwcmVzc2lvbjE6YShcIiN0eHRGaWVsZE5hbWVcIikudmFsKCksRXhwcmVzc2lvbjI6YShcIiN0eHRDb21wYXJlVG9cIikudmFsKCksVHJ1ZVRleHQ6YShcIiN0eHRJbnNlcnRUaGlzXCIpLnZhbCgpLEZhbHNlVGV4dDphKFwiI3R4dE90aGVyd2lzZVwiKS52YWwoKSxPcGVyYXRvcjpkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbElmRmxkT3BlcmF0b3JzXCIpLnNlbGVjdGVkSW5kZXh9O3JldHVybiBmO307ZS5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24oZil7YShcIiNJRl9GSUVMRF9HUk9VUF9CT1ggPiBsZWdlbmRcIikudGV4dChmLklGX0ZJRUxEX0dST1VQX0JPWCk7YShcIiNJRl9GSUVMRF9MQUJFTF9OQU1FXCIpLnRleHQoZi5JRl9GSUVMRF9MQUJFTF9OQU1FKTthKFwiI0lGX0ZJRUxEX0xBQkVMX0NPTVBBUklTT05cIikudGV4dChmLklGX0ZJRUxEX0xBQkVMX0NPTVBBUklTT04pO2EoXCIjSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fRVFVQUxTXCIpLnRleHQoZi5JRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9FUVVBTFMpO2EoXCIjSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fTk9UX0VRVUFMXCIpLnRleHQoZi5JRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9OT1RfRVFVQUwpO2EoXCIjSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fTEVTU1wiKS50ZXh0KGYuSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fTEVTUyk7YShcIiNJRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9HUkVBVEVSXCIpLnRleHQoZi5JRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9HUkVBVEVSKTthKFwiI0lGX0ZJRUxEX0NPTUJPX0JPWF9DT01QQVJJU09OX0dSRUFURVJfT1JfRVFVQUxcIikudGV4dChmLklGX0ZJRUxEX0NPTUJPX0JPWF9DT01QQVJJU09OX0dSRUFURVJfT1JfRVFVQUwpO2EoXCIjSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fTEVTU19PUl9FUVVBTFwiKS50ZXh0KGYuSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fTEVTU19PUl9FUVVBTCk7YShcIiNJRl9GSUVMRF9MQUJFTF9DT01QQVJFX1RPXCIpLnRleHQoZi5JRl9GSUVMRF9MQUJFTF9DT01QQVJFX1RPKTthKFwiI0lGX0ZJRUxEX0xBQkVMX0lOU0VSVF9USElTXCIpLnRleHQoZi5JRl9GSUVMRF9MQUJFTF9JTlNFUlRfVEhJUyk7YShcIiNJRl9GSUVMRF9MQUJFTF9PVEhFUldJU0VcIikudGV4dChmLklGX0ZJRUxEX0xBQkVMX09USEVSV0lTRSk7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoZik7fTtyZXR1cm4gZTt9KShiLkZpZWxkRGlhbG9nKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLk1lcmdlRmllbGREaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUoZixnKXtkLmNhbGwodGhpcyxmLGcpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLk1lcmdlRmllbGREaWFsb2csRmllbGRUeXBlOmIuRmllbGRUeXBlLk1lcmdlRmllbGQsRWxlbWVudElEOlwibWVyZ2VGaWVsZERpYWxvZ1wiLFRpdGxlUmVzb3VyY2VOYW1lOlwiTUVSR0VGSUVMRF9ESUFMT0dfVElUTEVcIix9O31lLnByb3RvdHlwZS5zZXRWYWx1ZXM9ZnVuY3Rpb24oZil7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHRGaWVsZE5hbWVcIikudmFsdWU9Zi5OYW1lO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsTWVyZ2VGaWVsZEZvcm1hdFwiKS5zZWxlY3RlZEluZGV4PWYuVGV4dEZvcm1hdDtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dFRleHRCZWZvcmVcIikudmFsdWU9Zi5UZXh0QmVmb3JlO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHh0VGV4dEJlZm9yZVwiKS5kaXNhYmxlZD0oZi5UZXh0QmVmb3JlLmxlbmd0aD09MCk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtUZXh0QmVmb3JlXCIpLmNoZWNrZWQ9KGYuVGV4dEJlZm9yZS5sZW5ndGg+MCk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHRUZXh0QWZ0ZXJcIikudmFsdWU9Zi5UZXh0QWZ0ZXI7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHRUZXh0QWZ0ZXJcIikuZGlzYWJsZWQ9KGYuVGV4dEFmdGVyLmxlbmd0aD09MCk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtUZXh0QWZ0ZXJcIikuY2hlY2tlZD0oZi5UZXh0QWZ0ZXIubGVuZ3RoPjApO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHh0RGF0ZVRpbWVGb3JtYXRcIikudmFsdWU9Zi5EYXRlVGltZUZvcm1hdDtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dERhdGVUaW1lRm9ybWF0XCIpLmRpc2FibGVkPShmLkRhdGVUaW1lRm9ybWF0Lmxlbmd0aD09MCk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtEYXRlVGltZUZvcm1hdFwiKS5jaGVja2VkPShmLkRhdGVUaW1lRm9ybWF0Lmxlbmd0aD4wKTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4dE51bWVyaWNGb3JtYXRcIikudmFsdWU9Zi5OdW1lcmljRm9ybWF0O2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHh0TnVtZXJpY0Zvcm1hdFwiKS5kaXNhYmxlZD0oZi5OdW1lcmljRm9ybWF0Lmxlbmd0aD09MCk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtOdW1lcmljRm9ybWF0XCIpLmNoZWNrZWQ9KGYuTnVtZXJpY0Zvcm1hdC5sZW5ndGg+MCk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtQcmVzZXJ2ZUZvcm1hdFwiKS5jaGVja2VkPShmLlByZXNlcnZlRm9ybWF0dGluZyk7fTtlLnByb3RvdHlwZS5nZXRWYWx1ZXM9ZnVuY3Rpb24oKXt2YXIgZj17TmFtZTphKFwiI3R4dEZpZWxkTmFtZVwiKS52YWwoKSxUZXh0Rm9ybWF0OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsTWVyZ2VGaWVsZEZvcm1hdFwiKS5zZWxlY3RlZEluZGV4LFRleHRCZWZvcmU6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtUZXh0QmVmb3JlXCIpLmNoZWNrZWQ/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHRUZXh0QmVmb3JlXCIpLnZhbHVlOlwiXCIsVGV4dEFmdGVyOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrVGV4dEFmdGVyXCIpLmNoZWNrZWQ/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHRUZXh0QWZ0ZXJcIikudmFsdWU6XCJcIixEYXRlVGltZUZvcm1hdDpkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0RhdGVUaW1lRm9ybWF0XCIpLmNoZWNrZWQ/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHREYXRlVGltZUZvcm1hdFwiKS52YWx1ZTpcIlwiLE51bWVyaWNGb3JtYXQ6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtOdW1lcmljRm9ybWF0XCIpLmNoZWNrZWQ/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHROdW1lcmljRm9ybWF0XCIpLnZhbHVlOlwiXCIsUHJlc2VydmVGb3JtYXR0aW5nOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrUHJlc2VydmVGb3JtYXRcIikuY2hlY2tlZCx9O3JldHVybiBmO307ZS5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24oZil7YShcIiNNRVJHRUZJRUxEX0dST1VQX0ZJRUxEX1BST1BFUlRJRVMgPiBsZWdlbmRcIikudGV4dChmLk1FUkdFRklFTERfR1JPVVBfRklFTERfUFJPUEVSVElFUyk7YShcIiNNRVJHRUZJRUxEX0xBQkVMX05BTUVcIikudGV4dChmLk1FUkdFRklFTERfTEFCRUxfTkFNRSk7YShcIiNNRVJHRUZJRUxEX0xBQkVMX1RFWFRcIikudGV4dChmLk1FUkdFRklFTERfTEFCRUxfVEVYVCk7YShcIiNNRVJHRUZJRUxEX0xBQkVMX0ZPUk1BVFwiKS50ZXh0KGYuTUVSR0VGSUVMRF9MQUJFTF9GT1JNQVQpO2EoXCIjTUVSR0VGSUVMRF9GT1JNQVRfTk9ORVwiKS50ZXh0KGYuTUVSR0VGSUVMRF9GT1JNQVRfTk9ORSk7YShcIiNNRVJHRUZJRUxEX0ZPUk1BVF9VUFBFUlwiKS50ZXh0KGYuTUVSR0VGSUVMRF9GT1JNQVRfVVBQRVIpO2EoXCIjTUVSR0VGSUVMRF9GT1JNQVRfTE9XRVJcIikudGV4dChmLk1FUkdFRklFTERfRk9STUFUX0xPV0VSKTthKFwiI01FUkdFRklFTERfRk9STUFUX0ZJUlNUX0NBUFwiKS50ZXh0KGYuTUVSR0VGSUVMRF9GT1JNQVRfRklSU1RfQ0FQKTthKFwiI01FUkdFRklFTERfRk9STUFUX1RJVExFX0NBU0VcIikudGV4dChmLk1FUkdFRklFTERfRk9STUFUX1RJVExFX0NBU0UpO2EoXCIjTUVSR0VGSUVMRF9HUk9VUF9GSUVMRF9PUFRJT05TID4gbGVnZW5kXCIpLnRleHQoZi5NRVJHRUZJRUxEX0dST1VQX0ZJRUxEX09QVElPTlMpO2EoXCIjTUVSR0VGSUVMRF9MQUJFTF9URVhUX0JFRk9SRVwiKS50ZXh0KGYuTUVSR0VGSUVMRF9MQUJFTF9URVhUX0JFRk9SRSk7YShcIiNNRVJHRUZJRUxEX0xBQkVMX1RFWFRfQUZURVJcIikudGV4dChmLk1FUkdFRklFTERfTEFCRUxfVEVYVF9BRlRFUik7YShcIiNNRVJHRUZJRUxEX0xBQkVMX0RBVEVfVElNRV9GT1JNQVRcIikudGV4dChmLk1FUkdFRklFTERfTEFCRUxfREFURV9USU1FX0ZPUk1BVCk7YShcIiNNRVJHRUZJRUxEX0xBQkVMX05VTUVSSUNfRk9STUFUXCIpLnRleHQoZi5NRVJHRUZJRUxEX0xBQkVMX05VTUVSSUNfRk9STUFUKTthKFwiI01FUkdFRklFTERfQ0hFQ0tfQk9YX1BSRVNFUlZFX0ZPUk1BVFwiKS50ZXh0KGYuTUVSR0VGSUVMRF9DSEVDS19CT1hfUFJFU0VSVkVfRk9STUFUKTt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhmKTt9O2UucHJvdG90eXBlLmRpYWxvZ1JlYWR5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShqKXthKFwiI3R4dFRleHRCZWZvcmVcIikucHJvcChcImRpc2FibGVkXCIsIWoudGFyZ2V0LmNoZWNrZWQpO31mdW5jdGlvbiBoKGope2EoXCIjdHh0VGV4dEFmdGVyXCIpLnByb3AoXCJkaXNhYmxlZFwiLCFqLnRhcmdldC5jaGVja2VkKTt9ZnVuY3Rpb24gZihqKXthKFwiI3R4dERhdGVUaW1lRm9ybWF0XCIpLnByb3AoXCJkaXNhYmxlZFwiLCFqLnRhcmdldC5jaGVja2VkKTt9ZnVuY3Rpb24gZyhqKXthKFwiI3R4dE51bWVyaWNGb3JtYXRcIikucHJvcChcImRpc2FibGVkXCIsIWoudGFyZ2V0LmNoZWNrZWQpO31hKFwiI2Noa1RleHRCZWZvcmVcIikuY2xpY2soaSk7YShcIiNjaGtUZXh0QWZ0ZXJcIikuY2xpY2soaCk7YShcIiNjaGtEYXRlVGltZUZvcm1hdFwiKS5jbGljayhmKTthKFwiI2Noa051bWVyaWNGb3JtYXRcIikuY2xpY2soZyk7fTtyZXR1cm4gZTt9KShiLkZpZWxkRGlhbG9nKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLk1lcmdlRmllbGRUZXh0Rm9ybWF0PU9iamVjdC5mcmVlemUoe05vbmU6MCxVcHBlcmNhc2U6MSxMb3dlcmNhc2U6MixGaXJzdENhcGl0YWw6MyxUaXRsZUNhc2U6NCx9KTtiLkluY2x1ZGVUZXh0RmllbGQ9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhJbmNsdWRlVGV4dEZpZWxkLGQpO2Z1bmN0aW9uIEluY2x1ZGVUZXh0RmllbGQoZmlsZU5hbWUpe2QuY2FsbCh0aGlzLHRydWUpO3RoaXMuZmlsZU5hbWU9ZmlsZU5hbWV8fFwiXCI7dGhpcy50ZXh0Rm9ybWF0PTA7dGhpcy5ib29rbWFyaz1cIlwiO31JbmNsdWRlVGV4dEZpZWxkLnByb3RvdHlwZS50b1Bhc2NhbENhc2U9ZnVuY3Rpb24oKXtyZXR1cm57RmlsZW5hbWU6dGhpcy5maWxlTmFtZSxUZXh0Rm9ybWF0OnRoaXMudGV4dEZvcm1hdCxCb29rbWFyazp0aGlzLmJvb2ttYXJrLFByZXNlcnZlRm9ybWF0dGluZzp0aGlzLnByZXNlcnZlRm9ybWF0dGluZ307fTtyZXR1cm4gSW5jbHVkZVRleHRGaWVsZDt9KShiLkZpZWxkQWRhcHRlcik7Yi5JbmNsdWRlVGV4dEZpZWxkRGlhbG9nPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZSxkKTtmdW5jdGlvbiBlKGYsZyl7ZC5jYWxsKHRoaXMsZixnKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5JbmNsdWRlVGV4dEZpZWxkRGlhbG9nLEZpZWxkVHlwZTpiLkZpZWxkVHlwZS5JbmNsdWRlVGV4dEZpZWxkLEVsZW1lbnRJRDpcImluY2x1ZGVUZXh0RmllbGREaWFsb2dcIixXaWR0aDozMDAsVGl0bGVSZXNvdXJjZU5hbWU6XCJJTkNMVURFVEVYVF9ESUFMT0dfVElUTEVcIix9O31lLnByb3RvdHlwZS5zZXRWYWx1ZXM9ZnVuY3Rpb24oZil7YShcIiN0eHRGaWxlbmFtZVwiKS52YWwoZi5GaWxlbmFtZSk7YShcIiN0eHRCb29rbWFya1wiKS52YWwoZi5Cb29rbWFyayk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3RUZXh0Rm9ybWF0XCIpLnNlbGVjdGVkSW5kZXg9Zi5UZXh0Rm9ybWF0O2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrUHJlc0ZtdFwiKS5jaGVja2VkPWYuUHJlc2VydmVGb3JtYXR0aW5nO307ZS5wcm90b3R5cGUuZ2V0VmFsdWVzPWZ1bmN0aW9uKCl7dmFyIGY9e0ZpbGVuYW1lOmEoXCIjdHh0RmlsZW5hbWVcIikudmFsKCksQm9va21hcms6YShcIiN0eHRCb29rbWFya1wiKS52YWwoKSxUZXh0Rm9ybWF0OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsZWN0VGV4dEZvcm1hdFwiKS5zZWxlY3RlZEluZGV4LFByZXNlcnZlRm9ybWF0dGluZzpkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa1ByZXNGbXRcIikuY2hlY2tlZH07cmV0dXJuIGY7fTtlLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihmKXthKFwiI0lOQ0xVREVURVhUX0dST1VQX0ZJRUxEX09QVElPTlMgPiBsZWdlbmRcIikudGV4dChmLklOQ0xVREVURVhUX0dST1VQX0ZJRUxEX09QVElPTlMpO2EoXCIjSU5DTFVERVRFWFRfTEFCRUxfRklMRU5BTUVcIikudGV4dChmLklOQ0xVREVURVhUX0xBQkVMX0ZJTEVOQU1FKTthKFwiI0lOQ0xVREVURVhUX0xBQkVMX0JPT0tNQVJLXCIpLnRleHQoZi5JTkNMVURFVEVYVF9MQUJFTF9CT09LTUFSSyk7YShcIiNJTkNMVURFVEVYVF9MQUJFTF9URVhUX0ZPUk1BVFwiKS50ZXh0KGYuSU5DTFVERVRFWFRfTEFCRUxfVEVYVF9GT1JNQVQpO2EoXCIjSU5DTFVERVRFWFRfTElTVF9GT1JNQVRfTk9ORVwiKS50ZXh0KGYuSU5DTFVERVRFWFRfTElTVF9GT1JNQVRfTk9ORSk7YShcIiNJTkNMVURFVEVYVF9MSVNUX0ZPUk1BVF9VUFBFUlwiKS50ZXh0KGYuSU5DTFVERVRFWFRfTElTVF9GT1JNQVRfVVBQRVIpO2EoXCIjSU5DTFVERVRFWFRfTElTVF9GT1JNQVRfTE9XRVJcIikudGV4dChmLklOQ0xVREVURVhUX0xJU1RfRk9STUFUX0xPV0VSKTthKFwiI0lOQ0xVREVURVhUX0xJU1RfRk9STUFUX0ZJUlNUX0NBUFwiKS50ZXh0KGYuSU5DTFVERVRFWFRfTElTVF9GT1JNQVRfRklSU1RfQ0FQKTthKFwiI0lOQ0xVREVURVhUX0xJU1RfRk9STUFUX1RJVExFX0NBU0VcIikudGV4dChmLklOQ0xVREVURVhUX0xJU1RfRk9STUFUX1RJVExFX0NBU0UpO2EoXCIjSU5DTFVERVRFWFRfQ0hFQ0tfQk9YX1BSRVNFUlZFX0ZPUk1BVFwiKS50ZXh0KGYuSU5DTFVERVRFWFRfQ0hFQ0tfQk9YX1BSRVNFUlZFX0ZPUk1BVCk7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoZik7fTtlLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe3ZhciBmPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsZWN0VGV4dEZvcm1hdFwiKTtpZihmLnNlbGVjdGVkSW5kZXg8MCl7Zi5zZWxlY3RlZEluZGV4PTA7fX07cmV0dXJuIGU7fSkoYi5GaWVsZERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5EYXRlRmllbGREaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUoZixnKXtkLmNhbGwodGhpcyxmLGcpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLkRhdGVGaWVsZERpYWxvZyxGaWVsZFR5cGU6Yi5GaWVsZFR5cGUuRGF0ZUZpZWxkLEVsZW1lbnRJRDpcImRhdGVGaWVsZERpYWxvZ1wiLFdpZHRoOjI4MCxUaXRsZVJlc291cmNlTmFtZTpcIkRBVEVGSUVMRF9ESUFMT0dfVElUTEVcIix9O31lLnByb3RvdHlwZS5zZXRWYWx1ZXM9ZnVuY3Rpb24oZil7YShcIiN0eHREYXRlRm9ybWF0XCIpLnZhbChmLkZvcm1hdCk7YShcIiNjaGtQcmVzRm10XCIpLnByb3AoXCJjaGVja2VkXCIsZi5QcmVzZXJ2ZUZvcm1hdHRpbmcpO307ZS5wcm90b3R5cGUuZ2V0VmFsdWVzPWZ1bmN0aW9uKCl7dmFyIGY9e0Zvcm1hdDphKFwiI3R4dERhdGVGb3JtYXRcIikudmFsKCksUHJlc2VydmVGb3JtYXR0aW5nOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hrUHJlc0ZtdFwiKS5jaGVja2VkLH07cmV0dXJuIGY7fTtlLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihoKXt2YXIgZj1bXCJkZC5NTS55eXl5XCIsXCJkZGRkLCBkLiBNTU1NIHl5eXlcIixcImQuIE1NTU0geXl5eVwiLFwiZGQuTU0ueXlcIixcInl5eXktTU0tZGRcIixcInl5LU1NLWRkXCIsXCJkZC4gTU1NLiB5eXl5XCIsXCJkZC9NTS95eVwiLFwiTU1NTSB5eVwiLFwiTU1NLXl5XCIsXCJkZC5NTS55eXl5IEhIOm1tXCIsXCJkZC5NTS55eXl5IEhIOm1tOnNzXCIsXCJoOm1tIHR0XCIsXCJoOm1tOnNzIHR0XCIsXCJISDptbVwiLFwiSEg6bW06c3NcIixdO2EoXCIjREFURUZJRUxEX0xBQkVMX0RBVEVfRk9STUFUU1wiKS50ZXh0KGguREFURUZJRUxEX0xBQkVMX0RBVEVfRk9STUFUUyk7YShcIiNEQVRFRklFTERfQ0hFQ0tfQk9YX1BSRVNFUlZFX0ZPUk1BVFwiKS50ZXh0KGguREFURUZJRUxEX0NIRUNLX0JPWF9QUkVTRVJWRV9GT1JNQVQpO3ZhciBnPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsRGF0ZUZvcm1hdHNcIik7Zi5mb3JFYWNoKGZ1bmN0aW9uKGspe3ZhciBpPWhba107aWYoaSl7dmFyIGo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtnLmFwcGVuZENoaWxkKGopO2oudmFsdWU9aztqLnRleHQ9aTt9fSk7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoaCk7fTtlLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe3ZhciBmPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsRGF0ZUZvcm1hdHNcIik7dmFyIGc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eHREYXRlRm9ybWF0XCIpO2lmKGYuc2VsZWN0ZWRJbmRleDwwKXtmLnNlbGVjdGVkSW5kZXg9MDt9Zi5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZnVuY3Rpb24oKXt2YXIgaD1mLm9wdGlvbnNbZi5zZWxlY3RlZEluZGV4XTtnLnZhbHVlPWgudmFsdWU7fSk7fTtyZXR1cm4gZTt9KShiLkZpZWxkRGlhbG9nKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLk5leHRJZkZpZWxkRGlhbG9nPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZSxkKTtmdW5jdGlvbiBlKGYsZyl7ZC5jYWxsKHRoaXMsZixnKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5OZXh0SWZGaWVsZERpYWxvZyxGaWVsZFR5cGU6Yi5GaWVsZFR5cGUuTmV4dElmRmllbGQsRWxlbWVudElEOlwiaWZGaWVsZERpYWxvZ1wiLFdpZHRoOjM4NSxUaXRsZVJlc291cmNlTmFtZTpcIk5FWFRJRl9GSUVMRF9ESUFMT0dfVElUTEVcIix9O31lLnByb3RvdHlwZS5zZXRWYWx1ZXM9ZnVuY3Rpb24oZil7YShcIiN0eHRGaWVsZE5hbWVcIikudmFsKGYuRXhwcmVzc2lvbjEpO2EoXCIjdHh0Q29tcGFyZVRvXCIpLnZhbChmLkV4cHJlc3Npb24yKTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbElmRmxkT3BlcmF0b3JzXCIpLnNlbGVjdGVkSW5kZXg9Zi5PcGVyYXRvcjt9O2UucHJvdG90eXBlLmdldFZhbHVlcz1mdW5jdGlvbigpe3ZhciBmPXtFeHByZXNzaW9uMTphKFwiI3R4dEZpZWxkTmFtZVwiKS52YWwoKSxFeHByZXNzaW9uMjphKFwiI3R4dENvbXBhcmVUb1wiKS52YWwoKSxPcGVyYXRvcjpkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbElmRmxkT3BlcmF0b3JzXCIpLnNlbGVjdGVkSW5kZXgsfTtyZXR1cm4gZjt9O2UucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKGYpe2EoXCIjSUZfRklFTERfR1JPVVBfQk9YID4gbGVnZW5kXCIpLnRleHQoZi5JRl9GSUVMRF9HUk9VUF9CT1gpO2EoXCIjSUZfRklFTERfTEFCRUxfTkFNRVwiKS50ZXh0KGYuSUZfRklFTERfTEFCRUxfTkFNRSk7YShcIiNJRl9GSUVMRF9MQUJFTF9DT01QQVJJU09OXCIpLnRleHQoZi5JRl9GSUVMRF9MQUJFTF9DT01QQVJJU09OKTthKFwiI0lGX0ZJRUxEX0NPTUJPX0JPWF9DT01QQVJJU09OX0VRVUFMU1wiKS50ZXh0KGYuSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fRVFVQUxTKTthKFwiI0lGX0ZJRUxEX0NPTUJPX0JPWF9DT01QQVJJU09OX05PVF9FUVVBTFwiKS50ZXh0KGYuSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fTk9UX0VRVUFMKTthKFwiI0lGX0ZJRUxEX0NPTUJPX0JPWF9DT01QQVJJU09OX0xFU1NcIikudGV4dChmLklGX0ZJRUxEX0NPTUJPX0JPWF9DT01QQVJJU09OX0xFU1MpO2EoXCIjSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fR1JFQVRFUlwiKS50ZXh0KGYuSUZfRklFTERfQ09NQk9fQk9YX0NPTVBBUklTT05fR1JFQVRFUik7YShcIiNJRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9HUkVBVEVSX09SX0VRVUFMXCIpLnRleHQoZi5JRl9GSUVMRF9DT01CT19CT1hfQ09NUEFSSVNPTl9HUkVBVEVSX09SX0VRVUFMKTthKFwiI0lGX0ZJRUxEX0NPTUJPX0JPWF9DT01QQVJJU09OX0xFU1NfT1JfRVFVQUxcIikudGV4dChmLklGX0ZJRUxEX0NPTUJPX0JPWF9DT01QQVJJU09OX0xFU1NfT1JfRVFVQUwpO2EoXCIjSUZfRklFTERfTEFCRUxfQ09NUEFSRV9UT1wiKS50ZXh0KGYuSUZfRklFTERfTEFCRUxfQ09NUEFSRV9UTyk7YShcIiNJRl9GSUVMRF9MQUJFTF9JTlNFUlRfVEhJU1wiKS5yZW1vdmUoKTthKFwiI3R4dEluc2VydFRoaXNcIikucmVtb3ZlKCk7YShcIiNJRl9GSUVMRF9MQUJFTF9PVEhFUldJU0VcIikucmVtb3ZlKCk7YShcIiN0eHRPdGhlcndpc2VcIikucmVtb3ZlKCk7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoZik7fTtyZXR1cm4gZTt9KShiLkZpZWxkRGlhbG9nKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLk1heFByZXZpZXdSb3dzRGlhbG9nPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZSxkKTtmdW5jdGlvbiBlKGYpe2QuY2FsbCh0aGlzKTt0aGlzLkRpYWxvZ0luZm89e0RpYWxvZ1R5cGU6Yi5IVE1MRGlhbG9nVHlwZS5NYXhQcmV2aWV3Um93c0RpYWxvZyxFbGVtZW50SUQ6XCJtYXhQcmV2aWV3Um93c0RpYWxvZ1wiLFdpZHRoOlwiYXV0b1wiLEhlaWdodDoxMjAsVGl0bGVSZXNvdXJjZU5hbWU6XCJNQVhQUkVWUk9XU19ESUFMT0dfVElUTEVcIix9O3RoaXMudmFsdWU9Zjt9ZS5wcm90b3R5cGUuY2xvc2luZz1mdW5jdGlvbihmKXtpZih0aGlzLmRpYWxvZ0RhdGEuZGlhbG9nUmVzdWx0KXt0aGlzLnZhbHVlPXBhcnNlSW50KGEoXCIjc3Bpbk51bVwiKS52YWwoKSwxMCk7dGhpcy5kaWFsb2dEYXRhLnZhbHVlPXRoaXMudmFsdWU7fX07ZS5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24oZil7YShcIiNNQVhQUkVWUk9XU19MQUJFTF9OVU1fUkVTVUxUU1wiKS50ZXh0KGYuTUFYUFJFVlJPV1NfTEFCRUxfTlVNX1JFU1VMVFMpO3RoaXMuc2V0RGVmYXVsdEJ0blRleHRzKGYpO307ZS5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oKXthKFwiI3NwaW5OdW1cIikuc3Bpbm5lcih7bWF4OjEwMCxtaW46MX0pO2EoXCIjc3Bpbk51bVwiKS52YWwodGhpcy52YWx1ZSk7fTtyZXR1cm4gZTt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9LGM9e1RhYmxlOjAsUGFyYWdyYXBoOjEsfTtiLkluc2VydE1lcmdlQmxvY2tEaWFsb2c9KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhoLGUpO2Z1bmN0aW9uIGgobSxsKXtlLmNhbGwodGhpcyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuSW5zZXJ0TWVyZ2VCbG9ja0RpYWxvZyxFbGVtZW50SUQ6XCJpbnNlcnRNZXJnZUJsb2NrRGlhbG9nXCIsV2lkdGg6XCJhdXRvXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJJTlNfTUVSR0VfQkxPQ0tfRExHX1RJVExFXCJ9O3RoaXMuYmxvY2tOYW1lPW07dGhpcy5kYlNjaGVtZT1sO3RoaXMuZmlsdGVycz1bXTt0aGlzLnNvcnRpbmdJbnN0cnVjdGlvbnM9W107dGhpcy50YWJsZT1sLlRhYmxlcy5maW5kKGZ1bmN0aW9uKG4pe3JldHVybihuLlRhYmxlTmFtZS50b0xvd2VyQ2FzZSgpPT09bS50b0xvd2VyQ2FzZSgpKTt9KTt9ZnVuY3Rpb24gZygpe3ZhciBtPVtdO3ZhciBsPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJkaXYjdGJsQ29sQ29udGFpbmVyIGlucHV0W3R5cGU9Y2hlY2tib3hdXCIpO1tdLmZvckVhY2guY2FsbChsLGZ1bmN0aW9uKG4pe2lmKG4uY2hlY2tlZCl7bS5wdXNoKG4uZGF0YXNldC5jb2x1bW5OYW1lKTt9fSk7cmV0dXJuIG07fWgucHJvdG90eXBlLmdldFZhbHVlcz1mdW5jdGlvbigpe3ZhciBsPXt0eXBlOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmFkaW9UYWJsZVJvd1wiKS5jaGVja2VkP2MuVGFibGU6Yy5QYXJhZ3JhcGgsbmFtZTp0aGlzLmJsb2NrTmFtZSxoZWFkZXJSb3c6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGtBZGRIZWFkZXJSb3dcIikuY2hlY2tlZCxjb2x1bW5OYW1lczpnKCksZmlsdGVyQW5kU29ydEluZm86e0ZpbHRlcnM6dGhpcy5maWx0ZXJzLFNvcnRpbmdJbnN0cnVjdGlvbnM6dGhpcy5zb3J0aW5nSW5zdHJ1Y3Rpb25zfX07cmV0dXJuIGw7fTtmdW5jdGlvbiBmKG4pe3ZhciBtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSU5TX01FUkdFX0JMT0NLX0RMR19NT1ZFX1VQXCIpO3ZhciBsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSU5TX01FUkdFX0JMT0NLX0RMR19NT1ZFX0RPV05cIik7Yi5lbmFibGVCdXR0b24obSwobi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nIT09bnVsbCkpO2IuZW5hYmxlQnV0dG9uKGwsKG4ubmV4dEVsZW1lbnRTaWJsaW5nIT09bnVsbCkpO31mdW5jdGlvbiBpKG0pe3ZhciBvPW0uY3VycmVudFRhcmdldDt2YXIgbj1vLnBhcmVudEVsZW1lbnQ7Zm9yKHZhciBwPTA7cDxuLmNoaWxkcmVuLmxlbmd0aDsrK3Ape3ZhciBsPW4uY2hpbGRyZW5bcF07bC5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7fW8uY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO2Yobyk7dmFyIHE9ZygpLmxlbmd0aD9cImVuYWJsZVwiOlwiZGlzYWJsZVwiO2EoXCIjYnRuT0tfXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRCkuYnV0dG9uKHEpO31oLnByb3RvdHlwZS5jcmVhdGVDb2x1bW5DaGVja0JveGVzPWZ1bmN0aW9uKGwpe3ZhciBuPTAsbz10aGlzLG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YmxDb2xDb250YWluZXJcIik7bC5mb3JFYWNoKGZ1bmN0aW9uKHEpe3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cy5zdHlsZS5jc3NGbG9hdD1cImxlZnRcIjtzLnN0eWxlLmNsZWFyPVwibGVmdFwiO3Muc3R5bGUud2lkdGg9XCIxMDAlXCI7cy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixpLmJpbmQobykpO20uYXBwZW5kQ2hpbGQocyk7dmFyIHA9XCJjaGtDb2xOYW1lXCIrbisrLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO3IuaWQ9cDtyLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImNoZWNrYm94XCIpO3IuZGF0YXNldC5jb2x1bW5OYW1lPXEuQ29sdW1uTmFtZTtyLnRpdGxlPXEuQ29sdW1uTmFtZTtyLnN0eWxlLmNzc0Zsb2F0PVwibGVmdFwiO3Iuc3R5bGUuY2xlYXI9XCJsZWZ0XCI7cy5hcHBlbmRDaGlsZChyKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7dC5zZXRBdHRyaWJ1dGUoXCJmb3JcIixwKTt0LnRleHRDb250ZW50PXEuQ29sdW1uTmFtZTt0LnRpdGxlPXEuQ29sdW1uTmFtZTt0LnN0eWxlLmNzc0Zsb2F0PVwibGVmdFwiO3MuYXBwZW5kQ2hpbGQodCk7fSk7fTtoLnByb3RvdHlwZS5PS0hhbmRsZXI9ZnVuY3Rpb24obSl7dmFyIGw9dGhpcy5nZXRWYWx1ZXMoKTtpZihsLmNvbHVtbk5hbWVzLmxlbmd0aD4wKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5JbnNlcnRJdGVtLGIuSXRlbVR5cGUuTWVyZ2VCbG9jaywwLDAsbCk7fXRoaXMuY2xvc2UobSk7fTtoLnByb3RvdHlwZS5idG5Nb3ZlVXBDbGljaz1mdW5jdGlvbihsKXt2YXIgbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RibENvbENvbnRhaW5lciA+IGRpdi5zZWxlY3RlZFwiKTtpZihuPT09bnVsbCl7cmV0dXJuO312YXIgbz1uLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7dmFyIG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YmxDb2xDb250YWluZXJcIik7bS5yZW1vdmVDaGlsZChuKTttLmluc2VydEJlZm9yZShuLG8pO2Yobik7fTtoLnByb3RvdHlwZS5idG5Nb3ZlRG93bkNsaWNrPWZ1bmN0aW9uKGwpe3ZhciBuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGJsQ29sQ29udGFpbmVyID4gZGl2LnNlbGVjdGVkXCIpO2lmKG49PT1udWxsKXtyZXR1cm47fXZhciBvPW4ubmV4dEVsZW1lbnRTaWJsaW5nO3ZhciBtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGJsQ29sQ29udGFpbmVyXCIpO20ucmVtb3ZlQ2hpbGQobik7bS5pbnNlcnRCZWZvcmUobixvLm5leHRFbGVtZW50U2libGluZyk7ZihuKTt9O2gucHJvdG90eXBlLmJ0bkZsdFNvcnRDbGljaz1mdW5jdGlvbihuKXt2YXIgbz10aGlzO3ZhciBsPXRoaXMudGFibGUuQ29sdW1ucy5tYXAoZnVuY3Rpb24ocSl7cmV0dXJuIHEuQ29sdW1uTmFtZTt9KTt2YXIgbT1uZXcgYi5NZXJnZUJsb2NrRmlsdGVyQW5kU29ydERpYWxvZyhsLHRoaXMuZmlsdGVycyx0aGlzLnNvcnRpbmdJbnN0cnVjdGlvbnMscCk7bS5zaG93TW9kYWwoKTtmdW5jdGlvbiBwKHEscil7by5maWx0ZXJzPXE7by5zb3J0aW5nSW5zdHJ1Y3Rpb25zPXI7fX07ZnVuY3Rpb24gayhtKXt2YXIgbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0FkZEhlYWRlclJvd1wiKTtsLmRpc2FibGVkPSFtLmN1cnJlbnRUYXJnZXQuY2hlY2tlZDt9ZnVuY3Rpb24gaihtKXt2YXIgbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoa0FkZEhlYWRlclJvd1wiKTtsLmRpc2FibGVkPW0uY3VycmVudFRhcmdldC5jaGVja2VkO31oLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe3RoaXMuY3JlYXRlQ29sdW1uQ2hlY2tCb3hlcyh0aGlzLnRhYmxlLkNvbHVtbnMpO2EoXCIjYnRuT0tfXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRCkuYnV0dG9uKFwiZGlzYWJsZVwiKTthKFwiI0lOU19NRVJHRV9CTE9DS19ETEdfTU9WRV9VUFwiKS5jbGljayh0aGlzLmJ0bk1vdmVVcENsaWNrLmJpbmQodGhpcykpO2EoXCIjSU5TX01FUkdFX0JMT0NLX0RMR19NT1ZFX0RPV05cIikuY2xpY2sodGhpcy5idG5Nb3ZlRG93bkNsaWNrLmJpbmQodGhpcykpO2EoXCIjSU5TX01FUkdFX0JMT0NLX0RMR19GTFRfQU5EX1NPUlRcIikuY2xpY2sodGhpcy5idG5GbHRTb3J0Q2xpY2suYmluZCh0aGlzKSk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyYWRpb1RhYmxlUm93XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGspO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmFkaW9QbGFpblBhclwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixqKTt9O2gucHJvdG90eXBlLmFwcGx5U3RyaW5nUmVzb3VyY2VzPWZ1bmN0aW9uKG8pe2EoXCIjSU5TX01FUkdFX0JMT0NLX0RMR19MQkxfU0VMX1RCTF9DT0xTXCIpLnRleHQoby5JTlNfTUVSR0VfQkxPQ0tfRExHX0xCTF9TRUxfVEJMX0NPTFMpO2EoXCIjSU5TX01FUkdFX0JMT0NLX0RMR19QTEFJTl9QQVJcIikudGV4dChvLklOU19NRVJHRV9CTE9DS19ETEdfUExBSU5fUEFSKTthKFwiI0lOU19NRVJHRV9CTE9DS19ETEdfVEJMX1JPV1wiKS50ZXh0KG8uSU5TX01FUkdFX0JMT0NLX0RMR19UQkxfUk9XKTthKFwiI0lOU19NRVJHRV9CTE9DS19ETEdfQUREX0hFQURFUl9ST1dcIikudGV4dChvLklOU19NRVJHRV9CTE9DS19ETEdfQUREX0hFQURFUl9ST1cpO3ZhciBuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSU5TX01FUkdFX0JMT0NLX0RMR19NT1ZFX1VQXCIpO24udGV4dENvbnRlbnQ9by5JTlNfTUVSR0VfQkxPQ0tfRExHX01PVkVfVVA7dmFyIG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJTlNfTUVSR0VfQkxPQ0tfRExHX01PVkVfRE9XTlwiKTttLnRleHRDb250ZW50PW8uSU5TX01FUkdFX0JMT0NLX0RMR19NT1ZFX0RPV047dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJJTlNfTUVSR0VfQkxPQ0tfRExHX0ZMVF9BTkRfU09SVFwiKTtsLnRleHRDb250ZW50PW8uSU5TX01FUkdFX0JMT0NLX0RMR19GTFRfQU5EX1NPUlQ7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMobyk7fTtyZXR1cm4gaDt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRWRpdERhdGFSZWxhdGlvbnNEaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUoZyxmKXtkLmNhbGwodGhpcyk7dGhpcy5EaWFsb2dJbmZvPXtEaWFsb2dUeXBlOmIuSFRNTERpYWxvZ1R5cGUuRWRpdERhdGFSZWxhdGlvbnNEaWFsb2csRWxlbWVudElEOlwiZWRpdERhdGFSZWxhdGlvbnNEaWFsb2dcIixXaWR0aDpcImF1dG9cIixUaXRsZVJlc291cmNlTmFtZTpcIkVESVRfREFUQV9SRUxTX0RJQUxPR19USVRMRVwifTt0aGlzLnJlbGF0aW9ucz1nO3RoaXMuZGVsZXRlZFJlbGF0aW9ucz1bXTt0aGlzLmRiU2NoZW1lPWY7fWUucHJvdG90eXBlLmNsb3Npbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmRpYWxvZ0RhdGEuZGlhbG9nUmVzdWx0KXt0aGlzLmRpYWxvZ0RhdGEucmVsYXRpb25zPXRoaXMucmVsYXRpb25zO3RoaXMuZGlhbG9nRGF0YS5kZWxldGVkUmVsYXRpb25zPXRoaXMuZGVsZXRlZFJlbGF0aW9uczt9fTtlLnByb3RvdHlwZS5hZGREYXRhUmVsYXRpb249ZnVuY3Rpb24oKXt2YXIgZz10aGlzLGY9bmV3IGIuQ3JlYXRlRGF0YVJlbGF0aW9uRGlhbG9nKGcuZGJTY2hlbWUpO2Yuc2hvd01vZGFsKGZ1bmN0aW9uKGgpe2lmKCFoKXtyZXR1cm47fWcucmVsYXRpb25zLnB1c2goaCk7Zy5wb3B1bGF0ZVNlbGVjdCgpO30pO307ZS5wcm90b3R5cGUuZGVsZXRlU2VsZWN0ZWRSZWxhdGlvbj1mdW5jdGlvbigpe3ZhciBmPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsRGF0YVJlbGF0aW9uc1wiKSxsPWYub3B0aW9uc1tmLnNlbGVjdGVkSW5kZXhdLGo9dGhpcy5yZWxhdGlvbnM7Zm9yKHZhciBnPTA7ZzxqLmxlbmd0aDsrK2cpe3ZhciBoPWpbZ10saz1oLlJlbGF0aW9uTmFtZXx8Yi5nZXRSZWxEZXNjKGgpO2lmKGs9PT1sLnZhbHVlKXt0aGlzLmRlbGV0ZWRSZWxhdGlvbnMucHVzaChsLnZhbHVlKTtqLnNwbGljZShnLDEpO3RoaXMucG9wdWxhdGVTZWxlY3QoKTtyZXR1cm47fX19O2UucHJvdG90eXBlLnBvcHVsYXRlU2VsZWN0PWZ1bmN0aW9uKCl7dmFyIGc9dGhpcyxmPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsRGF0YVJlbGF0aW9uc1wiKTtmLmlubmVySFRNTD1cIlwiO3RoaXMucmVsYXRpb25zLmZvckVhY2goZnVuY3Rpb24oaSl7dmFyIGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSxqPWIuZ2V0UmVsRGVzYyhpKTtoLnZhbHVlPWgudGV4dD1pLlJlbGF0aW9uTmFtZXx8ajtoLnRpdGxlPWo7Zi5hcHBlbmRDaGlsZChoKTt9KTtmLnNlbGVjdGVkSW5kZXg9MDt9O2UucHJvdG90eXBlLmRpYWxvZ1JlYWR5PWZ1bmN0aW9uKCl7dmFyIGg9dGhpczt0aGlzLnBvcHVsYXRlU2VsZWN0KCk7ZnVuY3Rpb24gZihpKXtoLmFkZERhdGFSZWxhdGlvbigpO31mdW5jdGlvbiBnKGkpe2guZGVsZXRlU2VsZWN0ZWRSZWxhdGlvbigpO31hKFwiI0VESVRfREFUQV9SRUxTX0RJQUxPR19CVE5fQUREXCIpLmNsaWNrKGYpO2EoXCIjRURJVF9EQVRBX1JFTFNfRElBTE9HX0JUTl9ERUxFVEVcIikuY2xpY2soZyk7fTtlLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihmKXthKFwiI0VESVRfREFUQV9SRUxTX0RJQUxPR19MQkxfU0VMX0RBVEFfUkVMXCIpLnRleHQoZi5FRElUX0RBVEFfUkVMU19ESUFMT0dfTEJMX1NFTF9EQVRBX1JFTCk7YShcIiNFRElUX0RBVEFfUkVMU19ESUFMT0dfQlROX0FERFwiKS50ZXh0KGYuRURJVF9EQVRBX1JFTFNfRElBTE9HX0JUTl9BREQpO2EoXCIjRURJVF9EQVRBX1JFTFNfRElBTE9HX0JUTl9ERUxFVEVcIikudGV4dChmLkVESVRfREFUQV9SRUxTX0RJQUxPR19CVE5fREVMRVRFKTt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhmKTt9O3JldHVybiBlO30pKGIuSFRNTERpYWxvZyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5DcmVhdGVEYXRhUmVsYXRpb25EaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUoZil7ZC5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLkNyZWF0ZURhdGFSZWxhdGlvbkRpYWxvZyxFbGVtZW50SUQ6XCJjcmVhdGVEYXRhUmVsYXRpb25EaWFsb2dcIixXaWR0aDpcImF1dG9cIixUaXRsZVJlc291cmNlTmFtZTpcIkNSRUFURV9EQVRBX1JFTF9ESUFMT0dfVElUTEVcIix9O3RoaXMuZGJTY2hlbWU9Zjt0aGlzLmNhbGxiYWNrPW51bGw7dGhpcy5uZXdSZWxhdGlvbj17UmVsYXRpb25OYW1lOlwiXCIsUGFyZW50VGFibGVOYW1lOlwiXCIsQ2hpbGRUYWJsZU5hbWU6XCJcIixQYXJlbnRDb2x1bW5OYW1lOlwiXCIsQ2hpbGRDb2x1bW5OYW1lOlwiXCJ9O31lLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe3ZhciBoPXRoaXMsZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbE1haW5UYWJsZVwiKSxmPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsQ2hpbGRUYWJsZVwiKTtnLm9uY2hhbmdlPWZ1bmN0aW9uKCl7aC5uZXdSZWxhdGlvbi5QYXJlbnRUYWJsZU5hbWU9dGhpcy52YWx1ZTtoLnBvcHVsYXRlQ29sdW1uTmFtZUNvbnRhaW5lcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5UYmxDb2xDb250YWluZXJcIiksdGhpcy52YWx1ZSxcInBhcmVudFwiKTt9O2Yub25jaGFuZ2U9ZnVuY3Rpb24oKXtoLm5ld1JlbGF0aW9uLkNoaWxkVGFibGVOYW1lPXRoaXMudmFsdWU7aC5wb3B1bGF0ZUNvbHVtbk5hbWVDb250YWluZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGlsZFRibENvbENvbnRhaW5lclwiKSx0aGlzLnZhbHVlLFwiY2hpbGRcIik7fTt0aGlzLmRiU2NoZW1lLlRhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uKGope3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7aS52YWx1ZT1pLnRleHQ9aS50aXRsZT1qLlRhYmxlTmFtZTtnLmFwcGVuZENoaWxkKGkpO2YuYXBwZW5kQ2hpbGQoaS5jbG9uZU5vZGUodHJ1ZSkpO30pO3RoaXMucG9wdWxhdGVDb2x1bW5OYW1lQ29udGFpbmVycyh0aGlzLmRiU2NoZW1lLlRhYmxlc1swXS5UYWJsZU5hbWUpO3RoaXMubmV3UmVsYXRpb24uUGFyZW50VGFibGVOYW1lPXRoaXMubmV3UmVsYXRpb24uQ2hpbGRUYWJsZU5hbWU9dGhpcy5kYlNjaGVtZS5UYWJsZXNbMF0uVGFibGVOYW1lO3RoaXMubmV3UmVsYXRpb24uUGFyZW50Q29sdW1uTmFtZT10aGlzLm5ld1JlbGF0aW9uLkNoaWxkQ29sdW1uTmFtZT10aGlzLmRiU2NoZW1lLlRhYmxlc1swXS5Db2x1bW5zWzBdLkNvbHVtbk5hbWU7fTtlLnByb3RvdHlwZS5wb3B1bGF0ZUNvbHVtbk5hbWVDb250YWluZXJzPWZ1bmN0aW9uKGYpe3RoaXMucG9wdWxhdGVDb2x1bW5OYW1lQ29udGFpbmVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpblRibENvbENvbnRhaW5lclwiKSxmLFwicGFyZW50XCIpO3RoaXMucG9wdWxhdGVDb2x1bW5OYW1lQ29udGFpbmVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hpbGRUYmxDb2xDb250YWluZXJcIiksZixcImNoaWxkXCIpO307ZS5wcm90b3R5cGUucG9wdWxhdGVDb2x1bW5OYW1lQ29udGFpbmVyPWZ1bmN0aW9uKGYsaixrKXt2YXIgaD10aGlzLGc9MDtmLmlubmVySFRNTD1cIlwiO3ZhciBpPXRoaXMuZGJTY2hlbWUuVGFibGVzLmZpbmQoZnVuY3Rpb24obCl7cmV0dXJuIGwuVGFibGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1qLnRvTG93ZXJDYXNlKCk7fSk7aWYoIWkpe2NvbnNvbGUuYXNzZXJ0KGkpO3JldHVybjt9aS5Db2x1bW5zLmZvckVhY2goZnVuY3Rpb24obCl7dmFyIG89Zi5pZCtcIl9vcHRfXCIrZysrLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO24uaWQ9bztuLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInJhZGlvXCIpO24uc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiZ3JvdXBfXCIrayk7bi5kYXRhc2V0LmNvbHVtbk5hbWU9bC5Db2x1bW5OYW1lO24uZGF0YXNldC50YWJsZVJvbGU9aztuLnRpdGxlPWwuQ29sdW1uTmFtZTtuLnN0eWxlLmNzc0Zsb2F0PVwibGVmdFwiO24uc3R5bGUuY2xlYXI9XCJsZWZ0XCI7Zi5hcHBlbmRDaGlsZChuKTtuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKHApe2guY29sdW1uU2VsZWN0ZWQodGhpcy5kYXRhc2V0LmNvbHVtbk5hbWUsdGhpcy5kYXRhc2V0LnRhYmxlUm9sZSk7fSk7aWYoZz09MSl7bi5jaGVja2VkPXRydWU7aC5jb2x1bW5TZWxlY3RlZChsLkNvbHVtbk5hbWUsayk7fXZhciBtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTttLnNldEF0dHJpYnV0ZShcImZvclwiLG8pO20udGV4dENvbnRlbnQ9bC5Db2x1bW5OYW1lO20udGl0bGU9bC5Db2x1bW5OYW1lO20uc3R5bGUuY3NzRmxvYXQ9XCJsZWZ0XCI7Zi5hcHBlbmRDaGlsZChtKTt9KTt9O2UucHJvdG90eXBlLmNvbHVtblNlbGVjdGVkPWZ1bmN0aW9uKGYsZyl7c3dpdGNoKGcpe2Nhc2VcInBhcmVudFwiOnRoaXMubmV3UmVsYXRpb24uUGFyZW50Q29sdW1uTmFtZT1mO2JyZWFrO2Nhc2VcImNoaWxkXCI6dGhpcy5uZXdSZWxhdGlvbi5DaGlsZENvbHVtbk5hbWU9ZjticmVhazt9fTtiLmdldFJlbERlc2M9ZnVuY3Rpb24oZil7aWYoIWYpe3JldHVyblwiTk8gUkVMQVRJT04gR0lWRU5cIjt9cmV0dXJuIGYuUGFyZW50VGFibGVOYW1lK1xcJ1tcIlxcJytmLlBhcmVudENvbHVtbk5hbWUrXFwnXCJdIC0+IFxcJytmLkNoaWxkVGFibGVOYW1lK1xcJ1tcIlxcJytmLkNoaWxkQ29sdW1uTmFtZStcXCdcIl1cXCc7fTtlLnByb3RvdHlwZS5PS0hhbmRsZXI9ZnVuY3Rpb24oZil7aWYodGhpcy5jYWxsYmFjayYmdGhpcy5yZWxhdGlvbklzVmFsaWQodGhpcy5uZXdSZWxhdGlvbikpe3ZhciBnPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHh0UmVsTmFtZVwiKTtpZihnLnZhbHVlKXt0aGlzLm5ld1JlbGF0aW9uLlJlbGF0aW9uTmFtZT1nLnZhbHVlO31lbHNle3RoaXMubmV3UmVsYXRpb24uUmVsYXRpb25OYW1lPWIuZ2V0UmVsRGVzYyh0aGlzLm5ld1JlbGF0aW9uKTt9dGhpcy5jYWxsYmFjayh0aGlzLm5ld1JlbGF0aW9uKTt9dGhpcy5jbG9zZShmKTt9O2UucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGYpe2EoZikuZGlhbG9nKFwiZGVzdHJveVwiKS5yZW1vdmUoKTthKFwiI1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpLnJlbW92ZSgpO307ZS5wcm90b3R5cGUuc2hvd01vZGFsX2Jhc2U9ZS5wcm90b3R5cGUuc2hvd01vZGFsO2UucHJvdG90eXBlLnNob3dNb2RhbD1mdW5jdGlvbihmKXt0aGlzLmNhbGxiYWNrPWY7dGhpcy5zaG93TW9kYWxfYmFzZSgpO307ZS5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24oZil7YShcIiNDUkVBVEVfREFUQV9SRUxfRElBTE9HX0xCTF9NQUlOX1RCTFwiKS50ZXh0KGYuQ1JFQVRFX0RBVEFfUkVMX0RJQUxPR19MQkxfTUFJTl9UQkwpO2EoXCIjQ1JFQVRFX0RBVEFfUkVMX0RJQUxPR19MQkxfTUFJTl9DT0xcIikudGV4dChmLkNSRUFURV9EQVRBX1JFTF9ESUFMT0dfTEJMX01BSU5fQ09MKTthKFwiI0NSRUFURV9EQVRBX1JFTF9ESUFMT0dfTEJMX0NISUxEX1RCTFwiKS50ZXh0KGYuQ1JFQVRFX0RBVEFfUkVMX0RJQUxPR19MQkxfQ0hJTERfVEJMKTthKFwiI0NSRUFURV9EQVRBX1JFTF9ESUFMT0dfTEJMX0NISUxEX0NPTFwiKS50ZXh0KGYuQ1JFQVRFX0RBVEFfUkVMX0RJQUxPR19MQkxfQ0hJTERfQ09MKTthKFwiI0NSRUFURV9EQVRBX1JFTF9ESUFMT0dfTEJMX1JFTF9OQU1FXCIpLnRleHQoZi5DUkVBVEVfREFUQV9SRUxfRElBTE9HX0xCTF9SRUxfTkFNRSk7YShcIiN0eHRSZWxOYW1lXCIpLmF0dHIoXCJwbGFjZWhvbGRlclwiLGYuQ1JFQVRFX0RBVEFfUkVMX0RJQUxPR19JTlBfUkVMX05BTUVfUExBQ0VITEQpO3RoaXMuc2V0RGVmYXVsdEJ0blRleHRzKGYpO307ZS5wcm90b3R5cGUucmVsYXRpb25Jc1ZhbGlkPWZ1bmN0aW9uKGYpe3JldHVybihmLlBhcmVudFRhYmxlTmFtZSE9PVwiXCIpJiYoZi5DaGlsZFRhYmxlTmFtZSE9PVwiXCIpJiYoZi5QYXJlbnRDb2x1bW5OYW1lIT09XCJcIikmJihmLkNoaWxkQ29sdW1uTmFtZSE9PVwiXCIpO307cmV0dXJuIGU7fSkoYi5IVE1MRGlhbG9nKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGwsYSl7dmFyIGI9bC5fcHJpdmF0ZT1sLl9wcml2YXRlfHx7fTt2YXIgZSxnO3ZhciBmPU9iamVjdC5mcmVlemUoe0FuZDpcIkFuZFwiLE9yOlwiT3JcIn0pO3ZhciBoPU9iamVjdC5mcmVlemUoe0VxdWFsczpcIkVxdWFsc1wiLE5vdEVxdWFsOlwiTm90RXF1YWxcIixHcmVhdGVyVGhhbjpcIkdyZWF0ZXJUaGFuXCIsR3JlYXRlclRoYW5PckVxdWFsVG86XCJHcmVhdGVyVGhhbk9yRXF1YWxUb1wiLExlc3NUaGFuOlwiTGVzc1RoYW5cIixMZXNzVGhhbk9yRXF1YWxUbzpcIkxlc3NUaGFuT3JFcXVhbFRvXCIsSXNCbGFuazpcIklzQmxhbmtcIixJc05vdEJsYW5rOlwiSXNOb3RCbGFua1wifSk7dmFyIGs9T2JqZWN0LmZyZWV6ZSh7QXNjZW5kaW5nOlwiQXNjZW5kaW5nXCIsRGVzY2VuZGluZzpcIkRlc2NlbmRpbmdcIn0pO3ZhciBjPU9iamVjdC5mcmVlemUoe2ZpZWxkTmFtZVNlbGVjdGVkOlwiZmllbGROYW1lU2VsZWN0ZWRcIixyZW1vdmVCdXR0b25DbGlja2VkOlwicmVtb3ZlQnV0dG9uQ2xpY2tlZFwiLGNsZWFyQnV0dG9uQ2xpY2tlZDpcImNsZWFyQnV0dG9uQ2xpY2tlZFwifSk7Yi5NZXJnZUJsb2NrRmlsdGVyQW5kU29ydERpYWxvZz0oZnVuY3Rpb24obSl7X19leHRlbmRzKG4sbSk7ZnVuY3Rpb24gbihvLHAscixzKXttLmNhbGwodGhpcyk7dmFyIHE9dGhpcztpZighbyl7dGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgY29sdW1uIG5hbWVzLlwiKTt9aWYoIXMpe3Rocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIGEgY2FsbGJhY2sgZnVuY3Rpb24gdmlhIHBhcmFtZXRlciBcXCdzdWNjZXNzSGFuZGxlclxcJy5cIik7fXRoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLk1lcmdlQmxvY2tGaWx0ZXJBbmRTb3J0RGlhbG9nLEVsZW1lbnRJRDpcIm1lcmdlQmxvY2tGaWx0ZXJBbmRTb3J0RGlhbG9nXCIsV2lkdGg6XCJhdXRvXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJGSUxURVJBTkRTT1JURExHX1RJVExFXCJ9O3RoaXMuZmlsdGVycz1wfHxbXTt0aGlzLnNvcnRpbmdJbnN0cnVjdGlvbnM9cnx8W107dGhpcy5jb2x1bW5OYW1lcz1vO3RoaXMuZmlsdGVyUm93cz1bXTt0aGlzLnNvcnRpbmdJbnN0clJvd3M9W107dGhpcy5fPXtzdWNjZXNzSGFuZGxlcjpzfTt0aGlzLmZpbHRlcnMuZm9yRWFjaChmdW5jdGlvbih0KXtpZighcS5jb2x1bW5OYW1lcy5pbmNsdWRlcyh0LmNvbHVtbk5hbWUpKXtxLmNvbHVtbk5hbWVzLnB1c2godC5jb2x1bW5OYW1lKTt9fSk7dGhpcy5zb3J0aW5nSW5zdHJ1Y3Rpb25zLmZvckVhY2goZnVuY3Rpb24odCl7aWYoIXEuY29sdW1uTmFtZXMuaW5jbHVkZXModC5vcmRlckJ5KSl7cS5jb2x1bW5OYW1lcy5wdXNoKHQub3JkZXJCeSk7fX0pO31uLnByb3RvdHlwZS5wb3B1bGF0ZUZpbHRlclRhYmxlPWZ1bmN0aW9uKCl7dmFyIHk9dGhpcyxzLHYscSxyO3ZhciB6PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVyZ2VCbG9ja0ZpbHRlckFuZFNvcnREaWFsb2dfdGFibGVGaWx0ZXJcIik7ei5pbm5lckhUTUw9ei5yb3dzWzBdLm91dGVySFRNTDt0aGlzLmZpbHRlclJvd3M9W107aWYodGhpcy5maWx0ZXJzLmxlbmd0aD09PTApe3E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO3Y9bmV3IGQocSxudWxsLHRoaXMuY29sdW1uTmFtZXMsdHJ1ZSk7di5hZGRFdmVudExpc3RlbmVyKGMuZmllbGROYW1lU2VsZWN0ZWQsdyk7di5hZGRFdmVudExpc3RlbmVyKGMucmVtb3ZlQnV0dG9uQ2xpY2tlZCx4KTt0aGlzLmZpbHRlclJvd3MucHVzaCh2KTt6LmFwcGVuZENoaWxkKHEpO3E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO3Y9bmV3IGQocSxudWxsLHRoaXMuY29sdW1uTmFtZXMsZmFsc2UsdHJ1ZSk7di5hZGRFdmVudExpc3RlbmVyKGMuZmllbGROYW1lU2VsZWN0ZWQsdyk7di5hZGRFdmVudExpc3RlbmVyKGMucmVtb3ZlQnV0dG9uQ2xpY2tlZCx4KTt0aGlzLmZpbHRlclJvd3MucHVzaCh2KTt6LmFwcGVuZENoaWxkKHEpO31lbHNle2ZvcihzPTA7czx0aGlzLmZpbHRlcnMubGVuZ3RoOysrcyl7cj10aGlzLmZpbHRlcnNbc107cT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7dj1uZXcgZChxLHIsdGhpcy5jb2x1bW5OYW1lcyxzPT09MCk7di5hZGRFdmVudExpc3RlbmVyKGMuZmllbGROYW1lU2VsZWN0ZWQsdyk7di5hZGRFdmVudExpc3RlbmVyKGMucmVtb3ZlQnV0dG9uQ2xpY2tlZCx4KTt0aGlzLmZpbHRlclJvd3MucHVzaCh2KTt6LmFwcGVuZENoaWxkKHEpO31wKCk7fWZ1bmN0aW9uIHcoQSl7aWYodShBKSl7bygpO31lbHNle2lmKHQoQSkpe3AoKTt9fX1mdW5jdGlvbiB4KEIpe3ZhciBBPTA7Zm9yKDtBPHkuZmlsdGVyUm93cy5sZW5ndGg7KytBKXtpZih5LmZpbHRlclJvd3NbQV09PT1CKXticmVhazt9fWlmKEE9PT15LmZpbHRlclJvd3MubGVuZ3RoKXt0aHJvdyBuZXcgRXJyb3IoXCJSb3cgbm90IGZvdW5kLlwiKTt9eS5maWx0ZXJzPXkuZ2V0RmlsdGVycygpO3kuZmlsdGVycy5zcGxpY2UoQSwxKTt5LnBvcHVsYXRlRmlsdGVyVGFibGUoKTt9ZnVuY3Rpb24gdShBKXtyZXR1cm4oeS5maWx0ZXJSb3dzW3kuZmlsdGVyUm93cy5sZW5ndGgtMl09PT1BKTt9ZnVuY3Rpb24gdChBKXtyZXR1cm4oeS5maWx0ZXJSb3dzW3kuZmlsdGVyUm93cy5sZW5ndGgtMV09PT1BKTt9ZnVuY3Rpb24gbygpe3kuZmlsdGVyUm93c1t5LmZpbHRlclJvd3MubGVuZ3RoLTFdLmFjdGl2YXRlKCk7fWZ1bmN0aW9uIHAoKXtxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTt2PW5ldyBkKHEsbnVsbCx5LmNvbHVtbk5hbWVzKTt2LmFkZEV2ZW50TGlzdGVuZXIoYy5maWVsZE5hbWVTZWxlY3RlZCx3KTt2LmFkZEV2ZW50TGlzdGVuZXIoYy5yZW1vdmVCdXR0b25DbGlja2VkLHgpO3kuZmlsdGVyUm93cy5wdXNoKHYpO3ouYXBwZW5kQ2hpbGQocSk7fX07bi5wcm90b3R5cGUuaW5pdFNvcnRUYWI9ZnVuY3Rpb24oKXt2YXIgbz10aGlzLnNvcnRpbmdJbnN0cnVjdGlvbnMubGVuZ3RoLHAscSx1LHQ9dGhpczt2YXIgdj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lcmdlQmxvY2tGaWx0ZXJBbmRTb3J0RGlhbG9nX3RhYmxlU29ydFwiKTtpZihvPjMpe3Rocm93IG5ldyBFcnJvcihcIlRoZXJlIG11c3Qgbm90IGJlIG1vcmUgdGhhbiAzIHNvcnRpbmcgaW5zdHJ1Y3Rpb25zLlwiKTt9dGhpcy5zb3J0aW5nSW5zdHJSb3dzPVtdO2ZvcihwPTA7cDwzOysrcCl7dT0ocDxvKT90aGlzLnNvcnRpbmdJbnN0cnVjdGlvbnNbcF06bnVsbDtxPW5ldyBqKHYucm93c1socCoyKSsxXSx1LHRoaXMuY29sdW1uTmFtZXMscD09PTApO2lmKHA8Mil7cS5hZGRFdmVudExpc3RlbmVyKGMuZmllbGROYW1lU2VsZWN0ZWQsKGZ1bmN0aW9uKHcpe3JldHVybiBmdW5jdGlvbigpe3Modyk7fTt9KShwKSk7fXEuYWRkRXZlbnRMaXN0ZW5lcihjLmNsZWFyQnV0dG9uQ2xpY2tlZCxyKTt0aGlzLnNvcnRpbmdJbnN0clJvd3MucHVzaChxKTt9aWYobyYmKG88Mykpe3RoaXMuc29ydGluZ0luc3RyUm93c1tvXS5hY3RpdmF0ZSgpO31mdW5jdGlvbiBzKHcpe3Quc29ydGluZ0luc3RyUm93c1t3KzFdLmFjdGl2YXRlKCk7fWZ1bmN0aW9uIHIoeCl7dmFyIHc9MDtmb3IoO3c8dC5zb3J0aW5nSW5zdHJSb3dzLmxlbmd0aDsrK3cpe2lmKHQuc29ydGluZ0luc3RyUm93c1t3XT09PXgpe2JyZWFrO319aWYodz09PXQuc29ydGluZ0luc3RyUm93cy5sZW5ndGgpe3Rocm93IG5ldyBFcnJvcihcIlJvdyBub3QgZm91bmQuXCIpO310LnNvcnRpbmdJbnN0cnVjdGlvbnM9dC5nZXRTb3J0aW5nSW5zdHJ1Y3Rpb25zKCk7dC5zb3J0aW5nSW5zdHJ1Y3Rpb25zLnNwbGljZSh3LDEpO3QuaW5pdFNvcnRUYWIoKTt9fTtuLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe2EoXCIjbWVyZ2VCbG9ja0ZpbHRlckFuZFNvcnREaWFsb2dfZGl2VGFic1wiKS50YWJzKCk7dGhpcy5wb3B1bGF0ZUZpbHRlclRhYmxlKCk7dGhpcy5pbml0U29ydFRhYigpO307bi5wcm90b3R5cGUuZ2V0RmlsdGVycz1mdW5jdGlvbigpe3ZhciBvPVtdO3RoaXMuZmlsdGVyUm93cy5mb3JFYWNoKGZ1bmN0aW9uKHApe2lmKCFwLmhhc1ZhbHVlcygpKXtyZXR1cm47fW8ucHVzaChwLmdldFZhbHVlcygpKTt9KTtyZXR1cm4gbzt9O24ucHJvdG90eXBlLmdldFNvcnRpbmdJbnN0cnVjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgbz1bXTt0aGlzLnNvcnRpbmdJbnN0clJvd3MuZm9yRWFjaChmdW5jdGlvbihwKXtpZighcC5oYXNWYWx1ZXMoKSl7cmV0dXJuO31vLnB1c2gocC5nZXRWYWx1ZXMoKSk7fSk7cmV0dXJuIG87fTtuLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihvKXt0cnl7aWYodGhpcy5kaWFsb2dEYXRhLmRpYWxvZ1Jlc3VsdCl7aWYodGhpcy5fLnN1Y2Nlc3NIYW5kbGVyKXt0aGlzLl8uc3VjY2Vzc0hhbmRsZXIodGhpcy5nZXRGaWx0ZXJzKCksdGhpcy5nZXRTb3J0aW5nSW5zdHJ1Y3Rpb25zKCkpO319fWZpbmFsbHl7YShvKS5kaWFsb2coXCJkZXN0cm95XCIpLnJlbW92ZSgpO2EoXCIjXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRCkucmVtb3ZlKCk7fX07bi5wcm90b3R5cGUuYXBwbHlTdHJpbmdSZXNvdXJjZXM9ZnVuY3Rpb24ocyl7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJGSUxURVJBTkRTT1JURExHX1RBQl9GSUxURVJcIikudGV4dENvbnRlbnQ9cy5GSUxURVJBTkRTT1JURExHX1RBQl9GSUxURVI7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJGSUxURVJBTkRTT1JURExHX1RBQl9TT1JUXCIpLnRleHRDb250ZW50PXMuRklMVEVSQU5EU09SVERMR19UQUJfU09SVDtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkZJTFRFUkRFU0lHTkVSX0xCTF9GSUVMRFwiKS50ZXh0Q29udGVudD1zLkZJTFRFUkRFU0lHTkVSX0xCTF9GSUVMRDtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkZJTFRFUkRFU0lHTkVSX0xCTF9DT01QQVJJU09OXCIpLnRleHRDb250ZW50PXMuRklMVEVSREVTSUdORVJfTEJMX0NPTVBBUklTT047ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJGSUxURVJERVNJR05FUl9MQkxfQ09NUEFSRV9UT1wiKS50ZXh0Q29udGVudD1zLkZJTFRFUkRFU0lHTkVSX0xCTF9DT01QQVJFX1RPO3ZhciBxPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjbWVyZ2VCbG9ja0ZpbHRlckFuZFNvcnREaWFsb2cgLlNPUlRERVNJR05FUl9TT1JUX0JZXCIpO1tdLmZvckVhY2guY2FsbChxLGZ1bmN0aW9uKHQpe3QudGV4dENvbnRlbnQ9cy5TT1JUREVTSUdORVJfU09SVF9CWTt9KTt2YXIgcj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI21lcmdlQmxvY2tGaWx0ZXJBbmRTb3J0RGlhbG9nIC5TT1JUREVTSUdORVJfVEhFTl9CWVwiKTtbXS5mb3JFYWNoLmNhbGwocixmdW5jdGlvbih0KXt0LnRleHRDb250ZW50PXMuU09SVERFU0lHTkVSX1RIRU5fQlk7fSk7dmFyIG89ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNtZXJnZUJsb2NrRmlsdGVyQW5kU29ydERpYWxvZyAuU09SVERFU0lHTkVSX0FTQ0VORElOR1wiKTtbXS5mb3JFYWNoLmNhbGwobyxmdW5jdGlvbih0KXt0LnRleHRDb250ZW50PXMuU09SVERFU0lHTkVSX0FTQ0VORElORzt9KTt2YXIgcD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI21lcmdlQmxvY2tGaWx0ZXJBbmRTb3J0RGlhbG9nIC5TT1JUREVTSUdORVJfREVTQ0VORElOR1wiKTtbXS5mb3JFYWNoLmNhbGwocCxmdW5jdGlvbih0KXt0LnRleHRDb250ZW50PXMuU09SVERFU0lHTkVSX0RFU0NFTkRJTkc7fSk7ZT1be3RleHQ6cy5GSUxURVJERVNJR05FUl9MT0dfT1BfQU5ELHZhbHVlOmYuQW5kfSx7dGV4dDpzLkZJTFRFUkRFU0lHTkVSX0xPR19PUF9PUix2YWx1ZTpmLk9yfV07Zz1be3RleHQ6cy5GSUxURVJERVNJR05FUl9SRUxfT1BfRVFVQUxTLHZhbHVlOmguRXF1YWxzfSx7dGV4dDpzLkZJTFRFUkRFU0lHTkVSX1JFTF9PUF9OT1RfRVFVQUwsdmFsdWU6aC5Ob3RFcXVhbH0se3RleHQ6cy5GSUxURVJERVNJR05FUl9SRUxfT1BfR1JFQVRFUl9USEFOLHZhbHVlOmguR3JlYXRlclRoYW59LHt0ZXh0OnMuRklMVEVSREVTSUdORVJfUkVMX09QX0dSRUFURVJfVEhBTl9PUl9FUVVBTCx2YWx1ZTpoLkdyZWF0ZXJUaGFuT3JFcXVhbFRvfSx7dGV4dDpzLkZJTFRFUkRFU0lHTkVSX1JFTF9PUF9MRVNTX1RIQU4sdmFsdWU6aC5MZXNzVGhhbn0se3RleHQ6cy5GSUxURVJERVNJR05FUl9SRUxfT1BfTEVTU19USEFOX09SX0VRVUFMLHZhbHVlOmguTGVzc1RoYW5PckVxdWFsVG99LHt0ZXh0OnMuRklMVEVSREVTSUdORVJfUkVMX09QX0lTX0JMQU5LLHZhbHVlOmguSXNCbGFua30se3RleHQ6cy5GSUxURVJERVNJR05FUl9SRUxfT1BfSVNfTk9UX0JMQU5LLHZhbHVlOmguSXNOb3RCbGFua30sXTt0aGlzLnNldERlZmF1bHRCdG5UZXh0cyhzKTt9O3JldHVybiBuO30pKGIuSFRNTERpYWxvZyk7dmFyIGk9KGZ1bmN0aW9uKG0pe19fZXh0ZW5kcyhuLG0pO2Z1bmN0aW9uIG4ocSxvLHApe20uY2FsbCh0aGlzLHEpO3RoaXMuaXNJbmFjdGl2ZT0hIXA7dGhpcy5jb2x1bW5OYW1lcz1vO3RoaXMuc2VsQ29sTmFtZT1udWxsO31uLnByb3RvdHlwZS5oYXNWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMuaXNJbmFjdGl2ZSYmKHRoaXMuc2VsQ29sTmFtZS52YWx1ZSE9PVwiX19FTVBUWV9fXCIpO307bi5wcm90b3R5cGUuZ2V0VmFsdWVzPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIk5PVCBJTVBMRU1FTlRFRFwiKTt9O24ucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIk5PVCBJTVBMRU1FTlRFRFwiKTt9O3JldHVybiBuO30pKGIuUm93QmFzZSk7dmFyIGQ9KGZ1bmN0aW9uKG0pe19fZXh0ZW5kcyhuLG0pO2Z1bmN0aW9uIG4odyxyLHEscyx0KXttLmNhbGwodGhpcyx3LHEsdCk7dmFyIHY9dGhpcyx1O3RoaXMuZmlsdGVyPXI7dGhpcy5pc0ZpcnN0Um93PXM7dGhpcy5zZWxMb2dPcD1udWxsO3RoaXMuc2VsUmVsT3A9bnVsbDt0aGlzLnR4dENvbXBWYWw9bnVsbDt3LmlubmVySFRNTD1cIjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPlwiO2lmKCFzKXt0aGlzLnNlbExvZ09wPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7ZS5mb3JFYWNoKGZ1bmN0aW9uKHgpe3U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTt1LnRleHQ9eC50ZXh0O3UudmFsdWU9eC52YWx1ZTt2LnNlbExvZ09wLmFkZCh1KTt9KTt0aGlzLnNlbExvZ09wLmRpc2FibGVkPXQ7dGhpcy5zZWxMb2dPcC52YWx1ZT1yP3IubG9nT3A6Zi5BbmQ7dy5jZWxsc1swXS5hcHBlbmRDaGlsZCh0aGlzLnNlbExvZ09wKTt9dGhpcy5zZWxDb2xOYW1lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7cS5mb3JFYWNoKGZ1bmN0aW9uKHgpe3U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTt1LnRleHQ9dS52YWx1ZT14O3Yuc2VsQ29sTmFtZS5hZGQodSk7fSk7dGhpcy5zZWxDb2xOYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixmdW5jdGlvbigpe3YudHh0Q29tcFZhbC5kaXNhYmxlZD1mYWxzZTt2LnNlbFJlbE9wLmRpc2FibGVkPWZhbHNlO2IuZW5hYmxlQnV0dG9uKG8pO3YuZmlyZUV2ZW50KGMuZmllbGROYW1lU2VsZWN0ZWQsdik7fSk7dT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3UudmFsdWU9XCJfX0VNUFRZX19cIjt1LnN0eWxlLmRpc3BsYXk9XCJub25lXCI7dS5kaXNhYmxlZD10cnVlO3RoaXMuc2VsQ29sTmFtZS5hZGQodSk7dGhpcy5zZWxDb2xOYW1lLmRpc2FibGVkPXQ7dGhpcy5zZWxDb2xOYW1lLnZhbHVlPXI/ci5jb2x1bW5OYW1lOlwiX19FTVBUWV9fXCI7dy5jZWxsc1sxXS5hcHBlbmRDaGlsZCh0aGlzLnNlbENvbE5hbWUpO3RoaXMuc2VsUmVsT3A9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtnLmZvckVhY2goZnVuY3Rpb24oeCl7dT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3UudGV4dD14LnRleHQ7dS52YWx1ZT14LnZhbHVlO3Yuc2VsUmVsT3AuYWRkKHUpO30pO3RoaXMuc2VsUmVsT3AuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGZ1bmN0aW9uKHgpe3N3aXRjaCh4LnRhcmdldC52YWx1ZSl7Y2FzZSBoLklzQmxhbms6Y2FzZSBoLklzTm90Qmxhbms6di50eHRDb21wVmFsLnZhbHVlPVwiXCI7di50eHRDb21wVmFsLmRpc2FibGVkPXRydWU7YnJlYWs7ZGVmYXVsdDp2LnR4dENvbXBWYWwuZGlzYWJsZWQ9ZmFsc2U7YnJlYWs7fX0pO3RoaXMuc2VsUmVsT3AuZGlzYWJsZWQ9IXI7dGhpcy5zZWxSZWxPcC52YWx1ZT1yP3IucmVsT3A6aC5FcXVhbHM7dy5jZWxsc1syXS5hcHBlbmRDaGlsZCh0aGlzLnNlbFJlbE9wKTt0aGlzLnR4dENvbXBWYWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO3RoaXMudHh0Q29tcFZhbC50eXBlPVwidGV4dFwiO3RoaXMudHh0Q29tcFZhbC5kaXNhYmxlZD0hcnx8KHIucmVsT3A9PT1oLklzQmxhbmspfHwoci5yZWxPcD09PWguSXNOb3RCbGFuayk7dGhpcy50eHRDb21wVmFsLnZhbHVlPXI/ci5jb21wYXJlVG86XCJcIjt3LmNlbGxzWzNdLmFwcGVuZENoaWxkKHRoaXMudHh0Q29tcFZhbCk7dy5jZWxsc1s0XS5pbm5lckhUTUw9XFwnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJtZXJnZUJsb2NrRmlsdGVyQW5kU29ydERpYWxvZ19idG5SZW1GbHRcIj7inpZcXFxcdUZFMEU8L2J1dHRvbj5cXCc7dmFyIG89dy5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uLm1lcmdlQmxvY2tGaWx0ZXJBbmRTb3J0RGlhbG9nX2J0blJlbUZsdFwiKTtiLmVuYWJsZUJ1dHRvbihvLCF0JiYodGhpcy5zZWxDb2xOYW1lLnZhbHVlIT09XCJfX0VNUFRZX19cIikpO28uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIscCk7ZnVuY3Rpb24gcCgpe3YuZmlyZUV2ZW50KGMucmVtb3ZlQnV0dG9uQ2xpY2tlZCx2KTt9fW4ucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5zZWxMb2dPcCl7dGhpcy5zZWxMb2dPcC5kaXNhYmxlZD1mYWxzZTt9dGhpcy5zZWxDb2xOYW1lLmRpc2FibGVkPWZhbHNlO3RoaXMuaXNJbmFjdGl2ZT1mYWxzZTt9O24ucHJvdG90eXBlLmdldFZhbHVlcz1mdW5jdGlvbigpe3JldHVybntsb2dPcDp0aGlzLnNlbExvZ09wP3RoaXMuc2VsTG9nT3AudmFsdWU6Zi5BbmQsY29sdW1uTmFtZTp0aGlzLnNlbENvbE5hbWUudmFsdWUscmVsT3A6dGhpcy5zZWxSZWxPcC52YWx1ZSxjb21wYXJlVG86dGhpcy50eHRDb21wVmFsLnZhbHVlfTt9O3JldHVybiBuO30pKGkpO3ZhciBqPShmdW5jdGlvbihtKXtfX2V4dGVuZHMobixtKTtmdW5jdGlvbiBuKHQscyxvLHApe20uY2FsbCh0aGlzLHQsbywhcyk7dmFyIHI9dGhpcyxxO3RoaXMuaXNGaXJzdFJvdz0hIXA7dGhpcy5zb3J0aW5nSW5zdHJ1Y3Rpb249czt0aGlzLnNlbENvbE5hbWU9dC5jZWxsc1swXS5xdWVyeVNlbGVjdG9yKFwic2VsZWN0XCIpO2lmKCF0aGlzLnNlbENvbE5hbWUpe3Rocm93IG5ldyBFcnJvcihcIlxcJ09yZGVyIGJ5XFwnIGRyb3AgZG93biBlbGVtZW50IG5vdCBmb3VuZC5cIik7fXRoaXMucmJBc2M9dC5jZWxsc1sxXS5xdWVyeVNlbGVjdG9yKFwiaW5wdXRbdHlwZT1yYWRpb11cIik7aWYoIXRoaXMucmJBc2Mpe3Rocm93IG5ldyBFcnJvcihcIlxcJ0FzY2VuZGluZ1xcJyByYWRpbyBidXR0b24gZWxlbWVudCBub3QgZm91bmQuXCIpO310aGlzLmxibEFzYz10LmNlbGxzWzFdLnF1ZXJ5U2VsZWN0b3IoXCJsYWJlbFwiKTtpZighdGhpcy5sYmxBc2Mpe3Rocm93IG5ldyBFcnJvcihcIlxcJ0FzY2VuZGluZ1xcJyBsYWJlbCBlbGVtZW50IG5vdCBmb3VuZC5cIik7fXRoaXMucmJEZXNjPXQuY2VsbHNbMl0ucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9cmFkaW9dXCIpO2lmKCF0aGlzLnJiRGVzYyl7dGhyb3cgbmV3IEVycm9yKFwiXFwnRGVzY2VuZGluZ1xcJyByYWRpbyBidXR0b24gZWxlbWVudCBub3QgZm91bmQuXCIpO310aGlzLmxibERlc2M9dC5jZWxsc1syXS5xdWVyeVNlbGVjdG9yKFwibGFiZWxcIik7aWYoIXRoaXMubGJsRGVzYyl7dGhyb3cgbmV3IEVycm9yKFwiXFwnRGVzY2VuZGluZ1xcJyBsYWJlbCBlbGVtZW50IG5vdCBmb3VuZC5cIik7fXRoaXMuYnRuQ2xlYXI9dC5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uLm1lcmdlQmxvY2tGaWx0ZXJBbmRTb3J0RGlhbG9nX2J0bkNsZWFyU29ydEluc3RyXCIpO2lmKCF0aGlzLmJ0bkNsZWFyKXt0aHJvdyBuZXcgRXJyb3IoXCJcXCdDbGVhclxcJyBidXR0b24gZWxlbWVudCBub3QgZm91bmQuXCIpO310aGlzLmluaXQoKTtvLmZvckVhY2goZnVuY3Rpb24odSl7cT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO3EudGV4dD1xLnZhbHVlPXU7ci5zZWxDb2xOYW1lLmFkZChxKTt9KTt0aGlzLnNlbENvbE5hbWUuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGZ1bmN0aW9uKCl7ci5lbmFibGUoKTtyLmZpcmVFdmVudChjLmZpZWxkTmFtZVNlbGVjdGVkLHIpO30pO3E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtxLnZhbHVlPVwiX19FTVBUWV9fXCI7cS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3EuZGlzYWJsZWQ9dHJ1ZTt0aGlzLnNlbENvbE5hbWUuYWRkKHEpO3RoaXMuYnRuQ2xlYXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtyLmZpcmVFdmVudChjLmNsZWFyQnV0dG9uQ2xpY2tlZCxyKTt9KTt0aGlzLnNlbENvbE5hbWUudmFsdWU9cz9zLm9yZGVyQnk6XCJfX0VNUFRZX19cIjtpZihzKXtzd2l0Y2gocy5zb3J0T3JkZXIpe2Nhc2Ugay5Bc2NlbmRpbmc6dGhpcy5yYkFzYy5jaGVja2VkPXRydWU7YnJlYWs7Y2FzZSBrLkRlc2NlbmRpbmc6dGhpcy5yYkRlc2MuY2hlY2tlZD10cnVlO2JyZWFrO310aGlzLmVuYWJsZSgpO319bi5wcm90b3R5cGUuZ2V0VmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJue29yZGVyQnk6dGhpcy5zZWxDb2xOYW1lLnZhbHVlLHNvcnRPcmRlcjp0aGlzLnJiQXNjLmNoZWNrZWQ/ay5Bc2NlbmRpbmc6ay5EZXNjZW5kaW5nfTt9O24ucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKCl7dGhpcy5zZWxDb2xOYW1lLmRpc2FibGVkPWZhbHNlO307bi5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5pc0luYWN0aXZlPWZhbHNlO3RoaXMuc2VsQ29sTmFtZS5kaXNhYmxlZD10aGlzLnJiQXNjLmRpc2FibGVkPXRoaXMucmJEZXNjLmRpc2FibGVkPXRoaXMuYnRuQ2xlYXIuZGlzYWJsZWQ9ZmFsc2U7dGhpcy5yYkFzYy5jbGFzc0xpc3QucmVtb3ZlKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt0aGlzLnJiRGVzYy5jbGFzc0xpc3QucmVtb3ZlKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt0aGlzLmxibEFzYy5jbGFzc0xpc3QucmVtb3ZlKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt0aGlzLmxibERlc2MuY2xhc3NMaXN0LnJlbW92ZShcInR4dWktc3RhdGUtZGlzYWJsZWRcIik7dGhpcy5idG5DbGVhci5jbGFzc0xpc3QucmVtb3ZlKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt9O24ucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLnNlbENvbE5hbWUuaW5uZXJIVE1MPVwiXCI7aWYoIXRoaXMuaXNGaXJzdFJvdyl7dGhpcy5zZWxDb2xOYW1lLmRpc2FibGVkPXRydWU7fXRoaXMudHIuY2VsbHNbMF0uaW5uZXJIVE1MPXRoaXMuc2VsQ29sTmFtZS5vdXRlckhUTUw7dGhpcy5zZWxDb2xOYW1lPXRoaXMudHIuY2VsbHNbMF0ucXVlcnlTZWxlY3RvcihcInNlbGVjdFwiKTt0aGlzLnJiQXNjLmNoZWNrZWQ9dHJ1ZTt0aGlzLnJiQXNjLmRpc2FibGVkPXRoaXMucmJEZXNjLmRpc2FibGVkPXRoaXMuYnRuQ2xlYXIuZGlzYWJsZWQ9dHJ1ZTt0aGlzLnJiQXNjLmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO3RoaXMucmJEZXNjLmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO3RoaXMubGJsQXNjLmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO3RoaXMubGJsRGVzYy5jbGFzc0xpc3QuYWRkKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt0aGlzLmJ0bkNsZWFyLmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO3RoaXMudHIuY2VsbHNbM10uaW5uZXJIVE1MPXRoaXMuYnRuQ2xlYXIub3V0ZXJIVE1MO3RoaXMuYnRuQ2xlYXI9dGhpcy50ci5jZWxsc1szXS5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uXCIpO307cmV0dXJuIG47fSkoaSk7cmV0dXJuIGw7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5FZGl0TWVyZ2VCbG9ja3NEaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUoZil7ZC5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLkVkaXRNZXJnZUJsb2Nrc0RpYWxvZyxFbGVtZW50SUQ6XCJlZGl0TWVyZ2VCbG9ja3NEaWFsb2dcIixXaWR0aDpcImF1dG9cIixUaXRsZVJlc291cmNlTmFtZTpcIkVESVRfTUVSR0VfQkxPQ0tfRExHX1RJVExFXCJ9O3RoaXMuYmxvY2tzPWY7dGhpcy5kZWxldGVkQmxvY2tzPVtdO3RoaXMucmVuYW1lZEJsb2Nrcz1bXTt0aGlzLnVwZGF0ZWRGaWx0ZXJBbmRTb3J0SW5mbz17fTt9ZS5wcm90b3R5cGUuY2xvc2luZz1mdW5jdGlvbigpe3RoaXMuZGlhbG9nRGF0YS5kZWxldGVkQmxvY2tzPXRoaXMuZGVsZXRlZEJsb2Nrczt0aGlzLmRpYWxvZ0RhdGEucmVuYW1lZEJsb2Nrcz10aGlzLnJlbmFtZWRCbG9ja3M7dGhpcy5kaWFsb2dEYXRhLnVwZGF0ZWRGaWx0ZXJBbmRTb3J0SW5mbz10aGlzLnVwZGF0ZWRGaWx0ZXJBbmRTb3J0SW5mbzt9O2UucHJvdG90eXBlLnBvcHVsYXRlU2VsZWN0PWZ1bmN0aW9uKCl7dmFyIGY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxNZXJnZUJsb2Nrc1wiKTtmLmlubmVySFRNTD1cIlwiO3RoaXMuYmxvY2tzLmZvckVhY2goZnVuY3Rpb24oZyl7dmFyIGg9KGcuTmV3TmFtZSE9PVwiXCIpP2cuTmV3TmFtZTpnLk5hbWU7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtpLnZhbHVlPWkudGV4dD1pLnRpdGxlPWg7Zi5hcHBlbmRDaGlsZChpKTt9KTtmLnNlbGVjdGVkSW5kZXg9MDt9O2UucHJvdG90eXBlLmdvVG9TZWxlY3RlZEJsb2NrPWZ1bmN0aW9uKCl7dmFyIGc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxNZXJnZUJsb2Nrc1wiKSxoPWcub3B0aW9uc1tnLnNlbGVjdGVkSW5kZXhdLGY9dGhpcy5ibG9ja3MuZmluZChmdW5jdGlvbihpKXtyZXR1cm4gaS5OYW1lPT09aC52YWx1ZTt9KTtpZighZil7cmV0dXJuO31iLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5Hb1RvSXRlbSxiLkl0ZW1UeXBlLk1lcmdlQmxvY2ssMCwwLHtuYW1lOmYuTmFtZX0pO307ZS5wcm90b3R5cGUucmVuYW1lU2VsZWN0ZWRCbG9jaz1mdW5jdGlvbigpe3ZhciBuPXRoaXMsaz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbE1lcmdlQmxvY2tzXCIpLG09ay5vcHRpb25zW2suc2VsZWN0ZWRJbmRleF0sZz10aGlzLmJsb2Nrcy5maW5kKGZ1bmN0aW9uKGkpe2lmKGkuTmV3TmFtZSE9PVwiXCIpe3JldHVybiBpLk5ld05hbWU9PT1tLnZhbHVlO31lbHNle3JldHVybiBpLk5hbWU9PT1tLnZhbHVlO319KTtpZighZyl7cmV0dXJuO31pZihnLk5ld05hbWUhPT1cIlwiKXtmb3IodmFyIGw9MDtsPHRoaXMucmVuYW1lZEJsb2Nrcy5sZW5ndGg7KytsKXt2YXIgZj10aGlzLnJlbmFtZWRCbG9ja3NbbF07aWYoZi5OZXdOYW1lPT09Zy5OZXdOYW1lKXt0aGlzLnJlbmFtZWRCbG9ja3Muc3BsaWNlKGwsMSk7YnJlYWs7fX19dmFyIGg9KGcuTmV3TmFtZSE9PVwiXCIpP2cuTmV3TmFtZTpnLk5hbWUsaj1uZXcgYi5JbnB1dEJveERpYWxvZyhiLnZhcmlvdXNTdHJpbmdSZXNvdXJjZXMuSU5QVVRfQk9YX0RMR19USVRMRV9SRU5BTUVfTUVSR0VfQkxPQ0ssaCk7ai5zaG93TW9kYWwoZnVuY3Rpb24oaSl7aWYoaSE9PVwiXCIpe2cuTmV3TmFtZT1pO24ucmVuYW1lZEJsb2Nrcy5wdXNoKGNsb25lT2JqZWN0KGcpKTtuLnBvcHVsYXRlU2VsZWN0KCk7fX0pO307ZS5wcm90b3R5cGUuZGVsZXRlU2VsZWN0ZWRCbG9jaz1mdW5jdGlvbigpe3ZhciBqPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsTWVyZ2VCbG9ja3NcIiksbD1qLm9wdGlvbnNbai5zZWxlY3RlZEluZGV4XSxoPXRoaXMuYmxvY2tzO2Zvcih2YXIgaz0wO2s8aC5sZW5ndGg7KytrKXt2YXIgZj1oW2tdLGc9KGYuTmV3TmFtZSE9PVwiXCIpP2YuTmV3TmFtZTpmLk5hbWU7aWYoZz09PWwudmFsdWUpe3RoaXMuZGVsZXRlZEJsb2Nrcy5wdXNoKGYuTmFtZSk7aC5zcGxpY2UoaywxKTt0aGlzLnBvcHVsYXRlU2VsZWN0KCk7cmV0dXJuO319fTtlLnByb3RvdHlwZS5maWx0ZXJBbmRTb3J0PWZ1bmN0aW9uKCl7dmFyIGo9dGhpcyxoO3ZhciBrPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsTWVyZ2VCbG9ja3NcIik7dmFyIGc9ay52YWx1ZTt2YXIgZj10aGlzLmJsb2Nrcy5maW5kKGZ1bmN0aW9uKG0pe3ZhciBuPW0uTmV3TmFtZT9tLk5ld05hbWU6bS5OYW1lO3JldHVybiBuPT09Zzt9KTtpZighZil7dGhyb3cgbmV3IEVycm9yKFwiQmxvY2sgbm90IGZvdW5kXCIpO312YXIgaT10aGlzLnVwZGF0ZWRGaWx0ZXJBbmRTb3J0SW5mb1tmLk5hbWVdO2lmKGkpe2g9bmV3IGIuTWVyZ2VCbG9ja0ZpbHRlckFuZFNvcnREaWFsb2coZi5Db2x1bW5OYW1lcyxpLkZpbHRlcnMsaS5Tb3J0aW5nSW5zdHJ1Y3Rpb25zLGwpO31lbHNle2g9bmV3IGIuTWVyZ2VCbG9ja0ZpbHRlckFuZFNvcnREaWFsb2coZi5Db2x1bW5OYW1lcyxmLkZpbHRlcnMsZi5Tb3J0aW5nSW5zdHJ1Y3Rpb25zLGwpO31oLnNob3dNb2RhbCgpO2Z1bmN0aW9uIGwobSxuKXtqLnVwZGF0ZWRGaWx0ZXJBbmRTb3J0SW5mb1tmLk5hbWVdPXtGaWx0ZXJzOm0sU29ydGluZ0luc3RydWN0aW9uczpufTt9fTtlLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe3ZhciBqPXRoaXM7dGhpcy5wb3B1bGF0ZVNlbGVjdCgpO2Z1bmN0aW9uIGgoayl7ai5nb1RvU2VsZWN0ZWRCbG9jaygpO31mdW5jdGlvbiBpKGspe2oucmVuYW1lU2VsZWN0ZWRCbG9jaygpO31mdW5jdGlvbiBmKGspe2ouZGVsZXRlU2VsZWN0ZWRCbG9jaygpO31mdW5jdGlvbiBnKGspe2ouZmlsdGVyQW5kU29ydCgpO31kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkVESVRfTUVSR0VfQkxPQ0tfRExHX0JUTl9HT1RPXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGgpO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRURJVF9NRVJHRV9CTE9DS19ETEdfQlROX1JFTkFNRVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixpKTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkVESVRfTUVSR0VfQkxPQ0tfRExHX0JUTl9ERUxcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZik7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJFRElUX01FUkdFX0JMT0NLX0RMR19CVE5fRkxUX1NPUlRcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZyk7fTtlLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihmKXthKFwiI0VESVRfTUVSR0VfQkxPQ0tfRExHX0xCTF9TRUxfTUVSR0VfQkxPQ0tcIikudGV4dChmLkVESVRfTUVSR0VfQkxPQ0tfRExHX0xCTF9TRUxfTUVSR0VfQkxPQ0spO2EoXCIjRURJVF9NRVJHRV9CTE9DS19ETEdfQlROX0dPVE9cIikudGV4dChmLkVESVRfTUVSR0VfQkxPQ0tfRExHX0JUTl9HT1RPKTthKFwiI0VESVRfTUVSR0VfQkxPQ0tfRExHX0JUTl9SRU5BTUVcIikudGV4dChmLkVESVRfTUVSR0VfQkxPQ0tfRExHX0JUTl9SRU5BTUUpO2EoXCIjRURJVF9NRVJHRV9CTE9DS19ETEdfQlROX0RFTFwiKS50ZXh0KGYuRURJVF9NRVJHRV9CTE9DS19ETEdfQlROX0RFTCk7YShcIiNFRElUX01FUkdFX0JMT0NLX0RMR19CVE5fRkxUX1NPUlRcIikudGV4dChmLkVESVRfTUVSR0VfQkxPQ0tfRExHX0JUTl9GTFRfU09SVCk7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoZik7fTtyZXR1cm4gZTt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuU2V0Q2hhcnREYXRhUmVsYXRpb25EaWFsb2c9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhoLGQpO2Z1bmN0aW9uIGgoaSl7ZC5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLlNldENoYXJ0RGF0YVJlbGF0aW9uRGlhbG9nLEVsZW1lbnRJRDpcInNldENoYXJ0RGF0YVJlbGF0aW9uRGlhbG9nXCIsV2lkdGg6XCJhdXRvXCIsVGl0bGVSZXNvdXJjZU5hbWU6XCJTRVRfQ0hBUlRfREFUQV9SRUxfRExHX1RJVExFXCJ9O3RoaXMuZGF0YVNvdXJjZT1pLkRhdGFTb3VyY2U7dGhpcy5jdXJyZW50Q2hhcnRSZWxhdGlvbj1pLkN1cnJlbnRDaGFydFJlbGF0aW9uO3RoaXMubWFpblRhYmxlPW51bGw7fWZ1bmN0aW9uIGYoail7dmFyIGk9ai50YXJnZXQ7dmFyIGs9aS5vcHRpb25zW2kuc2VsZWN0ZWRJbmRleF0udmFsdWU7dGhpcy5tYWluVGFibGU9dGhpcy5kYXRhU291cmNlLlRhYmxlcy5maW5kKGZ1bmN0aW9uKGwpe3JldHVybiBsLlRhYmxlTmFtZT09PWs7fSk7dGhpcy51cGRhdGVDaGlsZFRhYmxlRHJvcERvd24oayk7fWZ1bmN0aW9uIGUobCl7dmFyIGk9bC50YXJnZXQ7dmFyIGs9aS5vcHRpb25zW2kuc2VsZWN0ZWRJbmRleF0udmFsdWU7dmFyIGo9dGhpcy5tYWluVGFibGUuQ2hpbGRUYWJsZXMuZmluZChmdW5jdGlvbihtKXtyZXR1cm4gbS5UYWJsZU5hbWU9PT1rO30pO2coaik7fWZ1bmN0aW9uIGcoayl7dmFyIGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eERpYWxvZ19jYkF4aXNMYWJlbHNcIik7dmFyIGo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eERpYWxvZ19jYlZhbHVlc1wiKTtpLmlubmVySFRNTD1cIlwiO2ouaW5uZXJIVE1MPVwiXCI7ay5Db2x1bW5zLmZvckVhY2goZnVuY3Rpb24obCl7dmFyIG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO20uaW5uZXJIVE1MPW4uaW5uZXJIVE1MPWwuQ29sdW1uTmFtZTttLnZhbHVlPW4udmFsdWU9bC5Db2x1bW5OYW1lO2kuYXBwZW5kQ2hpbGQobSk7ai5hcHBlbmRDaGlsZChuKTt9KTt9aC5wcm90b3R5cGUudXBkYXRlQ2hpbGRUYWJsZURyb3BEb3duPWZ1bmN0aW9uKGspe3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhEaWFsb2dfY2JDaGlsZFRhYmxlXCIpO3ZhciBsPXRoaXMuZGF0YVNvdXJjZS5UYWJsZXMuZmluZChmdW5jdGlvbihtKXtyZXR1cm4gbS5UYWJsZU5hbWU9PT1rO30pO2lmKCFsKXtyZXR1cm47fWkuaW5uZXJIVE1MPVwiXCI7dmFyIGo9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2wuQ2hpbGRUYWJsZXMuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO20uaW5uZXJIVE1MPW4uVGFibGVOYW1lO20udmFsdWU9bi5UYWJsZU5hbWU7ai5hcHBlbmRDaGlsZChtKTt9KTtpLmFwcGVuZENoaWxkKGopO2cobC5DaGlsZFRhYmxlc1swXSk7fTtoLnByb3RvdHlwZS5wb3B1bGF0ZUNvbWJvYm94ZXM9ZnVuY3Rpb24oKXt2YXIgbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4RGlhbG9nX2NiTWFpblRhYmxlXCIpO3ZhciBrPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhEaWFsb2dfY2JDaGlsZFRhYmxlXCIpO3ZhciBtPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTt0aGlzLmRhdGFTb3VyY2UuVGFibGVzLmZvckVhY2goZnVuY3Rpb24ocSl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtpLmlubmVySFRNTD1xLlRhYmxlTmFtZTtpLnZhbHVlPXEuVGFibGVOYW1lO20uYXBwZW5kQ2hpbGQoaSk7fSk7bC5hcHBlbmRDaGlsZChtKTt2YXIgaj1mYWxzZTt2YXIgbz10aGlzLmRhdGFTb3VyY2UuTWFzdGVyVGFibGUuVGFibGVOYW1lO2Zvcih2YXIgbj0wO248bC5vcHRpb25zLmxlbmd0aDsrK24pe3ZhciBwPWwub3B0aW9uc1tuXS52YWx1ZTtpZihvPT09cCl7bC5zZWxlY3RlZEluZGV4PW47aj10cnVlO2JyZWFrO319aWYoIWope289dGhpcy5kYXRhU291cmNlLlRhYmxlc1swXS5UYWJsZU5hbWU7fW89bC5vcHRpb25zW2wuc2VsZWN0ZWRJbmRleF0udmFsdWU7dGhpcy5tYWluVGFibGU9dGhpcy5kYXRhU291cmNlLlRhYmxlcy5maW5kKGZ1bmN0aW9uKGkpe3JldHVybiBpLlRhYmxlTmFtZT09PW87fSk7dGhpcy51cGRhdGVDaGlsZFRhYmxlRHJvcERvd24obyk7bC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZi5iaW5kKHRoaXMpKTtrLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixlLmJpbmQodGhpcykpO307aC5wcm90b3R5cGUuY2xvc2luZz1mdW5jdGlvbigpe2lmKHRoaXMuZGlhbG9nRGF0YS5kaWFsb2dSZXN1bHQpe3ZhciBqPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhEaWFsb2dfY2JDaGlsZFRhYmxlXCIpO3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhEaWFsb2dfY2JBeGlzTGFiZWxzXCIpO3ZhciBrPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhEaWFsb2dfY2JWYWx1ZXNcIik7dGhpcy5kaWFsb2dEYXRhLmNoYXJ0TmFtZT1qLm9wdGlvbnNbai5zZWxlY3RlZEluZGV4XS52YWx1ZTt0aGlzLmRpYWxvZ0RhdGEuY2hhcnRBcmVhTmFtZT1pLm9wdGlvbnNbaS5zZWxlY3RlZEluZGV4XS52YWx1ZTt0aGlzLmRpYWxvZ0RhdGEuc2VyaWVzTmFtZT1rLm9wdGlvbnNbay5zZWxlY3RlZEluZGV4XS52YWx1ZTt9fTtoLnByb3RvdHlwZS5kaWFsb2dSZWFkeT1mdW5jdGlvbigpe3RoaXMucG9wdWxhdGVDb21ib2JveGVzKCk7fTtoLnByb3RvdHlwZS5hcHBseVN0cmluZ1Jlc291cmNlcz1mdW5jdGlvbihpKXthKFwiI3R4RGlhbG9nX2xibE1haW5UYmxcIikudGV4dChpLlNFVF9DSEFSVF9EQVRBX1JFTF9ETEdfTEJMX01BSU5fVEJMKTthKFwiI3R4RGlhbG9nX2xibENoaWxkVGJsXCIpLnRleHQoaS5TRVRfQ0hBUlRfREFUQV9SRUxfRExHX0xCTF9DSElMRF9UQkwpO2EoXCIjdHhEaWFsb2dfbGJsQXhpc0xibHNcIikudGV4dChpLlNFVF9DSEFSVF9EQVRBX1JFTF9ETEdfTEJMX0FYSVNfTEJMUyk7YShcIiN0eERpYWxvZ19sYmxWYWx1ZXNcIikudGV4dChpLlNFVF9DSEFSVF9EQVRBX1JFTF9ETEdfTEJMX1ZBTFVFUyk7dGhpcy5zZXREZWZhdWx0QnRuVGV4dHMoaSk7fTtyZXR1cm4gaDt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IudHhEaWFsb2c9bnVsbDtiLlNlY3Rpb25Gb3JtYXREaWFsb2dUYWI9e01hcmdpbnNBbmRQYXBlcjowLEhlYWRlcnNBbmRGb290ZXJzOjEsQ29sdW1uczoyLEJvcmRlcnM6M307Yi5UYWJsZUZvcm1hdERpYWxvZ1RhYj17RnJhbWVBbmRDb2xvcjowLFNpemVBbmRGb3JtYXR0aW5nOjF9O2IuVHhEaWFsb2c9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChnLGksZSxmLGgpe3RoaXMuZGlhbG9nVHlwZT1mO3RoaXMuaW5pdGlhbEltYWdlPWc7dGhpcy5zaXplPWk7dGhpcy5jYXB0aW9uPWU7dGhpcy5kaWFsb2dDb250YWluZXI9bnVsbDt0aGlzLmRlcHRoPWg/aC5kZXB0aCsxOjA7dGhpcy5kaWFsb2dDb250YWluZXJJRD1cInR4RGxnQ29udGFpbmVyX1wiK3RoaXMuZGVwdGg7dGhpcy5wYXJlbnREaWFsb2c9aHx8bnVsbDt0aGlzLmNoaWxkRGlhbG9nPW51bGw7dGhpcy52aWV3ZXI9bnVsbDt0aGlzLmNhcmV0U3RhdGVCdWZmZXI9bnVsbDt0aGlzLmNhcmV0U3RhdGVDaGFuZ2VkQm91bmQ9dGhpcy5jYXJldFN0YXRlQ2hhbmdlZC5iaW5kKHRoaXMpO3RoaXMuaW1hZ2VSZWNlaXZlZEJvdW5kPXRoaXMuaW1hZ2VSZWNlaXZlZC5iaW5kKHRoaXMpO3RoaXMuaW1hZ2VSZWdpb25zVXBkYXRlZEJvdW5kPXRoaXMuaW1hZ2VSZWdpb25zVXBkYXRlZC5iaW5kKHRoaXMpO3RoaXMuZGlhbG9nQ2xvc2VkQm91bmQ9dGhpcy5kaWFsb2dDbG9zZWQuYmluZCh0aGlzKTt0aGlzLnJlc291cmNlc1JlY2VpdmVkSGFuZGxlckJvdW5kPXRoaXMucmVzb3VyY2VzUmVjZWl2ZWRIYW5kbGVyLmJpbmQodGhpcyk7aWYoIXRoaXMucGFyZW50RGlhbG9nKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZGlhbG9nQ2FyZXRTdGF0ZUNoYW5nZWRcIix0aGlzLmNhcmV0U3RhdGVDaGFuZ2VkQm91bmQpO319ZC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSxmKXtmPWZ8fGZhbHNlO2lmKCF0aGlzLnBhcmVudERpYWxvZyl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpYWxvZ0NhcmV0U3RhdGVDaGFuZ2VkXCIsdGhpcy5jYXJldFN0YXRlQ2hhbmdlZEJvdW5kKTtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHhEaWFsb2dJbWFnZVJlY2VpdmVkXCIsdGhpcy5pbWFnZVJlY2VpdmVkQm91bmQpO2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0eERpYWxvZ0ltYWdlUmVnaW9uc1VwZGF0ZWRcIix0aGlzLmltYWdlUmVnaW9uc1VwZGF0ZWRCb3VuZCk7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInR4RGlhbG9nQ2xvc2VkXCIsdGhpcy5kaWFsb2dDbG9zZWRCb3VuZCk7fWlmKCFmKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5DbG9zZURpYWxvZyx0aGlzLmRlcHRoKTt9YShlKS5kaWFsb2coXCJkZXN0cm95XCIpLnJlbW92ZSgpO2lmKHRoaXMuZGlhbG9nQ29udGFpbmVyKXt0aGlzLmRpYWxvZ0NvbnRhaW5lci5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZGlhbG9nQ29udGFpbmVyKTt9Yi5tb3VzZU93bmVyPW51bGw7aWYoIXRoaXMucGFyZW50RGlhbG9nKXtiLnR4RGlhbG9nPW51bGw7aWYoIWIuaXNUb3VjaERldmljZSl7Yi50ZXh0Vmlld2VyLmZvY3VzKCk7fX1lbHNle3RoaXMucGFyZW50RGlhbG9nLmNoaWxkRGlhbG9nPW51bGw7aWYoIWIuaXNUb3VjaERldmljZSl7dGhpcy5wYXJlbnREaWFsb2cuZm9jdXMoKTt9fX07ZC5wcm90b3R5cGUuZGlhbG9nUmVhZHk9ZnVuY3Rpb24oKXt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4RGlhbG9nQ29udGVudFwiKTtnLmlkPWcuaWQrXCJfXCIrdGhpcy5kZXB0aDtnLndpZHRoPXRoaXMuc2l6ZS5XaWR0aDtnLmhlaWdodD10aGlzLnNpemUuSGVpZ2h0O3RoaXMudmlld2VyPW5ldyBiLkNvbXBvbmVudFZpZXdlcihnLGIuQ29tcG9uZW50VHlwZS5UeERpYWxvZyx0aGlzLmRpYWxvZ1R5cGUsdGhpcy5kZXB0aCk7dGhpcy52aWV3ZXIuc2V0SW1hZ2UodGhpcy5pbml0aWFsSW1hZ2UpO2RlbGV0ZSB0aGlzLmluaXRpYWxJbWFnZTtpZih0aGlzLmNhcmV0U3RhdGVCdWZmZXIpe3RoaXMudmlld2VyLnNldENhcmV0U3RhdGUodGhpcy5jYXJldFN0YXRlQnVmZmVyKTt0aGlzLmNhcmV0U3RhdGVCdWZmZXI9bnVsbDt9dmFyIGY9YShcIiN0eERpYWxvZ1wiKSxpPWYuY3NzKFwibWFyZ2luLWxlZnRcIiksZT17d2lkdGg6Zi5jc3MoXCJib3JkZXItbGVmdC13aWR0aFwiKSxjb2xvcjpmLmNzcyhcImJvcmRlci1sZWZ0LWNvbG9yXCIpLHN0eWxlOmYuY3NzKFwiYm9yZGVyLWxlZnQtc3R5bGVcIil9O2YuY3NzKFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLGUud2lkdGgpO2YuY3NzKFwiYm9yZGVyLWJvdHRvbS1zdHlsZVwiLGUuc3R5bGUpO2YuY3NzKFwiYm9yZGVyLWJvdHRvbS1jb2xvclwiLGUuY29sb3IpO2YuY3NzKFwibWFyZ2luLWJvdHRvbVwiLGkpO3ZhciBoPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhEaWFsb2dcIik7aC5pZD1oLmlkK1wiX1wiK3RoaXMuZGVwdGg7YShcImRpdi50eHVpLWRpYWxvZyBidXR0b24udHh1aS1kaWFsb2ctdGl0bGViYXItY2xvc2VcIikuYmx1cigpO2lmKCFiLmlzVG91Y2hEZXZpY2Upe3RoaXMudmlld2VyLmZvY3VzKCk7fX07ZC5wcm90b3R5cGUuZGlhbG9naXplPWZ1bmN0aW9uKGUpe3ZhciBmPXRoaXM7dGhpcy5kaWFsb2dDb250YWluZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaWFsb2dDb250YWluZXJJRCk7dGhpcy5kaWFsb2dDb250YWluZXIuaW5uZXJIVE1MPWUuaHRtbDthKFwiI3R4RGlhbG9nXCIpLmRpYWxvZyh7bW9kYWw6dHJ1ZSxyZXNpemFibGU6ZmFsc2Usd2lkdGg6XCJhdXRvXCIsaGVpZ2h0OlwiYXV0b1wiLHRpdGxlOnRoaXMuY2FwdGlvbixidXR0b25zOnt9LGNsb3NlOmZ1bmN0aW9uKCl7Zi5jbG9zZSh0aGlzKTt9LH0pO2lmKCF0aGlzLnBhcmVudERpYWxvZyl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInR4RGlhbG9nSW1hZ2VSZWNlaXZlZFwiLHRoaXMuaW1hZ2VSZWNlaXZlZEJvdW5kKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidHhEaWFsb2dJbWFnZVJlZ2lvbnNVcGRhdGVkXCIsdGhpcy5pbWFnZVJlZ2lvbnNVcGRhdGVkQm91bmQpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0eERpYWxvZ0Nsb3NlZFwiLHRoaXMuZGlhbG9nQ2xvc2VkQm91bmQpO310aGlzLmRpYWxvZ1JlYWR5KCk7fTtkLnByb3RvdHlwZS5zaG93Q2hpbGREaWFsb2c9ZnVuY3Rpb24oZixnLGUpe2lmKHRoaXMuY2hpbGREaWFsb2cpe3RoaXMuY2hpbGREaWFsb2cuc2hvd0NoaWxkRGlhbG9nKGYsZyxlKTt9ZWxzZXt0aGlzLmNoaWxkRGlhbG9nPW5ldyBkKGYsZyxlLGIuVFhEaWFsb2dUeXBlLkNoaWxkRGlhbG9nLHRoaXMpO3RoaXMuY2hpbGREaWFsb2cuc2hvd01vZGFsKCk7fX07ZC5wcm90b3R5cGUuY2FyZXRTdGF0ZUNoYW5nZWQ9ZnVuY3Rpb24oZil7dmFyIGc9Zi5kZXRhaWw7aWYodGhpcy5kZXB0aDxnLlBhcmFtMyl7dGhpcy5jaGlsZERpYWxvZy5jYXJldFN0YXRlQ2hhbmdlZChmKTt9ZWxzZXtpZihnLlBhcmFtMj09dGhpcy5kaWFsb2dUeXBlKXtpZih0aGlzLnZpZXdlcil7dGhpcy52aWV3ZXIuc2V0Q2FyZXRTdGF0ZShnLkRhdGEpO31lbHNle3RoaXMuY2FyZXRTdGF0ZUJ1ZmZlcj1nLkRhdGE7fX19fTtkLnByb3RvdHlwZS5kaWFsb2dDbG9zZWQ9ZnVuY3Rpb24oZil7dmFyIGc9Zi5kZXRhaWw7aWYodGhpcy5kZXB0aDxnLm5lc3RpbmdEZXB0aCl7aWYodGhpcy5jaGlsZERpYWxvZyl7dGhpcy5jaGlsZERpYWxvZy5kaWFsb2dDbG9zZWQoZik7fX1lbHNle2lmKGcuZGlhbG9nVHlwZT09dGhpcy5kaWFsb2dUeXBlKXt0aGlzLmNsb3NlKGEoXCIjdHhEaWFsb2dfXCIrdGhpcy5kZXB0aCksdHJ1ZSk7fX19O2QucHJvdG90eXBlLmltYWdlUmVjZWl2ZWQ9ZnVuY3Rpb24oZil7dmFyIGc9Zi5kZXRhaWw7aWYodGhpcy5kZXB0aDxnLlBhcmFtMyl7dGhpcy5jaGlsZERpYWxvZy5pbWFnZVJlY2VpdmVkKGYpO31lbHNle2lmKGcuUGFyYW0yPT10aGlzLmRpYWxvZ1R5cGUpe2lmKHRoaXMudmlld2VyKXt0aGlzLnZpZXdlci5zZXRJbWFnZShnLkRhdGEpO319fX07ZC5wcm90b3R5cGUuaW1hZ2VSZWdpb25zVXBkYXRlZD1mdW5jdGlvbihmKXt2YXIgZz1mLmRldGFpbDtpZih0aGlzLmRlcHRoPGcuUGFyYW0zKXt0aGlzLmNoaWxkRGlhbG9nLmltYWdlUmVnaW9uc1VwZGF0ZWQoZik7fWVsc2V7aWYoZy5QYXJhbTI9PXRoaXMuZGlhbG9nVHlwZSl7dGhpcy52aWV3ZXIudXBkYXRlSW1hZ2VSZWdpb25zKGcuRGF0YS50aWxlcyk7fX19O2QucHJvdG90eXBlLnJlc291cmNlc1JlY2VpdmVkSGFuZGxlcj1mdW5jdGlvbihmKXtpZihmLmRldGFpbC5kaWFsb2dUeXBlPT1iLkhUTUxEaWFsb2dUeXBlLlR4RGlhbG9nRnJhbWUpe3RoaXMuZGlhbG9naXplKGYuZGV0YWlsLnJlc291cmNlcyk7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpYWxvZ1Jlc291cmNlc1JlY2VpdmVkXCIsdGhpcy5yZXNvdXJjZXNSZWNlaXZlZEhhbmRsZXJCb3VuZCk7fX07ZC5wcm90b3R5cGUuZ2V0QWN0aXZlVmlld2VyPWZ1bmN0aW9uKCl7aWYoIXRoaXMuY2hpbGREaWFsb2cpe3JldHVybiB0aGlzLnZpZXdlcjt9ZWxzZXtyZXR1cm4gdGhpcy5jaGlsZERpYWxvZy5nZXRBY3RpdmVWaWV3ZXIoKTt9fTtkLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe2lmKCF0aGlzLmNoaWxkRGlhbG9nKXt0aGlzLnZpZXdlci5mb2N1cygpO31lbHNle3RoaXMuY2hpbGREaWFsb2cuZm9jdXMoKTt9fTtkLnByb3RvdHlwZS5ibHVyPWZ1bmN0aW9uKCl7aWYoIXRoaXMuY2hpbGREaWFsb2cpe3RoaXMudmlld2VyLmJsdXIoKTt9ZWxzZXt0aGlzLmNoaWxkRGlhbG9nLmJsdXIoKTt9fTtkLnByb3RvdHlwZS5zaG93TW9kYWw9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKTt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2YuaWQ9dGhpcy5kaWFsb2dDb250YWluZXJJRDtlLmFwcGVuZENoaWxkKGYpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkaWFsb2dSZXNvdXJjZXNSZWNlaXZlZFwiLHRoaXMucmVzb3VyY2VzUmVjZWl2ZWRIYW5kbGVyQm91bmQpO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkdldERpYWxvZ1Jlc291cmNlcyxiLkhUTUxEaWFsb2dUeXBlLlR4RGlhbG9nRnJhbWUpO307cmV0dXJuIGQ7fSkoKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTtiLkNvbG9yUGFsZXR0ZT1bNDI3ODE5MDA4MCw0Mjg4MjMwMTQ0LDQyODE1NDU0NzIsNDI3ODIwMzEzNiw0Mjc4MjAzMjM4LDQyNzgxOTAyMDgsNDI4MTU0NTYyNSw0MjgxNTQ1NTIzLDQyODY1Nzg2ODgsNDI5NDkyNzg3Miw0Mjg2NjExNDU2LDQyNzgyMjI4NDgsNDI3ODIyMjk3Niw0Mjc4MTkwMzM1LDQyODQ5MDEwMTcsNDI4NjYxMTU4NCw0Mjk0OTAxNzYwLDQyOTQ5NDA5MjgsNDI4ODI2OTMxMiw0MjgxNTcxNjg2LDQyODE1ODQ4NDQsNDI4MTU1ODc4Myw0Mjg2NTc4ODE2LDQyODgyNTY0MDksNDI5NDkwMjAxNSw0Mjk0OTUzOTg0LDQyOTQ5NjcwNDAsNDI3ODI1NTM2MCw0Mjc4MjU1NjE1LDQyNzgyNDI1NTksNDI4ODIzMDI0Niw0MjkwODIyMzM2LDQyOTQ5NDExMzIsNDI5NDk1NDEzNyw0Mjk0OTY3MTkzLDQyOTE2MjQ5MDgsNDI5MTYyNDk1OSw0Mjg4MjY5NTY3LDQyOTE1OTg4NDcsNDI5NDk2NzI5NV07ZnVuY3Rpb24gYyhmLGUpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTt2YXIgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2kuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiO2kuc3R5bGUud2lkdGg9XCIxNnB4XCI7aS5zdHlsZS5oZWlnaHQ9XCIxNnB4XCI7aS5zdHlsZS5jc3NGbG9hdD1cImxlZnRcIjtpLnN0eWxlLmNsZWFyPWU/XCJsZWZ0XCI6XCJub25lXCI7aS5zdHlsZS5wYWRkaW5nPVwiMnB4XCI7aS5zdHlsZS5tYXJnaW5MZWZ0PWU/XCIzcHhcIjpcIjJweFwiO2kuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7aS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiO3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2guc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiO2guc3R5bGUud2lkdGg9XCIxNHB4XCI7aC5zdHlsZS5oZWlnaHQ9XCIxNHB4XCI7aC5zdHlsZS5ib3JkZXI9XCIxcHggc29saWQgbGlnaHRncmF5XCI7aC5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiO2guc3R5bGUuYmFja2dyb3VuZD1oLnN0eWxlLmNvbG9yPWIudG9DU1NDb2xvcihmKTtoLnRleHRDb250ZW50PVwiLlwiO2cuYXBwZW5kQ2hpbGQoaCk7aS5hcHBlbmRDaGlsZChnKTt2YXIgaj1iLnRvQ29sb3JPYmplY3QoZik7aS50eENvbG9yPWo7aS5kYXRhc2V0LnRhZz1KU09OLnN0cmluZ2lmeShqKTtyZXR1cm4gaTt9Yi5tYWtlU21hbGxDb2xvckJ1dHRvbnM9ZnVuY3Rpb24oKXt2YXIgZyxoLGU9W107Zm9yKGg9MDtoPDU7KytoKXtmb3IoZz0wO2c8ODsrK2cpe3ZhciBrPSg4KmgpK2c7dmFyIGY9Yi5Db2xvclBhbGV0dGVba107ZS5wdXNoKGMoZiwoZz09MCkpKTt9fXJldHVybiBlO307Yi5NaW5Db2xvclBpY2tlck1lbnVXaWR0aD0xODA7Yi5nZW5lcmF0ZUNvbG9yUGFsZXR0ZT1mdW5jdGlvbihoLGope3ZhciBnLGU7aj1qfHwwO2lmKCFoKXtyZXR1cm47fWguc3R5bGUubWluV2lkdGg9Yi5NaW5Db2xvclBpY2tlck1lbnVXaWR0aCtcInB4XCI7aj1NYXRoLm1pbihoLmNoaWxkcmVuLmxlbmd0aC0xLGopO2U9Yi5tYWtlU21hbGxDb2xvckJ1dHRvbnMoKTtmb3IoZz0oZS5sZW5ndGgtMSk7Zz49MDstLWcpe3ZhciBmPWVbZ107aC5pbnNlcnRCZWZvcmUoZixoLmNoaWxkcmVuW2pdKTt9fTtiLnRvQ1NTQ29sb3I9ZnVuY3Rpb24oZyl7dmFyIGU9Yi50b0NvbG9yT2JqZWN0KGcpLGY9XCJyZ2JhKFwiK2UucitcIiwgXCIrZS5nK1wiLCBcIitlLmIrXCIsIFwiKyhlLmEvMjU1KStcIilcIjtyZXR1cm4gZjt9O2IudG9Db2xvck9iamVjdD1mdW5jdGlvbihmKXt2YXIgZT17YTooZj4+PjI0KSxyOihmPj4+MTYpJjI1NSxnOihmPj4+OCkmMjU1LGI6ZiYyNTV9O3JldHVybiBlO307cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9ZC5yaWJib25QZXJtaXNzaW9uc1RhYj1kLnJpYmJvblBlcm1pc3Npb25zVGFifHx7fTtiLnJpYmJvblBlcm1pc3Npb25zVGFiPXthbGxvd0FkZGl0aW9uYWxVc2VyTmFtZXM6dHJ1ZSxyZWdpc3RlcmVkVXNlck5hbWVzOltdfTtiLlJpYmJvblRhYlR5cGU9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGMsXCJhbGxvd0FkZGl0aW9uYWxVc2VyTmFtZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIucmliYm9uUGVybWlzc2lvbnNUYWIuYWxsb3dBZGRpdGlvbmFsVXNlck5hbWVzO30sc2V0OmZ1bmN0aW9uKGFsbG93QWRkaXRpb25hbFVzZXJOYW1lcyl7aWYodHlwZW9mIGFsbG93QWRkaXRpb25hbFVzZXJOYW1lcyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWIuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNldFJpYmJvblRhYlByb3BlcnR5LGIuUmliYm9uVGFiVHlwZS5SaWJib25QZXJtaXNzaW9uc1RhYiwwLDAse3Byb3BlcnR5TmFtZTpcImFsbG93QWRkaXRpb25hbFVzZXJOYW1lc1wiLHZhbHVlOmFsbG93QWRkaXRpb25hbFVzZXJOYW1lc30pO2IucmliYm9uUGVybWlzc2lvbnNUYWIuYWxsb3dBZGRpdGlvbmFsVXNlck5hbWVzPWFsbG93QWRkaXRpb25hbFVzZXJOYW1lczt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLFwicmVnaXN0ZXJlZFVzZXJOYW1lc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5yaWJib25QZXJtaXNzaW9uc1RhYi5yZWdpc3RlcmVkVXNlck5hbWVzO30sc2V0OmZ1bmN0aW9uKHJlZ2lzdGVyZWRVc2VyTmFtZXMpe2lmKChyZWdpc3RlcmVkVXNlck5hbWVzPT09bnVsbCl8fChyZWdpc3RlcmVkVXNlck5hbWVzLmNvbnN0cnVjdG9yIT09QXJyYXkpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wicmVnaXN0ZXJlZFVzZXJOYW1lc1wiIG11c3QgYmUgYW4gYXJyYXkuXFwnKTt9cmVnaXN0ZXJlZFVzZXJOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKCh0eXBlb2YgZSE9PVwic3RyaW5nXCIpJiYhKGUgaW5zdGFuY2VvZiBTdHJpbmcpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wicmVnaXN0ZXJlZFVzZXJOYW1lc1wiIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cXCcpO319KTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TZXRSaWJib25UYWJQcm9wZXJ0eSxiLlJpYmJvblRhYlR5cGUuUmliYm9uUGVybWlzc2lvbnNUYWIsMCwwLHtwcm9wZXJ0eU5hbWU6XCJyZWdpc3RlcmVkVXNlck5hbWVzXCIsdmFsdWU6cmVnaXN0ZXJlZFVzZXJOYW1lc30pO2IucmliYm9uUGVybWlzc2lvbnNUYWIucmVnaXN0ZXJlZFVzZXJOYW1lcz1yZWdpc3RlcmVkVXNlck5hbWVzO30sZW51bWVyYWJsZTp0cnVlfSk7cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307Yi5yaWJib25TdHJpbmdSZXNvdXJjZXM9e307Yi5zZXRGaWxlTWVudVN0cmluZ3M9ZnVuY3Rpb24oKXt2YXIgZz1iLnJpYmJvblN0cmluZ1Jlc291cmNlcztmb3IodmFyIGYgaW4gZyl7aWYoZy5oYXNPd25Qcm9wZXJ0eShmKSl7aWYodHlwZW9mIGdbZl09PT1cInN0cmluZ1wiKXtnW2ZdPWdbZl0ucmVwbGFjZSgvXFxcXHI/XFxcXG4vZyxcIjxicj5cIik7fX19Yi5hZGFwdFJpYmJvblRhYldpZHRocygpO3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFiRmlsZVwiKTtpZihlKXtlLnRleHRDb250ZW50PWUuZGF0YXNldC50ZXh0PWcuUklCQk9OX01OVV9GSUxFX1RJVExFO2MoXCJmaWxlTW51SXRlbU5ld1wiLGcuUklCQk9OX01OVV9GSUxFX05FVyk7YyhcImZpbGVNbnVJdGVtT3BlblwiLGcuUklCQk9OX01OVV9GSUxFX09QRU4pO2MoXCJmaWxlTW51SXRlbVNhdmVcIixnLlJJQkJPTl9NTlVfRklMRV9TQVZFKTtjKFwiZmlsZU1udUl0ZW1TYXZlQXNcIixnLlJJQkJPTl9NTlVfRklMRV9TQVZFX0FTKTtjKFwiZmlsZU1udUl0ZW1QcmludFRvUERGXCIsZy5SSUJCT05fTU5VX0ZJTEVfUFJJTlQpO2MoXCJmaWxlTW51SXRlbU9wdGlvbnNcIixnLlJJQkJPTl9NTlVfRklMRV9PUFRJT05TKTt9fTtmdW5jdGlvbiBjKGgsaSl7dmFyIGY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaCk7aWYoIWYpe3JldHVybjt9dmFyIGU9Zi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibGFyZ2UtbWVudS1pdGVtLWNhcHRpb24tY29udGFpbmVyXCIpO2lmKCFlLmxlbmd0aCl7Y29uc29sZS5lcnJvcihcIk1lbnUgaXRlbSBjYXB0aW9uIGNvbnRhaW5lciBkaXYgbm90IGZvdW5kLlwiKTtyZXR1cm47fXZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJQXCIpO2cudGV4dENvbnRlbnQ9aTtlWzBdLmFwcGVuZENoaWxkKGcpO31yZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGFyLGEpe3ZhciBkPWFyLl9wcml2YXRlPWFyLl9wcml2YXRlfHx7fTt2YXIgYj1udWxsO2QuQXBwbGljYXRpb25Nb2RlPU9iamVjdC5mcmVlemUoe05vcm1hbDowLE1haWxNZXJnZVByZXZpZXc6MSx9KTtkLkVkaXRNb2RlPU9iamVjdC5mcmVlemUoe0VkaXQ6MSxSZWFkQW5kU2VsZWN0OjIsUmVhZE9ubHk6MyxVc2VQYXNzd29yZDoyMDQ4fSk7ZC5NZW51VHlwZT1PYmplY3QuZnJlZXplKHtJbnNlcnRTaGFwZXM6MSxJbnNlcnRDaGFydDoyfSk7ZC5SaWJib25NZW51SXRlbVR5cGU9T2JqZWN0LmZyZWV6ZSh7RGVmYXVsdDowLENhdGVnb3J5OjEsU3ltYm9sOjIsQ29sb3JQaWNrZXI6MyxUYWJsZVdpemFyZDo0LENoZWNrTWFyazo1LEltYWdlVXBsb2FkZXI6NixMaXN0VHlwZV9CdWxsZXQ6NyxMaXN0VHlwZV9OdW1iZXI6OH0pO2QuUmliYm9uR3JvdXBFbGVtZW50VHlwZT17fTtkLlJpYmJvbkNvbnRyb2xUeXBlPXt9O2QuUmliYm9uTWVudUl0ZW1TaXplPXt9O2QuUmliYm9uQnV0dG9uU2l6ZT17fTtkLlJpYmJvbk1lbnVFdmVudFR5cGU9e307ZC5SaWJib25CdXR0b25TaXplPXt9O2QuUmliYm9uQnV0dG9uRXZlbnRUeXBlPXt9O2QuUmliYm9uQ29udHJvbFN0YXRlVHlwZT17fTtkLlJpYmJvbkJ1dHRvblN0YXRlVHlwZT17fTtkLlJpYmJvbk1lbnVJdGVtQm9yZGVyPXt9O2QuUmliYm9uTWVudUl0ZW1TdGF0ZVR5cGU9e307ZC5SaWJib25UZXh0Qm94RXZlbnRUeXBlPXt9O2QuUmliYm9uVGV4dEJveFN0YXRlVHlwZT17fTtkLlJpYmJvbkNoZWNrQm94U3RhdGVUeXBlPXt9O2QuTGlzdEJveEV2ZW50VHlwZT17fTtkLkxpc3RJdGVtU3RhdGVUeXBlPXt9O2QuTGlzdEJveFN0YXRlVHlwZT17fTtkLklucHV0Q29udHJvbEV2ZW50VHlwZT17fTtkLkNvbWJvQm94U3RhdGVUeXBlPXt9O2QuUGFyYWdyYXBoU3RydWN0dXJlTGV2ZWxFbnRyeVN0YXRlVHlwZT17fTtkLlBhcmFncmFwaFN0cnVjdHVyZUxldmVsRW50cnlFdmVudFR5cGU9e307ZC5Db21ib0JveENvbW1hbmQ9e307ZC5JbWFnZUtpbmQ9e307ZC5qUXVlcnlNZW51cz17fTt2YXIgYz1bXTt2YXIgZj1cIlwiO2QuYXBwTW9kZT1kLkFwcGxpY2F0aW9uTW9kZS5Ob3JtYWw7dmFyIGc9MDt2YXIgZT1udWxsO2QuaXNSaWJib25WaXNpYmxlPXRydWU7ZC5pc1JpYmJvbkJhclJlbW92ZWQ9ZmFsc2U7ZC5lZGl0TW9kZUN1cj1kLkVkaXRNb2RlLkVkaXQ7dmFyIGg9XCJcIjt2YXIgUT1mYWxzZTtkLlBsYWNlaG9sZGVySW1hZ2U9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVFBQUFDMUhBd0NBQUFBQzBsRVFWUjQybU5nWUFBQUFBTUFBU3NKVFlRQUFBQUFTVVZPUks1Q1lJST1cIjtmdW5jdGlvbiBXKCl7dmFyIGF1PWZ1bmN0aW9uKCl7ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuTmV3RmlsZSk7ZC5zd2l0Y2hUYWJzKGEoXCIjdGFiRGVmYXVsdFwiKSk7YShcIiNmaWxlTW51SXRlbVNhdmVcIikuYWRkQ2xhc3MoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO307aWYoZC5kb2N1bWVudERpcnR5KXtkLmZpbGVTYXZlUXVlc3Rpb24oYXUpO31lbHNle2F1KCk7fX1kLmluaXRSaWJib249ZnVuY3Rpb24oKXtkLmZpbGVNZW51PWEoXCIjZmlsZU1lbnVcIikubWVudSgpLmhpZGUoKTthKFwiI2ZpbGVNZW51XCIpLm9uKFwibWVudXNlbGVjdFwiLFgpO2Quc2V0RmlsZU1lbnVTdHJpbmdzKCk7ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuUmVxdWVzdFJpYmJvblRhYnNBc3luYyk7fTtmdW5jdGlvbiBYKGF1LGF2KXtzd2l0Y2goYXYuaXRlbS5jb250ZXh0LmlkKXtjYXNlXCJmaWxlTW51SXRlbU9wZW5cIjpkLm9wZW5GaWxlKCk7YnJlYWs7Y2FzZVwiZmlsZU1udUl0ZW1TYXZlXCI6YWkoKTticmVhaztjYXNlXCJmaWxlTW51SXRlbVNhdmVBc1wiOmFqKCk7YnJlYWs7Y2FzZVwiZmlsZU1udUl0ZW1OZXdcIjpXKCk7YnJlYWs7Y2FzZVwiZmlsZU1udUl0ZW1QcmludFRvUERGXCI6ZC5wcmludCgpO2JyZWFrO2Nhc2VcImZpbGVNbnVJdGVtT3B0aW9uc1wiOmFxKCk7YnJlYWs7fX1kLm9wZW5GaWxlPWZ1bmN0aW9uKGF3LGF1KXthdz1hd3x8ZC5GaWxlVHlwZS5Eb2N1bWVudDthdT1hdXx8ZC5Db21tYW5kLk9wZW5GaWxlO3ZhciBhdj1mdW5jdGlvbigpe3ZhciBheD1uZXcgZC5PcGVuRmlsZURpYWxvZyhkLkNvbW1hbmQuT3BlbkZpbGUsYXcpO2F4LnNob3dNb2RhbCgpO307aWYoKGF3PT1kLkZpbGVUeXBlLkRvY3VtZW50KSYmZC5kb2N1bWVudERpcnR5KXtkLmZpbGVTYXZlUXVlc3Rpb24oYXYpO31lbHNle2F2KCk7fX07ZnVuY3Rpb24gYWkoKXtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5TYXZlKTt9ZnVuY3Rpb24gYWooKXtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5TaG93RGlhbG9nLGQuRGlhbG9nQ2F0ZWdvcnkuSFRNTERpYWxvZyxkLkhUTUxEaWFsb2dUeXBlLlNhdmVEb2N1bWVudEFzRGlhbG9nKTt9ZnVuY3Rpb24gWShhdSl7aWYoYXUuYXR0cihcImlkXCIpPT09XCJ0YWJGaWxlXCIpe2FwKGF1KTtyZXR1cm4gZmFsc2U7fWVsc2V7ZC5zd2l0Y2hUYWJzKGF1KTt9fWZ1bmN0aW9uIGFwKGF2KXtkLmhpZGVBbGxPdGhlck1lbnVzKCk7dmFyIGF1PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlsZU1lbnVcIik7aWYoIWF1KXtyZXR1cm47fWQuY2FsY01lbnVXaWR0aHMoYXUpO2QuZmlsZU1lbnUuc2hvdygpLnBvc2l0aW9uKHtteTpcImxlZnQgdG9wXCIsYXQ6XCJsZWZ0IGJvdHRvbVwiLG9mOmF2fSk7YShkb2N1bWVudCkub25lKFwiY2xpY2tcIixmdW5jdGlvbigpe2QuZmlsZU1lbnUuaGlkZSgpO30pO31mdW5jdGlvbiBhcSgpe2Quc2VuZENvbW1hbmQoZC5Db21tYW5kLlNob3dEaWFsb2csZC5EaWFsb2dDYXRlZ29yeS5IVE1MRGlhbG9nLGQuSFRNTERpYWxvZ1R5cGUuT3B0aW9uc0RpYWxvZyk7fWZ1bmN0aW9uIE8oYXYpe3ZhciBhdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4UmliYm9uVGFiQ29udGVudENvbnRhaW5lclwiKTtpZihhdS5jbGllbnRXaWR0aD4zMil7cmV0dXJuIGF1LmNsaWVudFdpZHRoO31yZXR1cm4gMDt9ZC51cGRhdGVSaWJib25UYWJDb250ZW50T2Zmc2V0PWZ1bmN0aW9uKCl7dmFyIGF2PU8oZik7aWYoKGc8MCkmJihhditnKTxkLmNsaWVudFNpemUuV2lkdGgpe3ZhciBhdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4UmliYm9uVGFiQ29udGVudENvbnRhaW5lclwiKTt2YXIgYXc9TWF0aC5taW4oMCwoZC5jbGllbnRTaXplLldpZHRoLWF2KSk7YXUuc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlKFwiK2F3K1wicHgsIDBweClcIjtnPWF3O319O2QudXBkYXRlUmliYm9uU2Nyb2xsQXJyb3dzPWZ1bmN0aW9uKCl7dmFyIGFBPU8oZik7dmFyIGF3PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhSaWJib25TY3JvbGxCdXR0b25SaWdodFwiKTt2YXIgYXU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFJpYmJvblNjcm9sbEJ1dHRvbkxlZnRcIik7dmFyIGF6PWF3LmNsaWVudFdpZHRoO3ZhciBhdj1kLmNsaWVudFNpemUuV2lkdGgtYXo7YXcuc3R5bGUubGVmdD1hditcInB4XCI7dmFyIGF4PShnPDApO3ZhciBheT0oZC5jbGllbnRTaXplLldpZHRoPChhQStnKSk7YXUuc3R5bGUub3BhY2l0eT1heD9cIlwiOjA7YXcuc3R5bGUub3BhY2l0eT1heT9cIlwiOjA7fTtkLnVwZGF0ZVJpYmJvbkhpZGVCdXR0b25Qb3M9ZnVuY3Rpb24oKXt2YXIgYXU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eEJ0blJpYmJvbkhpZGVcIik7dmFyIGF3PWF1LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO2lmKGF3PjEwMCl7YXc9MjA7fXZhciBhdj1kLmNsaWVudFNpemUuV2lkdGgtYXctNTthdS5zdHlsZS5sZWZ0PWF2K1wicHhcIjt9O2QuYWRhcHRSaWJib25UYWJXaWR0aHM9ZnVuY3Rpb24oKXt2YXIgYXosYUUsYUY9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImRpdiNyaWJib25iYXIgPiB1bC50YWJzID4gbGkgPiBhXCIpLGF5PTIyLGF1LGFBLGFCLGF2LGFDLGF3PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhUZW1wbGF0ZURlc2lnbmVyQ29udGFpbmVyXCIpLGF4PWF3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2FGPVtdLmZpbHRlci5jYWxsKGFGLGZ1bmN0aW9uKGFIKXtyZXR1cm4gYUguc3R5bGUuZGlzcGxheSE9PVwibm9uZVwiO30pO2lmKCFhRnx8YUYubGVuZ3RoPT09MCl7cmV0dXJuO31hRi5zb3J0KGZ1bmN0aW9uKGFILGFJKXtyZXR1cm4gYUgub2Zmc2V0TGVmdC1hSS5vZmZzZXRMZWZ0O30pO2F2PWQuY2xpZW50U2l6ZS5XaWR0aC1heTthQz1hRlthRi5sZW5ndGgtMV07YUcoKTtpZihhQj5hdil7Zm9yKGF6PWFGLmxlbmd0aC0xO2F6Pj0wOy0tYXope2FFPWFGW2F6XTthRygpO2lmKGFCPmF2KXthRCgpO31lbHNle2JyZWFrO319fWVsc2V7Zm9yKGF6PTA7YXo8YUYubGVuZ3RoOysrYXope2FFPWFGW2F6XTtpZighYUUuZGF0YXNldC53YXNTaHJ1bmspe2NvbnRpbnVlO31hRygpO2lmKGFCPGF2KXthRS50ZXh0Q29udGVudD1hRS5kYXRhc2V0LnRleHQ7YUcoKTtpZihhQj5hdil7YUQoKTticmVhazt9ZGVsZXRlIChhRS5kYXRhc2V0Lndhc1NocnVuayk7YUUudGl0bGU9XCJcIjt9fX1mdW5jdGlvbiBhRCgpe2lmKCFhRS5kYXRhc2V0LnRleHQpe3JldHVybjt9YUUudGV4dENvbnRlbnQ9YUUuZGF0YXNldC50ZXh0LnN1YnN0cmluZygwLDEpK1wi4oCmXCI7YUUudGl0bGU9YUUuZGF0YXNldC50ZXh0O2FFLmRhdGFzZXQud2FzU2hydW5rPXRydWU7fWZ1bmN0aW9uIGFHKCl7YXU9YUMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7YUE9YXUubGVmdC1heC5sZWZ0O2FCPWFBK2F1LndpZHRoO319O2QucmVzZXRSaWJib25UYWJDb250ZW50UG9zPWZ1bmN0aW9uKCl7Zz0wO3ZhciBhdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4UmliYm9uVGFiQ29udGVudENvbnRhaW5lclwiKTthdS5zdHlsZS50cmFuc2Zvcm09bnVsbDtkLnVwZGF0ZVJpYmJvblNjcm9sbEFycm93cygpO307ZnVuY3Rpb24gYW4oYXcpe3ZhciBhdixhdT1udWxsO2F2PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmliYm9uYmFyID4gdWwudGFicyA+IGxpID4gYVtyZWw9XFwnXCIrYXcrXCJcXCddXCIpO2lmKGF2KXthdT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShhdixudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKFwiYm9yZGVyLXRvcC1jb2xvclwiKTt9YXY9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0eFJpYmJvbkNvbnRlbnRBcmVhXCIpO2F2LnN0eWxlLmJvcmRlclRvcD0oYXUhPT1udWxsKT9cIjFweCBzb2xpZCBcIithdTpcIlwiO31kLlJpYmJvblRhYkluZGV4Q2hhbmdlZEV2ZW50QXJncz0oZnVuY3Rpb24oKXtmdW5jdGlvbiBhdShuYW1lKXt0aGlzLm5hbWU9bmFtZTt9cmV0dXJuIGF1O30pKCk7ZC5zd2l0Y2hUYWJzPWZ1bmN0aW9uKGF3KXtkLnNob3dSaWJib25CYXIodHJ1ZSk7YShcIiN0eFJpYmJvblRhYkNvbnRlbnRDb250YWluZXIgZGl2LnRhYi1jb250ZW50XCIpLmNzcyhcImRpc3BsYXlcIixcIm5vbmVcIik7YShcIiNyaWJib25iYXIgdWwudGFicyBhXCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7dmFyIGF2PWF3LmF0dHIoXCJyZWxcIik7YShcIiNcIithdikuY3NzKFwiZGlzcGxheVwiLFwiaW5saW5lLWJsb2NrXCIpO2F3LmFkZENsYXNzKFwic2VsZWN0ZWRcIik7YW4oYXYpO2Y9YXY7ZC5yZXNldFJpYmJvblRhYkNvbnRlbnRQb3MoKTtkLnNldERsZ0xhdW5jaGVyUG9zKCk7dmFyIGF4PWF3LmF0dHIoXCJpZFwiKTtpZihheCE9PWgpe3ZhciBhdT1uZXcgZC5SaWJib25UYWJJbmRleENoYW5nZWRFdmVudEFyZ3MoYXgpO2QuZmlyZUV2ZW50KGQuRXZlbnROYW1lLnJpYmJvblRhYkluZGV4Q2hhbmdlZCxhdSk7ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuUmliYm9uVGFiQ2hhbmdlZCwwLDAsMCx7dGFiSUQ6YXh9KTtoPWF4O319O2Z1bmN0aW9uIFAoYXUpe3JldHVybihhdS5vZmZzZXRQYXJlbnQ9PT1udWxsKTt9ZC5zZXREbGdMYXVuY2hlclBvcz1mdW5jdGlvbigpe3ZhciBhdj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZGl2LnJpYmJvbi1ncm91cCBpbWcudHhEaWFsb2dMYXVuY2hlclwiKTt2YXIgYXo9ZC5pc1RvdWNoRGV2aWNlPygtMSk6MTtpZihkLkJyb3dzZXJEZXRlY3QuYnJvd3Nlcj09PVwiRmlyZWZveFwiKXtheis9Mzt9Zm9yKHZhciBheD0wO2F4PGF2Lmxlbmd0aDsrK2F4KXt2YXIgYXU9YXZbYXhdO3ZhciBhdz1hdS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO2lmKCFQKGF1KSYmIWF1LnN0eWxlLm1hcmdpbkxlZnQpe3ZhciBheT1wYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGF1LnBhcmVudEVsZW1lbnQpLnBhZGRpbmdMZWZ0LDEwKTt2YXIgYUE9YXUucGFyZW50RWxlbWVudC5jbGllbnRXaWR0aDthdS5zdHlsZS5tYXJnaW5MZWZ0PWFBLWF1LmNsaWVudFdpZHRoLWF5LTErXCJweFwiO2F1LnN0eWxlLm1hcmdpblRvcD0tKGQucmliYm9uQmFySGVpZ2h0LWF3Lm9mZnNldFRvcCkrYXorXCJweFwiO2F1LnN0eWxlLm9wYWNpdHk9XCJcIjt9fX07ZC5yaWJib25UYWJzTG9hZGVkPWZ1bmN0aW9uKCl7c2V0VGltZW91dChkLnNldERsZ0xhdW5jaGVyUG9zLDEwMDApO2FtKCk7ZC51cGRhdGVSaWJib25TY3JvbGxBcnJvd3MoKTtkLmZpcmVFdmVudChkLkV2ZW50TmFtZS5yaWJib25UYWJzTG9hZGVkKTt9O2Z1bmN0aW9uIGFtKCl7dmFyIGF1O2F1PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZmlsZU1udUl0ZW1OZXcgZGl2LmxhcmdlLW1lbnUtaXRlbS1pbWFnZS1jb250YWluZXIgaW1nXCIpO2lmKGF1KXthdS5zcmM9ZC5pbWFnZVJlc291cmNlcy5sYXJnZS5uZXdwYWdlO31hdT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ZpbGVNbnVJdGVtT3BlbiBkaXYubGFyZ2UtbWVudS1pdGVtLWltYWdlLWNvbnRhaW5lciBpbWdcIik7aWYoYXUpe2F1LnNyYz1kLmltYWdlUmVzb3VyY2VzLmxhcmdlLm9wZW47fWF1PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZmlsZU1udUl0ZW1TYXZlIGRpdi5sYXJnZS1tZW51LWl0ZW0taW1hZ2UtY29udGFpbmVyIGltZ1wiKTtpZihhdSl7YXUuc3JjPWQuaW1hZ2VSZXNvdXJjZXMubGFyZ2Uuc2F2ZTt9YXU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmaWxlTW51SXRlbVNhdmVBcyBkaXYubGFyZ2UtbWVudS1pdGVtLWltYWdlLWNvbnRhaW5lciBpbWdcIik7aWYoYXUpe2F1LnNyYz1kLmltYWdlUmVzb3VyY2VzLmxhcmdlLnNhdmVhczt9YXU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmaWxlTW51SXRlbVByaW50VG9QREYgZGl2LmxhcmdlLW1lbnUtaXRlbS1pbWFnZS1jb250YWluZXIgaW1nXCIpO2lmKGF1KXthdS5zcmM9ZC5pbWFnZVJlc291cmNlcy5sYXJnZS5wcmludDt9YXU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmaWxlTW51SXRlbU9wdGlvbnMgZGl2LmxhcmdlLW1lbnUtaXRlbS1pbWFnZS1jb250YWluZXIgaW1nXCIpO2lmKGF1KXthdS5zcmM9ZC5pbWFnZVJlc291cmNlcy5sYXJnZS5vcHRpb25zO312YXIgYXY9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiN0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXIgZGl2LnNpZGViYXIgaW1nLmNsb3NlYnRuXCIpO1tdLmZvckVhY2guY2FsbChhdixmdW5jdGlvbihhdyl7YXcuc3JjPWQuaW1hZ2VSZXNvdXJjZXMuc21hbGwuY2xvc2U7fSk7YXY9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiN0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXIgZGl2LnNpZGViYXIgaW1nLnJlZnJlc2hidG5cIik7W10uZm9yRWFjaC5jYWxsKGF2LGZ1bmN0aW9uKGF3KXthdy5zcmM9ZC5pbWFnZVJlc291cmNlcy5zbWFsbC5yZWZyZXNoO30pO2F1PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhBcnJvd1JpYmJvbkhpZGVXcmFwcGVyXCIpO2lmKGF1KXthdS5zcmM9ZC5pbWFnZVJlc291cmNlcy5zbWFsbC5jaGV2cm9uX3VwO319ZC5zZXRFZGl0TW9kZT1mdW5jdGlvbihhdSl7ZC5lZGl0TW9kZUN1cj1hdTt9O2Z1bmN0aW9uIGF0KGF1KXt2YXIgYXY9YXUuZGV0YWlsO2lmKGF2LnNob3cmJiFiKXtiPW5ldyBkLldhaXREaWFsb2coKTtiLnNob3dNb2RhbChhdi5yZXNvdXJjZXMpO31lbHNle2lmKCFhdi5zaG93JiZiKXtiLmNsb3NlKGEoXCIjd2FpdERpYWxvZ1wiKSk7Yj1udWxsO319fWZ1bmN0aW9uIGFnKGF5LGF6KXtpZihheSYmKGF5LnN0eWxlLm9wYWNpdHkhPT1cIlwiKSl7cmV0dXJuO312YXIgYXU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFJpYmJvblRhYkNvbnRlbnRDb250YWluZXJcIik7dmFyIGF2PWF1LmNsaWVudFdpZHRoO3ZhciBheD0oYXYrZyktZC5jbGllbnRTaXplLldpZHRoO3ZhciBhdz0tTWF0aC5taW4oYXgsZC5jbGllbnRTaXplLldpZHRoKTtpZihheil7YXUuc3R5bGUudHJhbnNpdGlvbj1cInRyYW5zZm9ybSAwc1wiO31hdS5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGUoXCIrKGcrYXcpK1wicHgsIDBweClcIjtnKz1hdztkLnVwZGF0ZVJpYmJvblNjcm9sbEFycm93cygpO2lmKGF6KXthdS5zdHlsZS50cmFuc2l0aW9uPVwiXCI7fX1mdW5jdGlvbiBhZihheCxheSl7aWYoYXgmJihheC5zdHlsZS5vcGFjaXR5IT09XCJcIikpe3JldHVybjt9dmFyIGF1PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhSaWJib25UYWJDb250ZW50Q29udGFpbmVyXCIpO3ZhciBhdz0tZzt2YXIgYXY9TWF0aC5taW4oYXcsZC5jbGllbnRTaXplLldpZHRoKTtpZihheSl7YXUuc3R5bGUudHJhbnNpdGlvbj1cInRyYW5zZm9ybSAwc1wiO31hdS5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGUoXCIrKGcrYXYpK1wicHgsIDBweClcIjtnKz1hdjtkLnVwZGF0ZVJpYmJvblNjcm9sbEFycm93cygpO2lmKGF5KXthdS5zdHlsZS50cmFuc2l0aW9uPVwiXCI7fX1mdW5jdGlvbiBhZShhdSl7c3dpdGNoKGF1LnRhcmdldC5pZCl7Y2FzZVwidHhSaWJib25TY3JvbGxCdXR0b25SaWdodFwiOmFnKGF1LnRhcmdldCk7YnJlYWs7Y2FzZVwidHhCbGFja1RyaWFuZ2xlUlwiOmlmKGF1LnRhcmdldC5wYXJlbnRFbGVtZW50LmlkPT09XCJ0eFJpYmJvblNjcm9sbEJ1dHRvblJpZ2h0XCIpe2FnKGF1LnRhcmdldC5wYXJlbnRFbGVtZW50KTt9YnJlYWs7Y2FzZVwidHhSaWJib25TY3JvbGxCdXR0b25MZWZ0XCI6YWYoYXUudGFyZ2V0KTticmVhaztjYXNlXCJ0eEJsYWNrVHJpYW5nbGVMXCI6aWYoYXUudGFyZ2V0LnBhcmVudEVsZW1lbnQuaWQ9PT1cInR4UmliYm9uU2Nyb2xsQnV0dG9uTGVmdFwiKXthZihhdS50YXJnZXQucGFyZW50RWxlbWVudCk7fWJyZWFrO319ZnVuY3Rpb24gYWgoYXUpe2lmKGQuaXNSaWJib25WaXNpYmxlKXtkLnNob3dSaWJib25CYXIoZmFsc2UpO31lbHNle2Quc2hvd1JpYmJvbkJhcih0cnVlKTt9fWQuZmFkZUluUmliYm9uPWZ1bmN0aW9uKCl7aWYoUSl7cmV0dXJuO31RPXRydWU7dmFyIGF2PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhSaWJib25Mb2FkZXJcIik7aWYoYXYpe2F2LnN0eWxlLm9wYWNpdHk9XCIwXCI7c2V0VGltZW91dChmdW5jdGlvbigpe2F2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYXYpO30sNTAwKTt9dmFyIGF1PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhSaWJib25Db3ZlclwiKTtpZighYXUpe3JldHVybjt9YXUuc3R5bGUub3BhY2l0eT1cIjBcIjtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YXUucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChhdSk7fSwxMDAwKTtkLnN3aXRjaFRhYnMoYShcIiN0YWJEZWZhdWx0XCIpKTt9O2Quc2hvd1JpYmJvbkJhcj1mdW5jdGlvbihzaG93KXtpZih0eXBlb2Ygc2hvdz09PVwidW5kZWZpbmVkXCIpe3Nob3c9dHJ1ZTt9c2hvdz0hIXNob3c7aWYoKGQuaXNSaWJib25WaXNpYmxlPT09c2hvdyl8fGQuaXNSaWJib25CYXJSZW1vdmVkKXtyZXR1cm47fXZhciBheD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJpYmJvbmJhclwiKTt2YXIgYXc9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyaWJib25iYXIgdWwudGFic1wiKTt2YXIgYXU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImRpdi5yaWJib24tZ3JvdXAgaW1nLnR4RGlhbG9nTGF1bmNoZXJcIik7dmFyIGF2O2lmKCFzaG93KXtlPXttZW51QmFja2dyb3VuZDphdy5zdHlsZS5iYWNrZ3JvdW5kLHJpYmJvbkJhck92ZXJmbG93OmF4LnN0eWxlLm92ZXJmbG93LH07YXcuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwid2hpdGVcIjtheC5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiO2F4LnN0eWxlLmhlaWdodD1hdy5jbGllbnRIZWlnaHQrXCJweFwiO2QucmliYm9uQmFySGVpZ2h0PWF3LmNsaWVudEhlaWdodDtmb3IoYXY9MDthdjxhdS5sZW5ndGg7Kythdil7YXVbYXZdLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7fWEoXCIjdHhBcnJvd1JpYmJvbkhpZGVXcmFwcGVyXCIpLmFkZENsYXNzKFwiZG93blwiKTtkLmlzUmliYm9uVmlzaWJsZT1mYWxzZTt9ZWxzZXtpZihlIT09bnVsbCl7YXcuc3R5bGUuYmFja2dyb3VuZENvbG9yPWUubWVudUJhY2tncm91bmQ7YXguc3R5bGUub3ZlcmZsb3c9ZS5yaWJib25CYXJPdmVyZmxvdztheC5zdHlsZS5oZWlnaHQ9XCJcIjtkLnJpYmJvbkJhckhlaWdodD1kLkRFRkFVTFRfUklCQk9OQkFSX0hFSUdIVDthKFwiI3R4QXJyb3dSaWJib25IaWRlV3JhcHBlclwiKS5yZW1vdmVDbGFzcyhcImRvd25cIik7Zm9yKGF2PTA7YXY8YXUubGVuZ3RoOysrYXYpe2F1W2F2XS5zdHlsZS5kaXNwbGF5PVwiXCI7fWQuaXNSaWJib25WaXNpYmxlPXRydWU7fX1kLnJlc2V0UmliYm9uVGFiQ29udGVudFBvcygpO2QuYWRhcHRWaWV3VG9Db250YWluZXJTaXplKCk7fTtkLnJpYmJvblRhYlRyYW5zZmVyQ29tcGxldGVkPWZ1bmN0aW9uKCl7YShcInVsLnRhYnMgYVwiKS5jbGljayhmdW5jdGlvbigpe3JldHVybiBZKGEodGhpcykpO30pO2Quc3dpdGNoVGFicyhhKFwiI3RhYkRlZmF1bHRcIikpO2QuYWRhcHRSaWJib25UYWJXaWR0aHMoKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwid2FpdERpYWxvZ01lc3NhZ2VSZWNlaXZlZFwiLGF0KTthKFwiI3R4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lciAudHhSaWJib25TY3JvbGxBcnJvd1wiKS5jbGljayhhZSk7YShcIiN0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXIgLnR4VHJpYW5nbGVcIikuY2xpY2soYWUpO2EoXCIjdHhCdG5SaWJib25IaWRlXCIpLmNsaWNrKGFoKTtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5GaW5hbGl6ZVJpYmJvbik7fTtkLmFkZFJpYmJvblRhYj1mdW5jdGlvbihheCl7dmFyIGF6PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYjdHhUZW1wbGF0ZURlc2lnbmVyQ29udGFpbmVyIHVsLnRhYnNcIik7aWYoIWF6KXt0aHJvdyBuZXcgRXJyb3IoXCJNc3NpbmcgcmliYm9uIHRhYiBoZWFkZXIgY29udGFpbmVyLiBDYW5ub3QgY3JlYXRlIHJpYmJvbiB0YWJzLlwiKTt9dmFyIGF3PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhSaWJib25UYWJDb250ZW50Q29udGFpbmVyXCIpO2lmKCFhdyl7dGhyb3cgbmV3IEVycm9yKFwiTXNzaW5nIHJpYmJvbiB0YWIgY29udGVudCBjb250YWluZXIuIENhbm5vdCBjcmVhdGUgcmliYm9uIHRhYnMuXCIpO312YXIgYXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO2F2LnN0eWxlLm9wYWNpdHk9XCIwXCI7dmFyIGF5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2F5LmlkPWF4LnRhYkhlYWRlck5hbWU7YXkucmVsPWF4Lm5hbWU7YXkudGFiSW5kZXg9LTE7YXkudGV4dENvbnRlbnQ9YXkuZGF0YXNldC50ZXh0PWF4LnRpdGxlO2F2LmFwcGVuZENoaWxkKGF5KTthei5hcHBlbmRDaGlsZChhdik7c2V0VGltZW91dChmdW5jdGlvbigpe2F2LnN0eWxlLm9wYWNpdHk9XCIxXCI7fSwxMDApO3ZhciBhdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChheC5uYW1lKTtpZighYXUpe2F1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YXUuY2xhc3NMaXN0LmFkZChcInRhYi1jb250ZW50XCIpO2F1LnN0eWxlLmRpc3BsYXk9XCJub25lXCI7YXUuc3R5bGUub3BhY2l0eT1cIjBcIjthdS5pZD1heC5uYW1lO2F3LmFwcGVuZENoaWxkKGF1KTt9YXguZ3JvdXBzLmZvckVhY2goZnVuY3Rpb24oYUEpe2QuYWRkUmliYm9uR3JvdXAoYXUsYUEpO30pO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthdS5zdHlsZS5vcGFjaXR5PVwiMVwiO30sMTAwKTtpZighYXgudmlzaWJsZSl7YShcIiNcIitheS5pZCkuaGlkZSgpO31kLmFkYXB0UmliYm9uVGFiV2lkdGhzKCk7ZC5yZXF1ZXN0UmVxdWlyZWRJbWFnZXMoKTt9O2QuYWRkUmliYm9uR3JvdXA9ZnVuY3Rpb24oYXYsYXcpe3ZhciBhdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhdy5uYW1lKTtpZighYXUpe2F1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YXUuaWQ9YXcubmFtZTthdS5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWdyb3VwXCIpO2F1LmRhdGFzZXQuYXBwbGljYXRpb25tb2Rlcz1cIjBcIjthdi5hcHBlbmRDaGlsZChhdSk7fWQucG9wdWxhdGVSaWJib25Hcm91cChhdSxhdyk7fTtkLnBvcHVsYXRlUmliYm9uR3JvdXA9ZnVuY3Rpb24oYXYsYXkpe2F2LmlubmVySFRNTD1cIlwiO3ZhciBhdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2F1LmNsYXNzTGlzdC5hZGQoXCJyaWJib24tZ3JvdXAtY29udGVudFwiKTthdi5hcHBlbmRDaGlsZChhdSk7dmFyIGF3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YXcuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1ncm91cC1sYWJlbC1jb250YWluZXJcIik7YXYuYXBwZW5kQ2hpbGQoYXcpO3ZhciBheD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtheC5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWdyb3VwLWxhYmVsXCIpO2F4LmlubmVyVGV4dD1heS50aXRsZTthdy5hcHBlbmRDaGlsZChheCk7YXkuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihheil7ZC5hZGRSaWJib25Hcm91cEVsZW1lbnQoYXUsYXopO30pO2lmKGF5LmRpYWxvZ0xhdW5jaGVyKXttKGF2LGF5LmRpYWxvZ0xhdW5jaGVyKTt9aWYoIWF5LnZpc2libGUpe2F2LnN0eWxlLmRpc3BsYXk9XCJub25lXCI7fX07ZnVuY3Rpb24gbShhdixhdSl7dmFyIGF3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7YXcuY2xhc3NMaXN0LmFkZChcInR4RGlhbG9nTGF1bmNoZXJcIik7YXcuc3JjPWF1LmltYWdlRGF0YVVSTDtpZihhdS5uYW1lKXthdy5pZD1hdS5uYW1lO31hdy5zdHlsZS53aWR0aD1hdy5zdHlsZS5oZWlnaHQ9XCIxNnB4XCI7YXcuc3R5bGUub3BhY2l0eT0wO2F3LnRpdGxlPWF1LnRvb2x0aXA7YXcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oYXgpe2lmKHR5cGVvZiBhdS5kaWFsb2dUYWIhPT1cInVuZGVmaW5lZFwiKXtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5TaG93RGlhbG9nLGF1LmRpYWxvZ0NhdGVnb3J5LGF1LmRpYWxvZ0lELGF1LmRpYWxvZ1RhYik7fWVsc2V7ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuU2hvd0RpYWxvZyxhdS5kaWFsb2dDYXRlZ29yeSxhdS5kaWFsb2dJRCk7fX0pO2F2LmFwcGVuZENoaWxkKGF3KTt9ZC5hZGRSaWJib25Hcm91cEVsZW1lbnQ9ZnVuY3Rpb24oYXUsYXYpe3N3aXRjaChhdi5jb250cm9sVHlwZSl7Y2FzZSBkLlJpYmJvbkNvbnRyb2xUeXBlLlN0YWNrZWRCdXR0b25XcmFwcGVyOmQuYWRkU3RhY2tlZFJpYmJvbkJ1dHRvbldyYXBwZXIoYXUsYXYpO2JyZWFrO2Nhc2UgZC5SaWJib25Db250cm9sVHlwZS5MYXlvdXRUYWJsZTpkLmFkZFJpYmJvbkxheW91dFRhYmxlKGF1LGF2KTticmVhaztjYXNlIGQuUmliYm9uQ29udHJvbFR5cGUuQnV0dG9uOnYoYXUsYXYpO2JyZWFrO2Nhc2UgZC5SaWJib25Db250cm9sVHlwZS5SaWJib25TdHJpbmdMaXN0Qm94OnAoYXUsYXYpO2JyZWFrO2Nhc2UgZC5SaWJib25Db250cm9sVHlwZS5Db21ib0JveDprKGF1LGF2KTticmVhaztjYXNlIGQuUmliYm9uQ29udHJvbFR5cGUuQ2hlY2tCb3g6dyhhdSxhdik7YnJlYWs7Y2FzZSBkLlJpYmJvbkNvbnRyb2xUeXBlLlNtYWxsQ29udHJvbEdyb3VwOkQoYXUsYXYpO2JyZWFrO2Nhc2UgZC5SaWJib25Db250cm9sVHlwZS5MaXN0VmlldzpxKGF1LGF2KTticmVhazt9fTtmdW5jdGlvbiBIKGF1LGF2KXtpZighYXUpe3JldHVybjt9Zm9yKHZhciBhdyBpbiBhdSl7YXYuc3R5bGVbYXddPWF1W2F3XTt9fWQuYWRkU3RhY2tlZFJpYmJvbkJ1dHRvbldyYXBwZXI9ZnVuY3Rpb24oYXUsYXcpe3ZhciBhdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2F1LmFwcGVuZENoaWxkKGF2KTthdi5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi13cmFwcGVyLXNtYWxsLXN0YWNrZWQtYnV0dG9uc1wiKTtIKGF3LmN1c3RvbUNTUyxhdik7YXcuYnV0dG9ucy5mb3JFYWNoKGZ1bmN0aW9uKGF4KXt2KGF2LGF4KTt9KTt9O2QuYWRkUmliYm9uTGF5b3V0VGFibGU9ZnVuY3Rpb24oYXUsYXcpe3ZhciBhdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7aWYoYXcucm93cy5sZW5ndGg8PTIpe2F2LnN0eWxlLmJvcmRlckNvbGxhcHNlPVwic2VwYXJhdGVcIjthdi5zdHlsZS5ib3JkZXJTcGFjaW5nPVwiMHB4IDVweFwiO31hdi5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWdyb3VwLWxheW91dC10YWJsZVwiKTtIKGF3LmN1c3RvbUNTUyxhdik7YXUuYXBwZW5kQ2hpbGQoYXYpO2F3LnJvd3MuZm9yRWFjaChmdW5jdGlvbihheCl7byhhdixheCk7fSk7fTtmdW5jdGlvbiBvKGF2LGF3KXt2YXIgYXU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO2F2LmFwcGVuZENoaWxkKGF1KTthdy5mb3JFYWNoKGZ1bmN0aW9uKGF4KXt2YXIgYXk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO2F5LnN0eWxlLnBhZGRpbmc9XCIwcHhcIjtpZihheC5jb2xTcGFuPjEpe2F5LmNvbFNwYW49YXguY29sU3Bhbjt9aWYoYXgucm93U3Bhbj4xKXtheS5yb3dTcGFuPWF4LnJvd1NwYW47fWlmKGF4LmNlbGxXaWR0aCE9PW51bGwpe2F5LnN0eWxlLndpZHRoPWF4LmNlbGxXaWR0aCtcInB4XCI7fWF1LmFwcGVuZENoaWxkKGF5KTtpZihheD09PW51bGwpe2F5LmlubmVyVGV4dD1cIlxcXFx1MDBBMFwiO31lbHNle3goYXksYXgpO319KTt9ZnVuY3Rpb24geChhdixhdSl7c3dpdGNoKGF1LmNvbnRyb2xUeXBlKXtjYXNlIGQuUmliYm9uQ29udHJvbFR5cGUuSW1hZ2U6eShhdixhdSk7YnJlYWs7Y2FzZSBkLlJpYmJvbkNvbnRyb2xUeXBlLkxhYmVsOnooYXYsYXUpO2JyZWFrO2Nhc2UgZC5SaWJib25Db250cm9sVHlwZS5UZXh0Qm94OkMoYXYsYXUpO2JyZWFrO2Nhc2UgZC5SaWJib25Db250cm9sVHlwZS5CdXR0b246dihhdixhdSk7YnJlYWs7Y2FzZSBkLlJpYmJvbkNvbnRyb2xUeXBlLkxheW91dFRhYmxlOmQuYWRkUmliYm9uTGF5b3V0VGFibGUoYXYsYXUpO2JyZWFrO2Nhc2UgZC5SaWJib25Db250cm9sVHlwZS5SaWJib25TdHJpbmdMaXN0Qm94OnAoYXYsYXUpO2JyZWFrO2Nhc2UgZC5SaWJib25Db250cm9sVHlwZS5Db21ib0JveDprKGF2LGF1KTticmVhaztjYXNlIGQuUmliYm9uQ29udHJvbFR5cGUuU21hbGxDb250cm9sR3JvdXA6RChhdixhdSk7YnJlYWs7Y2FzZSBkLlJpYmJvbkNvbnRyb2xUeXBlLkxpc3RWaWV3OnEoYXYsYXUpO2JyZWFrO2Nhc2UgZC5SaWJib25Db250cm9sVHlwZS5QYXJhZ3JhcGhTdHJ1Y3R1cmVMZXZlbEVudHJ5OnUoYXYsYXUpO2JyZWFrO319ZnVuY3Rpb24gRChhdixhdSl7dmFyIGF3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YXYuYXBwZW5kQ2hpbGQoYXcpO2F3LmNsYXNzTGlzdC5hZGQoXCJyaWJib24tZ3JvdXAtY29udHJvbC1ncm91cFwiKTtpZihhdS5jdXN0b21DU1Mpe0goYXUuY3VzdG9tQ1NTLGF3KTt9aWYoIWF1LmVuYWJsZWQpe2F3LmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO31hdS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGF4KXtkLmFkZFJpYmJvbkdyb3VwRWxlbWVudChhdyxheCk7fSk7fWZ1bmN0aW9uIHkoYXUsYXcpe3ZhciBhdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO2lmKGF3Lm5hbWUpe2F2LmlkPWF3LnRhYk5hbWUrXCJfXCIrYXcubmFtZTt9aWYoIWF3LmVuYWJsZWQpe2F2LmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO31hdi5zcmM9YXcuaW1hZ2VEYXRhVVJMO2F2LnN0eWxlLnBhZGRpbmc9XCIzcHggM3B4IDBweCAzcHhcIjthdi5zdHlsZS53aWR0aD1hdi5zdHlsZS5oZWlnaHQ9XCIxNnB4XCI7YXUuYXBwZW5kQ2hpbGQoYXYpO31mdW5jdGlvbiB6KGF1LGF3KXt2YXIgYXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO2F2LnN0eWxlLm1hcmdpbkxlZnQ9YXYuc3R5bGUubWFyZ2luUmlnaHQ9XCIycHhcIjthdi50ZXh0Q29udGVudD1hdy50ZXh0O2F2LmlkPWF3LnRhYk5hbWUrXCJfXCIrYXcubmFtZTthdi5kYXRhc2V0Lm5hbWU9YXcubmFtZTtpZihhdy5mb3JfKXthdi5zZXRBdHRyaWJ1dGUoXCJmb3JcIixhdy50YWJOYW1lK1wiX1wiK2F3LmZvcl8pO31pZighYXcuZW5hYmxlZCl7YXYuY2xhc3NMaXN0LmFkZChcInR4dWktc3RhdGUtZGlzYWJsZWRcIik7fWF1LmFwcGVuZENoaWxkKGF2KTt9ZnVuY3Rpb24gQyhhdixhQil7dmFyIGF3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTthdy50eXBlPWFCLmlzTnVtZXJpYz9cIm51bWJlclwiOlwidGV4dFwiO2F3LnNldEF0dHJpYnV0ZShcImZvcm1cIixcInR4Tm92YWxpZGF0ZUZvcm1cIik7aWYoYUIuaXNOdW1lcmljKXthdy5zZXRBdHRyaWJ1dGUoXCJzdGVwXCIsYUIuc3RlcHx8XCIwLjFcIik7aWYodHlwZW9mIGFCLm1pbiE9PVwidW5kZWZpbmVkXCIpe2F3LnNldEF0dHJpYnV0ZShcIm1pblwiLGFCLm1pbik7fWlmKHR5cGVvZiBhQi5tYXghPT1cInVuZGVmaW5lZFwiKXthdy5zZXRBdHRyaWJ1dGUoXCJtYXhcIixhQi5tYXgpO319YXcuaWQ9YUIudGFiTmFtZStcIl9cIithQi5uYW1lO2F3LmRhdGFzZXQubmFtZT1hQi5uYW1lO2lmKGFCLmlzTnVtZXJpYyl7YXcudmFsdWU9K2FCLm51bWJlci50b0ZpeGVkKDEpO31lbHNle2lmKGFCLnRleHQpe2F3LnZhbHVlPWFCLnRleHQ7fX1pZihhQi53aWR0aCl7YXcuc3R5bGUud2lkdGg9YUIud2lkdGgrXCJweFwiO31hdy5zdHlsZS5oZWlnaHQ9XCIxNHB4XCI7YXcuc3R5bGUubWFyZ2luTGVmdD1hdy5zdHlsZS5tYXJnaW5SaWdodD1cIjJweFwiO2lmKGFCLnRleHRBbGlnbil7YXcuc3R5bGUudGV4dEFsaWduPWFCLnRleHRBbGlnbjt9aWYoYUIua2V5RG93bkNhdXNlc0NoYW5nZUV2ZW50KXthdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChhdSwyMCk7fSk7fWF3LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixhdSk7YXcuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsYXgpO2F3LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsYUEpO2F3LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLGF6KTtpZighYUIuZW5hYmxlZCl7YXcuZGlzYWJsZWQ9dHJ1ZTt9ZnVuY3Rpb24gYXkoYUMpe3ZhciBhRD17dGFiTmFtZTphQi50YWJOYW1lLHRleHRCb3hOYW1lOmFCLm5hbWUsfTtpZihhQyl7aWYoYUIuaXNOdW1lcmljKXthRC5udW1iZXI9cGFyc2VGbG9hdChhdy52YWx1ZSk7fWVsc2V7YUQudGV4dD1hdy52YWx1ZTt9aWYoYXcuc2VsZWN0aW9uU3RhcnQpe2FELnNlbGVjdGlvblN0YXJ0PWF3LnNlbGVjdGlvblN0YXJ0O31pZihhdy5zZWxlY3Rpb25TdGFydCl7YUQuc2VsZWN0aW9uRW5kPWF3LnNlbGVjdGlvbkVuZDt9fXJldHVybiBhRDt9ZnVuY3Rpb24gYXUoKXtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5SaWJib25UZXh0Qm94RXZlbnQsZC5SaWJib25UZXh0Qm94RXZlbnRUeXBlLkNoYW5nZWQsMCwwLGF5KHRydWUpKTt9ZnVuY3Rpb24gYXgoKXtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5SaWJib25UZXh0Qm94RXZlbnQsZC5SaWJib25UZXh0Qm94RXZlbnRUeXBlLkVudGVyZWQsMCwwLGF5KCkpO31mdW5jdGlvbiBhQSgpe2Quc2VuZENvbW1hbmQoZC5Db21tYW5kLlJpYmJvblRleHRCb3hFdmVudCxkLlJpYmJvblRleHRCb3hFdmVudFR5cGUuTGVmdCwwLDAsYXkoKSk7fWZ1bmN0aW9uIGF6KGFEKXt2YXIgYUM9YXkoKTthQy5rZXk9XCJcIithRC5rZXk7ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuUmliYm9uVGV4dEJveEV2ZW50LGQuUmliYm9uVGV4dEJveEV2ZW50VHlwZS5LZXlQcmVzcywwLDAsYUMpO31hdi5hcHBlbmRDaGlsZChhdyk7fWZ1bmN0aW9uIHcoYUEsYXUpe3ZhciBhdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2F3LmNsYXNzTGlzdC5hZGQoXCJyaWJib24tY2hlY2tib3hcIik7YUEuYXBwZW5kQ2hpbGQoYXcpO3ZhciBheT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2F5LmNsYXNzTGlzdC5hZGQoXCJyaWJib24tY2hlY2tib3gtaW5wdXQtZWxlbWVudC1jb250YWluZXJcIik7YXcuYXBwZW5kQ2hpbGQoYXkpO3ZhciBheD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7YXgudHlwZT1cImNoZWNrYm94XCI7YXguaWQ9YXUudGFiTmFtZStcIl9cIithdS5uYW1lO2lmKGF1LmlzQ2hlY2tlZCl7YXguY2hlY2tlZD1hdS5pc0NoZWNrZWQ7fWF5LmFwcGVuZENoaWxkKGF4KTthdy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsYXYpO3ZhciBhej1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2F6LmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXNtYWxsLWxhYmVsLWNvbnRhaW5lclwiKTthdy5hcHBlbmRDaGlsZChheik7dmFyIGFCPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTthQi5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi1sYWJlbFwiKTthQi50ZXh0Q29udGVudD1hdS5sYWJlbDthQi5zZXRBdHRyaWJ1dGUoXCJmb3JcIixheC5pZCk7aWYoIWF1LmVuYWJsZWQpe2FCLmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO31hei5hcHBlbmRDaGlsZChhQik7ZnVuY3Rpb24gYXYoYUQpe3ZhciBhRT1hRC5zcmNFbGVtZW50O3ZhciBhQz17dGFiTmFtZTphdS50YWJOYW1lLHJpYmJvbkNvbnRyb2xOYW1lOmF1Lm5hbWUscHJvcGVydHlOYW1lOlwiY2hlY2tlZFwiLG5ld1ZhbHVlOmFFLmNoZWNrZWQsb2xkVmFsdWU6IWFFLmNoZWNrZWR9O2Quc2VuZENvbW1hbmQoZC5Db21tYW5kLlJpYmJvbkNoZWNrQm94RXZlbnQsMCwwLDAsYUMpO319ZnVuY3Rpb24gdihhdyxhdSl7dmFyIGF2O3ZhciBheD0oZC5zZXR0aW5ncyYmZC5zZXR0aW5ncy5Ob0ZpbGVTeXN0ZW1BY2Nlc3MpO2lmKGF4JiZhdS5uZWVkc0ZTQWNjZXNzKXtyZXR1cm47fXN3aXRjaChhdS5idXR0b25TaXplKXtjYXNlIGQuUmliYm9uQnV0dG9uU2l6ZS5TbWFsbDphdj1FKGF3LGF1KTticmVhaztjYXNlIGQuUmliYm9uQnV0dG9uU2l6ZS5MYXJnZTphdj1uKGF3LGF1KTticmVhazt9aWYodHlwZW9mIGF1LmNsZWFyIT09XCJ1bmRlZmluZWRcIiYmYXUuY2xlYXIhPW51bGwpe2F2LnN0eWxlLmNsZWFyPWF1LmNsZWFyO31pZighYXUudmlzaWJsZSl7YXYuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjt9cmV0dXJuIGF2O31mdW5jdGlvbiBFKGF5LGF1KXt2YXIgYXc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtheS5hcHBlbmRDaGlsZChhdyk7YXcuaWQ9YXUudGFiTmFtZStcIl9cIithdS5uYW1lO2F3LmRhdGFzZXQubmFtZT1hdS5uYW1lO2F3LmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uXCIpO2lmKGF1LnRleHQpe2F3LmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXNtYWxsXCIpO31lbHNle2F3LmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXRpbnlcIik7fWlmKGF1LnRvb2x0aXApe2F3LnRpdGxlPWF1LnRvb2x0aXA7fWlmKGF1LmlzVG9nZ2xlQnV0dG9uJiZhdS50ZXh0KXthdy5jbGFzc0xpc3QuYWRkKFwicmliYm9uLXN0YWNrZWQtdG9nZ2xlLWJ1dHRvblwiKTt9aWYoIWF1LmVuYWJsZWQpe2F3LmNsYXNzTGlzdC5hZGQoXCJ0eHVpLXN0YXRlLWRpc2FibGVkXCIpO312YXIgYUE7aWYoIWF1LnRleHQpe2FBPWF3O2lmKGF1LmlzVG9nZ2xlQnV0dG9uJiZhdS5pc1RvZ2dsZWQpe2F3LmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXNlbGVjdGVkXCIpO319ZWxzZXthQT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2F3LmFwcGVuZENoaWxkKGFBKTtpZihhdS5pc1RvZ2dsZUJ1dHRvbil7YUEuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b25cIik7YUEuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tdGlueVwiKTtpZihhdS5pc1RvZ2dsZWQpe2FBLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXNlbGVjdGVkXCIpO319ZWxzZXthQS5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi1zbWFsbC1pbWFnZS1jb250YWluZXJcIik7fX1pZighYXUuYnV0dG9uVGV4dCl7dmFyIGF6PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7YXouY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tc21hbGwtaW1hZ2VcIik7YXouc3R5bGUud2lkdGg9YXouc3R5bGUuaGVpZ2h0PVwiMTZweFwiO2lmKGF1LmltYWdlRGF0YVVSTCl7YXouc3JjPWF1LmltYWdlRGF0YVVSTDt9ZWxzZXtpZihhdS5pbWFnZUluZm8pe3ZhciBhdj1kLmdldENhY2hlZEltYWdlRGF0YVVSTChhdS5pbWFnZUluZm8pO2lmKGF2KXthei5zcmM9YXY7fWVsc2V7YXouc3JjPWQuUGxhY2Vob2xkZXJJbWFnZTthei5kYXRhc2V0LnR4SW1hZ2VJbmZvPUpTT04uc3RyaW5naWZ5KGF1LmltYWdlSW5mbyk7ZC5yZXF1aXJlZEltYWdlcy5wdXNoKGF1LmltYWdlSW5mbyk7fX19YUEuYXBwZW5kQ2hpbGQoYXopO31lbHNle3ZhciBheD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2F4LnN0eWxlLmhlaWdodD1heC5zdHlsZS53aWR0aD1cIjE2cHhcIjtheC5zdHlsZS5tYXJnaW5Ub3A9XCItM3B0XCI7YXguc3R5bGUucGFkZGluZz1cIjBwdFwiO2F4LnN0eWxlLmZvbnRTaXplPVwiMTJwdFwiO2F4LnRleHRDb250ZW50PWF1LmJ1dHRvblRleHQ7YUEuYXBwZW5kQ2hpbGQoYXgpO312YXIgYUM9bnVsbDtpZihhdS50ZXh0KXt2YXIgYUI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthdy5hcHBlbmRDaGlsZChhQik7YUIuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tc21hbGwtbGFiZWwtY29udGFpbmVyXCIpO2FDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO2FCLmFwcGVuZENoaWxkKGFDKTthQy5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi1sYWJlbFwiKTt2YXIgYUQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7YUQuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tbGFiZWwtdGV4dFwiKTthRC50ZXh0Q29udGVudD1hdS50ZXh0O2FDLmFwcGVuZENoaWxkKGFEKTt9cyhhdyxhQyxhdSk7cmV0dXJuIGF3O31mdW5jdGlvbiBuKGF5LGF1KXtpZihhdS5ib3JkZXIpe3ZhciBhdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2F5LmFwcGVuZENoaWxkKGF3KTthdy5jbGFzc0xpc3QuYWRkKFwibGFyZ2UtcmliYm9uLWJ1dHRvbi1jb250YWluZXJcIik7YXk9YXc7fXZhciBheD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2F5LmFwcGVuZENoaWxkKGF4KTtheC5pZD1hdS50YWJOYW1lK1wiX1wiK2F1Lm5hbWU7YXguZGF0YXNldC5uYW1lPWF1Lm5hbWU7aWYoYXUudG9vbHRpcCl7YXgudGl0bGU9YXUudG9vbHRpcDt9YXguY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b25cIik7YXguY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tYmlnXCIpO2lmKGF1LmlzVG9nZ2xlQnV0dG9uJiZhdS5pc1RvZ2dsZWQpe2F4LmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLXNlbGVjdGVkXCIpO31pZighYXUuZW5hYmxlZCl7YXguY2xhc3NMaXN0LmFkZChcInR4dWktc3RhdGUtZGlzYWJsZWRcIik7fWlmKGF1LmJvcmRlcil7YW8oYXksYXUuYm9yZGVyKTt9dmFyIGFBPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YUEuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tYmlnLWltYWdlLWNvbnRhaW5lclwiKTt2YXIgYXo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTthei5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi1iaWctaW1hZ2VcIik7YXouc3R5bGUud2lkdGg9YXouc3R5bGUuaGVpZ2h0PVwiMzJweFwiO2lmKGF1LmltYWdlRGF0YVVSTCl7YXouc3JjPWF1LmltYWdlRGF0YVVSTDt9ZWxzZXtpZihhdS5pbWFnZUluZm8pe3ZhciBhdj1kLmdldENhY2hlZEltYWdlRGF0YVVSTChhdS5pbWFnZUluZm8pO2lmKGF2KXthei5zcmM9YXY7fWVsc2V7YXouc3JjPWQuUGxhY2Vob2xkZXJJbWFnZTthei5kYXRhc2V0LnR4SW1hZ2VJbmZvPUpTT04uc3RyaW5naWZ5KGF1LmltYWdlSW5mbyk7ZC5yZXF1aXJlZEltYWdlcy5wdXNoKGF1LmltYWdlSW5mbyk7fX19YUEuYXBwZW5kQ2hpbGQoYXopO2F4LmFwcGVuZENoaWxkKGFBKTt2YXIgYUI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtheC5hcHBlbmRDaGlsZChhQik7YUIuY2xhc3NMaXN0LmFkZChcInJpYmJvbi1idXR0b24tYmlnLWxhYmVsLWNvbnRhaW5lclwiKTt2YXIgYUM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7YUIuYXBwZW5kQ2hpbGQoYUMpO2FDLmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLWxhYmVsXCIpO3ZhciBhRD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTthRC5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi1sYWJlbC10ZXh0XCIpO2FELmlubmVySFRNTD1hdS50ZXh0LnJlcGxhY2UoL1xcXFxyP1xcXFxuL2csXCI8YnI+XCIpO2FDLmFwcGVuZENoaWxkKGFEKTtzKGF4LGFDLGF1KTtyZXR1cm4gYXg7fWZ1bmN0aW9uIGFvKGF2LGF1KXtpZihhdS5MZWZ0KXthdyhhdixcIkxlZnRcIixhdS5MZWZ0KTt9aWYoYXUuVG9wKXthdyhhdixcIlRvcFwiLGF1LlRvcCk7fWlmKGF1LlJpZ2h0KXthdyhhdixcIlJpZ2h0XCIsYXUuUmlnaHQpO31pZihhdS5Cb3R0b20pe2F3KGF2LFwiQm90dG9tXCIsYXUuQm90dG9tKTt9ZnVuY3Rpb24gYXcoYXksYXosYXgpe2lmKGF4LkNvbG9yKXtheS5zdHlsZVtcImJvcmRlclwiK2F6K1wiQ29sb3JcIl09YXguQ29sb3I7fWlmKGF4LldpZHRoKXtheS5zdHlsZVtcImJvcmRlclwiK2F6K1wiV2lkdGhcIl09YXguV2lkdGg7fWlmKGF4LlN0eWxlKXtheS5zdHlsZVtcImJvcmRlclwiK2F6K1wiU3R5bGVcIl09YXguU3R5bGU7fWlmKGF6PT09XCJMZWZ0XCJ8fGF6PT09XCJSaWdodFwiKXtheS5zdHlsZVtcIm1hcmdpblwiK2F6XT1cIjVweFwiO319fWZ1bmN0aW9uIHMoYXcsYXgsYXUpe2lmKGF1Lm1lbnUpe2lmKGF4KXt2YXIgYXk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7YXkuY2xhc3NMaXN0LmFkZChcImRyb3AtZG93bi1hcnJvdy1sYXJnZVwiKTtheS50ZXh0Q29udGVudD1cIuKWvFwiO2lmKGF1LmJ1dHRvblNpemU9PWQuUmliYm9uQnV0dG9uU2l6ZS5TbWFsbCl7YXkuc3R5bGUubWFyZ2luTGVmdD1cIjNweFwiO31heC5hcHBlbmRDaGlsZChheSk7fWVsc2V7aWYoYXcuY2xhc3NMaXN0LmNvbnRhaW5zKFwicmliYm9uLWJ1dHRvbi10aW55XCIpKXthdy5jbGFzc0xpc3QucmVtb3ZlKFwicmliYm9uLWJ1dHRvbi10aW55XCIpO2F3LmNsYXNzTGlzdC5hZGQoXCJyaWJib24tZHJvcGRvd24tYnV0dG9uLXRpbnlcIik7YXg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7YXgudGV4dENvbnRlbnQ9XCLilrxcIjthdy5hcHBlbmRDaGlsZChheCk7fX12YXIgYXo9Syhhdyk7ZC5hZGREcm9wRG93bk1lbnUoYXUubWVudSxheik7YShcIiNcIithdy5pZCkuY2xpY2soYUEpO31lbHNle2F3LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGF2KTt9ZnVuY3Rpb24gYXYoYUMpe3ZhciBhQj17YnV0dG9uTmFtZTphdS5uYW1lLHRhYk5hbWU6YXUudGFiTmFtZX07ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuUmliYm9uQnV0dG9uRXZlbnQsZC5SaWJib25CdXR0b25FdmVudFR5cGUuQ2xpY2ssMCwwLGFCKTt9ZnVuY3Rpb24gYUEoYUMpe3ZhciBhRT1hdS50YWJOYW1lK1wiX1wiK2F1Lm1lbnUubmFtZTt2YXIgYUI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYUUpO2QuZmlsZU1lbnUuaGlkZSgpO2QuaGlkZUFsbE90aGVyTWVudXMoKTtpZih0eXBlb2YgYUIuZGF0YXNldC50cmFuc2Zvcm1TdGF0ZUlkIT09XCJ1bmRlZmluZWRcIil7YWMoYUIpO31MKGF1LnRhYk5hbWUsYXUubWVudS5uYW1lKTtpZighYXUubWVudS5hdXRvU2l6ZSl7ZC5jYWxjTWVudVdpZHRocyhhQik7fXZhciBhRD1kLmpRdWVyeU1lbnVzW2F1Lm1lbnUubmFtZV07YUQuc2hvdygpLnBvc2l0aW9uKHtteTpcImxlZnQgdG9wXCIsYXQ6XCJsZWZ0IGJvdHRvbVwiLG9mOmFDLmN1cnJlbnRUYXJnZXR9KTtpZihhdS5tZW51LmxpbWl0SGVpZ2h0KXtkLmxpbWl0TWVudUhlaWdodChhRSk7fWVsc2V7aWYodHlwZW9mIGFCLmRhdGFzZXQudHJhbnNmb3JtU3RhdGVJZCE9PVwidW5kZWZpbmVkXCIpe2QuY2FsY01lbnVTY3JvbGxJbmZvKGFCKTt9fWEoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhRil7aWYoIShkLmlzSW5zaWRlRWxlbWVudFdpdGhJRChhRi50YXJnZXQsYUUpJiZkLmlzUGFydE9mTWVudUl0ZW1XaXRoU3ViTWVudShhRi50YXJnZXQpKSl7YUQuaGlkZSgpO2EoZG9jdW1lbnQpLm9mZihhRik7fX0pO3JldHVybiBmYWxzZTt9fWZ1bmN0aW9uIEwoYXcsYXYpe3ZhciBhdT17bWVudU5hbWU6YXYsdGFiTmFtZTphd307ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuUmliYm9uTWVudUV2ZW50LGQuUmliYm9uTWVudUV2ZW50VHlwZS5PcGVuaW5nLDAsMCxhdSk7fWZ1bmN0aW9uIHEoYXUsYXcpe3ZhciBhdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2F1LmFwcGVuZENoaWxkKGF2KTthdi5pZD1hdy50YWJOYW1lK1wiX1wiK2F3Lm5hbWU7YXYuZGF0YXNldC5uYW1lPWF3Lm5hbWU7YXYuY2xhc3NMaXN0LmFkZChcImxpc3QtYm94XCIpO2F2LnN0eWxlLndpZHRoPWF3LndpZHRoK1wicHhcIjthdi5zdHlsZS5oZWlnaHQ9YXcuaGVpZ2h0K1wicHhcIjthYihhdixhdy5pdGVtcyxhdy50YWJOYW1lLGF3Lm5hbWUpO31mdW5jdGlvbiBhYihhdSxhdyl7YXUuaW5uZXJIVE1MPVwiXCI7dmFyIGF2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTthdS5hcHBlbmRDaGlsZChhdik7YXYuY2xhc3NMaXN0LmFkZChcImxpc3QtYm94LWl0ZW0tY29udGFpbmVyXCIpO2F2LnN0eWxlLmJvcmRlckNvbGxhcHNlPVwic2VwYXJhdGVcIjthdi5zdHlsZS5ib3JkZXJTcGFjaW5nPVwiMnB4XCI7YXcuZm9yRWFjaChmdW5jdGlvbihheSl7dmFyIGF4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTthdi5hcHBlbmRDaGlsZChheCk7YXguY2xhc3NMaXN0LmFkZChcImxpc3QtYm94LWl0ZW1cIik7c3dpdGNoKGF5LmNvbnRyb2xUeXBlKXtjYXNlIGQuUmliYm9uQ29udHJvbFR5cGUuUGFyYWdyYXBoU3RydWN0dXJlTGV2ZWxFbnRyeTp1KGF4LGF5KTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlRoZSBSaWJib25MaXN0VmlldyBvbmx5IHN1cHBvcnRzIHBhcmFncmFwaCBzdHJ1Y3R1cmUgbGV2ZWwgZW50cmllcyBmb3Igbm93LlwiKTt9fSk7fWZ1bmN0aW9uIHUoYXYsYXope2lmKCEoYXYgaW5zdGFuY2VvZiBIVE1MVGFibGVSb3dFbGVtZW50KSl7dGhyb3cgbmV3IEVycm9yKFwiUGFyYWdyYXBoIHN0cnVjdHVyZSBsZXZlbCBlbnRyaWVzIGNhbiBvbmx5IGJlIGFkZGVkIHRvIGV4aXN0aW5nIHRhYmxlIHJvdyBlbGVtZW50cyBmb3Igbm93LlwiKTt9dmFyIGF5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTthdi5hcHBlbmRDaGlsZChheSk7YXkuc3R5bGUucGFkZGluZz1cIjBweCA1cHhcIjt2YXIgYXc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7YXkuYXBwZW5kQ2hpbGQoYXcpO2F3LnN0eWxlLm1hcmdpbj1cIjBweFwiO2F3LmlubmVyVGV4dD1hei5zdHlsZU5hbWU7YXk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO2F2LmFwcGVuZENoaWxkKGF5KTt2YXIgYXg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtheS5hcHBlbmRDaGlsZChheCk7YXguc3R5bGUuZm9udFNpemU9XCIxMXB4XCI7YXUoYXgsZC5UWFRleHRDb250cm9sUmVzb3VyY2VzLkhFQURFUl9TdHJ1Y3R1cmVMZXZlbFN0eWxlc19Cb2R5VGV4dCwwKTthdShheCxkLlRYVGV4dENvbnRyb2xSZXNvdXJjZXMuSEVBREVSX1N0cnVjdHVyZUxldmVsU3R5bGVzX0xldmVsMSwxKTthdShheCxkLlRYVGV4dENvbnRyb2xSZXNvdXJjZXMuSEVBREVSX1N0cnVjdHVyZUxldmVsU3R5bGVzX0xldmVsMiwyKTthdShheCxkLlRYVGV4dENvbnRyb2xSZXNvdXJjZXMuSEVBREVSX1N0cnVjdHVyZUxldmVsU3R5bGVzX0xldmVsMywzKTthdShheCxkLlRYVGV4dENvbnRyb2xSZXNvdXJjZXMuSEVBREVSX1N0cnVjdHVyZUxldmVsU3R5bGVzX0xldmVsNCw0KTthdShheCxkLlRYVGV4dENvbnRyb2xSZXNvdXJjZXMuSEVBREVSX1N0cnVjdHVyZUxldmVsU3R5bGVzX0xldmVsNSw1KTthdShheCxkLlRYVGV4dENvbnRyb2xSZXNvdXJjZXMuSEVBREVSX1N0cnVjdHVyZUxldmVsU3R5bGVzX0xldmVsNiw2KTthdShheCxkLlRYVGV4dENvbnRyb2xSZXNvdXJjZXMuSEVBREVSX1N0cnVjdHVyZUxldmVsU3R5bGVzX0xldmVsNyw3KTthdShheCxkLlRYVGV4dENvbnRyb2xSZXNvdXJjZXMuSEVBREVSX1N0cnVjdHVyZUxldmVsU3R5bGVzX0xldmVsOCw4KTthdShheCxkLlRYVGV4dENvbnRyb2xSZXNvdXJjZXMuSEVBREVSX1N0cnVjdHVyZUxldmVsU3R5bGVzX0xldmVsOSw5KTthdShheCxkLlRYVGV4dENvbnRyb2xSZXNvdXJjZXMuSEVBREVSX1N0cnVjdHVyZUxldmVsU3R5bGVzX0xldmVsMTAsMTApO2F4LnZhbHVlPWF6LmxldmVsO2F4LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBhQT17dGFiTmFtZTphei50YWJOYW1lLGxldmVsOmF4LnZhbHVlLGVsZW1lbnROYW1lOmF6Lm5hbWUsfTtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5QYXJhZ3JhcGhTdHJ1Y3R1cmVMZXZlbEVudHJ5RXZlbnQsZC5QYXJhZ3JhcGhTdHJ1Y3R1cmVMZXZlbEVudHJ5RXZlbnRUeXBlLlN0cnVjdHVyZUxldmVsQ2hhbmdlZCwwLDAsYUEpO30pO2Z1bmN0aW9uIGF1KGFCLGFDLGFEKXtpZih0eXBlb2YgYUQ9PT1cInVuZGVmaW5lZFwiKXthRD1hQzt9dmFyIGFBPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7YUEudGV4dD1hQzthQS52YWx1ZT1hRDthQi5hZGQoYUEpO319ZnVuY3Rpb24gcChhdSxhdyl7dmFyIGF2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YXUuYXBwZW5kQ2hpbGQoYXYpO2F2LmlkPWF3LnRhYk5hbWUrXCJfXCIrYXcubmFtZTthdi5kYXRhc2V0Lm5hbWU9YXcubmFtZTthdi5jbGFzc0xpc3QuYWRkKFwibGlzdC1ib3hcIik7aWYoYXcuaXRlbXNBcmVDaGVja2FibGUpe2F2LmNsYXNzTGlzdC5hZGQoXCJpdGVtcy1hcmUtY2hlY2thYmxlXCIpO31pZihhdy5pdGVtc0FyZVNlbGVjdGFibGUpe2F2LmNsYXNzTGlzdC5hZGQoXCJpdGVtcy1hcmUtc2VsZWN0YWJsZVwiKTt9YXYuZGF0YXNldC5pdGVtc0FyZUNoZWNrYWJsZT1hdy5pdGVtc0FyZUNoZWNrYWJsZTthdi5kYXRhc2V0Lml0ZW1zQXJlU2VsZWN0YWJsZT1hdy5pdGVtc0FyZVNlbGVjdGFibGU7YXYuc3R5bGUud2lkdGg9YXcud2lkdGgrXCJweFwiO2F2LnN0eWxlLmhlaWdodD1hdy5oZWlnaHQrXCJweFwiO2FhKGF2LGF3Lml0ZW1zLGF3LnRhYk5hbWUsYXcubmFtZSk7fWZ1bmN0aW9uIGFhKGF2LGFDLGFGLGFFKXt2YXIgYXgsYUQ9YXYuZGF0YXNldC5pdGVtc0FyZVNlbGVjdGFibGU7YXYuaW5uZXJIVE1MPVwiXCI7dmFyIGF3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTthdi5hcHBlbmRDaGlsZChhdyk7YXcuY2xhc3NMaXN0LmFkZChcImxpc3QtYm94LWl0ZW0tY29udGFpbmVyXCIpO2Zvcih2YXIgYXo9MDthejxhQy5sZW5ndGg7Kytheil7YXUoYXosYUNbYXpdKTt9ZnVuY3Rpb24gYXUoYUosYUspe3ZhciBhST1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7YXcuYXBwZW5kQ2hpbGQoYUkpO2FJLmNsYXNzTGlzdC5hZGQoXCJsaXN0LWJveC1pdGVtXCIpO2FJLmRhdGFzZXQuaW5kZXg9YUo7YUkuZGF0YXNldC5pdGVtVWlkPWFLLnVpZDtpZihhRCl7YUkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsYUIpO312YXIgYUw9YXYuaWQrXCJfY2hlY2tib3hfXCIrYUo7aWYoYUsuaXNDaGVja2FibGUpe2F4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTthSS5hcHBlbmRDaGlsZChheCk7dmFyIGFHPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtheC5hcHBlbmRDaGlsZChhRyk7YXguZGF0YXNldC5pdGVtVWlkPWFLLnVpZDtheC5zdHlsZS5taW5IZWlnaHQ9XCIxNHB4XCI7YUcuaWQ9YUw7YUcudHlwZT1cImNoZWNrYm94XCI7YUcuZGF0YXNldC5pbmRleD1hSjthRy5kYXRhc2V0LnRleHQ9YUsudGV4dDthRy5jaGVja2VkPWFLLmlzQ2hlY2tlZDthRy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsYUEpO2FHLmRhdGFzZXQuaXRlbVVpZD1hSy51aWQ7fWF4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTthSS5hcHBlbmRDaGlsZChheCk7dmFyIGFIPWFLLmlzQ2hlY2thYmxlP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2F4LmFwcGVuZENoaWxkKGFIKTtpZihhSy5pc0NoZWNrYWJsZSl7YUguaHRtbEZvcj1hTDt9YUguZGF0YXNldC5pdGVtVWlkPWFLLnVpZDthSC50ZXh0Q29udGVudD1hSy50ZXh0O31mdW5jdGlvbiBhQShhSSl7dmFyIGFHPWFJLmN1cnJlbnRUYXJnZXQ7dmFyIGFIPXt0YWJOYW1lOmFGLGl0ZW1JbmRleDphRy5kYXRhc2V0LmluZGV4LGxpc3RCb3hOYW1lOmFFLGlzQ2hlY2tlZDphRy5jaGVja2VkfTtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5MaXN0Qm94RXZlbnQsZC5MaXN0Qm94RXZlbnRUeXBlLkl0ZW1DaGVja0NoYW5nZWQsMCwwLGFIKTt9ZnVuY3Rpb24gYUIoYUgpe2F5KCk7dmFyIGFJPWFILmN1cnJlbnRUYXJnZXQ7dmFyIGFHPXt0YWJOYW1lOmFGLGl0ZW1JbmRleDphSS5kYXRhc2V0LmluZGV4LGxpc3RCb3hOYW1lOmFFfTtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5MaXN0Qm94RXZlbnQsZC5MaXN0Qm94RXZlbnRUeXBlLkl0ZW1DbGlja2VkLDAsMCxhRyk7fWZ1bmN0aW9uIGF5KCl7dmFyIGFHPXt0YWJOYW1lOmFGLGxpc3RCb3hOYW1lOmFFfTtkLnNlbmRDb21tYW5kKGQuQ29tbWFuZC5MaXN0Qm94RXZlbnQsZC5MaXN0Qm94RXZlbnRUeXBlLkZvY3VzZWQsMCwwLGFHKTt9fWZ1bmN0aW9uIGsoYXgsYXYpe3ZhciBhdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO2F4LmFwcGVuZENoaWxkKGF3KTthdy5pZD1hdi50YWJOYW1lK1wiX1wiK2F2Lm5hbWU7YXcuZGF0YXNldC5uYW1lPWF2Lm5hbWU7aWYoYXYud2lkdGgpe2lmKGF2LndpZHRoPT09LTEpe2F3LnN0eWxlLndpZHRoPVwiOTAlXCI7fWVsc2V7YXcuc3R5bGUud2lkdGg9YXYud2lkdGgrXCJweFwiO319aWYoYXYuaGVpZ2h0KXthdy5zdHlsZS5oZWlnaHQ9YXYuaGVpZ2h0K1wicHhcIjt9YXcuc3R5bGUubWFyZ2luTGVmdD1hdy5zdHlsZS5tYXJnaW5SaWdodD1cIjJweFwiO0goYXYuY3VzdG9tQ1NTLGF3KTthdy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsYXUpO2woYXcsYXYuaXRlbXMsYXYudGFiTmFtZSxhdi5uYW1lKTtmdW5jdGlvbiBhdShheil7dmFyIGF5PXt0YWJOYW1lOmF2LnRhYk5hbWUsY29tYm9Cb3hOYW1lOmF2Lm5hbWUsdmFsdWU6KGF6LnRhcmdldC52YWx1ZT09PVwibnVsbFwiKT9udWxsOmF6LnRhcmdldC52YWx1ZX07ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuSW5wdXRDb250cm9sRXZlbnQsZC5JbnB1dENvbnRyb2xFdmVudFR5cGUuQ2hhbmdlLDAsMCxheSk7fX1mdW5jdGlvbiBsKGF1LGF3LGF5LGF4KXthdS5pbm5lckhUTUw9XCJcIjt2YXIgYXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTthdi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2F2LmRpc2FibGVkPXRydWU7YXUuYXBwZW5kQ2hpbGQoYXYpO2F3LmZvckVhY2goZnVuY3Rpb24oYXope2F2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7YXUuYXBwZW5kQ2hpbGQoYXYpO2F2LnZhbHVlPWF6LnZhbHVlO2F2LnRleHQ9YXoudGV4dDt9KTt9ZnVuY3Rpb24gYWwoYXUsYXYpe3ZhciBhdz1hdS5xdWVyeVNlbGVjdG9yQWxsKFwidHJcIik7W10uZm9yRWFjaC5jYWxsKGF3LGZ1bmN0aW9uKGF4KXtheC5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7fSk7aWYoYXY9PS0xKXtyZXR1cm47fWlmKGF2Pj1hdy5sZW5ndGgpe2NvbnNvbGUuZXJyb3IoXFwnTGlzdCBib3ggXCJcXCcrYXUuaWQrXCI6IHNlbGVjdGVkIGl0ZW0gaW5kZXggb3V0IG9mIHJhbmdlLlwiKTtyZXR1cm47fWF3W2F2XS5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7fWZ1bmN0aW9uIEsoYXUpe3ZhciBhdj1hdS5wYXJlbnRFbGVtZW50O3doaWxlKGF2KXtpZihhdi5jbGFzc0xpc3QuY29udGFpbnMoXCJ0YWItY29udGVudFwiKSl7cmV0dXJuIGF2O31hdj1hdi5wYXJlbnRFbGVtZW50O31yZXR1cm4gbnVsbDt9ZC5hZGREcm9wRG93bk1lbnU9ZnVuY3Rpb24oYXksYXYpe2lmKHR5cGVvZiBheS50YWJOYW1lPT09XCJ1bmRlZmluZWRcInx8YXkudGFiTmFtZT09bnVsbCl7dGhyb3cgbmV3IFR5cGVFcnJvcigpO312YXIgYXU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO2F1LmNsYXNzTGlzdC5hZGQoXCJkcm9wRG93bk1lbnVcIik7aWYoYXkubWF4SGVpZ2h0KXthdS5zdHlsZS5tYXhIZWlnaHQ9YXkubWF4SGVpZ2h0K1wicHhcIjthdS5zdHlsZS5vdmVyZmxvd1k9XCJhdXRvXCI7fXZhciBhej1heS50YWJOYW1lK1wiX1wiK2F5Lm5hbWU7YXUuaWQ9YXo7aWYoYXkudXNlU2Nyb2xsV29ya2Fyb3VuZCl7ZC5lbmFibGVTY3JvbGxXb3JrYXJvdW5kKGF1KTt9cihhdSxheS5pdGVtcyxheS5pdGVtU2l6ZSxheS5uYW1lLHRydWUpO2F2LmFwcGVuZENoaWxkKGF1KTt2YXIgYXc9YShcIiNcIitheikubWVudSgpLmhpZGUoKTtkLmpRdWVyeU1lbnVzW2F5Lm5hbWVdPWF3O2F3Lm9uKFwibWVudXNlbGVjdFwiLGF4KTtmdW5jdGlvbiBheChhQixhRCl7dmFyIGFDPWFELml0ZW0uY29udGV4dDt2YXIgYUE9e21lbnVOYW1lOmFDLmRhdGFzZXQubWVudU5hbWUsbWVudUl0ZW1OYW1lOmFDLmRhdGFzZXQubWVudUl0ZW1OYW1lLHRhYk5hbWU6YXkudGFiTmFtZSx0YWc6bnVsbH07aWYoYUMuZGF0YXNldC50YWcpe2FBLnRhZz1KU09OLnBhcnNlKGFDLmRhdGFzZXQudGFnKTt9aWYoYUMuZGF0YXNldC5tZW51SXRlbVBhcmFtZXRlcil7YUEucGFyYW1ldGVyPWFDLmRhdGFzZXQubWVudUl0ZW1QYXJhbWV0ZXI7fWQuc2VuZENvbW1hbmQoZC5Db21tYW5kLlJpYmJvbk1lbnVFdmVudCxkLlJpYmJvbk1lbnVFdmVudFR5cGUuSXRlbVNlbGVjdCwwLDAsYUEpO319O2Z1bmN0aW9uIHIoYXUsYXcsYXgsYXksYXYpe3ZhciBhej0oZC5zZXR0aW5ncyYmZC5zZXR0aW5ncy5Ob0ZpbGVTeXN0ZW1BY2Nlc3MpO2F3LmZvckVhY2goZnVuY3Rpb24oYUEpe2lmKGFBLm5lZWRzRlNBY2Nlc3MmJmF6KXtyZXR1cm47fXN3aXRjaChhQS5pdGVtVHlwZSl7Y2FzZSBkLlJpYmJvbk1lbnVJdGVtVHlwZS5DYXRlZ29yeTppKGF1LGFBLGF5KTticmVhaztjYXNlIGQuUmliYm9uTWVudUl0ZW1UeXBlLlN5bWJvbDpGKGF1LGFBLGF5KTticmVhaztjYXNlIGQuUmliYm9uTWVudUl0ZW1UeXBlLkNvbG9yUGlja2VyOmooYXUsYUEsYXgsYXkpO2JyZWFrO2Nhc2UgZC5SaWJib25NZW51SXRlbVR5cGUuVGFibGVXaXphcmQ6RyhhdSxhQSxheCxheSk7YnJlYWs7ZGVmYXVsdDp0KGF1LGFBLGF4LGF5KTticmVhazt9aWYodHlwZW9mIGFBLml0ZW1UeXBlPT09XCJ1bmRlZmluZWRcIil7Y29uc29sZS53YXJuKFxcJ01lbnUgaXRlbSBcIlxcJythQS5uYW1lK1xcJ1wiIGhhcyBubyBpdGVtIHR5cGUuXFwnKTt9fSk7fWZ1bmN0aW9uIEYoYXcsYXgsYXope2lmKCFheil7dGhyb3cgbmV3IFR5cGVFcnJvcigpO312YXIgYXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpLGF5O2F2LmNsYXNzTGlzdC5hZGQoXCJtZW51LWl0ZW0tc3ltYm9sXCIpO2lmKCFheC5lbmFibGVkKXthdi5jbGFzc0xpc3QuYWRkKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt9aWYoYXguY2xlYXIpe2F2LnN0eWxlLmNsZWFyPWF4LmNsZWFyO31pZihheC5ib3JkZXImZC5SaWJib25NZW51SXRlbUJvcmRlci5Ub3Ape2F2LnN0eWxlLmJvcmRlclRvcD1WO31pZihheC5ib3JkZXImZC5SaWJib25NZW51SXRlbUJvcmRlci5Cb3R0b20pe2F2LnN0eWxlLmJvcmRlckJvdHRvbT1WO31pZihheC5uYW1lKXtheT1heC50YWJOYW1lK1wiX1wiK2F4Lm5hbWU7YXYuaWQ9YXk7YXYuZGF0YXNldC5tZW51SXRlbU5hbWU9YXgubmFtZTt9aWYoYXgucGFyYW1ldGVyKXthdi5kYXRhc2V0Lm1lbnVJdGVtUGFyYW1ldGVyPWF4LnBhcmFtZXRlcjt9YXYuZGF0YXNldC5tZW51TmFtZT1hejt2YXIgYXU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7YXUudGV4dENvbnRlbnQ9YXgudGV4dDthdi5hcHBlbmRDaGlsZChhdSk7YXcuYXBwZW5kQ2hpbGQoYXYpO2F3LnN0eWxlLndpZHRoPVwiYXV0b1wiO31mdW5jdGlvbiBpKGF3LGF4LGF6KXtpZighYXope3Rocm93IG5ldyBUeXBlRXJyb3IoKTt9dmFyIGF2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSxheTtpZighYXguZW5hYmxlZCl7YXYuY2xhc3NMaXN0LmFkZChcInR4dWktc3RhdGUtZGlzYWJsZWRcIik7fWlmKGF4LmJvcmRlciZkLlJpYmJvbk1lbnVJdGVtQm9yZGVyLlRvcCl7YXYuc3R5bGUuYm9yZGVyVG9wPVY7fWlmKGF4LmJvcmRlciZkLlJpYmJvbk1lbnVJdGVtQm9yZGVyLkJvdHRvbSl7YXYuc3R5bGUuYm9yZGVyQm90dG9tPVY7fWlmKGF4Lm5hbWUpe2F5PWF4LnRhYk5hbWUrXCJfXCIrYXgubmFtZTthdi5pZD1heTthdi5kYXRhc2V0Lm1lbnVJdGVtTmFtZT1heC5uYW1lO31pZihheC5wYXJhbWV0ZXIpe2F2LmRhdGFzZXQubWVudUl0ZW1QYXJhbWV0ZXI9YXgucGFyYW1ldGVyO31hdi5kYXRhc2V0Lm1lbnVOYW1lPWF6O3ZhciBhdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTthdi5hcHBlbmRDaGlsZChhdSk7YXUuYXBwZW5kQ2hpbGQoSihheC50ZXh0KSk7YXcuYXBwZW5kQ2hpbGQoYXYpO31mdW5jdGlvbiBKKGF3KXt2YXIgYXU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthdS5jbGFzc0xpc3QuYWRkKFwibWVudS1pdGVtLWNhdGVnb3J5LWhlYWRlclwiKTt2YXIgYXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO2F2LnRleHRDb250ZW50PWF3O2F1LmFwcGVuZENoaWxkKGF2KTtyZXR1cm4gYXU7fXZhciBWPVwiMXB4IHNvbGlkIGxpZ2h0Z3JheVwiO2Z1bmN0aW9uIHQoYUIsYUYsYUksYUssYUgpe3ZhciBhQT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIiksYUcsYU09XCJcIixhSj1udWxsO2lmKCFhRi5lbmFibGVkKXthQS5jbGFzc0xpc3QuYWRkKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt9aWYoYUk9PWQuUmliYm9uTWVudUl0ZW1TaXplLkF1dG8pe2lmKGFGLmltYWdlSW5mbyl7c3dpdGNoKGFGLmltYWdlSW5mby5JbWFnZUtpbmQpe2Nhc2UgZC5JbWFnZUtpbmQuU21hbGxfMTZ4MTY6YUk9ZC5SaWJib25NZW51SXRlbVNpemUuU21hbGw7YnJlYWs7ZGVmYXVsdDphST1kLlJpYmJvbk1lbnVJdGVtU2l6ZS5MYXJnZTticmVhazt9fWVsc2V7aWYoYUYuc21hbGxJbWFnZURhdGFVUkwpe2FJPWQuUmliYm9uTWVudUl0ZW1TaXplLlNtYWxsO31lbHNle2lmKGFGLmxhcmdlSW1hZ2VEYXRhVVJMKXthST1kLlJpYmJvbk1lbnVJdGVtU2l6ZS5MYXJnZTt9fX19c3dpdGNoKGFJKXtjYXNlIGQuUmliYm9uTWVudUl0ZW1TaXplLkxhcmdlOmFBLmNsYXNzTGlzdC5hZGQoXCJ0eHVpLW1lbnUtaXRlbS1sYXJnZVwiKTticmVhaztjYXNlIGQuUmliYm9uTWVudUl0ZW1TaXplLlNtYWxsOmFBLmNsYXNzTGlzdC5hZGQoXCJ0eHVpLW1lbnUtaXRlbS1zbWFsbFwiKTticmVhazt9aWYoYUYuY2xlYXIpe2FBLnN0eWxlLmNsZWFyPWFGLmNsZWFyO31pZihhRi5ib3JkZXImZC5SaWJib25NZW51SXRlbUJvcmRlci5Ub3Ape2FBLnN0eWxlLmJvcmRlclRvcD1WO31pZihhRi5ib3JkZXImZC5SaWJib25NZW51SXRlbUJvcmRlci5Cb3R0b20pe2FBLnN0eWxlLmJvcmRlckJvdHRvbT1WO31pZihhRi50b29sdGlwKXthQS50aXRsZT1hRi50b29sdGlwO31pZihhRi5uYW1lKXthRz1hRi50YWJOYW1lK1wiX1wiK2FGLm5hbWU7YUEuaWQ9YUc7YUEuZGF0YXNldC5tZW51SXRlbU5hbWU9YUYubmFtZTt9aWYoYUYucGFyYW1ldGVyKXthQS5kYXRhc2V0Lm1lbnVJdGVtUGFyYW1ldGVyPWFGLnBhcmFtZXRlcjt9YUEuZGF0YXNldC5tZW51TmFtZT1hSzt2YXIgYXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7YUEuYXBwZW5kQ2hpbGQoYXYpO3ZhciBheT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3ZhciBhdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3N3aXRjaChhSSl7Y2FzZSBkLlJpYmJvbk1lbnVJdGVtU2l6ZS5MYXJnZTpheS5jbGFzc0xpc3QuYWRkKFwibGFyZ2UtbWVudS1pdGVtLWltYWdlLWNvbnRhaW5lclwiKTtpZihhRi5oZWFkZXIpe2F3LmNsYXNzTGlzdC5hZGQoXCJsYXJnZS1tZW51LWl0ZW0tbG9uZy1jYXB0aW9uLWNvbnRhaW5lclwiKTt9ZWxzZXthdy5jbGFzc0xpc3QuYWRkKFwibGFyZ2UtbWVudS1pdGVtLWNhcHRpb24tY29udGFpbmVyXCIpO31icmVhaztjYXNlIGQuUmliYm9uTWVudUl0ZW1TaXplLlNtYWxsOmlmKGFGLmlzQ2hlY2thYmxlKXtheS5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvblwiKTtheS5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi10aW55XCIpO31lbHNle2F5LmNsYXNzTGlzdC5hZGQoXCJzbWFsbC1tZW51LWl0ZW0taW1hZ2Utd3JhcHBlclwiKTt9YXcuY2xhc3NMaXN0LmFkZChcInNtYWxsLW1lbnUtaXRlbS1jYXB0aW9uLWNvbnRhaW5lclwiKTticmVhazt9aWYoYUYuaXRlbVR5cGU9PT1kLlJpYmJvbk1lbnVJdGVtVHlwZS5DaGVja01hcmspe2F5LmNsYXNzTGlzdC5hZGQoXCJyaWJib24tYnV0dG9uLWNoZWNrbWFya1wiKTt9aWYoYUYuaXNDaGVja2VkKXtheS5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi1zZWxlY3RlZFwiKTt9aWYoYUYuc21hbGxJbWFnZURhdGFVUkx8fGFGLmxhcmdlSW1hZ2VEYXRhVVJMfHxhRi5pbWFnZUluZm8pe3ZhciBhTD1cIlwiLGFFPWZhbHNlO3ZhciBhej1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO3N3aXRjaChhSSl7Y2FzZSBkLlJpYmJvbk1lbnVJdGVtU2l6ZS5TbWFsbDphTD1cIjE2cHhcIjticmVhaztjYXNlIGQuUmliYm9uTWVudUl0ZW1TaXplLkxhcmdlOnN3aXRjaChhRi5pdGVtVHlwZSl7Y2FzZSBkLlJpYmJvbk1lbnVJdGVtVHlwZS5MaXN0VHlwZV9CdWxsZXQ6YUw9XCI0MnB4XCI7YUo9XCIxOHB4XCI7YUU9dHJ1ZTticmVhaztjYXNlIGQuUmliYm9uTWVudUl0ZW1UeXBlLkxpc3RUeXBlX051bWJlcjphTD1cIjc2cHhcIjthSj1cIjM2cHhcIjthRT10cnVlO2JyZWFrO2RlZmF1bHQ6YUw9XCIzMnB4XCI7YnJlYWs7fWJyZWFrO31pZihhRi5zbWFsbEltYWdlRGF0YVVSTHx8YUYubGFyZ2VJbWFnZURhdGFVUkwpe3N3aXRjaChhSSl7Y2FzZSBkLlJpYmJvbk1lbnVJdGVtU2l6ZS5TbWFsbDphTT1hRi5zbWFsbEltYWdlRGF0YVVSTDticmVhaztjYXNlIGQuUmliYm9uTWVudUl0ZW1TaXplLkxhcmdlOmFNPWFGLmxhcmdlSW1hZ2VEYXRhVVJMO2JyZWFrO319ZWxzZXtpZihhRi5pbWFnZUluZm8pe3ZhciBhdT1kLmdldENhY2hlZEltYWdlRGF0YVVSTChhRi5pbWFnZUluZm8pO2lmKGF1KXthTT1hdTt9ZWxzZXthTT1kLlBsYWNlaG9sZGVySW1hZ2U7YXouZGF0YXNldC50eEltYWdlSW5mbz1KU09OLnN0cmluZ2lmeShhRi5pbWFnZUluZm8pO2QucmVxdWlyZWRJbWFnZXMucHVzaChhRi5pbWFnZUluZm8pO319fWF6LnNyYz1hTTthei5zdHlsZS53aWR0aD1hei5zdHlsZS5oZWlnaHQ9YUw7aWYoYUUpe2F6LnN0eWxlLm91dGxpbmU9XCIxcHggc29saWQgI0QzRDNEM1wiO31heS5hcHBlbmRDaGlsZChheik7YXYuYXBwZW5kQ2hpbGQoYXkpO31pZihhRi5oZWFkZXIpe3ZhciBheD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7YXgudGV4dENvbnRlbnQ9YUYuaGVhZGVyO2F3LmFwcGVuZENoaWxkKGF4KTt9dmFyIGFDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO2FDLnN0eWxlLndoaXRlU3BhY2U9XCJwcmVcIjtpZihhSil7YUMuc3R5bGUubWFyZ2luVG9wPWFKO31hQy50ZXh0Q29udGVudD1hRi50ZXh0O2F3LmFwcGVuZENoaWxkKGFDKTthdi5hcHBlbmRDaGlsZChhdyk7aWYoYUYubWVudSYmYUYubWVudS5pdGVtcy5sZW5ndGgpe3ZhciBhRD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7YUQuaWQ9YUYudGFiTmFtZStcIl9cIithRi5tZW51Lm5hbWU7aWYoYUYubWVudS51c2VTY3JvbGxXb3JrYXJvdW5kKXtkLmVuYWJsZVNjcm9sbFdvcmthcm91bmQoYUQpO31lbHNle2lmKGFGLm1lbnUubWF4SGVpZ2h0KXthRC5zdHlsZS5tYXhIZWlnaHQ9YUYubWVudS5tYXhIZWlnaHQrXCJweFwiO2FELnN0eWxlLm92ZXJmbG93WT1cImF1dG9cIjt9fXIoYUQsYUYubWVudS5pdGVtcyxhRi5tZW51Lml0ZW1TaXplLGFGLm1lbnUubmFtZSxmYWxzZSk7YUEuYXBwZW5kQ2hpbGQoYUQpO31pZigoYUghPW51bGwpJiYoYUg8YUIuY2hpbGROb2Rlcy5sZW5ndGgmJmFIPj0wKSl7YUIuaW5zZXJ0QmVmb3JlKGFBLGFCLmNoaWxkTm9kZXNbYUhdKTt9ZWxzZXthQi5hcHBlbmRDaGlsZChhQSk7fWlmKGFGLml0ZW1UeXBlPT09ZC5SaWJib25NZW51SXRlbVR5cGUuSW1hZ2VVcGxvYWRlcil7YUEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZC5pbnNlcnRMb2NhbEltYWdlRmlsZSk7fX1kLmFkZE5vcm1hbE1lbnVJdGVtPXQ7ZC5lbmFibGVTY3JvbGxXb3JrYXJvdW5kPWZ1bmN0aW9uKGF1KXthdS5zdHlsZS5vdmVyZmxvd1k9XCJpbml0aWFsXCI7YXUuc3R5bGUubWF4SGVpZ2h0PVwiaW5pdGlhbFwiO3ZhciBhdj1hdS5pZHx8XCJcIitNYXRoLmZsb29yKDEwMDAwMDAwMDArKE1hdGgucmFuZG9tKCkqOTAwMDAwMDAwMCkpO2NbYXZdPW5ldyBkLk1lbnVUcmFuc2Zvcm1TdGF0ZSgpO2F1LmRhdGFzZXQudHJhbnNmb3JtU3RhdGVJZD1hdjthdS5hZGRFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLFIpO2F1LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLFIpO2lmKGQuaXNUb3VjaERldmljZSl7YXUuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixVKTthdS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIixTKTthdS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIixTKTthdS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsVCk7fX07ZnVuY3Rpb24gaihhdyxheSxheixhQSl7dmFyIGF4LGF2PWQubWFrZVNtYWxsQ29sb3JCdXR0b25zKCk7YXcuc3R5bGUubWluV2lkdGg9ZC5NaW5Db2xvclBpY2tlck1lbnVXaWR0aCtcInB4XCI7Zm9yKGF4PTA7YXg8YXYubGVuZ3RoOysrYXgpe3ZhciBhdT1hdltheF07YXUuZGF0YXNldC5tZW51TmFtZT1hQTthdS5kYXRhc2V0Lm1lbnVJdGVtTmFtZT1heS5uYW1lO2F3LmFwcGVuZENoaWxkKGF1KTt9fWZ1bmN0aW9uIEcoYXosYUYsYUgsYUkpe3ZhciBheT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIiksYUcsYUwsYUo7dmFyIGFNLGFLO2lmKCFhRi5lbmFibGVkKXtheS5jbGFzc0xpc3QuYWRkKFwidHh1aS1zdGF0ZS1kaXNhYmxlZFwiKTt9aWYoYUYuYm9yZGVyJmQuUmliYm9uTWVudUl0ZW1Cb3JkZXIuVG9wKXtheS5zdHlsZS5ib3JkZXJUb3A9Vjt9aWYoYUYuYm9yZGVyJmQuUmliYm9uTWVudUl0ZW1Cb3JkZXIuQm90dG9tKXtheS5zdHlsZS5ib3JkZXJCb3R0b209Vjt9aWYoYUYubmFtZSl7YUc9YUYudGFiTmFtZStcIl9cIithRi5uYW1lO2F5LmlkPWFHO2F5LmRhdGFzZXQubWVudUl0ZW1OYW1lPWFGLm5hbWU7fWlmKGFGLnBhcmFtZXRlcil7YXkuZGF0YXNldC5tZW51SXRlbVBhcmFtZXRlcj1hRi5wYXJhbWV0ZXI7fWF5LmRhdGFzZXQubWVudU5hbWU9YUk7dmFyIGF4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2F5LmFwcGVuZENoaWxkKGF4KTt2YXIgYVA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthUC5jbGFzc0xpc3QuYWRkKFwibWVudS1pdGVtLWNhdGVnb3J5LWhlYWRlclwiKTtheC5hcHBlbmRDaGlsZChhUCk7dmFyIGFDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTt2YXIgYUQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7YUQuY2xhc3NMaXN0LmFkZChcInR4VGJsV2l6SGRyRmlyc3RQYXJ0XCIpO2FELnRleHRDb250ZW50PWQucmliYm9uU3RyaW5nUmVzb3VyY2VzLlJJQkJPTl9UQUJfSU5TRVJUX0dSUF9UQUJMRVNfSU5TX01OVV9IRUFERVIrXCIgXCI7dmFyIGFFPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2FFLmNsYXNzTGlzdC5hZGQoXCJ0eFRibFdpekhkclNlY29uZFBhcnRcIik7YUMuYXBwZW5kQ2hpbGQoYUQpO2FDLmFwcGVuZENoaWxkKGFFKTt2YXIgYUI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthQi5jbGFzc0xpc3QuYWRkKFwidHhJbnNlcnRUYWJsZVdpemFyZFwiKTt2YXIgYUE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO2FCLmFwcGVuZENoaWxkKGFBKTthQS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe2F3KCk7fSk7YUIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIixmdW5jdGlvbihhUSl7YVEudGFyZ2V0LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50eFRibFdpekhkclNlY29uZFBhcnRcIikudGV4dENvbnRlbnQ9XCJcIjt9KTthQS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLGZ1bmN0aW9uKGFRKXt2YXIgYVI9ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChhUS5jbGllbnRYLGFRLmNsaWVudFkpO2lmKCFhUnx8KChhUi50YWdOYW1lIT09XCJURFwiKSYmKGFSLnRhZ05hbWUhPT1cIlRBQkxFXCIpJiYoYVIudGFnTmFtZSE9PVwiVFJcIikpKXthdigpO319KTtmb3IoYUw9MTthTDw9ODsrK2FMKXt2YXIgYU49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO2FBLmFwcGVuZENoaWxkKGFOKTtmb3IoYUo9MTthSjw9MTA7KythSil7dmFyIGF1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTthTi5hcHBlbmRDaGlsZChhdSk7YXUudHhDb2w9YUo7YXUudHhSb3c9YUw7YXUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXthdygpO30pO2F1LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIixmdW5jdGlvbihhUSl7YU8oYVEudGFyZ2V0LnR4Q29sLGFRLnRhcmdldC50eFJvdyk7fSk7fX1hUC5hcHBlbmRDaGlsZChhQyk7YVAuYXBwZW5kQ2hpbGQoYUIpO2F6LmFwcGVuZENoaWxkKGF5KTtmdW5jdGlvbiBhdigpe3ZhciBhUT1hQi5xdWVyeVNlbGVjdG9yQWxsKFwidGQuZ2xvd2luZ1wiKTtbXS5mb3JFYWNoLmNhbGwoYVEsZnVuY3Rpb24oYVIpe2FSLmNsYXNzTGlzdC5yZW1vdmUoXCJnbG93aW5nXCIpO30pO2FNPWFLPTA7YUUudGV4dENvbnRlbnQ9XCJcIjt9ZnVuY3Rpb24gYU8oYVYsYVIpe2F2KCk7Zm9yKHZhciBhVD0wO2FUPGFSOysrYVQpe3ZhciBhVT1hQS5yb3dzW2FUXTtmb3IodmFyIGFTPTA7YVM8YVY7KythUyl7dmFyIGFRPWFVLmNlbGxzW2FTXTthUS5jbGFzc0xpc3QuYWRkKFwiZ2xvd2luZ1wiKTt9fWFNPWFSO2FLPWFWO2FFLnRleHRDb250ZW50PWFWK1wieFwiK2FSO31mdW5jdGlvbiBhdygpe2Quc2VuZENvbW1hbmQoZC5Db21tYW5kLlRhYmxlQ29tbWFuZCxkLlRhYmxlQ29tbWFuZC5DcmVhdGUsYUssYU0pO2F2KCk7fX1kLmNoYW5nZVJpYmJvbkNvbnRyb2xTdGF0ZT1mdW5jdGlvbihhdyl7dmFyIGF2LGF4LGF1O2F2PWF3LmNvbnRyb2xOYW1lO2F1PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGF2KTtpZighYXUpe2lmKGF3LnRhYk5hbWUhPT1udWxsKXthdj1hdy50YWJOYW1lK1wiX1wiK2F3LmNvbnRyb2xOYW1lO2F1PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGF2KTtpZighYXUpe3JldHVybjt9fWVsc2V7cmV0dXJuO319c3dpdGNoKGF3LnN0YXRlVHlwZSl7Y2FzZSBkLlJpYmJvbkNvbnRyb2xTdGF0ZVR5cGUuRW5hYmxlZDpzd2l0Y2goYXUudGFnTmFtZSl7Y2FzZVwiSU5QVVRcIjphdS5kaXNhYmxlZD0hYXcudmFsdWU7YnJlYWs7ZGVmYXVsdDppZihhdy52YWx1ZSl7YXUuY2xhc3NMaXN0LnJlbW92ZShcInR4dWktc3RhdGUtZGlzYWJsZWRcIik7fWVsc2V7YXUuY2xhc3NMaXN0LmFkZChcInR4dWktc3RhdGUtZGlzYWJsZWRcIik7fWJyZWFrO31icmVhaztjYXNlIGQuUmliYm9uQ29udHJvbFN0YXRlVHlwZS5WaXNpYmxlOmF4PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJhW3JlbD1cIithditcIl1cIik7aWYoYXgpe2lmKGF3LnZhbHVlKXthKFwiI1wiK2F4LmlkKS5zaG93KCk7fWVsc2V7YShcIiNcIitheC5pZCkuaGlkZSgpO2lmKGEoXCIjXCIrYXYpLmlzKFwiOnZpc2libGVcIikpe2Quc3dpdGNoVGFicyhhKFwiI3RhYkRlZmF1bHRcIikpO319ZC5hZGFwdFJpYmJvblRhYldpZHRocygpO31lbHNle2lmKGF3LnZhbHVlKXthdS5zdHlsZS5kaXNwbGF5PVwiXCI7ZC5zZXREbGdMYXVuY2hlclBvcygpO31lbHNle2F1LnN0eWxlLmRpc3BsYXk9XCJub25lXCI7aWYoYXUuY2xhc3NMaXN0LmNvbnRhaW5zKFwicmliYm9uLWdyb3VwXCIpKXtkLnJlc2V0UmliYm9uVGFiQ29udGVudFBvcygpO319fWQudXBkYXRlUmliYm9uU2Nyb2xsQXJyb3dzKCk7YnJlYWs7fX07ZC5jaGFuZ2VSaWJib25CdXR0b25TdGF0ZT1mdW5jdGlvbihheSl7dmFyIGF2PWF5LnRhYk5hbWUrXCJfXCIrYXkuYnV0dG9uTmFtZTt2YXIgYXU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXYpO2lmKCFhdSl7cmV0dXJuO31zd2l0Y2goYXkuc3RhdGVUeXBlKXtjYXNlIGQuUmliYm9uQnV0dG9uU3RhdGVUeXBlLlRvZ2dsZWQ6aWYoYXUuY2xhc3NMaXN0LmNvbnRhaW5zKFwicmliYm9uLWJ1dHRvbi1iaWdcIikpe2lmKGF5LnZhbHVlKXthdS5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi1zZWxlY3RlZFwiKTt9ZWxzZXthdS5jbGFzc0xpc3QucmVtb3ZlKFwicmliYm9uLWJ1dHRvbi1zZWxlY3RlZFwiKTt9fWVsc2V7dmFyIGF6PWF1LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGl2XCIpWzBdO2lmKCFheil7YXo9YXU7fWlmKGF5LnZhbHVlKXthei5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi1zZWxlY3RlZFwiKTt9ZWxzZXthei5jbGFzc0xpc3QucmVtb3ZlKFwicmliYm9uLWJ1dHRvbi1zZWxlY3RlZFwiKTt9fWJyZWFrO2Nhc2UgZC5SaWJib25CdXR0b25TdGF0ZVR5cGUuSW1hZ2VEYXRhVVJMOnZhciBheD1hdS5xdWVyeVNlbGVjdG9yKFwiZGl2ID4gaW1nXCIpO2lmKGF4KXtheC5zcmM9YXkudmFsdWU7fWJyZWFrO2Nhc2UgZC5SaWJib25CdXR0b25TdGF0ZVR5cGUuQnV0dG9uVGV4dDp2YXIgYXc9YXUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaXZcIilbMF07aWYoIWF3KXtjb25zb2xlLmVycm9yKFwiY2hhbmdlUmliYm9uQnV0dG9uU3RhdGUoKTogVGV4dCBjb250YWluZXIgZGl2IG9mIHNtYWxsIGJ1dHRvbiBcIitheS5idXR0b25OYW1lK1wiIG5vdCBmb3VuZC5cIik7YnJlYWs7fWF3LnRleHRDb250ZW50PShheS52YWx1ZS5sZW5ndGg9PTEpP2F5LnZhbHVlK1wiXFxcXHVGRTBFXCI6YXkudmFsdWU7YnJlYWs7fX07ZC5jaGFuZ2VSaWJib25NZW51SXRlbVN0YXRlPWZ1bmN0aW9uKGF3KXt2YXIgYXY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXcudGFiTmFtZStcIl9cIithdy5tZW51SXRlbU5hbWUpO2lmKCFhdil7cmV0dXJuO31zd2l0Y2goYXcuc3RhdGVUeXBlKXtjYXNlIGQuUmliYm9uTWVudUl0ZW1TdGF0ZVR5cGUuSXNDaGVja2VkOkkoYXYsYXcudmFsdWUpO2JyZWFrO2Nhc2UgZC5SaWJib25NZW51SXRlbVN0YXRlVHlwZS5TbWFsbEltYWdlRGF0YVVSTDp2YXIgYXU9YXYucXVlcnlTZWxlY3RvcihcImEgPiBkaXYgPiBpbWdcIik7aWYoYXUpe2F1LnNyYz1hdy52YWx1ZTt9YnJlYWs7fX07ZnVuY3Rpb24gSShhdixhdSl7dmFyIGF3PWF2LnF1ZXJ5U2VsZWN0b3IoXCJhID4gZGl2XCIpO2lmKGF1KXthdy5jbGFzc0xpc3QuYWRkKFwicmliYm9uLWJ1dHRvbi1zZWxlY3RlZFwiKTt9ZWxzZXthdy5jbGFzc0xpc3QucmVtb3ZlKFwicmliYm9uLWJ1dHRvbi1zZWxlY3RlZFwiKTt9fWQuY2hhbmdlUmliYm9uVGV4dEJveFN0YXRlPWZ1bmN0aW9uKGF1KXt2YXIgYXc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXUudGFiTmFtZStcIl9cIithdS50ZXh0Qm94TmFtZSk7aWYoIWF3KXtyZXR1cm47fXN3aXRjaChhdS5zdGF0ZVR5cGUpe2Nhc2UgZC5SaWJib25UZXh0Qm94U3RhdGVUeXBlLk51bWJlcjphdy52YWx1ZT0rYXUudmFsdWUudG9GaXhlZCgxKTticmVhaztjYXNlIGQuUmliYm9uVGV4dEJveFN0YXRlVHlwZS5UZXh0OmF3LnZhbHVlPWF1LnZhbHVlO2JyZWFrO2Nhc2UgZC5SaWJib25UZXh0Qm94U3RhdGVUeXBlLlNlbGVjdGlvbjppZihhdS52YWx1ZS50ZXh0fHwoYXUudmFsdWUudGV4dD09PVwiXCIpKXthdigpO31lbHNle2lmKGF1LnZhbHVlLnNlbGVjdGlvbkxlbmd0aCl7YXcuZm9jdXMoKTthdy5zZXRTZWxlY3Rpb25SYW5nZShhdS52YWx1ZS5zZWxlY3Rpb25TdGFydCxhdS52YWx1ZS5zZWxlY3Rpb25TdGFydCthdS52YWx1ZS5zZWxlY3Rpb25MZW5ndGgpO319YnJlYWs7fWZ1bmN0aW9uIGF2KCl7dmFyIGFEPWF3LnNlbGVjdGlvblN0YXJ0O3ZhciBheT1hdy5zZWxlY3Rpb25FbmQ7dmFyIGF4PWF3LnZhbHVlO3ZhciBhej1heC5zdWJzdHJpbmcoMCxhRCkrYXUudmFsdWUudGV4dCtheC5zdWJzdHJpbmcoYXksYXgubGVuZ3RoKTthdy52YWx1ZT1hejthdy5mb2N1cygpO3ZhciBhQz1hRCthdS52YWx1ZS5zZWxlY3Rpb25TdGFydDt2YXIgYUI9YXUudmFsdWUuc2VsZWN0aW9uTGVuZ3RoO3ZhciBhQT1hQythQjthdy5zZXRTZWxlY3Rpb25SYW5nZShhQyxhQSk7fX07ZC5jaGFuZ2VSaWJib25DaGVja0JveFN0YXRlPWZ1bmN0aW9uKGF2KXt2YXIgYXU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXYudGFiTmFtZStcIl9cIithdi5jaGVja0JveE5hbWUpO2lmKCFhdSl7cmV0dXJuO31zd2l0Y2goYXYuc3RhdGVUeXBlKXtjYXNlIGQuUmliYm9uQ2hlY2tCb3hTdGF0ZVR5cGUuSXNDaGVja2VkOmF1LmNoZWNrZWQ9YXYudmFsdWU7YnJlYWs7fX07ZC5jaGFuZ2VQYXJhZ3JhcGhTdHJ1Y3R1cmVMZXZlbEVudHJ5U3RhdGU9ZnVuY3Rpb24oYXYpe3ZhciBhdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhdi50YWJOYW1lK1wiX1wiK2F2Lm5hbWUpO2lmKCFhdSl7cmV0dXJuO31zd2l0Y2goYXYuc3RhdGVUeXBlKXtjYXNlIGQuUGFyYWdyYXBoU3RydWN0dXJlTGV2ZWxFbnRyeVN0YXRlVHlwZS5MZXZlbDpicmVhazt9fTtkLmNoYW5nZVJpYmJvbkNvbWJvQm94U3RhdGU9ZnVuY3Rpb24oYXYpe3ZhciBhdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhdi50YWJOYW1lK1wiX1wiK2F2Lm5hbWUpO2lmKCFhdSl7cmV0dXJuO31zd2l0Y2goYXYuc3RhdGVUeXBlKXtjYXNlIGQuQ29tYm9Cb3hTdGF0ZVR5cGUuU2VsZWN0ZWRJdGVtOmF3KCk7YnJlYWs7Y2FzZSBkLkNvbWJvQm94U3RhdGVUeXBlLkl0ZW1zOmF4KCk7YnJlYWs7fWZ1bmN0aW9uIGF4KCl7YXUuaW5uZXJIVE1MPVwiXCI7bChhdSxhdi52YWx1ZS5pdGVtcyxhdi50YWJOYW1lLGF2Lm5hbWUpO31mdW5jdGlvbiBhdygpe3ZhciBhQT1hdi52YWx1ZS5zZWxlY3RlZEl0ZW07dmFyIGF6PS0xO2lmKGFBPT09bnVsbCl7YXo9MDt9ZWxzZXtmb3IodmFyIGF5PTA7YXk8YXUubGVuZ3RoO2F5Kyspe2lmKGF1W2F5XS52YWx1ZT09PWFBLlZhbHVlKXthej1heTticmVhazt9fX1pZihheiE9LTEpe2F1LnNlbGVjdGVkSW5kZXg9YXo7fX19O2QucHJvY2Vzc1JpYmJvbkNvbWJvQm94Q29tbWFuZD1mdW5jdGlvbihhdyl7dmFyIGF2PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGF3LnRhYk5hbWUrXCJfXCIrYXcubmFtZSk7aWYoIWF2KXtyZXR1cm47fXN3aXRjaChhdy5jb21tYW5kKXtjYXNlIGQuQ29tYm9Cb3hDb21tYW5kLkFkZEl0ZW06YXUoYXcudmFsdWUpO2JyZWFrO2Nhc2UgZC5Db21ib0JveENvbW1hbmQuQWRkSXRlbXM6YXcudmFsdWUuZm9yRWFjaChmdW5jdGlvbihheCl7YXUoYXgpO30pO2JyZWFrO2Nhc2UgZC5Db21ib0JveENvbW1hbmQuQ2xlYXI6YXYuaW5uZXJIVE1MPVwiXCI7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKFwiVW5rbm93biBjb21ib2JveCBjb21tYW5kIGluIF9wcml2YXRlLnByb2Nlc3NSaWJib25Db21ib0JveENvbW1hbmQoKTogXCIrYXcuY29tbWFuZCk7YnJlYWs7fWZ1bmN0aW9uIGF1KGF5KXt2YXIgYXg9W10uZmluZC5jYWxsKGF2Lm9wdGlvbnMsZnVuY3Rpb24oYXope3JldHVybiBhei50ZXh0PT09YXkudGV4dDt9KTtpZighYXgpe2F4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7YXgudmFsdWU9YXkudmFsdWU7YXgudGV4dD1heS50ZXh0O2F2LmFwcGVuZENoaWxkKGF4KTt9aWYoYXkuaGlkZGVuKXtheC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2F4LmRpc2FibGVkPXRydWU7fWVsc2V7YXguc3R5bGUuZGlzcGxheT1cIlwiO2F4LmRpc2FibGVkPWZhbHNlO319fTtkLmNoYW5nZUxpc3RJdGVtU3RhdGU9ZnVuY3Rpb24oYXgpe3ZhciBhdj1heC50YWJOYW1lK1wiX1wiK2F4Lmxpc3RCb3hOYW1lO3N3aXRjaChheC5zdGF0ZVR5cGUpe2Nhc2UgZC5MaXN0SXRlbVN0YXRlVHlwZS5Jc0NoZWNrZWQ6YXUoKTticmVhaztjYXNlIGQuTGlzdEl0ZW1TdGF0ZVR5cGUuVGV4dDpheSgpO2JyZWFrO2Nhc2UgZC5MaXN0SXRlbVN0YXRlVHlwZS5FZGl0YWJsZTphdygpO2JyZWFrO31mdW5jdGlvbiBhdSgpe3ZhciBhQT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI1wiK2F2K1wiIGlucHV0W3R5cGU9Y2hlY2tib3hdXCIpO3ZhciBhej1bXS5maW5kLmNhbGwoYUEsZnVuY3Rpb24oYUIpe3JldHVybiBhQi5kYXRhc2V0Lml0ZW1VaWQ9PT1heC51aWQ7fSk7aWYoIWF6KXtjb25zb2xlLmVycm9yKFxcJ2NoZWNrSXRlbSgpOiBDaGVjayBib3ggZm9yIGl0ZW0gd2l0aCB1aWQgXCJcXCcrYXgudWlkK1xcJ1wiIG5vdCBmb3VuZCBpbiBsaXN0IGJveCBcIlxcJytheC5saXN0Qm94TmFtZStcXCdcIi5cXCcpO3JldHVybjt9YXouY2hlY2tlZD1heC52YWx1ZTt9ZnVuY3Rpb24gYXkoKXt2YXIgYUE9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNcIithditcIiB0ZCBsYWJlbCwgI1wiK2F2K1wiIHRkIGRpdlwiKTt2YXIgYXo9W10uZmluZC5jYWxsKGFBLGZ1bmN0aW9uKGFCKXtyZXR1cm4gYUIuZGF0YXNldC5pdGVtVWlkPT09YXgudWlkO30pO2lmKCFheil7Y29uc29sZS5lcnJvcihcXCdzZXRJdGVtVGV4dCgpOiBJdGVtIHdpdGggdWlkIFwiXFwnK2F4LnVpZCtcXCdcIiBub3QgZm91bmQgaW4gbGlzdCBib3ggXCJcXCcrYXgubGlzdEJveE5hbWUrXFwnXCIuXFwnKTtyZXR1cm47fWlmKGF6LnRhZ05hbWU9PT1cIkxBQkVMXCIpe2F6LnRleHQ9YXgudmFsdWU7fWVsc2V7aWYoYXoudGFnTmFtZT09PVwiRElWXCIpe2F6LnRleHRDb250ZW50PWF4LnZhbHVlO31lbHNle2NvbnNvbGUuZXJyb3IoXFwnY2hhbmdlTGlzdEl0ZW1TdGF0ZSgpLCBzZXRJdGVtVGV4dCgpOiBVbmV4cGVjdGVkIHRhZyBcIlxcJythei50YWdOYW1lK1xcJ1wiLlxcJyk7fX19ZnVuY3Rpb24gYXcoKXtpZighYXgudmFsdWUpe2NvbnNvbGUuZXJyb3IoXCJjaGFuZ2VMaXN0SXRlbVN0YXRlKCksIG1ha2VMaXN0SXRlbUVkaXRhYmxlKCk6IE1ha2luZyBpdGVtcyByZWFkIG9ubHkgYWdhaW4gaXMgbm90IGltcGxlbWVudGVkIHlldC5cIik7cmV0dXJuO312YXIgYUM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXgudGFiTmFtZStcIl9cIitheC5saXN0Qm94TmFtZSk7aWYoIWFDKXtyZXR1cm47fWFJKCk7dmFyIGFHPWFDLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0clwiKTtbXS5mb3JFYWNoLmNhbGwoYUcsZnVuY3Rpb24oYUspe2FLLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKTt9KTt2YXIgYUY9W10uZmluZC5jYWxsKGFHLGZ1bmN0aW9uKGFLKXtyZXR1cm4gYUsuZGF0YXNldC5pdGVtVWlkPT09YXgudWlkO30pO2lmKCFhRil7Y29uc29sZS5lcnJvcihcXCdjaGFuZ2VMaXN0SXRlbVN0YXRlKCksIG1ha2VMaXN0SXRlbUVkaXRhYmxlKCk6IGxpc3QgaXRlbSB3aXRoIHVpZCBcIlxcJytheC51aWQrXFwnXCIgbm90IGZvdW5kLlxcJyk7cmV0dXJuO312YXIgYUQ9YUYuY2hpbGRyZW5bMF0sYUU9YUQuY2hpbGRyZW5bMF07aWYoYUUudGFnTmFtZT09PVwiSU5QVVRcIil7cmV0dXJuO31hRS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGFFKTt2YXIgYXo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2F6LnR5cGU9XCJ0ZXh0XCI7YXouc2V0QXR0cmlidXRlKFwiZm9ybVwiLFwidHhOb3ZhbGlkYXRlRm9ybVwiKTthei5zdHlsZS53aWR0aD1cIjk4JVwiO2F6LnZhbHVlPWFFLnRleHRDb250ZW50O2FELmFwcGVuZENoaWxkKGF6KTthei5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLGFBKTthei5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGFCKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YXouZm9jdXMoKTt9LDEwMCk7ZnVuY3Rpb24gYUEoKXthei5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGFCKTthSCgpO2lmKGF6LnZhbHVlKXtpZihhei52YWx1ZSE9PWFFLnRleHRDb250ZW50KXthRS50ZXh0Q29udGVudD1cIlwiO31hSigpO319ZnVuY3Rpb24gYUIoYUspe3N3aXRjaChhSy5rZXkpe2Nhc2VcIkVzY1wiOmNhc2VcIkVzY2FwZVwiOmF6LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJibHVyXCIsYUEpO2FIKCk7YnJlYWs7Y2FzZVwiRW50ZXJcIjphei5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1clwiLGFBKTthSCgpO2lmKGF6LnZhbHVlIT09YUUudGV4dENvbnRlbnQpe2FFLnRleHRDb250ZW50PVwiXCI7fWFKKCk7YnJlYWs7fX1mdW5jdGlvbiBhSihhTCl7dmFyIGFLPXt0YWJOYW1lOmF4LnRhYk5hbWUsbGlzdEJveE5hbWU6YXgubGlzdEJveE5hbWUsdGV4dDphei52YWx1ZSxpdGVtVWlkOmFGLmRhdGFzZXQuaXRlbVVpZH07ZC5zZW5kQ29tbWFuZChkLkNvbW1hbmQuTGlzdEJveEV2ZW50LGQuTGlzdEJveEV2ZW50VHlwZS5JdGVtVGV4dENoYW5nZWQsMCwwLGFLKTt9ZnVuY3Rpb24gYUgoKXthei5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGF6KTthRC5hcHBlbmRDaGlsZChhRSk7fWZ1bmN0aW9uIGFJKCl7dmFyIGFMPWFDLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciBhSz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5DYW52YXNcIik7dmFyIGFNPWFLLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGFMLnJpZ2h0PmFNLnJpZ2h0KXthZyhudWxsLHRydWUpO31lbHNle2lmKGFMLmxlZnQ8YU0ubGVmdCl7YWYobnVsbCx0cnVlKTt9fX19fTtkLmNoYW5nZUxpc3RCb3hTdGF0ZT1mdW5jdGlvbihhdil7dmFyIGF1PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGF2LnRhYk5hbWUrXCJfXCIrYXYubmFtZSk7aWYoIWF1KXtyZXR1cm47fXN3aXRjaChhdi5zdGF0ZVR5cGUpe2Nhc2UgZC5MaXN0Qm94U3RhdGVUeXBlLkl0ZW1zOmFhKGF1LGF2LnZhbHVlLGF2LnRhYk5hbWUsYXYubmFtZSxhdi5pdGVtc0FyZUNoZWNrYWJsZSxhdi5pdGVtc0FyZVNlbGVjdGFibGUpO2JyZWFrO2Nhc2UgZC5MaXN0Qm94U3RhdGVUeXBlLlNlbGVjdGVkSW5kZXg6YWwoYXUsYXYudmFsdWUpO2JyZWFrO319O2QucmliYm9uTWVudV9jb2xsZWN0aW9uQ2hhbmdlZD1mdW5jdGlvbihhdSl7c3dpdGNoKGF1LmV2ZW50QXJncy5hY3Rpb24pe2Nhc2VcIkFkZFwiOkIoYXUuc2VuZGVyLGF1LmV2ZW50QXJncy5uZXdJdGVtcyxhdS5ldmVudEFyZ3MubmV3U3RhcnRpbmdJbmRleCk7YnJlYWs7Y2FzZVwiUmVtb3ZlXCI6WihhdS5ldmVudEFyZ3Mub2xkSXRlbXMpO2JyZWFrO2Nhc2VcIlJlc2V0XCI6YXYoYXUuc2VuZGVyKTticmVhazt9ZnVuY3Rpb24gYXYoYXgpe3ZhciBhdz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChNKGF4KSk7aWYoIWF3KXtyZXR1cm47fWF3LmlubmVySFRNTD1cIlwiO319O2Z1bmN0aW9uIFooYXUpe2F1LmZvckVhY2goZnVuY3Rpb24oYXgpe3ZhciBhdz1NKGF4KTt2YXIgYXY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXcpO2F2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYXYpO30pO31mdW5jdGlvbiBCKGFBLGF4LGF3KXt2YXIgYXk9YUEuaXRlbVNpemU7dmFyIGFCPU0oYUEpO3ZhciBhdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhQik7aWYoIWF1KXtyZXR1cm47fWZvcih2YXIgYXY9MDthdjxheC5sZW5ndGg7Kythdil7ZC5hZGROb3JtYWxNZW51SXRlbShhdSxheFthdl0sYXksYUEubmFtZSwoYXchPT1udWxsKT9hdythdjpudWxsKTt9YXU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYUIpO3ZhciBhej1hKGF1KTthei5tZW51KFwicmVmcmVzaFwiKTtkLmNhbGNNZW51V2lkdGhzKGF1KTt9ZC5yaWJib25MaXN0Vmlld19jb2xsZWN0aW9uQ2hhbmdlZD1mdW5jdGlvbihhdSl7c3dpdGNoKGF1LmV2ZW50QXJncy5hY3Rpb24pe2Nhc2VcIkFkZFwiOkEoYXUuc2VuZGVyLGF1LmV2ZW50QXJncy5uZXdJdGVtcyxhdS5ldmVudEFyZ3MubmV3U3RhcnRpbmdJbmRleCk7YnJlYWs7Y2FzZVwiUmVzZXRcIjphZChhdS5zZW5kZXIpO2JyZWFrO319O2Z1bmN0aW9uIEEoYXksYXgsYXcpe3ZhciBhdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChNKGF5KSk7dmFyIGF2PWF1LnF1ZXJ5U2VsZWN0b3IoXCJ0YWJsZS5saXN0LWJveC1pdGVtLWNvbnRhaW5lclwiKTtheC5mb3JFYWNoKGZ1bmN0aW9uKGFBKXt2YXIgYXo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO2F2LmFwcGVuZENoaWxkKGF6KTthei5jbGFzc0xpc3QuYWRkKFwibGlzdC1ib3gtaXRlbVwiKTtzd2l0Y2goYUEuY29udHJvbFR5cGUpe2Nhc2UgZC5SaWJib25Db250cm9sVHlwZS5QYXJhZ3JhcGhTdHJ1Y3R1cmVMZXZlbEVudHJ5OnUoYXosYUEpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVGhlIFJpYmJvbkxpc3RWaWV3IG9ubHkgc3VwcG9ydHMgcGFyYWdyYXBoIHN0cnVjdHVyZSBsZXZlbCBlbnRyaWVzIGZvciBub3cuXCIpO319KTt9ZnVuY3Rpb24gYWQoYXcpe3ZhciBhdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChNKGF3KSk7aWYoIWF1KXtyZXR1cm47fXZhciBhdj1hdS5xdWVyeVNlbGVjdG9yKFwidGFibGUubGlzdC1ib3gtaXRlbS1jb250YWluZXJcIik7YXYuaW5uZXJIVE1MPVwiXCI7fWZ1bmN0aW9uIE0oYXUpe3JldHVybiBhdS50YWJOYW1lK1wiX1wiK2F1Lm5hbWU7fWQuY2FsY01lbnVXaWR0aHM9ZnVuY3Rpb24oYXcpe2lmKCFhd3x8IWF3LmNoaWxkcmVuKXtyZXR1cm47fXZhciBhQj1bXTtmb3IodmFyIGF5PTA7YXk8YXcuY2hpbGRyZW4ubGVuZ3RoOysrYXkpe3ZhciBhdj1hdy5jaGlsZHJlbltheV07aWYoYXYudGFnTmFtZT09PVwiTElcIil7Zm9yKHZhciBhej0wO2F6PGF2LmNoaWxkcmVuLmxlbmd0aDsrK2F6KXt2YXIgYXU9YXYuY2hpbGRyZW5bYXpdO2lmKGF1LnRhZ05hbWU9PT1cIlVMXCIpe2FCLnB1c2goYXUpO319fX1mb3IoYXk9MDtheTxhQi5sZW5ndGg7KytheSl7dmFyIGFBPWFCW2F5XTtkLmNhbGNNZW51V2lkdGhzKGFBKTt9YXcuc3R5bGUud2lkdGg9YXgoYXcpK1wicHhcIjtmdW5jdGlvbiBheChhRyl7dmFyIGFQPTAsYVMsYVQsYUQsYUYsYUosYUgsYVEsYUU7dmFyIGFDPWFLKGFHKT8yNzoxMDtmb3IodmFyIGFNPTA7YU08YUcuY2hpbGRyZW4ubGVuZ3RoOysrYU0pe2FKPWFHLmNoaWxkcmVuW2FNXTtpZighYUouY2hpbGRyZW4ubGVuZ3RoKXtjb250aW51ZTt9YUg9YUouY2hpbGRyZW5bMF07aWYoYUgubm9kZU5hbWUhPT1cIkFcIil7Y29udGludWU7fWFRPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJUQUJMRVwiKTthUS5zdHlsZS5wb3NpdGlvbj1cImZpeGVkXCI7YVEuc3R5bGUubGVmdD1cIi05OTk5cHhcIjthUS5zdHlsZS53aGl0ZVNwYWNlPVwibm93cmFwXCI7YVEuc3R5bGUuYm9yZGVyQ29sbGFwc2U9XCJjb2xsYXBzZVwiO2FUPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJUUlwiKTthUS5hcHBlbmRDaGlsZChhVCk7Zm9yKHZhciBhTj0wO2FOPGFILmNoaWxkTm9kZXMubGVuZ3RoOysrYU4pe2FEPWFILmNoaWxkTm9kZXNbYU5dO2lmKGFELm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBhUj1hRC5xdWVyeVNlbGVjdG9yKFwiZGl2LnR4SW5zZXJ0VGFibGVXaXphcmQgPiB0YWJsZVwiKTtpZihhUil7YUQ9YVI7YUM9LTE7fX1hRj0oYUQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCk/Z2V0Q29tcHV0ZWRTdHlsZShhRCk6Z2V0Q29tcHV0ZWRTdHlsZShhSCk7YVM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlREXCIpO2FTLnN0eWxlLmZvbnRGYW1pbHk9YUYuZm9udEZhbWlseTthUy5zdHlsZS5mb250U2l6ZT1hRi5mb250U2l6ZTthRT1hRC5jbG9uZU5vZGUodHJ1ZSk7aWYoYUUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7YUUuc3R5bGUuZm9udEZhbWlseT1hRi5mb250RmFtaWx5O2FFLnN0eWxlLmZvbnRTaXplPWFGLmZvbnRTaXplO2lmKGFFLnRhZ05hbWU9PT1cIlRBQkxFXCIpe2FFLnN0eWxlLndpZHRoPWFGLndpZHRoO319c3dpdGNoKGFFLm5vZGVUeXBlKXtjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOmlmKChhRS50YWdOYW1lPT09XCJESVZcIikmJihhRS5jbGFzc0xpc3QuY29udGFpbnMoXCJtZW51LWl0ZW0tY2F0ZWdvcnktaGVhZGVyXCIpKSl7YnJlYWs7fXZhciBhTD1hRS5xdWVyeVNlbGVjdG9yQWxsKFwiaDFcIik7Zm9yKHZhciBhTz0wO2FPPGFMLmxlbmd0aDsrK2FPKXthTFthT10uc3R5bGUuZm9udFNpemU9YUYuZm9udFNpemU7YUxbYU9dLnN0eWxlLmZvbnRXZWlnaHQ9XCJib2xkXCI7fWFTLmFwcGVuZENoaWxkKGFFKTthVC5hcHBlbmRDaGlsZChhUyk7YnJlYWs7Y2FzZSBOb2RlLlRFWFRfTk9ERTphUy50ZXh0Q29udGVudD1hRS5kYXRhO2FULmFwcGVuZENoaWxkKGFTKTticmVhazt9fXZhciBhST1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKTthSS5hcHBlbmRDaGlsZChhUSk7dmFyIGFVPWFRLmNsaWVudFdpZHRoK2FDO2FQPU1hdGgubWF4KGFQLGFVKTthSS5yZW1vdmVDaGlsZChhUSk7fXJldHVybiBhUDtmdW5jdGlvbiBhSyhhVil7cmV0dXJuKGFWLnN0eWxlLm92ZXJmbG93WT09PVwiYXV0b1wiKXx8KGFWLnN0eWxlLm92ZXJmbG93WT09PVwic2Nyb2xsXCIpO319fTtkLmhpZGVBbGxPdGhlck1lbnVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBhdSBpbiBkLmpRdWVyeU1lbnVzKXtkLmpRdWVyeU1lbnVzW2F1XS5oaWRlKCk7fX07ZC5saW1pdE1lbnVIZWlnaHQ9ZnVuY3Rpb24oYXgpe3ZhciBhdT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChheCk7YXUuc3R5bGUuaGVpZ2h0PVwiXCI7dmFyIGF2PWF1LmNsaWVudEhlaWdodDt2YXIgYXc9ZC5jbGllbnRTaXplLkhlaWdodC1kLnJpYmJvbkJhckhlaWdodC1kLlN0YXR1c0JhckhlaWdodC1kLlNjcm9sbGJhcldpZHRoO2lmKGF3PGF2KXthdS5zdHlsZS5oZWlnaHQ9YXcrXCJweFwiO2F1LnN0eWxlLm92ZXJmbG93WT1cImF1dG9cIjt9fTtkLk1lbnVUcmFuc2Zvcm1TdGF0ZT0oZnVuY3Rpb24oKXtmdW5jdGlvbiBhdSgpe3RoaXMuc2Nyb2xsRW5hYmxlZD1mYWxzZTt0aGlzLmRlbHRhWT0wO3RoaXMubWF4RGVsdGE9MDt0aGlzLnRvdWNoSW5Qcm9ncmVzcz1mYWxzZTt0aGlzLnRvdWNoUHJldj1udWxsO3RoaXMuZGVsdGFGYWN0b3I9MTt0aGlzLmRpcmVjdGlvbj1udWxsO31hdS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbEVuYWJsZWQ9ZmFsc2U7dGhpcy5kZWx0YVk9dGhpcy5tYXhEZWx0YT0wO3RoaXMudG91Y2hJblByb2dyZXNzPWZhbHNlO3RoaXMudG91Y2hQcmV2PW51bGw7dGhpcy5kaXJlY3Rpb249bnVsbDt9O3JldHVybiBhdTt9KSgpO2Z1bmN0aW9uIE4oYXUpe2lmKCFhdSl7dGhyb3cgbmV3IEVycm9yKFxcJ0FyZ3VtZW50IFwibWVudVwiIGlzIG51bGwuXFwnKTt9dmFyIGF2PWF1LmRhdGFzZXQudHJhbnNmb3JtU3RhdGVJZDtpZighYXYpe3Rocm93IG5ldyBFcnJvcihcIk1lbnUgdHJhbnNmb3JtIC8gc2Nyb2xsIHN0YXRlIGlkIG5vdCBmb3VuZCBpbiBlbGVtZW50IGRhdGFzZXQuXCIpO31yZXR1cm4gY1thdl07fWZ1bmN0aW9uIGFrKGF4LGF1LGF5KXt2YXIgYXY9bnVsbDtpZighYXkuc2Nyb2xsRW5hYmxlZCl7cmV0dXJuO31pZihheS5kaXJlY3Rpb249PT1udWxsKXthdygpO31pZihheS5kaXJlY3Rpb249PT1udWxsKXtjb25zb2xlLmVycm9yKFwiU3ViIG1lbnUgc2Nyb2xsIGRpcmVjdGlvbiBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZCBmb3IgdW5rbm93biByZWFzb25zLlwiKTtheS5kaXJlY3Rpb249LTE7fXN3aXRjaChheS5kaXJlY3Rpb24pe2Nhc2UgMTpheS5kZWx0YVk9TWF0aC5taW4oTWF0aC5tYXgoKGF5LmRlbHRhWSthdSksMCksYXkubWF4RGVsdGEpO2JyZWFrO2Nhc2UgLTE6YXkuZGVsdGFZPU1hdGgubWluKE1hdGgubWF4KChheS5kZWx0YVkrYXUpLC1heS5tYXhEZWx0YSksMCk7YnJlYWs7fWF4LnN0eWxlLnRyYW5zZm9ybT1cInRyYW5zbGF0ZSgwcHgsIFwiK2F5LmRlbHRhWStcInB4KVwiO2Z1bmN0aW9uIGF3KCl7dmFyIGFEPWF6KGF4KTtpZihhRD09MCl7YXkuZGlyZWN0aW9uPS0xO31lbHNle3ZhciBhQz1heC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207aWYoYUQ9PTEpe3ZhciBhQj1heC5wYXJlbnRFbGVtZW50O2lmKGFCLnRhZ05hbWU9PT1cIkxJXCIpe2F2PShhQy1hQi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20pO319ZWxzZXthdj1hQy1hQShheCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO31pZihhdiE9PW51bGwpe2F5LmRpcmVjdGlvbj0oYXY8PTIpPzE6LTE7fX1mdW5jdGlvbiBheihhRyl7dmFyIGFGPTA7dmFyIGFIPWFBKGFHKTt2YXIgYUU9KGFIIT09bnVsbCk7aWYoYUUpe2FGPWF6KGFIKSsxO31yZXR1cm4gYUY7fWZ1bmN0aW9uIGFBKGFGKXt2YXIgYUc9YUYucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O3ZhciBhRT1hRyYmYUcudGFnTmFtZT09PVwiVUxcIjtpZihhRSl7cmV0dXJuIGFHO31lbHNle3JldHVybiBudWxsO319fX1mdW5jdGlvbiBSKGF2KXt2YXIgYXc9Tihhdi5jdXJyZW50VGFyZ2V0KTt2YXIgYXU9KChhdi53aGVlbERlbHRhfHwtKGF2LmRldGFpbCo0MCkpLzQpKmF3LmRlbHRhRmFjdG9yO2FrKGF2LmN1cnJlbnRUYXJnZXQsYXUsYXcpO2lmKGF2LmNhbmNlbGFibGUpe2F2LnByZXZlbnREZWZhdWx0KCk7fWF2LnN0b3BQcm9wYWdhdGlvbigpO31mdW5jdGlvbiBVKGF1KXt2YXIgYXY9TihhdS5jdXJyZW50VGFyZ2V0KTthdi50b3VjaEluUHJvZ3Jlc3M9KGF1LnRvdWNoZXMubGVuZ3RoPT09MSk7aWYoYXYudG91Y2hJblByb2dyZXNzKXthdi50b3VjaFByZXY9ZC5jbG9uZVRvdWNoKGF1LnRvdWNoZXNbMF0pO31hdS5zdG9wUHJvcGFnYXRpb24oKTt9ZnVuY3Rpb24gUyhhdSl7dmFyIGF2PU4oYXUuY3VycmVudFRhcmdldCk7YXYudG91Y2hJblByb2dyZXNzPWZhbHNlO2F2LnRvdWNoUHJldj1udWxsO2F1LnN0b3BQcm9wYWdhdGlvbigpO31mdW5jdGlvbiBUKGF2KXt2YXIgYXc9Tihhdi5jdXJyZW50VGFyZ2V0KTtpZighYXcudG91Y2hJblByb2dyZXNzKXtyZXR1cm47fWlmKGF2LnRvdWNoZXMubGVuZ3RoIT09MSl7YXcudG91Y2hJblByb2dyZXNzPWZhbHNlO3JldHVybjt9dmFyIGF1PWF2LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFktYXcudG91Y2hQcmV2LmNsaWVudFk7YXcudG91Y2hQcmV2PWQuY2xvbmVUb3VjaChhdi5jaGFuZ2VkVG91Y2hlc1swXSk7YWsoYXYuY3VycmVudFRhcmdldCxhdSxhdyk7aWYoYXYuY2FuY2VsYWJsZSl7YXYucHJldmVudERlZmF1bHQoKTt9YXYuc3RvcFByb3BhZ2F0aW9uKCk7fWQuY2FsY01lbnVTY3JvbGxJbmZvPWZ1bmN0aW9uKGF6LGF4LGF3KXtheD0hIWF4O2F3PSEhYXc7dmFyIGF2PWF6LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDt2YXIgYXk9YXc/MDpkLmNsaWVudFNpemUuSGVpZ2h0LWQucmliYm9uQmFySGVpZ2h0LWQuU3RhdHVzQmFySGVpZ2h0O3ZhciBhQTt0cnl7YUE9Tihheik7fWNhdGNoKGF1KXtjW2F6LmlkXT1uZXcgZC5NZW51VHJhbnNmb3JtU3RhdGUoKTthQT1jW2F6LmlkXTt9aWYoKGF2PmF5KXx8YXgpe2FBLnNjcm9sbEVuYWJsZWQ9dHJ1ZTthQS5tYXhEZWx0YT1heD9hdjooYXYtYXkpO31lbHNle2FBLnJlc2V0KCk7fWlmKCFheCl7dmFyIGFCPWF6LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ1bFwiKTtbXS5mb3JFYWNoLmNhbGwoYUIsZnVuY3Rpb24oYUMpe2FDLnN0eWxlLmRpc3BsYXk9XCJcIjt9KTtbXS5mb3JFYWNoLmNhbGwoYUIsZnVuY3Rpb24oYUMpe2QuY2FsY01lbnVTY3JvbGxJbmZvKGFDLHRydWUpO30pO1tdLmZvckVhY2guY2FsbChhQixmdW5jdGlvbihhQyl7YUMuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjt9KTt9fTtmdW5jdGlvbiBhYyhhdil7Zm9yKHZhciBhdSBpbiBjKXtpZihjLmhhc093blByb3BlcnR5KGF1KSl7Y1thdV0ucmVzZXQoKTt9fWF2LnN0eWxlLnRyYW5zZm9ybT1cIlwiO3ZhciBhdz1hdi5xdWVyeVNlbGVjdG9yQWxsKFwidWxcIik7W10uZm9yRWFjaC5jYWxsKGF3LGZ1bmN0aW9uKGF4KXtheC5zdHlsZS50cmFuc2Zvcm09XCJcIjt9KTt9cmV0dXJuIGFyO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZixhKXt2YXIgYj1mLl9wcml2YXRlPWYuX3ByaXZhdGV8fHt9O2IuU3ViVGV4dFBhcnRDb21tYW5kPU9iamVjdC5mcmVlemUoe0dldEFsbDoxLFNldFByb3BlcnR5OjIsR2V0SXRlbTozLEFkZEl0ZW06NCxSZW1vdmVJdGVtOjUsU2Nyb2xsVG86Nix9KTtiLlN1YlRleHRQYXJ0UHJvcGVydHk9T2JqZWN0LmZyZWV6ZSh7TmFtZToxLFN0YXJ0OjIsTGVuZ3RoOjMsSUQ6NCxIaWdobGlnaHRDb2xvcjo1LEhpZ2hsaWdodE1vZGU6Nn0pO2IuSGlnaGxpZ2h0TW9kZT1PYmplY3QuZnJlZXplKHtOZXZlcjoxLEFjdGl2YXRlZDoyLEFsd2F5czozfSk7Yi5BZGRSZXN1bHQ9T2JqZWN0LmZyZWV6ZSh7RXJyb3I6MCxTdWNjZXNzZnVsOjEsTm9TZWxlY3Rpb246MixTZWxlY3Rpb25Ub29Db21wbGV4OjMsUG9zaXRpb25JbnZhbGlkOjQsQWxyZWFkeUV4aXN0czo1LE92ZXJsYXBwaW5nOjcsQ29tYmluZWQ6OCx9KTtiLkNvbG9yPShmdW5jdGlvbigpe2Z1bmN0aW9uIENvbG9yKHIsZyxiLGEpe2lmKGE9PT11bmRlZmluZWQpe2E9MjU1O31pZigocj09PXVuZGVmaW5lZCl8fChnPT09dW5kZWZpbmVkKXx8KGI9PT11bmRlZmluZWQpfHwocjwwKXx8KHI+MjU1KXx8KGc8MCl8fChnPjI1NSl8fChiPDApfHwoYj4yNTUpfHwoYTwwKXx8KGE+MjU1KSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcInIsIGcsIGFuZCBiIHBhcmFtZXRlcnMgbXVzdCBiZSBpbnRlZ2VyIHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDI1NS5cIik7fXRoaXMucj1NYXRoLnJvdW5kKHIpO3RoaXMuZz1NYXRoLnJvdW5kKGcpO3RoaXMuYj1NYXRoLnJvdW5kKGIpO3RoaXMuYT1NYXRoLnJvdW5kKGEpO31yZXR1cm4gQ29sb3I7fSkoKTtiLkxlZ2FjeVN1YlRleHRQYXJ0PShmdW5jdGlvbigpe2Z1bmN0aW9uIFN1YlRleHRQYXJ0KHNlcnZlclN1YlRleHRQYXJ0T2JqZWN0KXt0aGlzLl9zdWJUZXh0UGFydD1zZXJ2ZXJTdWJUZXh0UGFydE9iamVjdDt2YXIgZz10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse25hbWU6e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl9zdWJUZXh0UGFydC5uYW1lO30sc2V0OmZ1bmN0aW9uKG5hbWUpe2lmKG5hbWU9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIG5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wibmFtZVwiIG11c3QgYmUgYSBzdHJpbmcuXFwnKTt9Zy5fc3ViVGV4dFBhcnQubmFtZT1uYW1lO3ZhciBoPXtzdWJUZXh0UGFydDpnLl9zdWJUZXh0UGFydH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50U3ViVGV4dFBhcnQsYi5TdWJUZXh0UGFydENvbW1hbmQuU2V0UHJvcGVydHksYi5TdWJUZXh0UGFydFByb3BlcnR5Lk5hbWUsMCxoKTt9LGVudW1lcmFibGU6dHJ1ZX0saWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl9zdWJUZXh0UGFydC5pZDt9LHNldDpmdW5jdGlvbihpZCl7aWYoaWQ9PT11bmRlZmluZWQpe2lkPTA7fWlmKCFpc0ludGVnZXIoaWQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiaWRcIiBtdXN0IGJlIGFuIGludGVnZXIuXFwnKTt9Zy5fc3ViVGV4dFBhcnQuaWQ9aWQ7dmFyIGg9e3N1YlRleHRQYXJ0OmcuX3N1YlRleHRQYXJ0fTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5DbGllbnRTdWJUZXh0UGFydCxiLlN1YlRleHRQYXJ0Q29tbWFuZC5TZXRQcm9wZXJ0eSxiLlN1YlRleHRQYXJ0UHJvcGVydHkuSUQsMCxoKTt9LGVudW1lcmFibGU6dHJ1ZX0saGlnaGxpZ2h0Q29sb3I6e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl9zdWJUZXh0UGFydC5oaWdobGlnaHRDb2xvcjt9LHNldDpmdW5jdGlvbihoaWdobGlnaHRDb2xvcil7aWYoaGlnaGxpZ2h0Q29sb3I9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYoIWhpZ2hsaWdodENvbG9yLmhhc093blByb3BlcnR5KFwiclwiKXx8IWhpZ2hsaWdodENvbG9yLmhhc093blByb3BlcnR5KFwiZ1wiKXx8IWhpZ2hsaWdodENvbG9yLmhhc093blByb3BlcnR5KFwiYlwiKXx8IWhpZ2hsaWdodENvbG9yLmhhc093blByb3BlcnR5KFwiYVwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBjb2xvciBvYmplY3QgbXVzdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIFxcJ3JcXCcsIFxcJ2dcXCcsIFxcJ2JcXCcgYW5kIFxcJ2FcXCcuXCIpO31pZighaXNJbnRlZ2VyKGhpZ2hsaWdodENvbG9yLnIpfHwhaXNJbnRlZ2VyKGhpZ2hsaWdodENvbG9yLmcpfHwhaXNJbnRlZ2VyKGhpZ2hsaWdodENvbG9yLmIpfHwhaXNJbnRlZ2VyKGhpZ2hsaWdodENvbG9yLmEpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQWxsIGNvbG9yIGNoYW5uZWwgdmFsdWVzIG11c3QgYmUgaW50ZWdlcnMgYmV0d2VlbiAwIGFuZCAyNTUuXCIpO31nLl9zdWJUZXh0UGFydC5oaWdobGlnaHRDb2xvcj1oaWdobGlnaHRDb2xvcjt2YXIgaD17c3ViVGV4dFBhcnQ6Zy5fc3ViVGV4dFBhcnR9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNsaWVudFN1YlRleHRQYXJ0LGIuU3ViVGV4dFBhcnRDb21tYW5kLlNldFByb3BlcnR5LGIuU3ViVGV4dFBhcnRQcm9wZXJ0eS5IaWdobGlnaHRDb2xvciwwLGgpO30sZW51bWVyYWJsZTp0cnVlfSxoaWdobGlnaHRNb2RlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5fc3ViVGV4dFBhcnQuaGlnaGxpZ2h0TW9kZTt9LHNldDpmdW5jdGlvbihoaWdobGlnaHRNb2RlKXtpZihoaWdobGlnaHRNb2RlPT09dW5kZWZpbmVkKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuVG9vRmV3UGFyYW1ldGVycyk7fWlmKCFpc0ludGVnZXIoaGlnaGxpZ2h0TW9kZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJoaWdobGlnaHRNb2RlXCIgbXVzdCBiZSBvbmUgb2YgdGhlIHZhbHVlcyBkZWZpbmVkIGluIFRYVGV4dENvbnRyb2wuSGlnaGxpZ2h0TW9kZS5cXCcpO31nLl9zdWJUZXh0UGFydC5oaWdobGlnaHRNb2RlPWhpZ2hsaWdodE1vZGU7dmFyIGg9e3N1YlRleHRQYXJ0OmcuX3N1YlRleHRQYXJ0fTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5DbGllbnRTdWJUZXh0UGFydCxiLlN1YlRleHRQYXJ0Q29tbWFuZC5TZXRQcm9wZXJ0eSxiLlN1YlRleHRQYXJ0UHJvcGVydHkuSGlnaGxpZ2h0TW9kZSwwLGgpO30sZW51bWVyYWJsZTp0cnVlfSx0ZXh0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5fc3ViVGV4dFBhcnQudGV4dDt9LGVudW1lcmFibGU6dHJ1ZX0sbnVtYmVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5fc3ViVGV4dFBhcnQubnVtYmVyO30sZW51bWVyYWJsZTp0cnVlfSxzdGFydDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuX3N1YlRleHRQYXJ0LnN0YXJ0O30sZW51bWVyYWJsZTp0cnVlfSxsZW5ndGg6e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl9zdWJUZXh0UGFydC5sZW5ndGg7fSxlbnVtZXJhYmxlOnRydWV9LG5lc3RlZExldmVsOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5fc3ViVGV4dFBhcnQubmVzdGVkTGV2ZWw7fSxlbnVtZXJhYmxlOnRydWV9LH0pO31TdWJUZXh0UGFydC5wcm90b3R5cGUuc2Nyb2xsVG89ZnVuY3Rpb24oKXt2YXIgZz17c3ViVGV4dFBhcnQ6dGhpcy5fc3ViVGV4dFBhcnR9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNsaWVudFN1YlRleHRQYXJ0LGIuU3ViVGV4dFBhcnRDb21tYW5kLlNjcm9sbFRvLDAsMCxnKTt9O3JldHVybiBTdWJUZXh0UGFydDt9KSgpO2IucHJvY2Vzc1N1YlRleHRQYXJ0RGF0YU1lc3NhZ2U9ZnVuY3Rpb24oaSl7dmFyIGc9aS5EYXRhLkNvbnRlbnQ7dmFyIGg9aS5EYXRhLkV4Y01zZztzd2l0Y2goZy5TdWJUZXh0UGFydENvbW1hbmQpe2Nhc2UgYi5TdWJUZXh0UGFydENvbW1hbmQuR2V0QWxsOmQoZyxoKTticmVhaztjYXNlIGIuU3ViVGV4dFBhcnRDb21tYW5kLkFkZEl0ZW06YyhnLGgpO2JyZWFrO2Nhc2UgYi5TdWJUZXh0UGFydENvbW1hbmQuUmVtb3ZlSXRlbTplKGcsaCk7YnJlYWs7fX07ZnVuY3Rpb24gZChpLGspe3ZhciBnPWIuZG9jdW1lbnRUYXNrQ2FsbGJhY2tzLmdldFN1YlRleHRQYXJ0cy5zaGlmdCgpO2lmKGc9PT11bmRlZmluZWQpe3JldHVybjt9aWYoayl7dGhyb3cgbmV3IEVycm9yKGspO312YXIgaD1bXTtpLlN1YlRleHRQYXJ0cy5mb3JFYWNoKGZ1bmN0aW9uKGwpe2gucHVzaChuZXcgYi5MZWdhY3lTdWJUZXh0UGFydChsKSk7fSk7dHJ5e2coaCk7fWNhdGNoKGope319ZnVuY3Rpb24gYyhoLGope3ZhciBnPWIuZG9jdW1lbnRUYXNrQ2FsbGJhY2tzLmFkZFN1YlRleHRQYXJ0LnNoaWZ0KCk7aWYoZz09PXVuZGVmaW5lZCl7cmV0dXJuO31pZihqKXt0aHJvdyBuZXcgRXJyb3Ioaik7fXRyeXtnKGguQWRkUmVzdWx0KTt9Y2F0Y2goaSl7fX1mdW5jdGlvbiBlKGgsail7dmFyIGc9Yi5kb2N1bWVudFRhc2tDYWxsYmFja3MucmVtb3ZlU3ViVGV4dFBhcnQuc2hpZnQoKTtpZihnPT09dW5kZWZpbmVkKXtyZXR1cm47fWlmKGope3Rocm93IG5ldyBFcnJvcihqKTt9dHJ5e2coaC5SZW1vdmVkKTt9Y2F0Y2goaSl7fX1yZXR1cm4gZjt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGYsYSl7dmFyIGI9Zi5fcHJpdmF0ZT1mLl9wcml2YXRlfHx7fTt2YXIgZT1mLlByb29maW5nPWYuUHJvb2Zpbmd8fHt9O2IuU3BlbGxDaGVja0NvbW1hbmQ9T2JqZWN0LmZyZWV6ZSh7TG9hZFVzZXJEaWN0aW9uYXJ5OjEsQWRkV29yZFRvVXNlckRpY3Q6MixSZW1vdmVXb3JkRnJvbVVzZXJEaWN0OjMsQ2xpZW50U2F2ZVVzZXJEaWN0aW9uYXJ5OjQsUmVtb3ZlVXNlckRpY3Rpb25hcnk6NSxDbGllbnRHZXRVc2VyRGljdEluZm86Nn0pO2IucHJvb2ZpbmdUYXNrQ2FsbGJhY2tzPXtzYXZlVXNlckRpY3Rpb25hcnk6W10sZ2V0VXNlckRpY3Rpb25hcnlJbmZvOltdfTtiLlVzZXJEaWN0aW9uYXJ5SW5mbz0oZnVuY3Rpb24oKXtmdW5jdGlvbiBVc2VyRGljdGlvbmFyeUluZm8oaW5mbyl7Zm9yKHZhciBnIGluIGluZm8pe3RoaXNbZ109aW5mb1tnXTt9fXJldHVybiBVc2VyRGljdGlvbmFyeUluZm87fSkoKTtlLmxvYWRVc2VyRGljdGlvbmFyeT1mdW5jdGlvbihuYW1lLHdvcmRzLGxhbmd1YWdlKXtpZighbmFtZXx8KHR5cGVvZiBuYW1lIT09XCJzdHJpbmdcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJuYW1lXCIgbXVzdCBiZSBhIG5vbiBlbXB0eSBzdHJpbmcuXFwnKTt9aWYoKGxhbmd1YWdlPT09dW5kZWZpbmVkKXx8KHR5cGVvZiBsYW5ndWFnZSE9PVwic3RyaW5nXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wibGFuZ3VhZ2VcIiBtdXN0IGJlIGEgc3RyaW5nLlxcJyk7fWlmKHdvcmRzPT09dW5kZWZpbmVkKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuVG9vRmV3UGFyYW1ldGVycyk7fWlmKHdvcmRzLmNvbnN0cnVjdG9yIT09QXJyYXkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJ3b3Jkc1wiIG11c3QgYmUgYW4gYXJyYXkuXFwnKTt9d29yZHMuZm9yRWFjaChmdW5jdGlvbihoKXtpZigodHlwZW9mIGghPT1cInN0cmluZ1wiKSYmIShoIGluc3RhbmNlb2YgU3RyaW5nKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcIndvcmRzXCIgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLlxcJyk7fX0pO3ZhciBnPXt3b3Jkczp3b3JkcyxuYW1lOm5hbWUsbGFuZzpsYW5ndWFnZX07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuU3BlbGxDaGVjayxiLlNwZWxsQ2hlY2tDb21tYW5kLkxvYWRVc2VyRGljdGlvbmFyeSwwLDAsZyk7fTtlLmFkZFdvcmRUb1VzZXJEaWN0aW9uYXJ5PWZ1bmN0aW9uKG5hbWUsd29yZCl7aWYoIW5hbWV8fCh0eXBlb2YgbmFtZSE9PVwic3RyaW5nXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wibmFtZVwiIG11c3QgYmUgYSBub24gZW1wdHkgc3RyaW5nLlxcJyk7fWlmKHdvcmQ9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYoIXdvcmR8fCh0eXBlb2Ygd29yZCE9PVwic3RyaW5nXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wid29yZFwiIG11c3QgYmUgYSBub24gZW1wdHkgc3RyaW5nLlxcJyk7fXZhciBnPXt3b3JkOndvcmQsbmFtZTpuYW1lfTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TcGVsbENoZWNrLGIuU3BlbGxDaGVja0NvbW1hbmQuQWRkV29yZFRvVXNlckRpY3QsMCwwLGcpO307ZS5yZW1vdmVXb3JkRnJvbVVzZXJEaWN0aW9uYXJ5PWZ1bmN0aW9uKG5hbWUsd29yZCl7aWYoIW5hbWV8fCh0eXBlb2YgbmFtZSE9PVwic3RyaW5nXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wibmFtZVwiIG11c3QgYmUgYSBub24gZW1wdHkgc3RyaW5nLlxcJyk7fWlmKHdvcmQ9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYoIXdvcmR8fCh0eXBlb2Ygd29yZCE9PVwic3RyaW5nXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wid29yZFwiIG11c3QgYmUgYSBub24gZW1wdHkgc3RyaW5nLlxcJyk7fXZhciBnPXt3b3JkOndvcmQsbmFtZTpuYW1lfTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TcGVsbENoZWNrLGIuU3BlbGxDaGVja0NvbW1hbmQuUmVtb3ZlV29yZEZyb21Vc2VyRGljdCwwLDAsZyk7fTtlLnNhdmVVc2VyRGljdGlvbmFyeT1mdW5jdGlvbihuYW1lLGNhbGxiYWNrKXtpZighbmFtZXx8KHR5cGVvZiBuYW1lIT09XCJzdHJpbmdcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJuYW1lXCIgbXVzdCBiZSBhIG5vbiBlbXB0eSBzdHJpbmcuXFwnKTt9aWYoIWNhbGxiYWNrKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuVG9vRmV3UGFyYW1ldGVycyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWIucHJvb2ZpbmdUYXNrQ2FsbGJhY2tzLnNhdmVVc2VyRGljdGlvbmFyeS5wdXNoKGNhbGxiYWNrKTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TcGVsbENoZWNrLGIuU3BlbGxDaGVja0NvbW1hbmQuQ2xpZW50U2F2ZVVzZXJEaWN0aW9uYXJ5LDAsMCx7bmFtZTpuYW1lfSk7fTtlLnJlbW92ZVVzZXJEaWN0aW9uYXJ5PWZ1bmN0aW9uKG5hbWUpe2lmKCFuYW1lfHwodHlwZW9mIG5hbWUhPT1cInN0cmluZ1wiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcIm5hbWVcIiBtdXN0IGJlIGEgbm9uIGVtcHR5IHN0cmluZy5cXCcpO31iLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TcGVsbENoZWNrLGIuU3BlbGxDaGVja0NvbW1hbmQuUmVtb3ZlVXNlckRpY3Rpb25hcnksMCwwLHtuYW1lOm5hbWV9KTt9O2UuZ2V0VXNlckRpY3Rpb25hcnlJbmZvPWZ1bmN0aW9uKGNhbGxiYWNrKXtpZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9Yi5wcm9vZmluZ1Rhc2tDYWxsYmFja3MuZ2V0VXNlckRpY3Rpb25hcnlJbmZvLnB1c2goY2FsbGJhY2spO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNwZWxsQ2hlY2ssYi5TcGVsbENoZWNrQ29tbWFuZC5DbGllbnRHZXRVc2VyRGljdEluZm8pO307Yi5wcm9jZXNzU3BlbGxDaGVja0NvbW1hbmRSZXNwb25zZT1mdW5jdGlvbihqKXt2YXIgaT1qLkRhdGEuRXhjTXNnO3ZhciBnPWouRGF0YS5Db250ZW50LmNvbW1hbmQ7dmFyIGg9ai5EYXRhLkNvbnRlbnQuY29udGVudDtzd2l0Y2goZyl7Y2FzZSBiLlNwZWxsQ2hlY2tDb21tYW5kLkNsaWVudFNhdmVVc2VyRGljdGlvbmFyeTpkKGgsaSk7YnJlYWs7Y2FzZSBiLlNwZWxsQ2hlY2tDb21tYW5kLkNsaWVudEdldFVzZXJEaWN0SW5mbzpjKGgsaSk7YnJlYWs7fX07ZnVuY3Rpb24gZChoLGope3ZhciBnPWIucHJvb2ZpbmdUYXNrQ2FsbGJhY2tzLnNhdmVVc2VyRGljdGlvbmFyeS5zaGlmdCgpO2lmKGc9PT11bmRlZmluZWQpe3JldHVybjt9aWYoail7dGhyb3cgbmV3IEVycm9yKGopO310cnl7ZyhoLm5hbWUsaC53b3Jkcyk7fWNhdGNoKGkpe319ZnVuY3Rpb24gYyhoLGope3ZhciBnPWIucHJvb2ZpbmdUYXNrQ2FsbGJhY2tzLmdldFVzZXJEaWN0aW9uYXJ5SW5mby5zaGlmdCgpO2lmKGc9PT11bmRlZmluZWQpe3JldHVybjt9aWYoail7dGhyb3cgbmV3IEVycm9yKGopO312YXIgaz1bXTtoLmluZm8uZm9yRWFjaChmdW5jdGlvbihsKXtrLnB1c2gobmV3IGIuVXNlckRpY3Rpb25hcnlJbmZvKGwpKTt9KTt0cnl7ZyhrKTt9Y2F0Y2goaSl7fX1yZXR1cm4gZjt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtjLmRvY3VtZW50UGVybWlzc2lvbnM9Yy5kb2N1bWVudFBlcm1pc3Npb25zfHx7fTtiLmRvY3VtZW50UGVybWlzc2lvbnM9e3JlYWRPbmx5OnRydWUsYWxsb3dDb3B5OnRydWUsYWxsb3dGb3JtYXR0aW5nOnRydWUsYWxsb3dGb3JtYXR0aW5nU3R5bGVzOnRydWUsYWxsb3dQcmludGluZzp0cnVlLGFsbG93RWRpdGluZ0Zvcm1GaWVsZHM6dHJ1ZX07Yi5Eb2N1bWVudFBlcm1pc3Npb25zUHJvcGVydHk9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGMuZG9jdW1lbnRQZXJtaXNzaW9ucyxcInJlYWRPbmx5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBiLmRvY3VtZW50UGVybWlzc2lvbnMucmVhZE9ubHk7fSxzZXQ6ZnVuY3Rpb24ocmVhZE9ubHkpe2lmKHR5cGVvZiByZWFkT25seSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWIuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNldERvY3VtZW50UGVybWlzc2lvbnMsYi5Eb2N1bWVudFBlcm1pc3Npb25zUHJvcGVydHkuUmVhZE9ubHkscmVhZE9ubHk/MTowKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLmRvY3VtZW50UGVybWlzc2lvbnMsXCJhbGxvd0NvcHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuZG9jdW1lbnRQZXJtaXNzaW9ucy5hbGxvd0NvcHk7fSxzZXQ6ZnVuY3Rpb24oYWxsb3dDb3B5KXtpZih0eXBlb2YgYWxsb3dDb3B5IT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuU2V0RG9jdW1lbnRQZXJtaXNzaW9ucyxiLkRvY3VtZW50UGVybWlzc2lvbnNQcm9wZXJ0eS5BbGxvd0NvcHksYWxsb3dDb3B5PzE6MCk7fSxlbnVtZXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYy5kb2N1bWVudFBlcm1pc3Npb25zLFwiYWxsb3dGb3JtYXR0aW5nXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBiLmRvY3VtZW50UGVybWlzc2lvbnMuYWxsb3dGb3JtYXR0aW5nO30sc2V0OmZ1bmN0aW9uKGFsbG93Rm9ybWF0dGluZyl7aWYodHlwZW9mIGFsbG93Rm9ybWF0dGluZyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWIuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNldERvY3VtZW50UGVybWlzc2lvbnMsYi5Eb2N1bWVudFBlcm1pc3Npb25zUHJvcGVydHkuQWxsb3dGb3JtYXR0aW5nLGFsbG93Rm9ybWF0dGluZz8xOjApO30sZW51bWVyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMuZG9jdW1lbnRQZXJtaXNzaW9ucyxcImFsbG93Rm9ybWF0dGluZ1N0eWxlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5kb2N1bWVudFBlcm1pc3Npb25zLmFsbG93Rm9ybWF0dGluZ1N0eWxlczt9LHNldDpmdW5jdGlvbihhbGxvd0Zvcm1hdHRpbmdTdHlsZXMpe2lmKHR5cGVvZiBhbGxvd0Zvcm1hdHRpbmdTdHlsZXMhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO31iLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TZXREb2N1bWVudFBlcm1pc3Npb25zLGIuRG9jdW1lbnRQZXJtaXNzaW9uc1Byb3BlcnR5LkFsbG93Rm9ybWF0dGluZ1N0eWxlcyxhbGxvd0Zvcm1hdHRpbmdTdHlsZXM/MTowKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLmRvY3VtZW50UGVybWlzc2lvbnMsXCJhbGxvd1ByaW50aW5nXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBiLmRvY3VtZW50UGVybWlzc2lvbnMuYWxsb3dQcmludGluZzt9LHNldDpmdW5jdGlvbihhbGxvd1ByaW50aW5nKXtpZih0eXBlb2YgYWxsb3dQcmludGluZyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWIuc2VuZENvbW1hbmQoYi5Db21tYW5kLlNldERvY3VtZW50UGVybWlzc2lvbnMsYi5Eb2N1bWVudFBlcm1pc3Npb25zUHJvcGVydHkuQWxsb3dQcmludGluZyxhbGxvd1ByaW50aW5nPzE6MCk7fSxlbnVtZXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYy5kb2N1bWVudFBlcm1pc3Npb25zLFwiYWxsb3dFZGl0aW5nRm9ybUZpZWxkc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5kb2N1bWVudFBlcm1pc3Npb25zLmFsbG93RWRpdGluZ0Zvcm1GaWVsZHM7fSxzZXQ6ZnVuY3Rpb24oZCl7aWYodHlwZW9mIGQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO31iLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5TZXREb2N1bWVudFBlcm1pc3Npb25zLGIuRG9jdW1lbnRQZXJtaXNzaW9uc1Byb3BlcnR5LkFsbG93RWRpdGluZ0Zvcm1GaWVsZHMsZD8xOjApO30sZW51bWVyYWJsZTp0cnVlfSk7Yi5zZXREb2N1bWVudFBlcm1pc3Npb249ZnVuY3Rpb24oZCl7dmFyIGU9ZC5QYXJhbTE7dmFyIGY9KGQuUGFyYW0yIT09MCk7c3dpdGNoKGUpe2Nhc2UgYi5Eb2N1bWVudFBlcm1pc3Npb25zUHJvcGVydHkuUmVhZE9ubHk6Yi5kb2N1bWVudFBlcm1pc3Npb25zLnJlYWRPbmx5PWY7YnJlYWs7Y2FzZSBiLkRvY3VtZW50UGVybWlzc2lvbnNQcm9wZXJ0eS5BbGxvd0NvcHk6Yi5kb2N1bWVudFBlcm1pc3Npb25zLmFsbG93Q29weT1mO2JyZWFrO2Nhc2UgYi5Eb2N1bWVudFBlcm1pc3Npb25zUHJvcGVydHkuQWxsb3dGb3JtYXR0aW5nOmIuZG9jdW1lbnRQZXJtaXNzaW9ucy5hbGxvd0Zvcm1hdHRpbmc9ZjticmVhaztjYXNlIGIuRG9jdW1lbnRQZXJtaXNzaW9uc1Byb3BlcnR5LkFsbG93Rm9ybWF0dGluZ1N0eWxlczpiLmRvY3VtZW50UGVybWlzc2lvbnMuYWxsb3dGb3JtYXR0aW5nU3R5bGVzPWY7YnJlYWs7Y2FzZSBiLkRvY3VtZW50UGVybWlzc2lvbnNQcm9wZXJ0eS5BbGxvd1ByaW50aW5nOmIuZG9jdW1lbnRQZXJtaXNzaW9ucy5hbGxvd1ByaW50aW5nPWY7YnJlYWs7Y2FzZSBiLkRvY3VtZW50UGVybWlzc2lvbnNQcm9wZXJ0eS5BbGxvd0VkaXRpbmdGb3JtRmllbGRzOmIuZG9jdW1lbnRQZXJtaXNzaW9ucy5hbGxvd0VkaXRpbmdGb3JtRmllbGRzPWY7YnJlYWs7fX07cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5SaWJib249KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gUmliYm9uKCl7T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7c2VsZWN0ZWRUYWI6e2dldDpmdW5jdGlvbigpe3ZhciBkPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmliYm9uYmFyIHVsLnRhYnMgYVtyZWxdLnNlbGVjdGVkXCIpO2lmKGQpe3JldHVybiBkLmdldEF0dHJpYnV0ZShcImlkXCIpO31lbHNle3JldHVyblwiXCI7fX0sc2V0OmZ1bmN0aW9uKHRhYk5hbWUpe2lmKHR5cGVvZiB0YWJOYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO312YXIgZz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3JpYmJvbmJhciB1bC50YWJzIGFbcmVsXVwiKTt2YXIgZj1mYWxzZTtmb3IodmFyIGQ9MDtkPGcubGVuZ3RoOysrZCl7dmFyIGU9Z1tkXTtpZigoZS5pZD09PXRhYk5hbWUpJiYoZS5zdHlsZS5kaXNwbGF5IT09XCJub25lXCIpKXtmPXRydWU7YnJlYWs7fX1pZighZil7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlJpYmJvblRhYkRvZXNOb3RFeGlzdCk7fWIuc3dpdGNoVGFicyhhKFwiI1wiK3RhYk5hbWUpKTt9LGVudW1lcmFibGU6dHJ1ZX19KTt9UmliYm9uLnByb3RvdHlwZS5taW5pbWl6ZT1mdW5jdGlvbigpe2Iuc2hvd1JpYmJvbkJhcihmYWxzZSk7fTtSaWJib24ucHJvdG90eXBlLmV4cGFuZD1mdW5jdGlvbigpe2Iuc2hvd1JpYmJvbkJhcih0cnVlKTt9O3JldHVybiBSaWJib247fSkoKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkV2ZW50TWFuYWdlcj0oZnVuY3Rpb24oKXtmdW5jdGlvbiBkKCl7dGhpcy5jYWxsYmFja3M9e307fWQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXtpZighZXZlbnROYW1lKXt0aHJvdyBuZXcgRXJyb3IoXCJXcm9uZyBudW1iZXIgb2YgcGFyYW1ldGVycy5cIik7fWlmKHR5cGVvZiBldmVudE5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImV2ZW50TmFtZVwiIG11c3QgYmUgb2YgdHlwZSBcInN0cmluZ1wiLlxcJyk7fWlmKCFjYWxsYmFjayl7dGhyb3cgbmV3IEVycm9yKFwiV3JvbmcgbnVtYmVyIG9mIHBhcmFtZXRlcnMuXCIpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwiY2FsbGJhY2tcIiBtdXN0IGJlIG9mIHR5cGUgXCJmdW5jdGlvblwiLlxcJyk7fXRoaXMuY2FsbGJhY2tzW2V2ZW50TmFtZV09dGhpcy5jYWxsYmFja3NbZXZlbnROYW1lXXx8W107dmFyIGU9dGhpcy5jYWxsYmFja3NbZXZlbnROYW1lXTt2YXIgZj1lLmluZGV4T2YoY2FsbGJhY2spO2lmKGY9PS0xKXtlLnB1c2goY2FsbGJhY2spO319O2QucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXtpZighZXZlbnROYW1lKXt0aHJvdyBuZXcgRXJyb3IoXCJXcm9uZyBudW1iZXIgb2YgcGFyYW1ldGVycy5cIik7fWlmKHR5cGVvZiBldmVudE5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImV2ZW50TmFtZVwiIG11c3QgYmUgb2YgdHlwZSBcInN0cmluZ1wiLlxcJyk7fWlmKCFjYWxsYmFjayl7dGhyb3cgbmV3IEVycm9yKFwiV3JvbmcgbnVtYmVyIG9mIHBhcmFtZXRlcnMuXCIpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwiY2FsbGJhY2tcIiBtdXN0IGJlIG9mIHR5cGUgXCJmdW5jdGlvblwiLlxcJyk7fWlmKCF0aGlzLmNhbGxiYWNrcy5oYXNPd25Qcm9wZXJ0eShldmVudE5hbWUpKXtyZXR1cm47fXZhciBmPXRoaXMuY2FsbGJhY2tzW2V2ZW50TmFtZV07dHJ5e3ZhciBoPWYuaW5kZXhPZihjYWxsYmFjayk7aWYoaD4tMSl7Zi5zcGxpY2UoaCwxKTtpZihmLmxlbmd0aD09MCl7ZGVsZXRlIHRoaXMuY2FsbGJhY2tzW2V2ZW50TmFtZV07fX19Y2F0Y2goZyl7fX07ZC5wcm90b3R5cGUuZmlyZUV2ZW50PWZ1bmN0aW9uKGssail7aWYoIXRoaXMuY2FsbGJhY2tzLmhhc093blByb3BlcnR5KGspKXtyZXR1cm47fXZhciBnPXRoaXMuY2FsbGJhY2tzW2tdO2Zvcih2YXIgbD0wO2w8Zy5sZW5ndGg7KytsKXt2YXIgZj1nW2xdO3RyeXtmKGopO31jYXRjaChoKXt9fX07cmV0dXJuIGQ7fSkoKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkV2ZW50U3Vic2NyaWJlcj0oZnVuY3Rpb24oKXtmdW5jdGlvbiBkKCl7dGhpcy5fPXtldmVudE1hbmFnZXI6bmV3IGIuRXZlbnRNYW5hZ2VyKCl9O31kLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGYsZSl7aWYoIWUpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGUhPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO310aGlzLl8uZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZixlKTt9O2QucHJvdG90eXBlLmZpcmVFdmVudD1mdW5jdGlvbihmLGUpe2Y9XCJcIitmO3RoaXMuXy5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KGYsZSk7fTtkLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGYsZSl7aWYoZiE9Yi5UWEV2ZW50TmFtZXMuQWNjZXNzVGV4dENvbnRyb2xNZW1iZXIpe3RoaXMuXy5ldmVudE1hbmFnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihmLGUpO319O3JldHVybiBkO30pKCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5NZW1iZXJUeXBlPU9iamVjdC5mcmVlemUoe1Byb3BlcnR5OjEsTWV0aG9kOjJ9KTtiLk1lbWJlckluZm89KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChlLGYpe2lmKHR5cGVvZiBlIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcIk1ldGhvZCBuYW1lIG11c3QgYmUgYSBzdHJpbmcuXCIpO31pZih0eXBlb2YgZiE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJUeXBlIG11c3QgYmUgb25lIG9mIHRoZSBfcHJpdmF0ZS5NZW1iZXJUeXBlIHZhbHVlcy5cIik7fXRoaXMubmFtZT1lO3RoaXMudHlwZT1mO31kLmNyZWF0ZUluc3RhbmNlPWZ1bmN0aW9uKGUsZyxmKXtzd2l0Y2goZyl7Y2FzZSBiLk1lbWJlclR5cGUuTWV0aG9kOnJldHVybiBiLk1ldGhvZEluZm8uY3JlYXRlSW5zdGFuY2UoZSxmKTtjYXNlIGIuTWVtYmVyVHlwZS5Qcm9wZXJ0eTpyZXR1cm4gbmV3IGIuUHJvcGVydHlJbmZvKGUsKGYmJmYubGVuZ3RoKT9mWzBdOm51bGwpO310aHJvdyBuZXcgRXJyb3IoXCJNZW1iZXJJbmZvLmNyZWF0ZUluc3RhbmNlKCk6IFVua25vd24gbWVtYmVyIHR5cGUgXCIrZytcIi5cIik7fTtyZXR1cm4gZDt9KSgpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuTWV0aG9kSW5mbz0oZnVuY3Rpb24oZCl7X19leHRlbmRzKGUsZCk7ZnVuY3Rpb24gZShmLGcpe2QuY2FsbCh0aGlzLGYsYi5NZW1iZXJUeXBlLk1ldGhvZCk7dGhpcy5wYXJhbWV0ZXJzPSh0eXBlb2YgZyE9PVwidW5kZWZpbmVkXCIpP2c6W107fWUuY3JlYXRlSW5zdGFuY2U9ZnVuY3Rpb24oZyxoKXtpZih0eXBlb2YgZyE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwibWV0aG9kTmFtZVwiIGhhcyBpbnZhbGlkIHR5cGUuXFwnKTt9dmFyIGo9W107aWYodHlwZW9mIGghPT1cInVuZGVmaW5lZFwiKXtmb3IodmFyIGY9MDtmPGgubGVuZ3RoO2YrKyl7aWYodHlwZW9mIGhbZl0hPT1cInVuZGVmaW5lZFwiKXtqLnB1c2gobmV3IGIuUGFyYW1ldGVySW5mbyhoW2ZdKSk7fX19cmV0dXJuIG5ldyBiLk1ldGhvZEluZm8oZyxqKTt9O3JldHVybiBlO30pKGIuTWVtYmVySW5mbyk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5QYXJhbWV0ZXJJbmZvPShmdW5jdGlvbigpe2Z1bmN0aW9uIGQoZSl7aWYodHlwZW9mIGU9PT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBFcnJvcihcIkEgbWV0aG9kIHBhcmFtZXRlciBtdXN0IG5vdCBiZSBhIGZ1bmN0aW9uLlwiKTt9dGhpcy52YWx1ZT1lO31yZXR1cm4gZDt9KSgpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuUHJvcGVydHlJbmZvPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZSxkKTtmdW5jdGlvbiBlKGYsZyl7ZC5jYWxsKHRoaXMsZixiLk1lbWJlclR5cGUuUHJvcGVydHkpO3RoaXMudmFsdWU9KHR5cGVvZiBnIT09XCJ1bmRlZmluZWRcIik/ZzpudWxsO31yZXR1cm4gZTt9KShiLk1lbWJlckluZm8pO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuQ2FsbERpcmVjdGlvbj1PYmplY3QuZnJlZXplKHtOb25lOjAsR2V0OjEsU2V0OjJ9KTtiLlRYRXZlbnROYW1lcz1PYmplY3QuZnJlZXplKHtBY2Nlc3NUZXh0Q29udHJvbE1lbWJlcjpcImFjY2Vzc1RleHRDb250cm9sTWVtYmVyXCJ9KTtiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIsZCk7ZnVuY3Rpb24gVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIoZSxmKXtkLmNhbGwodGhpcyk7aWYodHlwZW9mIGUhPT1cIm51bWJlclwiKXtlPTA7fWlmKHR5cGVvZiBmIT09XCJudW1iZXJcIil7Zj0tMTt9dGhpcy5fLmhhc2hjb2RlPWU7dGhpcy5fLmluZGV4PWY7fVRleHRDb250cm9sQ2xhc3NBZGFwdGVyLnByb3RvdHlwZS5jYWxsTWV0aG9kPWZ1bmN0aW9uKGcsZSxoLGYpe2lmKHR5cGVvZiBnPT09XCJ1bmRlZmluZWRcIil7dGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBtZXRob2QgbmFtZS5cIik7fWlmKChlIT09bnVsbCkmJih0eXBlb2YgZSE9PVwidW5kZWZpbmVkXCIpJiYodHlwZW9mIGUhPT1cImZ1bmN0aW9uXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9aWYodHlwZW9mIGg9PT1cInVuZGVmaW5lZFwiKXtoPVtdO31pZigoZiE9PW51bGwpJiYodHlwZW9mIGYhPT1cInVuZGVmaW5lZFwiKSYmKHR5cGVvZiBmIT09XCJmdW5jdGlvblwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5FcnJvckNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dGhpcy5hY2Nlc3NUZXh0Q29udHJvbE1lbWJlcihnLGIuTWVtYmVyVHlwZS5NZXRob2QsYi5DYWxsRGlyZWN0aW9uLk5vbmUsaCxlLG51bGwsZik7fTtUZXh0Q29udHJvbENsYXNzQWRhcHRlci5wcm90b3R5cGUuc2V0UHJvcGVydHlWYWx1ZT1mdW5jdGlvbihnLGgsZSxmKXtpZih0eXBlb2YgZz09PVwidW5kZWZpbmVkXCIpe3Rocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcHJvcGVydHkgbmFtZS5cIik7fWlmKHR5cGVvZiBoPT09XCJ1bmRlZmluZWRcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYoKGUhPT1udWxsKSYmKHR5cGVvZiBlIT09XCJ1bmRlZmluZWRcIikmJih0eXBlb2YgZSE9PVwiZnVuY3Rpb25cIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31pZigoZiE9PW51bGwpJiYodHlwZW9mIGYhPT1cInVuZGVmaW5lZFwiKSYmKHR5cGVvZiBmIT09XCJmdW5jdGlvblwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5FcnJvckNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dGhpcy5hY2Nlc3NUZXh0Q29udHJvbE1lbWJlcihnLGIuTWVtYmVyVHlwZS5Qcm9wZXJ0eSxiLkNhbGxEaXJlY3Rpb24uU2V0LFtoXSxlLG51bGwsZik7fTtUZXh0Q29udHJvbENsYXNzQWRhcHRlci5wcm90b3R5cGUuZ2V0UHJvcGVydHlWYWx1ZT1mdW5jdGlvbihnLGUsZil7aWYodHlwZW9mIGc9PT1cInVuZGVmaW5lZFwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgZSE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWlmKChmIT09bnVsbCkmJih0eXBlb2YgZiE9PVwidW5kZWZpbmVkXCIpJiYodHlwZW9mIGYhPT1cImZ1bmN0aW9uXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkVycm9yQ2FsbEJhY2tJc05vRnVuY3Rpb24pO310aGlzLmFjY2Vzc1RleHRDb250cm9sTWVtYmVyKGcsYi5NZW1iZXJUeXBlLlByb3BlcnR5LGIuQ2FsbERpcmVjdGlvbi5HZXQsW10sZSxudWxsLGYpO307VGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIucHJvdG90eXBlLmludm9rZVRleHRDb250cm9sTWVtYmVyQWNjZXNzRXZlbnQ9ZnVuY3Rpb24oZSxmKXtpZighKGUgaW5zdGFuY2VvZiBiLlRleHRDb250cm9sTWVtYmVyQWNjZXNzRXZlbnRBcmdzKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigpO31pZih0eXBlb2YgZiE9PVwidW5kZWZpbmVkXCImJmYhPW51bGwpe2UucHJlcGVuZChmKTt9dGhpcy5maXJlRXZlbnQoYi5UWEV2ZW50TmFtZXMuQWNjZXNzVGV4dENvbnRyb2xNZW1iZXIsZSk7fTtUZXh0Q29udHJvbENsYXNzQWRhcHRlci5wcm90b3R5cGUuYWNjZXNzVGV4dENvbnRyb2xNZW1iZXI9ZnVuY3Rpb24oaixrLGcsbCxmLGUsaCl7dmFyIGk9Yi5NZW1iZXJJbmZvLmNyZWF0ZUluc3RhbmNlKGosayxsKTtpZigoZT09PW51bGwpfHwodHlwZW9mIGU9PT1cInVuZGVmaW5lZFwiKSl7dGhpcy5pbnZva2VUZXh0Q29udHJvbE1lbWJlckFjY2Vzc0V2ZW50KG5ldyBiLlRleHRDb250cm9sTWVtYmVyQWNjZXNzRXZlbnRBcmdzKGksZixnLGgpKTt9ZWxzZXt0aGlzLmludm9rZVRleHRDb250cm9sTWVtYmVyQWNjZXNzRXZlbnQoZSxpKTt9fTtUZXh0Q29udHJvbENsYXNzQWRhcHRlci5wcm90b3R5cGUuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGYsZyxlKXtpZighZyl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIk1pc3NpbmcgcHJvcGVydHkgbmFtZS5cIik7fXZhciBoPXRoaXM7Zi5hZGRFdmVudExpc3RlbmVyKGIuVFhFdmVudE5hbWVzLkFjY2Vzc1RleHRDb250cm9sTWVtYmVyLGZ1bmN0aW9uKGkpe2guYWNjZXNzVGV4dENvbnRyb2xNZW1iZXIoZyxiLk1lbWJlclR5cGUuUHJvcGVydHksYi5DYWxsRGlyZWN0aW9uLkdldCxbXSxlLGkpO30pO307VGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIucHJvdG90eXBlLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGcsZixoLGUpe2lmKCFmKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiTWlzc2luZyBtZXRob2QgbmFtZS5cIik7fXZhciBpPXRoaXM7Zy5hZGRFdmVudExpc3RlbmVyKGIuVFhFdmVudE5hbWVzLkFjY2Vzc1RleHRDb250cm9sTWVtYmVyLGZ1bmN0aW9uKGope2kuYWNjZXNzVGV4dENvbnRyb2xNZW1iZXIoZixiLk1lbWJlclR5cGUuTWV0aG9kLGIuQ2FsbERpcmVjdGlvbi5Ob25lLGgsZSxqKTt9KTt9O3JldHVybiBUZXh0Q29udHJvbENsYXNzQWRhcHRlcjt9KShiLkV2ZW50U3Vic2NyaWJlcik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5UZXh0Q29udHJvbE1lbWJlckFjY2Vzc0V2ZW50QXJncz0oZnVuY3Rpb24oKXtmdW5jdGlvbiBkKGgsZSxmLGcpe2lmKChlPT09bnVsbCl8fCh0eXBlb2YgZT09PVwidW5kZWZpbmVkXCIpKXtlPWZ1bmN0aW9uKCl7fTt9aWYodHlwZW9mIGUhPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31pZih0eXBlb2YgZj09PVwidW5kZWZpbmVkXCIpe2Y9Yi5DYWxsRGlyZWN0aW9uLk5vbmU7fWVsc2V7aWYodHlwZW9mIGYhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImRpclwiIG11c3QgYmUgb25lIG9mIHRoZSBfcHJpdmF0ZS5DYWxsRGlyZWN0aW9uIHZhbHVlcy5cXCcpO319dGhpcy5tX3NlcXVlbmNlPVtoXTt0aGlzLm1fY2FsbGJhY2s9ZTt0aGlzLm1fZGlyPWY7dGhpcy5tX2Vycm9yQ2FsbGJhY2s9Zzt9ZC5wcm90b3R5cGUucHJlcGVuZD1mdW5jdGlvbihlKXtpZih0eXBlb2YgZT09PVwidW5kZWZpbmVkXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJUZXh0Q29udHJvbE1lbWJlckFjY2Vzc0V2ZW50QXJncy5wcmVwZW5kKCk6IG1lbWJlckluZm8gaXMgdW5kZWZpbmVkLlwiKTt9dGhpcy5tX3NlcXVlbmNlLnVuc2hpZnQoZSk7fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJjYWxsYmFja1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tX2NhbGxiYWNrO30sZW51bWVyYWJsZTp0cnVlLH0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcInNlcXVlbmNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1fc2VxdWVuY2U7fSxlbnVtZXJhYmxlOnRydWUsfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLFwiY2FsbERpcmVjdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tX2Rpcjt9LGVudW1lcmFibGU6dHJ1ZSx9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJlcnJvckNhbGxiYWNrXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1fZXJyb3JDYWxsYmFjazt9LGVudW1lcmFibGU6dHJ1ZSx9KTtyZXR1cm4gZDt9KSgpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuVGV4dENvbnRyb2xNZW1iZXJBY2Nlc3NNZXNzYWdlPShmdW5jdGlvbigpe2Z1bmN0aW9uIGQoZyxlLGYpe2lmKCh0eXBlb2YgZyE9PVwic3RyaW5nXCIpfHwhZyl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgbWVzc2FnZSB1aWQuXCIpO31pZighQXJyYXkuaXNBcnJheShlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlNlcXVlbmNlIGlzIG5vdCBhbiBhcnJheS5cIik7fWlmKHR5cGVvZiBmPT09XCJ1bmRlZmluZWRcIil7Zj1iLkNhbGxEaXJlY3Rpb24uTm9uZTt9ZWxzZXtpZih0eXBlb2YgZiE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwiZGlyXCIgbXVzdCBiZSBvbmUgb2YgdGhlIF9wcml2YXRlLkNhbGxEaXJlY3Rpb24gdmFsdWVzLlxcJyk7fX10aGlzLm1fdWlkPWc7dGhpcy5tX2NhbGxTZXF1ZW5jZT1lO3RoaXMubV9kaXI9ZjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtjb21tYW5kSUQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBiLkNvbW1hbmQuQWNjZXNzVGV4dENvbnRyb2xNZW1iZXI7fSxlbnVtZXJhYmxlOnRydWV9LHBhcmFtMTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubV9kaXI7fSxlbnVtZXJhYmxlOnRydWV9LHBhcmFtMjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDA7fSxlbnVtZXJhYmxlOnRydWV9LHBhcmFtMzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDA7fSxlbnVtZXJhYmxlOnRydWV9LGRhdGE6e2dldDpmdW5jdGlvbigpe3JldHVybntjYWxsU2VxdWVuY2U6dGhpcy5tX2NhbGxTZXF1ZW5jZSxtZXNzYWdlVUlEOnRoaXMubV91aWR9O30sZW51bWVyYWJsZTp0cnVlfX0pO31yZXR1cm4gZDt9KSgpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0FjdGl2ZUZvcm1GaWVsZENvbG9yOlwiQWN0aXZlRm9ybUZpZWxkQ29sb3JcIixEYXJrU2hhZG93Q29sb3I6XCJEYXJrU2hhZG93Q29sb3JcIixEZXNrdG9wQ29sb3I6XCJEZXNrdG9wQ29sb3JcIixGb3JtRmllbGRDb2xvcjpcIkZvcm1GaWVsZENvbG9yXCIsSGVhZGVyRm9vdGVyTGFiZWxDb2xvcjpcIkhlYWRlckZvb3RlckxhYmVsQ29sb3JcIixIZWFkZXJGb290ZXJMaW5lQ29sb3I6XCJIZWFkZXJGb290ZXJMaW5lQ29sb3JcIixMaWdodFNoYWRvd0NvbG9yOlwiTGlnaHRTaGFkb3dDb2xvclwifSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7UmVzZXREYXJrU2hhZG93Q29sb3I6XCJSZXNldERhcmtTaGFkb3dDb2xvclwiLFJlc2V0RGVza3RvcENvbG9yOlwiUmVzZXREZXNrdG9wQ29sb3JcIixSZXNldEhlYWRlckZvb3RlckxhYmVsQ29sb3I6XCJSZXNldEhlYWRlckZvb3RlckxhYmVsQ29sb3JcIixSZXNldEhlYWRlckZvb3RlckxpbmVDb2xvcjpcIlJlc2V0SGVhZGVyRm9vdGVyTGluZUNvbG9yXCIsUmVzZXRMaWdodFNoYWRvd0NvbG9yOlwiUmVzZXRMaWdodFNoYWRvd0NvbG9yXCJ9KTtiLkRpc3BsYXlDb2xvcnM9KGZ1bmN0aW9uKGYpe19fZXh0ZW5kcyhEaXNwbGF5Q29sb3JzLGYpO2Z1bmN0aW9uIERpc3BsYXlDb2xvcnMoKXtmLmNhbGwodGhpcyk7fURpc3BsYXlDb2xvcnMucHJvdG90eXBlLnNldEFjdGl2ZUZvcm1GaWVsZENvbG9yPWZ1bmN0aW9uKGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkFjdGl2ZUZvcm1GaWVsZENvbG9yLGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RGlzcGxheUNvbG9ycy5wcm90b3R5cGUuZ2V0QWN0aXZlRm9ybUZpZWxkQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQWN0aXZlRm9ybUZpZWxkQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEaXNwbGF5Q29sb3JzLnByb3RvdHlwZS5zZXREYXJrU2hhZG93Q29sb3I9ZnVuY3Rpb24oY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRGFya1NoYWRvd0NvbG9yLGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RGlzcGxheUNvbG9ycy5wcm90b3R5cGUuZ2V0RGFya1NoYWRvd0NvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkRhcmtTaGFkb3dDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Rpc3BsYXlDb2xvcnMucHJvdG90eXBlLnNldERlc2t0b3BDb2xvcj1mdW5jdGlvbihjb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLnNldFByb3BlcnR5VmFsdWUoZC5EZXNrdG9wQ29sb3IsY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEaXNwbGF5Q29sb3JzLnByb3RvdHlwZS5nZXREZXNrdG9wQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRGVza3RvcENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RGlzcGxheUNvbG9ycy5wcm90b3R5cGUuc2V0Rm9ybUZpZWxkQ29sb3I9ZnVuY3Rpb24oY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRm9ybUZpZWxkQ29sb3IsY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEaXNwbGF5Q29sb3JzLnByb3RvdHlwZS5nZXRGb3JtRmllbGRDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Gb3JtRmllbGRDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Rpc3BsYXlDb2xvcnMucHJvdG90eXBlLnNldEhlYWRlckZvb3RlckxhYmVsQ29sb3I9ZnVuY3Rpb24oY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSGVhZGVyRm9vdGVyTGFiZWxDb2xvcixjb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Rpc3BsYXlDb2xvcnMucHJvdG90eXBlLmdldEhlYWRlckZvb3RlckxhYmVsQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuSGVhZGVyRm9vdGVyTGFiZWxDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Rpc3BsYXlDb2xvcnMucHJvdG90eXBlLnNldEhlYWRlckZvb3RlckxpbmVDb2xvcj1mdW5jdGlvbihjb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLnNldFByb3BlcnR5VmFsdWUoZC5IZWFkZXJGb290ZXJMaW5lQ29sb3IsY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEaXNwbGF5Q29sb3JzLnByb3RvdHlwZS5nZXRIZWFkZXJGb290ZXJMaW5lQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuSGVhZGVyRm9vdGVyTGluZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RGlzcGxheUNvbG9ycy5wcm90b3R5cGUuc2V0TGlnaHRTaGFkb3dDb2xvcj1mdW5jdGlvbihjb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLnNldFByb3BlcnR5VmFsdWUoZC5MaWdodFNoYWRvd0NvbG9yLGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RGlzcGxheUNvbG9ycy5wcm90b3R5cGUuZ2V0TGlnaHRTaGFkb3dDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5MaWdodFNoYWRvd0NvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RGlzcGxheUNvbG9ycy5wcm90b3R5cGUucmVzZXREYXJrU2hhZG93Q29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuUmVzZXREYXJrU2hhZG93Q29sb3IsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtEaXNwbGF5Q29sb3JzLnByb3RvdHlwZS5yZXNldERlc2t0b3BDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5SZXNldERlc2t0b3BDb2xvcixjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O0Rpc3BsYXlDb2xvcnMucHJvdG90eXBlLnJlc2V0SGVhZGVyRm9vdGVyTGFiZWxDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5SZXNldEhlYWRlckZvb3RlckxhYmVsQ29sb3IsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtEaXNwbGF5Q29sb3JzLnByb3RvdHlwZS5yZXNldEhlYWRlckZvb3RlckxpbmVDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5SZXNldEhlYWRlckZvb3RlckxpbmVDb2xvcixjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O0Rpc3BsYXlDb2xvcnMucHJvdG90eXBlLnJlc2V0TGlnaHRTaGFkb3dDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5SZXNldExpZ2h0U2hhZG93Q29sb3IsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gRGlzcGxheUNvbG9yczt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtyZXR1cm4gZTt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkNvbGxlY3Rpb25Qcm9wZXJ0eU5hbWU9T2JqZWN0LmZyZWV6ZSh7Q3VycmVudDpcIkN1cnJlbnRcIixDYW5BZGQ6XCJDYW5BZGRcIixDYW5SZW1vdmU6XCJDYW5SZW1vdmVcIixDb3VudDpcIkNvdW50XCJ9KTtiLkNvbGxlY3Rpb25NZXRob2ROYW1lPU9iamVjdC5mcmVlemUoe0FkZDpcIkFkZFwiLENsZWFyOlwiQ2xlYXJcIixHZXRJdGVtOlwiR2V0SXRlbVwiLEdldEFkYXB0ZXJCeUhhc2hjb2RlOlwiR2V0QWRhcHRlckJ5SGFzaGNvZGVcIixSZW1vdmU6XCJSZW1vdmVcIixNb3ZlTmV4dDpcIk1vdmVOZXh0XCIsUmVzZXQ6XCJSZXNldFwiLEVsZW1lbnRBdDpcIkVsZW1lbnRBdFwifSk7Yi5Db2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoQ29sbGVjdGlvbixkKTtmdW5jdGlvbiBDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31Db2xsZWN0aW9uLnByb3RvdHlwZS5nZXRDb3VudD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5Db2xsZWN0aW9uUHJvcGVydHlOYW1lLkNvdW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307Q29sbGVjdGlvbi5wcm90b3R5cGUuZWxlbWVudEF0PWZ1bmN0aW9uKGluZGV4LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuRWxlbWVudEF0LGZ1bmN0aW9uKGcpe3ZhciBmPShnIT09bnVsbCk/ZS5fYWRhcHQoZyk6bnVsbDtjYWxsYmFjayhmKTt9LFtpbmRleF0sZXJyb3JDYWxsYmFjayk7fTtDb2xsZWN0aW9uLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBmPXRoaXMsZTt0aGlzLmdldENvdW50KGZ1bmN0aW9uKGcpe2ZvcihlPTA7ZTxnOysrZSl7Zi5lbGVtZW50QXQoZSwoZnVuY3Rpb24oaCl7cmV0dXJuIGZ1bmN0aW9uKGkpe2NhbGxiYWNrKGksaCxnKTt9O30pKGUpLGVycm9yQ2FsbGJhY2spO319LGVycm9yQ2FsbGJhY2spO307Q29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcIk5PVCBJTVBMRU1FTlRFRC4gT3ZlcnJpZGUgdGhpcyBtZXRob2QgaW4geW91ciBkZXJpdmVkIGNsYXNzLlwiKTt9O3JldHVybiBDb2xsZWN0aW9uO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0FsbEZyYW1lTGluZXM6XCJBbGxGcmFtZUxpbmVzXCIsQm9sZDpcIkJvbGRcIixCb3R0b21BbGlnbmVkOlwiQm90dG9tQWxpZ25lZFwiLEJvdHRvbURpc3RhbmNlOlwiQm90dG9tRGlzdGFuY2VcIixCb3R0b21GcmFtZUxpbmU6XCJCb3R0b21GcmFtZUxpbmVcIixCb3hGcmFtZTpcIkJveEZyYW1lXCIsQnVsbGV0Q2hhcmFjdGVyOlwiQnVsbGV0Q2hhcmFjdGVyXCIsQnVsbGV0ZWRMaXN0OlwiQnVsbGV0ZWRMaXN0XCIsQ2VudGVyZWQ6XCJDZW50ZXJlZFwiLEZvbnRGYW1pbHk6XCJGb250RmFtaWx5XCIsRm9udFNpemU6XCJGb250U2l6ZVwiLEZyYW1lRmlsbENvbG9yOlwiRnJhbWVGaWxsQ29sb3JcIixGcmFtZUxpbmVDb2xvcjpcIkZyYW1lTGluZUNvbG9yXCIsRnJhbWVMaW5lV2lkdGg6XCJGcmFtZUxpbmVXaWR0aFwiLEhhbmdpbmdJbmRlbnQ6XCJIYW5naW5nSW5kZW50XCIsSW5uZXJIb3Jpem9udGFsRnJhbWVMaW5lczpcIklubmVySG9yaXpvbnRhbEZyYW1lTGluZXNcIixJbm5lclZlcnRpY2FsRnJhbWVMaW5lczpcIklubmVyVmVydGljYWxGcmFtZUxpbmVzXCIsSXRhbGljOlwiSXRhbGljXCIsSnVzdGlmaWVkOlwiSnVzdGlmaWVkXCIsTGVmdEFsaWduZWQ6XCJMZWZ0QWxpZ25lZFwiLExlZnRGcmFtZUxpbmU6XCJMZWZ0RnJhbWVMaW5lXCIsTGVmdEluZGVudDpcIkxlZnRJbmRlbnRcIixMZWZ0VG9SaWdodDpcIkxlZnRUb1JpZ2h0XCIsTGluZVNwYWNpbmc6XCJMaW5lU3BhY2luZ1wiLE51bWJlcmVkTGlzdDpcIk51bWJlcmVkTGlzdFwiLE51bWJlcmVkTGlzdEZvcm1hdDpcIk51bWJlcmVkTGlzdEZvcm1hdFwiLE51bWJlckZvcm1hdHM6XCJOdW1iZXJGb3JtYXRzXCIsUmlnaHRBbGlnbmVkOlwiUmlnaHRBbGlnbmVkXCIsUmlnaHRGcmFtZUxpbmU6XCJSaWdodEZyYW1lTGluZVwiLFJpZ2h0SW5kZW50OlwiUmlnaHRJbmRlbnRcIixSaWdodFRvTGVmdDpcIlJpZ2h0VG9MZWZ0XCIsU3RyaWtlb3V0OlwiU3RyaWtlb3V0XCIsU3RydWN0dXJlZExpc3Q6XCJTdHJ1Y3R1cmVkTGlzdFwiLFN0cnVjdHVyZWRMaXN0Rm9ybWF0OlwiU3RydWN0dXJlZExpc3RGb3JtYXRcIixTdHJ1Y3R1cmVMZXZlbDpcIlN0cnVjdHVyZUxldmVsXCIsU3R5bGVOYW1lOlwiU3R5bGVOYW1lXCIsU3R5bGVOYW1lczpcIlN0eWxlTmFtZXNcIixTdWJzY3JpcHQ6XCJTdWJzY3JpcHRcIixTdXBlcnNjcmlwdDpcIlN1cGVyc2NyaXB0XCIsVGV4dEJhY2tDb2xvcjpcIlRleHRCYWNrQ29sb3JcIixUZXh0Q29sb3I6XCJUZXh0Q29sb3JcIixUb3BBbGlnbmVkOlwiVG9wQWxpZ25lZFwiLFRvcERpc3RhbmNlOlwiVG9wRGlzdGFuY2VcIixUb3BGcmFtZUxpbmU6XCJUb3BGcmFtZUxpbmVcIixVbmRlcmxpbmU6XCJVbmRlcmxpbmVcIixVbmRlcmxpbmVTdHlsZTpcIlVuZGVybGluZVN0eWxlXCIsVW5kZXJsaW5lU3R5bGVzOlwiVW5kZXJsaW5lU3R5bGVzXCIsVmVydGljYWxseUNlbnRlcmVkOlwiVmVydGljYWxseUNlbnRlcmVkXCJ9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtHZXRGb250RmFtaWxpZXM6XCJHZXRGb250RmFtaWxpZXNcIixHZXRGb250U2l6ZXM6XCJHZXRGb250U2l6ZXNcIn0pO2IuSW5wdXRGb3JtYXQ9KGZ1bmN0aW9uKGYpe19fZXh0ZW5kcyhJbnB1dEZvcm1hdCxmKTtmdW5jdGlvbiBJbnB1dEZvcm1hdCgpe2YuY2FsbCh0aGlzKTt9SW5wdXRGb3JtYXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXtpZihiLlRYRXZlbnROYW1lcy5BY2Nlc3NUZXh0Q29udHJvbE1lbWJlcj09PWV2ZW50TmFtZSl7dGhpcy5fLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSxjYWxsYmFjayk7cmV0dXJuIHRydWU7fWVsc2V7aWYoYi5zdWJzY3JpYmVUb0V2ZW50KGV2ZW50TmFtZSxiLkV2ZW50Q2F0ZWdvcnkuSW5wdXRGb3JtYXQpKXt0aGlzLl8uZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLGNhbGxiYWNrKTtyZXR1cm4gdHJ1ZTt9fXJldHVybiBmYWxzZTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7dGhpcy5fLmV2ZW50TWFuYWdlci5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSxjYWxsYmFjayk7aWYoIXRoaXMuXy5ldmVudE1hbmFnZXIuY2FsbGJhY2tzLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSl8fHRoaXMuXy5ldmVudE1hbmFnZXIuY2FsbGJhY2tzW2V2ZW50TmFtZV0ubGVuZ3RoPT09MCl7Yi51bnN1YnNjcmliZUZyb21FdmVudChldmVudE5hbWUsYi5FdmVudENhdGVnb3J5LklucHV0Rm9ybWF0KTt9fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0QWxsRnJhbWVMaW5lcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5BbGxGcmFtZUxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldEFsbEZyYW1lTGluZXM9ZnVuY3Rpb24oYWxsRnJhbWVMaW5lcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgYWxsRnJhbWVMaW5lcyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkFsbEZyYW1lTGluZXMsYWxsRnJhbWVMaW5lcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRCb2xkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkJvbGQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0Qm9sZD1mdW5jdGlvbihib2xkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBib2xkIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQm9sZCxib2xkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldEJvdHRvbUFsaWduZWQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQm90dG9tQWxpZ25lZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRCb3R0b21BbGlnbmVkPWZ1bmN0aW9uKGJvdHRvbUFsaWduZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJvdHRvbUFsaWduZWQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Cb3R0b21BbGlnbmVkLGJvdHRvbUFsaWduZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0Qm90dG9tRGlzdGFuY2U9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQm90dG9tRGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0Qm90dG9tRGlzdGFuY2U9ZnVuY3Rpb24oYm90dG9tRGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJvdHRvbURpc3RhbmNlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Cb3R0b21EaXN0YW5jZSxib3R0b21EaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRCb3hGcmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Cb3hGcmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRCb3hGcmFtZT1mdW5jdGlvbihib3hGcmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgYm94RnJhbWUhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Cb3hGcmFtZSxib3hGcmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRCdWxsZXRDaGFyYWN0ZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQnVsbGV0Q2hhcmFjdGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldEJ1bGxldENoYXJhY3Rlcj1mdW5jdGlvbihidWxsZXRDaGFyYWN0ZXIsZyxoKXtpZih0eXBlb2YgYnVsbGV0Q2hhcmFjdGVyIT09XCJzdHJpbmdcIiYmYnVsbGV0Q2hhcmFjdGVyLmxlbmd0aD4wKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkJ1bGxldENoYXJhY3RlcixidWxsZXRDaGFyYWN0ZXJbMF0sZyxoKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRCdWxsZXRlZExpc3Q9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQnVsbGV0ZWRMaXN0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldEJ1bGxldGVkTGlzdD1mdW5jdGlvbihidWxsZXRlZExpc3QsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJ1bGxldGVkTGlzdCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkJ1bGxldGVkTGlzdCxidWxsZXRlZExpc3QsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0Q2VudGVyZWQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQ2VudGVyZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0Q2VudGVyZWQ9ZnVuY3Rpb24oY2VudGVyZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGNlbnRlcmVkIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQ2VudGVyZWQsY2VudGVyZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0Rm9udEZhbWlseT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Gb250RmFtaWx5LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldEZvbnRGYW1pbHk9ZnVuY3Rpb24oZm9udEZhbWlseSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZm9udEZhbWlseSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRm9udEZhbWlseSxmb250RmFtaWx5LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldEZyYW1lRmlsbENvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkZyYW1lRmlsbENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldEZyYW1lRmlsbENvbG9yPWZ1bmN0aW9uKGZyYW1lRmlsbENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmcmFtZUZpbGxDb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRnJhbWVGaWxsQ29sb3IsZnJhbWVGaWxsQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0RnJhbWVMaW5lQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRnJhbWVMaW5lQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0RnJhbWVMaW5lQ29sb3I9ZnVuY3Rpb24oZnJhbWVMaW5lQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZyYW1lTGluZUNvbG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5GcmFtZUxpbmVDb2xvcixmcmFtZUxpbmVDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRGcmFtZUxpbmVXaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5GcmFtZUxpbmVXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRGcmFtZUxpbmVXaWR0aD1mdW5jdGlvbihmcmFtZUxpbmVXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZnJhbWVMaW5lV2lkdGghPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkZyYW1lTGluZVdpZHRoLGZyYW1lTGluZVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldEhhbmdpbmdJbmRlbnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuSGFuZ2luZ0luZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRIYW5naW5nSW5kZW50PWZ1bmN0aW9uKGhhbmdpbmdJbmRlbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGhhbmdpbmdJbmRlbnQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkhhbmdpbmdJbmRlbnQsaGFuZ2luZ0luZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRJbm5lckhvcml6b250YWxGcmFtZUxpbmVzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklubmVySG9yaXpvbnRhbEZyYW1lTGluZXMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0SW5uZXJIb3Jpem9udGFsRnJhbWVMaW5lcz1mdW5jdGlvbihpbm5lckhvcml6b250YWxGcmFtZUxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBpbm5lckhvcml6b250YWxGcmFtZUxpbmVzIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSW5uZXJIb3Jpem9udGFsRnJhbWVMaW5lcyxpbm5lckhvcml6b250YWxGcmFtZUxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldElubmVyVmVydGljYWxGcmFtZUxpbmVzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklubmVyVmVydGljYWxGcmFtZUxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldElubmVyVmVydGljYWxGcmFtZUxpbmVzPWZ1bmN0aW9uKGlubmVyVmVydGljYWxGcmFtZUxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBpbm5lclZlcnRpY2FsRnJhbWVMaW5lcyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLklubmVyVmVydGljYWxGcmFtZUxpbmVzLGlubmVyVmVydGljYWxGcmFtZUxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldEl0YWxpYz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5JdGFsaWMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0SXRhbGljPWZ1bmN0aW9uKGl0YWxpYyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaXRhbGljIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSXRhbGljLGl0YWxpYyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRKdXN0aWZpZWQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuSnVzdGlmaWVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldEp1c3RpZmllZD1mdW5jdGlvbihqdXN0aWZpZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGp1c3RpZmllZCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkp1c3RpZmllZCxqdXN0aWZpZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0TGVmdEFsaWduZWQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTGVmdEFsaWduZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0TGVmdEFsaWduZWQ9ZnVuY3Rpb24obGVmdEFsaWduZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGxlZnRBbGlnbmVkIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuTGVmdEFsaWduZWQsbGVmdEFsaWduZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0TGVmdEZyYW1lTGluZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5MZWZ0RnJhbWVMaW5lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldExlZnRGcmFtZUxpbmU9ZnVuY3Rpb24obGVmdEZyYW1lTGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgbGVmdEZyYW1lTGluZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkxlZnRGcmFtZUxpbmUsbGVmdEZyYW1lTGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRMZWZ0SW5kZW50PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxlZnRJbmRlbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0TGVmdEluZGVudD1mdW5jdGlvbihsZWZ0SW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBsZWZ0SW5kZW50IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5MZWZ0SW5kZW50LGxlZnRJbmRlbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0TGVmdFRvUmlnaHQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTGVmdFRvUmlnaHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0TGVmdFRvUmlnaHQ9ZnVuY3Rpb24obGVmdFRvUmlnaHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGxlZnRUb1JpZ2h0IT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuTGVmdFRvUmlnaHQsbGVmdFRvUmlnaHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0TGluZXNwYWNpbmc9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTGluZVNwYWNpbmcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0TGluZXNwYWNpbmc9ZnVuY3Rpb24obGluZVNwYWNpbmcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGxpbmVTcGFjaW5nIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5MaW5lU3BhY2luZyxsaW5lU3BhY2luZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXROdW1iZXJlZExpc3Q9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTnVtYmVyZWRMaXN0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldE51bWJlcmVkTGlzdD1mdW5jdGlvbihpc051bWJlcmVkTGlzdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaXNOdW1iZXJlZExpc3QhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5OdW1iZXJlZExpc3QsaXNOdW1iZXJlZExpc3QsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0TnVtYmVyZWRMaXN0Rm9ybWF0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLk51bWJlcmVkTGlzdEZvcm1hdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXROdW1iZXJlZExpc3RGb3JtYXQ9ZnVuY3Rpb24obnVtYmVyZWRMaXN0Rm9ybWF0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBudW1iZXJlZExpc3RGb3JtYXQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLk51bWJlcmVkTGlzdEZvcm1hdCxudW1iZXJlZExpc3RGb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0TnVtYmVyRm9ybWF0cz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5OdW1iZXJGb3JtYXRzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldFJpZ2h0QWxpZ25lZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5SaWdodEFsaWduZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0UmlnaHRBbGlnbmVkPWZ1bmN0aW9uKGlzUmlnaHRBbGlnbmVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBpc1JpZ2h0QWxpZ25lZCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlJpZ2h0QWxpZ25lZCxpc1JpZ2h0QWxpZ25lZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRSaWdodEZyYW1lTGluZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5SaWdodEZyYW1lTGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRSaWdodEZyYW1lTGluZT1mdW5jdGlvbihoYXNSaWdodEZyYW1lTGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaGFzUmlnaHRGcmFtZUxpbmUhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5SaWdodEZyYW1lTGluZSxoYXNSaWdodEZyYW1lTGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRSaWdodEluZGVudD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5SaWdodEluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRSaWdodEluZGVudD1mdW5jdGlvbihyaWdodEluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgcmlnaHRJbmRlbnQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlJpZ2h0SW5kZW50LHJpZ2h0SW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldFJpZ2h0VG9MZWZ0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlJpZ2h0VG9MZWZ0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldFJpZ2h0VG9MZWZ0PWZ1bmN0aW9uKHJpZ2h0VG9MZWZ0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiByaWdodFRvTGVmdCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlJpZ2h0VG9MZWZ0LHJpZ2h0VG9MZWZ0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldFN0cmlrZW91dD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TdHJpa2VvdXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0U3RyaWtlb3V0PWZ1bmN0aW9uKGhhc1N0cmlrZW91dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaGFzU3RyaWtlb3V0IT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuU3RyaWtlb3V0LGhhc1N0cmlrZW91dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkTGlzdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TdHJ1Y3R1cmVkTGlzdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRTdHJ1Y3R1cmVkTGlzdD1mdW5jdGlvbihpc1N0cnVjdHVyZWRMaXN0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBpc1N0cnVjdHVyZWRMaXN0IT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuU3RydWN0dXJlZExpc3QsaXNTdHJ1Y3R1cmVkTGlzdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkTGlzdEZvcm1hdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TdHJ1Y3R1cmVkTGlzdEZvcm1hdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRTdHJ1Y3R1cmVkTGlzdEZvcm1hdD1mdW5jdGlvbihzdHJ1Y3R1cmVkTGlzdEZvcm1hdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygc3RydWN0dXJlZExpc3RGb3JtYXQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlN0cnVjdHVyZWRMaXN0Rm9ybWF0LHN0cnVjdHVyZWRMaXN0Rm9ybWF0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldFN0cnVjdHVyZUxldmVsPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlN0cnVjdHVyZUxldmVsLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldFN0cnVjdHVyZUxldmVsPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuU3RydWN0dXJlTGV2ZWwsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0U3R5bGVOYW1lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlN0eWxlTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRTdHlsZU5hbWU9ZnVuY3Rpb24oc3R5bGVOYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBzdHlsZU5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlN0eWxlTmFtZSxzdHlsZU5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0U3R5bGVOYW1lcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TdHlsZU5hbWVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldFN1YnNjcmlwdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TdWJzY3JpcHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0U3Vic2NyaXB0PWZ1bmN0aW9uKHN1YnNjcmlwdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygc3Vic2NyaXB0IT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuU3Vic2NyaXB0LHN1YnNjcmlwdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRTdXBlcnNjcmlwdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TdXBlcnNjcmlwdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRTdXBlcnNjcmlwdD1mdW5jdGlvbihzdXBlcnNjcmlwdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygc3VwZXJzY3JpcHQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5TdXBlcnNjcmlwdCxzdXBlcnNjcmlwdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRUZXh0QmFja0NvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHRCYWNrQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0VGV4dEJhY2tDb2xvcj1mdW5jdGlvbih0ZXh0QmFja0NvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0ZXh0QmFja0NvbG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5UZXh0QmFja0NvbG9yLHRleHRCYWNrQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0VGV4dENvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHRDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRUZXh0Q29sb3I9ZnVuY3Rpb24odGV4dENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0ZXh0Q29sb3IhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlRleHRDb2xvcix0ZXh0Q29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0VG9wQWxpZ25lZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Ub3BBbGlnbmVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldFRvcEFsaWduZWQ9ZnVuY3Rpb24oaXNUb3BBbGlnbmVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCEodHlwZW9mIGlzVG9wQWxpZ25lZD09PVwiYm9vbGVhblwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Ub3BBbGlnbmVkLGlzVG9wQWxpZ25lZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRUb3BEaXN0YW5jZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Ub3BEaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5zZXRUb3BEaXN0YW5jZT1mdW5jdGlvbih0b3BEaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighKHR5cGVvZiB0b3BEaXN0YW5jZT09PVwibnVtYmVyXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlRvcERpc3RhbmNlLHRvcERpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldFRvcEZyYW1lTGluZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Ub3BGcmFtZUxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0VG9wRnJhbWVMaW5lPWZ1bmN0aW9uKHRvcEZyYW1lTGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighKHR5cGVvZiB0b3BGcmFtZUxpbmU9PT1cImJvb2xlYW5cIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuVG9wRnJhbWVMaW5lLHRvcEZyYW1lTGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRVbmRlcmxpbmU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVW5kZXJsaW5lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldFVuZGVybGluZT1mdW5jdGlvbih1bmRlcmxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoISh0eXBlb2YgdW5kZXJsaW5lPT09XCJib29sZWFuXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlVuZGVybGluZSx1bmRlcmxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0VW5kZXJsaW5lU3R5bGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVW5kZXJsaW5lU3R5bGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0VW5kZXJsaW5lU3R5bGU9ZnVuY3Rpb24oZm9udFVuZGVybGluZVN0eWxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmb250VW5kZXJsaW5lU3R5bGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlVuZGVybGluZVN0eWxlLGZvbnRVbmRlcmxpbmVTdHlsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRWZXJ0aWNhbGx5Q2VudGVyZWQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVmVydGljYWxseUNlbnRlcmVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLnNldFZlcnRpY2FsbHlDZW50ZXJlZD1mdW5jdGlvbih2ZXJ0aWNhbGx5Q2VudGVyZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoISh0eXBlb2YgdmVydGljYWxseUNlbnRlcmVkPT09XCJib29sZWFuXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlZlcnRpY2FsbHlDZW50ZXJlZCx2ZXJ0aWNhbGx5Q2VudGVyZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0Rm9udFNpemU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRm9udFNpemUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuc2V0Rm9udFNpemU9ZnVuY3Rpb24oZm9udFNpemUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZvbnRTaXplIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Gb250U2l6ZSxmb250U2l6ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5nZXRTdXBwb3J0ZWRGb250RmFtaWxpZXM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuR2V0Rm9udEZhbWlsaWVzLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307SW5wdXRGb3JtYXQucHJvdG90eXBlLmdldFN1cHBvcnRlZFVuZGVybGluZVN0eWxlcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoZC5VbmRlcmxpbmVTdHlsZXMsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtJbnB1dEZvcm1hdC5wcm90b3R5cGUuZ2V0U3VwcG9ydGVkRm9udFNpemVzPWZ1bmN0aW9uKGNhbGxiYWNrLGZvbnRGYW1pbHksZyl7aWYodHlwZW9mIGZvbnRGYW1pbHkhPT1cInVuZGVmaW5lZFwiKXtpZih0eXBlb2YgZm9udEZhbWlseSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5jYWxsTWV0aG9kKGMuR2V0Rm9udFNpemVzLGNhbGxiYWNrLFtmb250RmFtaWx5XSxnKTt9ZWxzZXt0aGlzLmNhbGxNZXRob2QoYy5HZXRGb250U2l6ZXMsY2FsbGJhY2ssW10sZyk7fX07SW5wdXRGb3JtYXQucHJvdG90eXBlLmFjdGl2YXRlRXZlbnQ9ZnVuY3Rpb24oaSxnLGgpe3RoaXMuY2FsbE1ldGhvZChcIkFjdGl2YXRlRXZlbnRcIixnLFtpXSxoKTt9O0lucHV0Rm9ybWF0LnByb3RvdHlwZS5kZWFjdGl2YXRlRXZlbnQ9ZnVuY3Rpb24oaSxnLGgpe3RoaXMuY2FsbE1ldGhvZChcIkRlYWN0aXZhdGVFdmVudFwiLGcsW2ldLGgpO307cmV0dXJuIElucHV0Rm9ybWF0O30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO2IuaXNDb2xvcj1mdW5jdGlvbihnKXt2YXIgZj1uZXcgT3B0aW9uKCkuc3R5bGU7Zi5jb2xvcj1nLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGYuY29sb3I9PT1nLnRvTG93ZXJDYXNlKCl8fGIuaXNWYWxpZEhleENvbG9yKGcpO307cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307Yi5MaXN0Rm9ybWF0UHJvcGVydHlOYW1lPU9iamVjdC5mcmVlemUoe0J1bGxldENoYXJhY3RlcjpcIkJ1bGxldENoYXJhY3RlclwiLEJ1bGxldFNpemU6XCJCdWxsZXRTaXplXCIsRmlyc3ROdW1iZXI6XCJGaXJzdE51bWJlclwiLEZvbnROYW1lOlwiRm9udE5hbWVcIixGb3JtYXRDaGFyYWN0ZXI6XCJGb3JtYXRDaGFyYWN0ZXJcIixIYW5naW5nSW5kZW50OlwiSGFuZ2luZ0luZGVudFwiLExlZnRJbmRlbnQ6XCJMZWZ0SW5kZW50XCIsTGV2ZWw6XCJMZXZlbFwiLE51bWJlckZvcm1hdDpcIk51bWJlckZvcm1hdFwiLFJlc3RhcnROdW1iZXJpbmc6XCJSZXN0YXJ0TnVtYmVyaW5nXCIsVGV4dEFmdGVyTnVtYmVyOlwiVGV4dEFmdGVyTnVtYmVyXCIsVGV4dEJlZm9yZU51bWJlcjpcIlRleHRCZWZvcmVOdW1iZXJcIixUeXBlOlwiVHlwZVwiLH0pO3ZhciBjPWIuTGlzdEZvcm1hdFByb3BlcnR5TmFtZTtiLkxpc3RGb3JtYXQ9KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhMaXN0Rm9ybWF0LGUpO2Z1bmN0aW9uIExpc3RGb3JtYXQoKXtlLmNhbGwodGhpcyk7fUxpc3RGb3JtYXQucHJvdG90eXBlLnNldEJ1bGxldENoYXJhY3Rlcj1mdW5jdGlvbihidWxsZXRDaGFyYWN0ZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJ1bGxldENoYXJhY3RlciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuQnVsbGV0Q2hhcmFjdGVyLGJ1bGxldENoYXJhY3RlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLnNldEJ1bGxldFNpemU9ZnVuY3Rpb24oc2l6ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygc2l6ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuQnVsbGV0U2l6ZSxzaXplLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuc2V0Rmlyc3ROdW1iZXI9ZnVuY3Rpb24oZmlyc3ROdW1iZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZpcnN0TnVtYmVyIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5GaXJzdE51bWJlcixmaXJzdE51bWJlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLnNldEZvbnROYW1lPWZ1bmN0aW9uKGZvbnROYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmb250TmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRm9udE5hbWUsZm9udE5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaXN0Rm9ybWF0LnByb3RvdHlwZS5zZXRGb3JtYXRDaGFyYWN0ZXI9ZnVuY3Rpb24oZm9ybWF0Q2hhcmFjdGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmb3JtYXRDaGFyYWN0ZXIhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkZvcm1hdENoYXJhY3Rlcixmb3JtYXRDaGFyYWN0ZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaXN0Rm9ybWF0LnByb3RvdHlwZS5zZXRIYW5naW5nSW5kZW50PWZ1bmN0aW9uKGluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaW5kZW50IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5IYW5naW5nSW5kZW50LGluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLnNldExlZnRJbmRlbnQ9ZnVuY3Rpb24oaW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBpbmRlbnQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkxlZnRJbmRlbnQsaW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuc2V0TGV2ZWw9ZnVuY3Rpb24obGV2ZWwsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGxldmVsIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5MZXZlbCxsZXZlbCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLnNldE51bWJlckZvcm1hdD1mdW5jdGlvbihudW1iZXJGb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIG51bWJlckZvcm1hdCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuTnVtYmVyRm9ybWF0LG51bWJlckZvcm1hdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLnNldFJlc3RhcnROdW1iZXJpbmc9ZnVuY3Rpb24ocmVzdGFydE51bWJlcmluZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgcmVzdGFydE51bWJlcmluZyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlJlc3RhcnROdW1iZXJpbmcscmVzdGFydE51bWJlcmluZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLnNldFRleHRBZnRlck51bWJlcj1mdW5jdGlvbih0ZXh0QWZ0ZXJOdW1iZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRleHRBZnRlck51bWJlciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuVGV4dEFmdGVyTnVtYmVyLHRleHRBZnRlck51bWJlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLnNldFRleHRCZWZvcmVOdW1iZXI9ZnVuY3Rpb24odGV4dEJlZm9yZU51bWJlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdGV4dEJlZm9yZU51bWJlciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuVGV4dEJlZm9yZU51bWJlcix0ZXh0QmVmb3JlTnVtYmVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuc2V0VHlwZT1mdW5jdGlvbih0eXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0eXBlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5UeXBlLHR5cGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaXN0Rm9ybWF0LnByb3RvdHlwZS5nZXRCdWxsZXRDaGFyYWN0ZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQnVsbGV0Q2hhcmFjdGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuZ2V0QnVsbGV0U2l6ZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5CdWxsZXRTaXplLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuZ2V0Rmlyc3ROdW1iZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuRmlyc3ROdW1iZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaXN0Rm9ybWF0LnByb3RvdHlwZS5nZXRGb250TmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Gb250TmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLmdldEZvcm1hdENoYXJhY3Rlcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Gb3JtYXRDaGFyYWN0ZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaXN0Rm9ybWF0LnByb3RvdHlwZS5nZXRIYW5naW5nSW5kZW50PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkhhbmdpbmdJbmRlbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaXN0Rm9ybWF0LnByb3RvdHlwZS5nZXRMZWZ0SW5kZW50PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkxlZnRJbmRlbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaXN0Rm9ybWF0LnByb3RvdHlwZS5nZXRMZXZlbD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5MZXZlbCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpc3RGb3JtYXQucHJvdG90eXBlLmdldE51bWJlckZvcm1hdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5OdW1iZXJGb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaXN0Rm9ybWF0LnByb3RvdHlwZS5nZXRSZXN0YXJ0TnVtYmVyaW5nPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlJlc3RhcnROdW1iZXJpbmcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaXN0Rm9ybWF0LnByb3RvdHlwZS5nZXRUZXh0QWZ0ZXJOdW1iZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuVGV4dEFmdGVyTnVtYmVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuZ2V0VGV4dEJlZm9yZU51bWJlcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5UZXh0QmVmb3JlTnVtYmVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGlzdEZvcm1hdC5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5UeXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIExpc3RGb3JtYXQ7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7Yi5MaXN0Rm9ybWF0LkF0dHJpYnV0ZT17TGV2ZWw6MSxMZWZ0SW5kZW50OjIsRm9ybWF0Q2hhcmFjdGVyOjQsTnVtYmVyRm9ybWF0OjgsRmlyc3ROdW1iZXI6MTYsQ2hhckJlZm9yZU51bWJlcjozMixDaGFyQWZ0ZXJOdW1iZXI6NjQsUmVzdGFydE51bWJlcmluZzoxMjgsQnVsbGV0Q2hhcmFjdGVyOjI1NixCdWxsZXRTaXplOjUxMixIYW5naW5nSW5kZW50OjEwMjQsVHlwZToyMDQ4LFRleHRCZWZvcmVOdW1iZXI6NDA5NixUZXh0QWZ0ZXJOdW1iZXI6ODE5MixGb250TmFtZToxNjM4NCxBbGw6MzI3NjcsfTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLk1lcmdlRmllbGQ9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhlLGQpO2Z1bmN0aW9uIGUobmFtZSl7ZC5jYWxsKHRoaXMsdHJ1ZSk7dGhpcy5uYW1lPW5hbWV8fFwiTUVSR0VGSUVMRFwiO3RoaXMudGV4dD1cIsKrXCIrdGhpcy5uYW1lK1wiwrtcIjt0aGlzLnRleHRGb3JtYXQ9MDt0aGlzLnRleHRCZWZvcmU9XCJcIjt0aGlzLnRleHRBZnRlcj1cIlwiO3RoaXMuZGF0ZVRpbWVGb3JtYXQ9XCJcIjt0aGlzLm51bWVyaWNGb3JtYXQ9XCJcIjt9ZS5wcm90b3R5cGUudG9QYXNjYWxDYXNlPWZ1bmN0aW9uKCl7cmV0dXJue05hbWU6dGhpcy5uYW1lLFRleHQ6dGhpcy50ZXh0LFRleHRGb3JtYXQ6dGhpcy50ZXh0Rm9ybWF0LFRleHRCZWZvcmU6dGhpcy50ZXh0QmVmb3JlLFRleHRBZnRlcjp0aGlzLnRleHRBZnRlcixEYXRlVGltZUZvcm1hdDp0aGlzLmRhdGVUaW1lRm9ybWF0LE51bWVyaWNGb3JtYXQ6dGhpcy5udW1lcmljRm9ybWF0LFByZXNlcnZlRm9ybWF0dGluZzp0aGlzLnByZXNlcnZlRm9ybWF0dGluZ307fTtyZXR1cm4gZTt9KShiLkZpZWxkQWRhcHRlcik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7Qm90dG9tRGlzdGFuY2U6XCJCb3R0b21EaXN0YW5jZVwiLEJvdHRvbUxpbmVDb2xvcjpcIkJvdHRvbUxpbmVDb2xvclwiLEJvdHRvbUxpbmVXaWR0aDpcIkJvdHRvbUxpbmVXaWR0aFwiLEZpcnN0UGFnZU9ubHk6XCJGaXJzdFBhZ2VPbmx5XCIsTGVmdERpc3RhbmNlOlwiTGVmdERpc3RhbmNlXCIsTGVmdExpbmVDb2xvcjpcIkxlZnRMaW5lQ29sb3JcIixMZWZ0TGluZVdpZHRoOlwiTGVmdExpbmVXaWR0aFwiLE1lYXN1cmVGcm9tVGV4dDpcIk1lYXN1cmVGcm9tVGV4dFwiLE9taXRGaXJzdFBhZ2U6XCJPbWl0Rmlyc3RQYWdlXCIsUmlnaHREaXN0YW5jZTpcIlJpZ2h0RGlzdGFuY2VcIixSaWdodExpbmVDb2xvcjpcIlJpZ2h0TGluZUNvbG9yXCIsUmlnaHRMaW5lV2lkdGg6XCJSaWdodExpbmVXaWR0aFwiLFN1cnJvdW5kRm9vdGVyOlwiU3Vycm91bmRGb290ZXJcIixTdXJyb3VuZEhlYWRlcjpcIlN1cnJvdW5kSGVhZGVyXCIsVG9wRGlzdGFuY2U6XCJUb3BEaXN0YW5jZVwiLFRvcExpbmVDb2xvcjpcIlRvcExpbmVDb2xvclwiLFRvcExpbmVXaWR0aDpcIlRvcExpbmVXaWR0aFwiLH0pO2IuUGFnZUJvcmRlcj0oZnVuY3Rpb24oZSl7X19leHRlbmRzKFBhZ2VCb3JkZXIsZSk7ZnVuY3Rpb24gUGFnZUJvcmRlcigpe2UuY2FsbCh0aGlzKTt9UGFnZUJvcmRlci5wcm90b3R5cGUuZ2V0Qm90dG9tRGlzdGFuY2U9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQm90dG9tRGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5nZXRCb3R0b21MaW5lQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQm90dG9tTGluZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuZ2V0Qm90dG9tTGluZVdpZHRoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkJvdHRvbUxpbmVXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLmdldEZpcnN0UGFnZU9ubHk9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuRmlyc3RQYWdlT25seSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLmdldExlZnREaXN0YW5jZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5MZWZ0RGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5nZXRMZWZ0TGluZUNvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkxlZnRMaW5lQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5nZXRMZWZ0TGluZVdpZHRoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkxlZnRMaW5lV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5nZXRNZWFzdXJlRnJvbVRleHQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuTWVhc3VyZUZyb21UZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuZ2V0T21pdEZpcnN0UGFnZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5PbWl0Rmlyc3RQYWdlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuZ2V0UmlnaHREaXN0YW5jZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5SaWdodERpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuZ2V0UmlnaHRMaW5lQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuUmlnaHRMaW5lQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5nZXRSaWdodExpbmVXaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5SaWdodExpbmVXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLmdldFN1cnJvdW5kRm9vdGVyPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlN1cnJvdW5kRm9vdGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuZ2V0U3Vycm91bmRIZWFkZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuU3Vycm91bmRIZWFkZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5nZXRUb3BEaXN0YW5jZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Ub3BEaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLmdldFRvcExpbmVDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Ub3BMaW5lQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5nZXRUb3BMaW5lV2lkdGg9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuVG9wTGluZVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuc2V0Qm90dG9tRGlzdGFuY2U9ZnVuY3Rpb24oYm90dG9tRGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJvdHRvbURpc3RhbmNlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Cb3R0b21EaXN0YW5jZSxib3R0b21EaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLnNldEJvdHRvbUxpbmVDb2xvcj1mdW5jdGlvbihib3R0b21MaW5lQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJvdHRvbUxpbmVDb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuQm90dG9tTGluZUNvbG9yLGJvdHRvbUxpbmVDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLnNldEJvdHRvbUxpbmVXaWR0aD1mdW5jdGlvbihib3R0b21MaW5lV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJvdHRvbUxpbmVXaWR0aCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuQm90dG9tTGluZVdpZHRoLGJvdHRvbUxpbmVXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLnNldEZpcnN0UGFnZU9ubHk9ZnVuY3Rpb24oZmlyc3RQYWdlT25seSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZmlyc3RQYWdlT25seSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkZpcnN0UGFnZU9ubHksZmlyc3RQYWdlT25seSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLnNldExlZnREaXN0YW5jZT1mdW5jdGlvbihsZWZ0RGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGxlZnREaXN0YW5jZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuTGVmdERpc3RhbmNlLGxlZnREaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLnNldExlZnRMaW5lQ29sb3I9ZnVuY3Rpb24obGVmdExpbmVDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgbGVmdExpbmVDb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuTGVmdExpbmVDb2xvcixsZWZ0TGluZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuc2V0TGVmdExpbmVXaWR0aD1mdW5jdGlvbihsZWZ0TGluZVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBsZWZ0TGluZVdpZHRoIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5MZWZ0TGluZVdpZHRoLGxlZnRMaW5lV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5zZXRNZWFzdXJlRnJvbVRleHQ9ZnVuY3Rpb24obWVhc3VyZUZyb21UZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBtZWFzdXJlRnJvbVRleHQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5NZWFzdXJlRnJvbVRleHQsbWVhc3VyZUZyb21UZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuc2V0T21pdEZpcnN0UGFnZT1mdW5jdGlvbihvbWl0Rmlyc3RQYWdlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBvbWl0Rmlyc3RQYWdlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuT21pdEZpcnN0UGFnZSxvbWl0Rmlyc3RQYWdlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuc2V0UmlnaHREaXN0YW5jZT1mdW5jdGlvbihyaWdodERpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiByaWdodERpc3RhbmNlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5SaWdodERpc3RhbmNlLHJpZ2h0RGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5zZXRSaWdodExpbmVDb2xvcj1mdW5jdGlvbihyaWdodExpbmVDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgcmlnaHRMaW5lQ29sb3IhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlJpZ2h0TGluZUNvbG9yLHJpZ2h0TGluZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuc2V0UmlnaHRMaW5lV2lkdGg9ZnVuY3Rpb24ocmlnaHRMaW5lV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHJpZ2h0TGluZVdpZHRoIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5SaWdodExpbmVXaWR0aCxyaWdodExpbmVXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VCb3JkZXIucHJvdG90eXBlLnNldFN1cnJvdW5kRm9vdGVyPWZ1bmN0aW9uKHN1cnJvdW5kRm9vdGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBzdXJyb3VuZEZvb3RlciE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlN1cnJvdW5kRm9vdGVyLHN1cnJvdW5kRm9vdGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuc2V0U3Vycm91bmRIZWFkZXI9ZnVuY3Rpb24oc3Vycm91bmRIZWFkZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHN1cnJvdW5kSGVhZGVyIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuU3Vycm91bmRIZWFkZXIsc3Vycm91bmRIZWFkZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlQm9yZGVyLnByb3RvdHlwZS5zZXRUb3BEaXN0YW5jZT1mdW5jdGlvbih0b3BEaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdG9wRGlzdGFuY2UhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlRvcERpc3RhbmNlLHRvcERpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuc2V0VG9wTGluZUNvbG9yPWZ1bmN0aW9uKHRvcExpbmVDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdG9wTGluZUNvbG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Ub3BMaW5lQ29sb3IsdG9wTGluZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZUJvcmRlci5wcm90b3R5cGUuc2V0VG9wTGluZVdpZHRoPWZ1bmN0aW9uKHRvcExpbmVXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdG9wTGluZVdpZHRoIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Ub3BMaW5lV2lkdGgsdG9wTGluZVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIFBhZ2VCb3JkZXI7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7Yi5QYWdlQm9yZGVyLkF0dHJpYnV0ZT17TGVmdExpbmVXaWR0aDoxLFRvcExpbmVXaWR0aDoyLFJpZ2h0TGluZVdpZHRoOjQsQm90dG9tTGluZVdpZHRoOjgsTGVmdExpbmVDb2xvcjoxNixUb3BMaW5lQ29sb3I6MzIsUmlnaHRMaW5lQ29sb3I6NjQsQm90dG9tTGluZUNvbG9yOjEyOCxMZWZ0RGlzdGFuY2U6MjU2LFRvcERpc3RhbmNlOjUxMixSaWdodERpc3RhbmNlOjEwMjQsQm90dG9tRGlzdGFuY2U6MjA0OCxNZWFzdXJlRnJvbVRleHQ6NDA5NixGaXJzdFBhZ2VPbmx5OjgxOTIsT21pdEZpcnN0UGFnZToxNjM4NCxTdXJyb3VuZEhlYWRlcjozMjc2OCxTdXJyb3VuZEZvb3Rlcjo2NTUzNixBbGw6MTMxMDcxLH07cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7Qm90dG9tOlwiQm90dG9tXCIsTGVmdDpcIkxlZnRcIixSaWdodDpcIlJpZ2h0XCIsVG9wOlwiVG9wXCIsfSk7Yi5QYWdlTWFyZ2lucz0oZnVuY3Rpb24oZSl7X19leHRlbmRzKFBhZ2VNYXJnaW5zLGUpO2Z1bmN0aW9uIFBhZ2VNYXJnaW5zKCl7ZS5jYWxsKHRoaXMpO31QYWdlTWFyZ2lucy5wcm90b3R5cGUuZ2V0Qm90dG9tPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkJvdHRvbSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VNYXJnaW5zLnByb3RvdHlwZS5nZXRUb3A9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuVG9wLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZU1hcmdpbnMucHJvdG90eXBlLmdldFJpZ2h0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlJpZ2h0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZU1hcmdpbnMucHJvdG90eXBlLmdldExlZnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuTGVmdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VNYXJnaW5zLnByb3RvdHlwZS5zZXRCb3R0b209ZnVuY3Rpb24oYm90dG9tLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBib3R0b20hPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkJvdHRvbSxib3R0b20sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlTWFyZ2lucy5wcm90b3R5cGUuc2V0VG9wPWZ1bmN0aW9uKHRvcCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdG9wIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Ub3AsdG9wLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZU1hcmdpbnMucHJvdG90eXBlLnNldFJpZ2h0PWZ1bmN0aW9uKHJpZ2h0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiByaWdodCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuUmlnaHQscmlnaHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlTWFyZ2lucy5wcm90b3R5cGUuc2V0TGVmdD1mdW5jdGlvbihsZWZ0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBsZWZ0IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5MZWZ0LGxlZnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gUGFnZU1hcmdpbnM7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7Yi5QYWdlTWFyZ2lucy5BdHRyaWJ1dGU9e0xlZnQ6MSxUb3A6MixSaWdodDo0LEJvdHRvbTo4LEFsbDoxNSx9O3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O3ZhciBjPU9iamVjdC5mcmVlemUoe0hlaWdodDpcIkhlaWdodFwiLFdpZHRoOlwiV2lkdGhcIix9KTtiLlBhZ2VTaXplPShmdW5jdGlvbihlKXtfX2V4dGVuZHMoUGFnZVNpemUsZSk7ZnVuY3Rpb24gUGFnZVNpemUoKXtlLmNhbGwodGhpcyk7fVBhZ2VTaXplLnByb3RvdHlwZS5nZXRIZWlnaHQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuSGVpZ2h0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZVNpemUucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLldpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZVNpemUucHJvdG90eXBlLnNldEhlaWdodD1mdW5jdGlvbihoZWlnaHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGhlaWdodCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuSGVpZ2h0LGhlaWdodCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2VTaXplLnByb3RvdHlwZS5zZXRXaWR0aD1mdW5jdGlvbih3aWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygd2lkdGghPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLldpZHRoLHdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIFBhZ2VTaXplO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO2IuUGFnZVNpemUuQXR0cmlidXRlPXtXaWR0aDoxLEhlaWdodDoyLEFsbDozLH07cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7QWJzb2x1dGVMaW5lU3BhY2luZzpcIkFic29sdXRlTGluZVNwYWNpbmdcIixBbGlnbm1lbnQ6XCJBbGlnbm1lbnRcIixCYWNrQ29sb3I6XCJCYWNrQ29sb3JcIixCb3R0b21EaXN0YW5jZTpcIkJvdHRvbURpc3RhbmNlXCIsRGlyZWN0aW9uOlwiRGlyZWN0aW9uXCIsRnJhbWU6XCJGcmFtZVwiLEZyYW1lRGlzdGFuY2U6XCJGcmFtZURpc3RhbmNlXCIsRnJhbWVMaW5lQ29sb3I6XCJGcmFtZUxpbmVDb2xvclwiLEZyYW1lTGluZVdpZHRoOlwiRnJhbWVMaW5lV2lkdGhcIixGcmFtZVN0eWxlOlwiRnJhbWVTdHlsZVwiLEhhbmdpbmdJbmRlbnQ6XCJIYW5naW5nSW5kZW50XCIsSnVzdGlmaWNhdGlvbjpcIkp1c3RpZmljYXRpb25cIixLZWVwTGluZXNUb2dldGhlcjpcIktlZXBMaW5lc1RvZ2V0aGVyXCIsS2VlcFdpdGhOZXh0OlwiS2VlcFdpdGhOZXh0XCIsTGVmdEluZGVudDpcIkxlZnRJbmRlbnRcIixMaW5lU3BhY2luZzpcIkxpbmVTcGFjaW5nXCIsUGFnZUJyZWFrQmVmb3JlOlwiUGFnZUJyZWFrQmVmb3JlXCIsUmlnaHRJbmRlbnQ6XCJSaWdodEluZGVudFwiLFN0cnVjdHVyZUxldmVsOlwiU3RydWN0dXJlTGV2ZWxcIixUYWJMZWFkZXJzOlwiVGFiTGVhZGVyc1wiLFRhYlBvc2l0aW9uczpcIlRhYlBvc2l0aW9uc1wiLFRhYlR5cGVzOlwiVGFiVHlwZXNcIixUb3BEaXN0YW5jZTpcIlRvcERpc3RhbmNlXCIsV2lkb3dPcnBoYW5MaW5lczpcIldpZG93T3JwaGFuTGluZXNcIix9KTtiLlRhYkxlYWRlcj17fTtiLlBhcmFncmFwaEZvcm1hdD0oZnVuY3Rpb24oZSl7X19leHRlbmRzKFBhcmFncmFwaEZvcm1hdCxlKTtmdW5jdGlvbiBQYXJhZ3JhcGhGb3JtYXQoKXtlLmNhbGwodGhpcyk7fVBhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuc2V0QWJzb2x1dGVMaW5lU3BhY2luZz1mdW5jdGlvbihhYnNvbHV0ZUxpbmVTcGFjaW5nLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBhYnNvbHV0ZUxpbmVTcGFjaW5nIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5BYnNvbHV0ZUxpbmVTcGFjaW5nLGFic29sdXRlTGluZVNwYWNpbmcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLnNldEFsaWdubWVudD1mdW5jdGlvbihhbGlnbm1lbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGFsaWdubWVudCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuQWxpZ25tZW50LGFsaWdubWVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuc2V0QmFja0NvbG9yPWZ1bmN0aW9uKGJhY2tDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgYmFja0NvbG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5CYWNrQ29sb3IsYmFja0NvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRCb3R0b21EaXN0YW5jZT1mdW5jdGlvbihib3R0b21EaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgYm90dG9tRGlzdGFuY2UhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkJvdHRvbURpc3RhbmNlLGJvdHRvbURpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXREaXJlY3Rpb249ZnVuY3Rpb24oZGlyZWN0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBkaXJlY3Rpb24hPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkRpcmVjdGlvbixkaXJlY3Rpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLnNldEZyYW1lPWZ1bmN0aW9uKGZyYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmcmFtZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRnJhbWUsZnJhbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLnNldEZyYW1lRGlzdGFuY2U9ZnVuY3Rpb24oZGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGRpc3RhbmNlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5EaXN0YW5jZSxkaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuc2V0RnJhbWVMaW5lQ29sb3I9ZnVuY3Rpb24oZnJhbWVMaW5lQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZyYW1lTGluZUNvbG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5GcmFtZUxpbmVDb2xvcixmcmFtZUxpbmVDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuc2V0RnJhbWVMaW5lV2lkdGg9ZnVuY3Rpb24oZnJhbWVMaW5lV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZyYW1lTGluZVdpZHRoIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5GcmFtZUxpbmVXaWR0aCxmcmFtZUxpbmVXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuc2V0RnJhbWVTdHlsZT1mdW5jdGlvbihmcmFtZVN0eWxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmcmFtZVN0eWxlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5GcmFtZVN0eWxlLGZyYW1lU3R5bGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLnNldEhhbmdpbmdJbmRlbnQ9ZnVuY3Rpb24oaW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBpbmRlbnQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkhhbmdpbmdJbmRlbnQsaW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRKdXN0aWZpY2F0aW9uPWZ1bmN0aW9uKGp1c3RpZmljYXRpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGp1c3RpZmljYXRpb24hPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkp1c3RpZmljYXRpb24sanVzdGlmaWNhdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuc2V0S2VlcExpbmVzVG9zZXRoZXI9ZnVuY3Rpb24oa2VlcExpbmVzVG9nZXRoZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGtlZXBMaW5lc1RvZ2V0aGVyIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuS2VlcExpbmVzVG9nZXRoZXIsa2VlcExpbmVzVG9nZXRoZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLnNldEtlZXBXaXRoTmV4dD1mdW5jdGlvbihrZWVwV2l0aE5leHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGtlZXBXaXRoTmV4dCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLktlZXBXaXRoTmV4dCxrZWVwV2l0aE5leHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLnNldExlZnRJbmRlbnQ9ZnVuY3Rpb24oaW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBpbmRlbnQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkxlZnRJbmRlbnQsaW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRMaW5lU3BhY2luZz1mdW5jdGlvbihsaW5lU3BhY2luZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgbGluZVNwYWNpbmchPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkxpbmVTcGFjaW5nLGxpbmVTcGFjaW5nLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRQYWdlQnJlYWtCZWZvcmU9ZnVuY3Rpb24ocGFnZUJyZWFrQmVmb3JlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBwYWdlQnJlYWtCZWZvcmUhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5QYWdlQnJlYWtCZWZvcmUscGFnZUJyZWFrQmVmb3JlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRSaWdodEluZGVudD1mdW5jdGlvbihyaWdodEluZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgcmlnaHRJbmRlbnQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlJpZ2h0SW5kZW50LHJpZ2h0SW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRTdHJ1Y3R1cmVMZXZlbD1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlN0cnVjdHVyZUxldmVsLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRUYWJMZWFkZXJzPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFBcnJheS5pc0FycmF5KHZhbHVlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuQXJyYXkpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5UYWJMZWFkZXJzLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRUYWJQb3NpdGlvbnM9ZnVuY3Rpb24odGFiUG9zaXRpb25zLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlRhYlBvc2l0aW9ucyx0YWJQb3NpdGlvbnMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLnNldFRhYlR5cGVzPWZ1bmN0aW9uKHRhYlR5cGVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlRhYlR5cGVzLHRhYlR5cGVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRUb3BEaXN0YW5jZT1mdW5jdGlvbihkaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZGlzdGFuY2UhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlRvcERpc3RhbmNlLGRpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5zZXRXaWRvd09ycGhhbkxpbmVzPWZ1bmN0aW9uKGxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBsaW5lcyE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuV2lkb3dPcnBoYW5MaW5lcyxsaW5lcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0QWJzb2x1dGVMaW5lU3BhY2luZz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5BYnNvbHV0ZUxpbmVTcGFjaW5nLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5nZXRBbGlnbm1lbnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQWxpZ25tZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5nZXRCYWNrQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQmFja0NvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5nZXRCb3R0b21EaXN0YW5jZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Cb3R0b21EaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0RGlyZWN0aW9uPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkRpcmVjdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0RnJhbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuRnJhbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldEZyYW1lRGlzdGFuY2U9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuRnJhbWVEaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0RnJhbWVMaW5lQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuRnJhbWVMaW5lQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldEZyYW1lTGluZVdpZHRoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkZyYW1lTGluZVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5nZXRGcmFtZVN0eWxlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkZyYW1lU3R5bGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldEhhbmdpbmdJbmRlbnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuSGFuZ2luZ0luZGVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0SnVzdGlmaWNhdGlvbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5KdXN0aWZpY2F0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5nZXRLZWVwTGluZXNUb2dldGhlcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5LZWVwTGluZXNUb2dldGhlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0S2VlcFdpdGhOZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLktlZXBXaXRoTmV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0TGVmdEluZGVudD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5MZWZ0SW5kZW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5nZXRMaW5lU3BhY2luZz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5MaW5lU3BhY2luZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0UGFnZUJyZWFrQmVmb3JlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlBhZ2VCcmVha0JlZm9yZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0UmlnaHRJbmRlbnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuUmlnaHRJbmRlbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldFN0cnVjdHVyZUxldmVsPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlN0cnVjdHVyZUxldmVsLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5nZXRUYWJMZWFkZXJzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlRhYkxlYWRlcnMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldFRhYlBvc2l0aW9ucz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5UYWJQb3NpdGlvbnMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhGb3JtYXQucHJvdG90eXBlLmdldFRhYlR5cGVzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlRhYlR5cGVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoRm9ybWF0LnByb3RvdHlwZS5nZXRUb3BEaXN0YW5jZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Ub3BEaXN0YW5jZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaEZvcm1hdC5wcm90b3R5cGUuZ2V0V2lkb3dPcnBoYW5MaW5lcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5XaWRvd09ycGhhbkxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIFBhcmFncmFwaEZvcm1hdDt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtiLlBhcmFncmFwaEZvcm1hdC5fYWRhcHQ9ZnVuY3Rpb24oZyxlLGgpe3ZhciBmPW5ldyBiLlBhcmFncmFwaEZvcm1hdCgpO2cuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGYsaCk7cmV0dXJuIGY7fTtiLlBhcmFncmFwaEZvcm1hdC5BdHRyaWJ1dGU9T2JqZWN0LmZyZWV6ZSh7QWxpZ25tZW50OjEsTGVmdEluZGVudDoyLFJpZ2h0SW5kZW50OjQsVG9wRGlzdGFuY2U6OCxCb3R0b21EaXN0YW5jZToxNixMaW5lU3BhY2luZzozMixBYnNvbHV0ZUxpbmVTcGFjaW5nOjY0LFRhYlBvc2l0aW9uczoxMjgsVGFiVHlwZXM6MjU2LEZyYW1lOjUxMixGcmFtZVN0eWxlOjEwMjQsRnJhbWVMaW5lV2lkdGg6MjA0OCxGcmFtZURpc3RhbmNlOjQwOTYsSGFuZ2luZ0luZGVudDo4MTkyLEtlZXBMaW5lc1RvZ2V0aGVyOjE2Mzg0LEtlZXBXaXRoTmV4dDozMjc2OCxQYWdlQnJlYWtCZWZvcmU6NjU1MzYsV2lkb3dPcnBoYW5MaW5lczoxMzEwNzIsRGlyZWN0aW9uOjI2MjE0NCxKdXN0aWZpY2F0aW9uOjUyNDI4OCxCYWNrQ29sb3I6MTA0ODU3NixGcmFtZUxpbmVDb2xvcjoyMDk3MTUyLEFsbDo0MTk0MzAzLH0pO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0Zvcm1hdDpcIkZvcm1hdFwiLExlbmd0aDpcIkxlbmd0aFwiLE51bWJlcjpcIk51bWJlclwiLFN0YXJ0OlwiU3RhcnRcIn0pO3ZhciBjPU9iamVjdC5mcmVlemUoe1NlbGVjdDpcIlNlbGVjdFwiLH0pO2IuU2VjdGlvbj0oZnVuY3Rpb24oZil7X19leHRlbmRzKFNlY3Rpb24sZik7ZnVuY3Rpb24gU2VjdGlvbihnLGgpe2YuY2FsbCh0aGlzLGcsaCk7fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWN0aW9uLnByb3RvdHlwZSxcImZvcm1hdFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZz1uZXcgYi5TZWN0aW9uRm9ybWF0KCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoZyxkLkZvcm1hdCk7cmV0dXJuIGc7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtTZWN0aW9uLnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTGVuZ3RoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VjdGlvbi5wcm90b3R5cGUuZ2V0TnVtYmVyPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLk51bWJlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlY3Rpb24ucHJvdG90eXBlLmdldFN0YXJ0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlN0YXJ0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VjdGlvbi5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlNlbGVjdCxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBTZWN0aW9uO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuU2VjdGlvbkNvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhTZWN0aW9uQ29sbGVjdGlvbixkKTtmdW5jdGlvbiBTZWN0aW9uQ29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9U2VjdGlvbkNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZD1mdW5jdGlvbihzZWN0aW9uQnJlYWtLaW5kLGNhbGxiYWNrKXtpZih0eXBlb2Ygc2VjdGlvbkJyZWFrS2luZCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkLGNhbGxiYWNrLFtzZWN0aW9uQnJlYWtLaW5kXSxlcnJvckNhbGxiYWNrKTt9O1NlY3Rpb25Db2xsZWN0aW9uLnByb3RvdHlwZS5hZGRBdFRleHRQb3NpdGlvbj1mdW5jdGlvbihzZWN0aW9uQnJlYWtLaW5kLHRleHRQb3NpdGlvbixjYWxsYmFjayl7aWYodHlwZW9mIHRleHRQb3NpdGlvbiE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aWYodHlwZW9mIHNlY3Rpb25CcmVha0tpbmQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZCxjYWxsYmFjayxbc2VjdGlvbkJyZWFrS2luZCx0ZXh0UG9zaXRpb25dLGVycm9yQ2FsbGJhY2spO307U2VjdGlvbkNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oY2FsbGJhY2ssZSxlcnJvckNhbGxiYWNrKXt2YXIgZz10aGlzO2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWlmKCh0eXBlb2YgZSE9PVwidW5kZWZpbmVkXCIpJiYodHlwZW9mIGUhPT1cIm51bWJlclwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO312YXIgZj0odHlwZW9mIGUhPT1cInVuZGVmaW5lZFwiKT9bZV06W107dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihoKXtjYWxsYmFjayhnLl9hZGFwdChoKSk7fSxmLGVycm9yQ2FsbGJhY2spO307U2VjdGlvbkNvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihmKXtpZihmPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBlPW5ldyBiLlNlY3Rpb24oZi5oYXNoY29kZSxmLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGUsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZi5oYXNoY29kZSxmLmluZGV4XSk7cmV0dXJuIGU7fTtyZXR1cm4gU2VjdGlvbkNvbGxlY3Rpb247fSkoYi5Db2xsZWN0aW9uKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtCcmVha0tpbmQ6XCJCcmVha0tpbmRcIixDb2x1bW5EaXN0YW5jZXM6XCJDb2x1bW5EaXN0YW5jZXNcIixDb2x1bW5MaW5lQ29sb3I6XCJDb2x1bW5MaW5lQ29sb3JcIixDb2x1bW5MaW5lV2lkdGg6XCJDb2x1bW5MaW5lV2lkdGhcIixDb2x1bW5zOlwiQ29sdW1uc1wiLENvbHVtbldpZHRoczpcIkNvbHVtbldpZHRoc1wiLEVxdWFsQ29sdW1uV2lkdGg6XCJFcXVhbENvbHVtbldpZHRoXCIsTGFuZHNjYXBlOlwiTGFuZHNjYXBlXCIsUGFnZUJvcmRlcjpcIlBhZ2VCb3JkZXJcIixQYWdlTWFyZ2luczpcIlBhZ2VNYXJnaW5zXCIsUGFnZVNpemU6XCJQYWdlU2l6ZVwiLFJlc3RhcnRQYWdlTnVtYmVyaW5nOlwiUmVzdGFydFBhZ2VOdW1iZXJpbmdcIn0pO2IuU2VjdGlvbkZvcm1hdD0oZnVuY3Rpb24oZSl7X19leHRlbmRzKFNlY3Rpb25Gb3JtYXQsZSk7ZnVuY3Rpb24gU2VjdGlvbkZvcm1hdCgpe2UuY2FsbCh0aGlzKTt9T2JqZWN0LmRlZmluZVByb3BlcnR5KFNlY3Rpb25Gb3JtYXQucHJvdG90eXBlLFwicGFnZUJvcmRlclwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZj1uZXcgYi5QYWdlQm9yZGVyKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoZixjLlBhZ2VCb3JkZXIpO3JldHVybiBmO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFNlY3Rpb25Gb3JtYXQucHJvdG90eXBlLFwicGFnZU1hcmdpbnNcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGY9bmV3IGIuUGFnZU1hcmdpbnMoKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihmLGMuUGFnZU1hcmdpbnMpO3JldHVybiBmO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFNlY3Rpb25Gb3JtYXQucHJvdG90eXBlLFwicGFnZVNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGY9bmV3IGIuUGFnZVNpemUoKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihmLGMuUGFnZVNpemUpO3JldHVybiBmO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7U2VjdGlvbkZvcm1hdC5wcm90b3R5cGUuZ2V0QnJlYWtLaW5kPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkJyZWFrS2luZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlY3Rpb25Gb3JtYXQucHJvdG90eXBlLmdldENvbHVtbkRpc3RhbmNlcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Db2x1bW5EaXN0YW5jZXMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uRm9ybWF0LnByb3RvdHlwZS5nZXRDb2x1bW5MaW5lQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQ29sdW1uTGluZUNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VjdGlvbkZvcm1hdC5wcm90b3R5cGUuZ2V0Q29sdW1uTGluZVdpZHRoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkNvbHVtbkxpbmVXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlY3Rpb25Gb3JtYXQucHJvdG90eXBlLmdldENvbHVtbnM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQ29sdW1ucyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlY3Rpb25Gb3JtYXQucHJvdG90eXBlLmdldENvbHVtbldpZHRocz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Db2x1bW5XaWR0aHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uRm9ybWF0LnByb3RvdHlwZS5nZXRFcXVhbENvbHVtbldpZHRoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkVxdWFsQ29sdW1uV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uRm9ybWF0LnByb3RvdHlwZS5nZXRMYW5kc2NhcGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuTGFuZHNjYXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VjdGlvbkZvcm1hdC5wcm90b3R5cGUuZ2V0UmVzdGFydFBhZ2VOdW1iZXJpbmc9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuUmVzdGFydFBhZ2VOdW1iZXJpbmcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uRm9ybWF0LnByb3RvdHlwZS5zZXRCcmVha0tpbmQ9ZnVuY3Rpb24oYnJlYWtLaW5kLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBicmVha0tpbmQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkJyZWFrS2luZCxicmVha0tpbmQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uRm9ybWF0LnByb3RvdHlwZS5zZXRDb2x1bW5MaW5lQ29sb3I9ZnVuY3Rpb24oY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGNvbG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Db2x1bW5MaW5lQ29sb3IsY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uRm9ybWF0LnByb3RvdHlwZS5zZXRDb2x1bW5MaW5lV2lkdGg9ZnVuY3Rpb24oY29sdW1uTGluZVdpZHRoLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjb2x1bW5MaW5lV2lkdGghPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkNvbHVtbkxpbmVXaWR0aCxjb2x1bW5MaW5lV2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uRm9ybWF0LnByb3RvdHlwZS5zZXRDb2x1bW5zPWZ1bmN0aW9uKGNvbHVtbnMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGNvbHVtbnMhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkNvbHVtbnMsY29sdW1ucyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlY3Rpb25Gb3JtYXQucHJvdG90eXBlLnNldENvbHVtbldpZHRocz1mdW5jdGlvbihjb2x1bW5XaWR0aHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuQ29sdW1uV2lkdGhzLGNvbHVtbldpZHRocyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlY3Rpb25Gb3JtYXQucHJvdG90eXBlLnNldEVxdWFsQ29sdW1uV2lkdGg9ZnVuY3Rpb24oZXF1YWxDb2x1bW5XaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZXF1YWxDb2x1bW5XaWR0aCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkVxdWFsQ29sdW1uV2lkdGgsZXF1YWxDb2x1bW5XaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlY3Rpb25Gb3JtYXQucHJvdG90eXBlLnNldExhbmRzY2FwZT1mdW5jdGlvbihsYW5kc2NhcGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGxhbmRzY2FwZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkxhbmRzY2FwZSxsYW5kc2NhcGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWN0aW9uRm9ybWF0LnByb3RvdHlwZS5zZXRSZXN0YXJ0UGFnZU51bWJlcmluZz1mdW5jdGlvbihyZXN0YXJ0UGFnZU51bWJlcmluZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgcmVzdGFydFBhZ2VOdW1iZXJpbmchPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5SZXN0YXJ0UGFnZU51bWJlcmluZyxyZXN0YXJ0UGFnZU51bWJlcmluZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBTZWN0aW9uRm9ybWF0O30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO2IuU2VjdGlvbkZvcm1hdC5BdHRyaWJ1dGU9T2JqZWN0LmZyZWV6ZSh7QnJlYWtLaW5kOjEsTGFuZHNjYXBlOjQsQ29sdW1uczo4LENvbHVtbldpZHRoczoxNixDb2x1bW5EaXN0YW5jZXM6MzIsQ29sdW1uTGluZVdpZHRoOjY0LENvbHVtbkxpbmVDb2xvcjoxMjgsRXF1YWxDb2x1bW5XaWR0aDoyNTYsUmVzdGFydFBhZ2VOdW1iZXJpbmc6NTEyLEFsbDoxMDIzLH0pO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZixhKXt2YXIgYj1mLl9wcml2YXRlPWYuX3ByaXZhdGV8fHt9O3ZhciBlPU9iamVjdC5mcmVlemUoe0Jhc2VsaW5lOlwiQmFzZWxpbmVcIixCb2xkOlwiQm9sZFwiLEN1bHR1cmU6XCJDdWx0dXJlXCIsRm9udE5hbWU6XCJGb250TmFtZVwiLEZvbnRTaXplOlwiRm9udFNpemVcIixGb3JlQ29sb3I6XCJGb3JlQ29sb3JcIixGb3JtYXR0aW5nU3R5bGU6XCJGb3JtYXR0aW5nU3R5bGVcIixJdGFsaWM6XCJJdGFsaWNcIixMZW5ndGg6XCJMZW5ndGhcIixQYXJhZ3JhcGhGb3JtYXQ6XCJQYXJhZ3JhcGhGb3JtYXRcIixTZWN0aW9uRm9ybWF0OlwiU2VjdGlvbkZvcm1hdFwiLFN0YXJ0OlwiU3RhcnRcIixTdHJpa2VvdXQ6XCJTdHJpa2VvdXRcIixUZXh0OlwiVGV4dFwiLFRleHRCYWNrQ29sb3I6XCJUZXh0QmFja0NvbG9yXCIsVW5kZXJsaW5lOlwiVW5kZXJsaW5lXCIsQm91bmRzOlwiQm91bmRzXCJ9KTt2YXIgYz1iLkxpc3RGb3JtYXRQcm9wZXJ0eU5hbWU7dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7TG9hZDpcIkxvYWRcIixTYXZlOlwiU2F2ZVwiLFNldExpc3RGb3JtYXRQcm9wZXJ0eTpcIlNldExpc3RGb3JtYXRQcm9wZXJ0eVwiLEdldExpc3RGb3JtYXRQcm9wZXJ0eTpcIkdldExpc3RGb3JtYXRQcm9wZXJ0eVwiLElzQ29tbW9uVmFsdWVTZWxlY3RlZF9TZWxlY3Rpb246XCJJc0NvbW1vblZhbHVlU2VsZWN0ZWRfU2VsZWN0aW9uXCIsSXNDb21tb25WYWx1ZVNlbGVjdGVkX1BhcmFncmFwaEZvcm1hdDpcIklzQ29tbW9uVmFsdWVTZWxlY3RlZF9QYXJhZ3JhcGhGb3JtYXRcIixJc0NvbW1vblZhbHVlU2VsZWN0ZWRfTGlzdEZvcm1hdDpcIklzQ29tbW9uVmFsdWVTZWxlY3RlZF9MaXN0Rm9ybWF0XCIsSXNDb21tb25WYWx1ZVNlbGVjdGVkX1NlY3Rpb25Gb3JtYXQ6XCJJc0NvbW1vblZhbHVlU2VsZWN0ZWRfU2VjdGlvbkZvcm1hdFwiLElzQ29tbW9uVmFsdWVTZWxlY3RlZF9QYWdlTWFyZ2luczpcIklzQ29tbW9uVmFsdWVTZWxlY3RlZF9QYWdlTWFyZ2luc1wiLElzQ29tbW9uVmFsdWVTZWxlY3RlZF9QYWdlU2l6ZTpcIklzQ29tbW9uVmFsdWVTZWxlY3RlZF9QYWdlU2l6ZVwiLElzQ29tbW9uVmFsdWVTZWxlY3RlZF9QYWdlQm9yZGVyOlwiSXNDb21tb25WYWx1ZVNlbGVjdGVkX1BhZ2VCb3JkZXJcIn0pO2IuU2VsZWN0aW9uPShmdW5jdGlvbihnKXtfX2V4dGVuZHMoU2VsZWN0aW9uLGcpO2Z1bmN0aW9uIFNlbGVjdGlvbigpe2cuY2FsbCh0aGlzKTt9T2JqZWN0LmRlZmluZVByb3BlcnR5KFNlbGVjdGlvbi5wcm90b3R5cGUsXCJsaXN0Rm9ybWF0XCIse2dldDpmdW5jdGlvbigpe3ZhciBoPXRoaXM7cmV0dXJue3NldEJ1bGxldENoYXJhY3RlcjpmdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih2YWx1ZSE9PW51bGwmJnR5cGVvZiB2YWx1ZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9aC5jYWxsTWV0aG9kKGQuU2V0TGlzdEZvcm1hdFByb3BlcnR5LGNhbGxiYWNrLFtjLkJ1bGxldENoYXJhY3Rlcix2YWx1ZV0sZXJyb3JDYWxsYmFjayk7fSxnZXRCdWxsZXRDaGFyYWN0ZXI6ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aC5jYWxsTWV0aG9kKGQuR2V0TGlzdEZvcm1hdFByb3BlcnR5LGNhbGxiYWNrLFtjLkJ1bGxldENoYXJhY3Rlcl0sZXJyb3JDYWxsYmFjayk7fSxzZXRCdWxsZXRTaXplOmZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aC5jYWxsTWV0aG9kKGQuU2V0TGlzdEZvcm1hdFByb3BlcnR5LGNhbGxiYWNrLFtjLkJ1bGxldFNpemUsdmFsdWVdLGVycm9yQ2FsbGJhY2spO30sZ2V0QnVsbGV0U2l6ZTpmdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtoLmNhbGxNZXRob2QoZC5HZXRMaXN0Rm9ybWF0UHJvcGVydHksY2FsbGJhY2ssW2MuQnVsbGV0U2l6ZV0sZXJyb3JDYWxsYmFjayk7fSxzZXRGaXJzdE51bWJlcjpmdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWguY2FsbE1ldGhvZChkLlNldExpc3RGb3JtYXRQcm9wZXJ0eSxjYWxsYmFjayxbYy5GaXJzdE51bWJlcix2YWx1ZV0sZXJyb3JDYWxsYmFjayk7fSxnZXRGaXJzdE51bWJlcjpmdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtoLmNhbGxNZXRob2QoZC5HZXRMaXN0Rm9ybWF0UHJvcGVydHksY2FsbGJhY2ssW2MuRmlyc3ROdW1iZXJdLGVycm9yQ2FsbGJhY2spO30sc2V0Rm9udE5hbWU6ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodmFsdWUhPT1udWxsJiZ0eXBlb2YgdmFsdWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWguY2FsbE1ldGhvZChkLlNldExpc3RGb3JtYXRQcm9wZXJ0eSxjYWxsYmFjayxbYy5Gb250TmFtZSx2YWx1ZV0sZXJyb3JDYWxsYmFjayk7fSxnZXRGb250TmFtZTpmdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtoLmNhbGxNZXRob2QoZC5HZXRMaXN0Rm9ybWF0UHJvcGVydHksY2FsbGJhY2ssW2MuRm9udE5hbWVdLGVycm9yQ2FsbGJhY2spO30sc2V0Rm9ybWF0Q2hhcmFjdGVyOmZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aC5jYWxsTWV0aG9kKGQuU2V0TGlzdEZvcm1hdFByb3BlcnR5LGNhbGxiYWNrLFtjLkZvcm1hdENoYXJhY3Rlcix2YWx1ZV0sZXJyb3JDYWxsYmFjayk7fSxnZXRGb3JtYXRDaGFyYWN0ZXI6ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aC5jYWxsTWV0aG9kKGQuR2V0TGlzdEZvcm1hdFByb3BlcnR5LGNhbGxiYWNrLFtjLkZvcm1hdENoYXJhY3Rlcl0sZXJyb3JDYWxsYmFjayk7fSxzZXRIYW5naW5nSW5kZW50OmZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aC5jYWxsTWV0aG9kKGQuU2V0TGlzdEZvcm1hdFByb3BlcnR5LGNhbGxiYWNrLFtjLkhhbmdpbmdJbmRlbnQsdmFsdWVdLGVycm9yQ2FsbGJhY2spO30sZ2V0SGFuZ2luZ0luZGVudDpmdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtoLmNhbGxNZXRob2QoZC5HZXRMaXN0Rm9ybWF0UHJvcGVydHksY2FsbGJhY2ssW2MuSGFuZ2luZ0luZGVudF0sZXJyb3JDYWxsYmFjayk7fSxzZXRMZWZ0SW5kZW50OmZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aC5jYWxsTWV0aG9kKGQuU2V0TGlzdEZvcm1hdFByb3BlcnR5LGNhbGxiYWNrLFtjLkxlZnRJbmRlbnQsdmFsdWVdLGVycm9yQ2FsbGJhY2spO30sZ2V0TGVmdEluZGVudDpmdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtoLmNhbGxNZXRob2QoZC5HZXRMaXN0Rm9ybWF0UHJvcGVydHksY2FsbGJhY2ssW2MuTGVmdEluZGVudF0sZXJyb3JDYWxsYmFjayk7fSxzZXRMZXZlbDpmdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWguY2FsbE1ldGhvZChkLlNldExpc3RGb3JtYXRQcm9wZXJ0eSxjYWxsYmFjayxbYy5MZXZlbCx2YWx1ZV0sZXJyb3JDYWxsYmFjayk7fSxnZXRMZXZlbDpmdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtoLmNhbGxNZXRob2QoZC5HZXRMaXN0Rm9ybWF0UHJvcGVydHksY2FsbGJhY2ssW2MuTGV2ZWxdLGVycm9yQ2FsbGJhY2spO30sc2V0TnVtYmVyRm9ybWF0OmZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aC5jYWxsTWV0aG9kKGQuU2V0TGlzdEZvcm1hdFByb3BlcnR5LGNhbGxiYWNrLFtjLk51bWJlckZvcm1hdCx2YWx1ZV0sZXJyb3JDYWxsYmFjayk7fSxnZXROdW1iZXJGb3JtYXQ6ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aC5jYWxsTWV0aG9kKGQuR2V0TGlzdEZvcm1hdFByb3BlcnR5LGNhbGxiYWNrLFtjLk51bWJlckZvcm1hdF0sZXJyb3JDYWxsYmFjayk7fSxzZXRSZXN0YXJ0TnVtYmVyaW5nOmZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWguY2FsbE1ldGhvZChkLlNldExpc3RGb3JtYXRQcm9wZXJ0eSxjYWxsYmFjayxbYy5SZXN0YXJ0TnVtYmVyaW5nLHZhbHVlXSxlcnJvckNhbGxiYWNrKTt9LGdldFJlc3RhcnROdW1iZXJpbmc6ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aC5jYWxsTWV0aG9kKGQuR2V0TGlzdEZvcm1hdFByb3BlcnR5LGNhbGxiYWNrLFtjLlJlc3RhcnROdW1iZXJpbmddLGVycm9yQ2FsbGJhY2spO30sc2V0VGV4dEFmdGVyTnVtYmVyOmZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHZhbHVlIT09bnVsbCYmdHlwZW9mIHZhbHVlIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31oLmNhbGxNZXRob2QoZC5TZXRMaXN0Rm9ybWF0UHJvcGVydHksY2FsbGJhY2ssW2MuVGV4dEFmdGVyTnVtYmVyLHZhbHVlXSxlcnJvckNhbGxiYWNrKTt9LGdldFRleHRBZnRlck51bWJlcjpmdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtoLmNhbGxNZXRob2QoZC5HZXRMaXN0Rm9ybWF0UHJvcGVydHksY2FsbGJhY2ssW2MuVGV4dEFmdGVyTnVtYmVyXSxlcnJvckNhbGxiYWNrKTt9LHNldFRleHRCZWZvcmVOdW1iZXI6ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodmFsdWUhPT1udWxsJiZ0eXBlb2YgdmFsdWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWguY2FsbE1ldGhvZChkLlNldExpc3RGb3JtYXRQcm9wZXJ0eSxjYWxsYmFjayxbYy5UZXh0QmVmb3JlTnVtYmVyLHZhbHVlXSxlcnJvckNhbGxiYWNrKTt9LGdldFRleHRCZWZvcmVOdW1iZXI6ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aC5jYWxsTWV0aG9kKGQuR2V0TGlzdEZvcm1hdFByb3BlcnR5LGNhbGxiYWNrLFtjLlRleHRCZWZvcmVOdW1iZXJdLGVycm9yQ2FsbGJhY2spO30sc2V0VHlwZTpmdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWguY2FsbE1ldGhvZChkLlNldExpc3RGb3JtYXRQcm9wZXJ0eSxjYWxsYmFjayxbYy5UeXBlLHZhbHVlXSxlcnJvckNhbGxiYWNrKTt9LGdldFR5cGU6ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aC5jYWxsTWV0aG9kKGQuR2V0TGlzdEZvcm1hdFByb3BlcnR5LGNhbGxiYWNrLFtjLlR5cGVdLGVycm9yQ2FsbGJhY2spO319O30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFNlbGVjdGlvbi5wcm90b3R5cGUsXCJwYXJhZ3JhcGhGb3JtYXRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGg9bmV3IGIuUGFyYWdyYXBoRm9ybWF0KCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoaCxlLlBhcmFncmFwaEZvcm1hdCk7cmV0dXJuIGg7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VsZWN0aW9uLnByb3RvdHlwZSxcInNlY3Rpb25Gb3JtYXRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGg9bmV3IGIuU2VjdGlvbkZvcm1hdCgpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGgsZS5TZWN0aW9uRm9ybWF0KTtyZXR1cm4gaDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO1NlbGVjdGlvbi5wcm90b3R5cGUuc2V0Qm91bmRzPWZ1bmN0aW9uKGJvdW5kcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighKGJvdW5kcy5oYXNPd25Qcm9wZXJ0eShcInN0YXJ0XCIpJiZib3VuZHMuaGFzT3duUHJvcGVydHkoXCJsZW5ndGhcIikpKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuU2VsZWN0aW9uT2JqZWN0UHJvcHMpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZS5Cb3VuZHMsYm91bmRzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5nZXRGb3JtYXR0aW5nU3R5bGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGUuRm9ybWF0dGluZ1N0eWxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5zZXRGb3JtYXR0aW5nU3R5bGU9ZnVuY3Rpb24oZm9ybWF0dGluZ1N0eWxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmb3JtYXR0aW5nU3R5bGUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShlLkZvcm1hdHRpbmdTdHlsZSxmb3JtYXR0aW5nU3R5bGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLmdldEN1bHR1cmU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGUuQ3VsdHVyZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuc2V0Q3VsdHVyZT1mdW5jdGlvbihjdWx0dXJlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjdWx0dXJlIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZS5DdWx0dXJlLGN1bHR1cmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLmdldEJvbGQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGUuQm9sZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuc2V0Qm9sZD1mdW5jdGlvbihib2xkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBib2xkIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGUuQm9sZCxib2xkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5nZXRGb250TmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZS5Gb250TmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuc2V0Rm9udE5hbWU9ZnVuY3Rpb24oZm9udE5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZvbnROYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZS5Gb250TmFtZSxmb250TmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRhbGljPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShlLkl0YWxpYyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuc2V0SXRhbGljPWZ1bmN0aW9uKGl0YWxpYyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaXRhbGljIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGUuSXRhbGljLGl0YWxpYyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShlLkxlbmd0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuc2V0TGVuZ3RoPWZ1bmN0aW9uKGxlbmd0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgbGVuZ3RoIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZS5MZW5ndGgsbGVuZ3RoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5nZXRTdGFydD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZS5TdGFydCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuc2V0U3RhcnQ9ZnVuY3Rpb24oc3RhcnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHN0YXJ0IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZS5TdGFydCxzdGFydCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuZ2V0U3RyaWtlb3V0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShlLlN0cmlrZW91dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuc2V0U3RyaWtlb3V0PWZ1bmN0aW9uKHN0cmlrZW91dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygc3RyaWtlb3V0IT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGUuU3RyaWtlb3V0LHN0cmlrZW91dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZS5UZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKHRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRleHQhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShlLlRleHQsdGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuZ2V0VW5kZXJsaW5lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShlLlVuZGVybGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuc2V0VW5kZXJsaW5lPWZ1bmN0aW9uKHVuZGVybGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdW5kZXJsaW5lIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZS5VbmRlcmxpbmUsdW5kZXJsaW5lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5nZXRCYXNlbGluZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZS5CYXNlbGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuc2V0QmFzZWxpbmU9ZnVuY3Rpb24oYmFzZWxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJhc2VsaW5lIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZS5CYXNlbGluZSxiYXNlbGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuZ2V0Rm9udFNpemU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGUuRm9udFNpemUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLnNldEZvbnRTaXplPWZ1bmN0aW9uKGZvbnRTaXplLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmb250U2l6ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGUuRm9udFNpemUsZm9udFNpemUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLmdldEZvcmVDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZS5Gb3JlQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLnNldEZvcmVDb2xvcj1mdW5jdGlvbihmb3JlQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZvcmVDb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGUuRm9yZUNvbG9yLGZvcmVDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuZ2V0VGV4dEJhY2tDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZS5UZXh0QmFja0NvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5zZXRUZXh0QmFja0NvbG9yPWZ1bmN0aW9uKHRleHRCYWNrQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRleHRCYWNrQ29sb3IhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShlLlRleHRCYWNrQ29sb3IsdGV4dEJhY2tDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuaXNDb21tb25TZWxlY3Rpb25WYWx1ZVNlbGVjdGVkPWZ1bmN0aW9uKHNlbGVjdGlvbkF0dHJpYnV0ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygc2VsZWN0aW9uQXR0cmlidXRlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuY2FsbE1ldGhvZChkLklzQ29tbW9uVmFsdWVTZWxlY3RlZF9TZWxlY3Rpb24sY2FsbGJhY2ssW3NlbGVjdGlvbkF0dHJpYnV0ZV0sZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLmlzQ29tbW9uUGFyYWdyYXBoRm9ybWF0VmFsdWVTZWxlY3RlZD1mdW5jdGlvbihwYXJhZ3JhcGhGb3JtYXRBdHRyaWJ1dGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHBhcmFncmFwaEZvcm1hdEF0dHJpYnV0ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLmNhbGxNZXRob2QoZC5Jc0NvbW1vblZhbHVlU2VsZWN0ZWRfUGFyYWdyYXBoRm9ybWF0LGNhbGxiYWNrLFtwYXJhZ3JhcGhGb3JtYXRBdHRyaWJ1dGVdLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5pc0NvbW1vbkxpc3RGb3JtYXRWYWx1ZVNlbGVjdGVkPWZ1bmN0aW9uKGxpc3RGb3JtYXRBdHRyaWJ1dGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGxpc3RGb3JtYXRBdHRyaWJ1dGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5jYWxsTWV0aG9kKGQuSXNDb21tb25WYWx1ZVNlbGVjdGVkX0xpc3RGb3JtYXQsY2FsbGJhY2ssW2xpc3RGb3JtYXRBdHRyaWJ1dGVdLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5pc0NvbW1vblNlY3Rpb25Gb3JtYXRWYWx1ZVNlbGVjdGVkPWZ1bmN0aW9uKHNlY3Rpb25Gb3JtYXRBdHRyaWJ1dGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHNlY3Rpb25Gb3JtYXRBdHRyaWJ1dGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5jYWxsTWV0aG9kKGQuSXNDb21tb25WYWx1ZVNlbGVjdGVkX1NlY3Rpb25Gb3JtYXQsY2FsbGJhY2ssW3NlY3Rpb25Gb3JtYXRBdHRyaWJ1dGVdLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uLnByb3RvdHlwZS5pc0NvbW1vblBhZ2VNYXJnaW5zVmFsdWVTZWxlY3RlZD1mdW5jdGlvbihwYWdlTWFyZ2luc0F0dHJpYnV0ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgcGFnZU1hcmdpbnNBdHRyaWJ1dGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5jYWxsTWV0aG9kKGQuSXNDb21tb25WYWx1ZVNlbGVjdGVkX1BhZ2VNYXJnaW5zLGNhbGxiYWNrLFtwYWdlTWFyZ2luc0F0dHJpYnV0ZV0sZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLmlzQ29tbW9uUGFnZVNpemVWYWx1ZVNlbGVjdGVkPWZ1bmN0aW9uKHBhZ2VTaXplQXR0cmlidXRlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBwYWdlU2l6ZUF0dHJpYnV0ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLmNhbGxNZXRob2QoZC5Jc0NvbW1vblZhbHVlU2VsZWN0ZWRfUGFnZVNpemUsY2FsbGJhY2ssW3BhZ2VTaXplQXR0cmlidXRlXSxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUuaXNDb21tb25QYWdlQm9yZGVyVmFsdWVTZWxlY3RlZD1mdW5jdGlvbihwYWdlQm9yZGVyQXR0cmlidXRlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBwYWdlQm9yZGVyQXR0cmlidXRlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuY2FsbE1ldGhvZChkLklzQ29tbW9uVmFsdWVTZWxlY3RlZF9QYWdlQm9yZGVyLGNhbGxiYWNrLFtwYWdlQm9yZGVyQXR0cmlidXRlXSxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbi5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihzdHJlYW1UeXBlLGJhc2U2NERhdGEsY2FsbGJhY2ssbG9hZFNldHRpbmdzLGVycm9yQ2FsbGJhY2spe2lmKCFzdHJlYW1UeXBlKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuTm9TdHJlYW1UeXBlKTt9aWYoIWJhc2U2NERhdGEpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ob0RvY3VtZW50RGF0YSk7fWxvYWRTZXR0aW5ncz1sb2FkU2V0dGluZ3N8fG51bGw7dGhpcy5jYWxsTWV0aG9kKGQuTG9hZCxjYWxsYmFjayxbYmFzZTY0RGF0YSxzdHJlYW1UeXBlLGxvYWRTZXR0aW5nc10sZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb24ucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oc3RyZWFtVHlwZSxjYWxsYmFjayxzYXZlU2V0dGluZ3MsZXJyb3JDYWxsYmFjayl7aWYoIXN0cmVhbVR5cGUpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ob1N0cmVhbVR5cGUpO31pZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9c2F2ZVNldHRpbmdzPXNhdmVTZXR0aW5nc3x8bnVsbDt0aGlzLmNhbGxNZXRob2QoZC5TYXZlLGNhbGxiYWNrLFtzdHJlYW1UeXBlLHNhdmVTZXR0aW5nc10sZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gU2VsZWN0aW9uO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO2IuU2VsZWN0aW9uLkF0dHJpYnV0ZT1PYmplY3QuZnJlZXplKHtCYXNlbGluZToxLEJvbGQ6MixJdGFsaWM6NCxGb250TmFtZTo4LEZvbnRTaXplOjE2LFN0cmlrZW91dDozMixVbmRlcmxpbmU6NjQsRm9yZUNvbG9yOjI1NixUZXh0QmFja0NvbG9yOjUxMixTdGFydDoxMDI0LExlbmd0aDoyMDQ4LFRleHQ6NDA5NixGb3JtYXR0aW5nU3R5bGU6ODE5MixDdWx0dXJlOjE2Mzg0LEFsbDozMjc2Nyx9KTtyZXR1cm4gZjt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGUsYSl7dmFyIGI9ZS5fcHJpdmF0ZT1lLl9wcml2YXRlfHx7fTt2YXIgZD1PYmplY3QuZnJlZXplKHtDYW5NZXJnZUNlbGxzOlwiQ2FuTWVyZ2VDZWxsc1wiLENhblNwbGl0OlwiQ2FuU3BsaXRcIixDYW5TcGxpdENlbGxzOlwiQ2FuU3BsaXRDZWxsc1wiLENlbGxzOlwiQ2VsbHNcIixDb2x1bW5zOlwiQ29sdW1uc1wiLElEOlwiSURcIixOZXN0ZWRMZXZlbDpcIk5lc3RlZExldmVsXCIsTmVzdGVkVGFibGVzOlwiTmVzdGVkVGFibGVzXCIsT3V0ZXJNb3N0VGFibGU6XCJPdXRlck1vc3RUYWJsZVwiLE91dGVyVGFibGU6XCJPdXRlclRhYmxlXCIsUm93czpcIlJvd3NcIn0pO3ZhciBjPU9iamVjdC5mcmVlemUoe01lcmdlQ2VsbHM6XCJNZXJnZUNlbGxzXCIsU2VsZWN0OlwiU2VsZWN0XCIsU3BsaXQ6XCJTcGxpdFwiLFNwbGl0Q2VsbHM6XCJTcGxpdENlbGxzXCJ9KTtiLlRhYmxlPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoVGFibGUsZik7ZnVuY3Rpb24gVGFibGUoZyxoKXtmLmNhbGwodGhpcyxnLGgpO31PYmplY3QuZGVmaW5lUHJvcGVydHkoVGFibGUucHJvdG90eXBlLFwiY2VsbHNcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGc9bmV3IGIuVGFibGVDZWxsQ29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGcsZC5DZWxscyk7cmV0dXJuIGc7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFibGUucHJvdG90eXBlLFwiY29sdW1uc1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZz1uZXcgYi5UYWJsZUNvbHVtbkNvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihnLGQuQ29sdW1ucyk7cmV0dXJuIGc7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFibGUucHJvdG90eXBlLFwibmVzdGVkVGFibGVzXCIse2dldDpmdW5jdGlvbigpe3ZhciBnPW5ldyBiLlRhYmxlQmFzZUNvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihnLGQuTmVzdGVkVGFibGVzKTtyZXR1cm4gZzt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShUYWJsZS5wcm90b3R5cGUsXCJyb3dzXCIse2dldDpmdW5jdGlvbigpe3ZhciBnPW5ldyBiLlRhYmxlUm93Q29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGcsZC5Sb3dzKTtyZXR1cm4gZzt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO1RhYmxlLnByb3RvdHlwZS5zZXRJRD1mdW5jdGlvbihpZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaWQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLklELGlkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGUucHJvdG90eXBlLmdldElEPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklELGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGUucHJvdG90eXBlLmdldENhbk1lcmdlQ2VsbHM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQ2FuTWVyZ2VDZWxscyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlLnByb3RvdHlwZS5nZXRDYW5TcGxpdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5DYW5TcGxpdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlLnByb3RvdHlwZS5nZXRDYW5TcGxpdENlbGxzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNhblNwbGl0Q2VsbHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZS5wcm90b3R5cGUuZ2V0TmVzdGVkTGV2ZWw9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTmVzdGVkTGV2ZWwsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZS5wcm90b3R5cGUuZ2V0T3V0ZXJNb3N0VGFibGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGc9dGhpczt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5PdXRlck1vc3RUYWJsZSxmdW5jdGlvbihpKXtpZihpKXt2YXIgaD1uZXcgYi5UYWJsZShpLmhhc2hjb2RlKTtnLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihoLGQuT3V0ZXJNb3N0VGFibGUpO2NhbGxiYWNrKGgpO31lbHNle2NhbGxiYWNrKG51bGwpO319LGVycm9yQ2FsbGJhY2spO307VGFibGUucHJvdG90eXBlLmdldE91dGVyVGFibGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGc9dGhpczt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5PdXRlclRhYmxlLGZ1bmN0aW9uKGkpe2lmKGkpe3ZhciBoPW5ldyBiLlRhYmxlKGkuaGFzaGNvZGUpO2cuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGgsZC5PdXRlclRhYmxlKTtjYWxsYmFjayhoKTt9ZWxzZXtjYWxsYmFjayhudWxsKTt9fSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlLnByb3RvdHlwZS5tZXJnZUNlbGxzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLk1lcmdlQ2VsbHMsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtUYWJsZS5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlNlbGVjdCxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlLnByb3RvdHlwZS5zZWxlY3RDZWxscz1mdW5jdGlvbihzdGFydFJvdyxzdGFydENvbHVtbixzdG9wUm93LHN0b3BDb2x1bW4sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoISh0eXBlb2Ygc3RhcnRSb3c9PT1cIm51bWJlclwiJiZ0eXBlb2Ygc3RhcnRDb2x1bW49PT1cIm51bWJlclwiJiZ0eXBlb2Ygc3RvcFJvdz09PVwibnVtYmVyXCImJnR5cGVvZiBzdGFydENvbHVtbj09PVwibnVtYmVyXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO312YXIgZz1bc3RhcnRSb3csc3RhcnRDb2x1bW4sc3RvcFJvdyxzdG9wQ29sdW1uXTt0aGlzLmNhbGxNZXRob2QoYy5TZWxlY3QsY2FsbGJhY2ssZyxlcnJvckNhbGxiYWNrKTt9O1RhYmxlLnByb3RvdHlwZS5zcGxpdD1mdW5jdGlvbih0YWJsZUFkZFBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHRhYmxlQWRkUG9zaXRpb24hPWIuVGFibGVBZGRQb3NpdGlvbi5BZnRlciYmdGFibGVBZGRQb3NpdGlvbiE9Yi5UYWJsZUFkZFBvc2l0aW9uLkJlZm9yZSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFUYWJsZUFkZFBvc2l0aW9uKTt9dGhpcy5jYWxsTWV0aG9kKGMuU3BsaXQsY2FsbGJhY2ssW3RhYmxlQWRkUG9zaXRpb25dLGVycm9yQ2FsbGJhY2spO307VGFibGUucHJvdG90eXBlLnNwbGl0Q2VsbHM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuU3BsaXRDZWxscyxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBUYWJsZTt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtyZXR1cm4gZTt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlRhYmxlQmFzZUNvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhUYWJsZUJhc2VDb2xsZWN0aW9uLGQpO2Z1bmN0aW9uIFRhYmxlQmFzZUNvbGxlY3Rpb24oKXtkLmNhbGwodGhpcyk7fVRhYmxlQmFzZUNvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZUJ5SWQ9ZnVuY3Rpb24oaWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlkIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5SZW1vdmUsY2FsbGJhY2ssW2lkXSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQmFzZUNvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZUF0SW5wdXRQb3NpdGlvbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5SZW1vdmUsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtUYWJsZUJhc2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2ssaWQpe3ZhciBlPXRoaXM7aWYoKHR5cGVvZiBpZD09PVwidW5kZWZpbmVkXCIpfHwodHlwZW9mIGlkIT09XCJudW1iZXJcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fSxbaWRdLGVycm9yQ2FsbGJhY2spO307VGFibGVCYXNlQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGYpe2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGU9bmV3IGIuVGFibGUoZi5oYXNoY29kZSxmLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGUsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZi5oYXNoY29kZSxmLmluZGV4XSk7cmV0dXJuIGU7fTtyZXR1cm4gVGFibGVCYXNlQ29sbGVjdGlvbjt9KShiLkNvbGxlY3Rpb24pO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuVGFibGVDZWxsUHJvcGVydHlOYW1lPU9iamVjdC5mcmVlemUoe0NlbGxGb3JtYXQ6XCJDZWxsRm9ybWF0XCIsQ29sdW1uOlwiQ29sdW1uXCIsRm9ybXVsYTpcIkZvcm11bGFcIixMZW5ndGg6XCJMZW5ndGhcIixOYW1lOlwiTmFtZVwiLFBvc2l0aW9uOlwiUG9zaXRpb25cIixSb3c6XCJSb3dcIixTdGFydDpcIlN0YXJ0XCIsVGV4dDpcIlRleHRcIixXaWR0aDpcIldpZHRoXCJ9KTtiLlRhYmxlQ2VsbE1ldGhvZE5hbWU9T2JqZWN0LmZyZWV6ZSh7U2VsZWN0OlwiU2VsZWN0XCJ9KTtiLlRhYmxlQ2VsbD0oZnVuY3Rpb24oZCl7X19leHRlbmRzKFRhYmxlQ2VsbCxkKTtmdW5jdGlvbiBUYWJsZUNlbGwoZSxmKXtkLmNhbGwodGhpcyxlLGYpO31UYWJsZUNlbGwucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYi5UYWJsZUNlbGxNZXRob2ROYW1lLlNlbGVjdCxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbC5wcm90b3R5cGUuZ2V0Q2VsbEZvcm1hdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt2YXIgZT1uZXcgYi5UYWJsZUNlbGxGb3JtYXQoKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihlLGIuVGFibGVDZWxsUHJvcGVydHlOYW1lLkNlbGxGb3JtYXQpO2NhbGxiYWNrKGUpO307VGFibGVDZWxsLnByb3RvdHlwZS5nZXRDb2x1bW49ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsUHJvcGVydHlOYW1lLkNvbHVtbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbC5wcm90b3R5cGUuZ2V0Rm9ybXVsYT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5UYWJsZUNlbGxQcm9wZXJ0eU5hbWUuRm9ybXVsYSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbC5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbFByb3BlcnR5TmFtZS5MZW5ndGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGwucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsUHJvcGVydHlOYW1lLk5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGwucHJvdG90eXBlLmdldFBvc2l0aW9uPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbFByb3BlcnR5TmFtZS5Qb3NpdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbC5wcm90b3R5cGUuZ2V0Um93PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbFByb3BlcnR5TmFtZS5Sb3csY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGwucHJvdG90eXBlLmdldFN0YXJ0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbFByb3BlcnR5TmFtZS5TdGFydCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbC5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5UYWJsZUNlbGxQcm9wZXJ0eU5hbWUuVGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbC5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsUHJvcGVydHlOYW1lLldpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsLnByb3RvdHlwZS5zZXRGb3JtdWxhPWZ1bmN0aW9uKGZvcm11bGEsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZvcm11bGEhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbFByb3BlcnR5TmFtZS5Gb3JtdWxhLGZvcm11bGEsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGwucHJvdG90eXBlLnNldE5hbWU9ZnVuY3Rpb24obmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgbmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsUHJvcGVydHlOYW1lLk5hbWUsbmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbC5wcm90b3R5cGUuc2V0UG9zaXRpb249ZnVuY3Rpb24ocG9zaXRpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHBvc2l0aW9uIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5UYWJsZUNlbGxQcm9wZXJ0eU5hbWUuUG9zaXRpb24scG9zaXRpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGwucHJvdG90eXBlLnNldFRleHQ9ZnVuY3Rpb24odGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdGV4dCE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsUHJvcGVydHlOYW1lLlRleHQsdGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbC5wcm90b3R5cGUuc2V0V2lkdGg9ZnVuY3Rpb24od2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHdpZHRoIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5UYWJsZUNlbGxQcm9wZXJ0eU5hbWUuV2lkdGgsd2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gVGFibGVDZWxsO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuVGFibGVDZWxsQm9yZGVyUG9zaXRpb249T2JqZWN0LmZyZWV6ZSh7TGVmdDpcIkxlZnRcIixSaWdodDpcIlJpZ2h0XCIsVG9wOlwiVG9wXCIsQm90dG9tOlwiQm90dG9tXCJ9KTtiLlRhYmxlQ2VsbEJvcmRlcj0oZnVuY3Rpb24oKXtmdW5jdGlvbiBUYWJsZUNlbGxCb3JkZXIoZyxoKXt0aGlzLl8ucG9zaXRpb249Zzt0aGlzLl8udGFibGVDZWxsPWg7fVRhYmxlQ2VsbEJvcmRlci5wcm90b3R5cGUuZ2V0Q29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGc9ZCh0aGlzLl8ucG9zaXRpb24pO3RhYmxlQ2VsbC5nZXRQcm9wZXJ0eVZhbHVlKGcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGxCb3JkZXIucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBnPWYodGhpcy5fLnBvc2l0aW9uKTt0YWJsZUNlbGwuZ2V0UHJvcGVydHlWYWx1ZShnLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsQm9yZGVyLnByb3RvdHlwZS5nZXRUZXh0RGlzdGFuY2U9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGc9ZSh0aGlzLl8ucG9zaXRpb24pO3RhYmxlQ2VsbC5nZXRQcm9wZXJ0eVZhbHVlKGcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGxCb3JkZXIucHJvdG90eXBlLnNldENvbG9yPWZ1bmN0aW9uKGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dmFyIGc9ZCh0aGlzLl8ucG9zaXRpb24pO3RhYmxlQ2VsbC5zZXRQcm9wZXJ0eVZhbHVlKGcsY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGxCb3JkZXIucHJvdG90eXBlLnNldFdpZHRoPWZ1bmN0aW9uKHdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB3aWR0aCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dmFyIGc9Zih0aGlzLl8ucG9zaXRpb24pO3RhYmxlQ2VsbC5zZXRQcm9wZXJ0eVZhbHVlKGcsd2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGxCb3JkZXIucHJvdG90eXBlLnNldFRleHREaXN0YW5jZT1mdW5jdGlvbih0ZXh0RGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRleHREaXN0YW5jZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dmFyIGc9ZSh0aGlzLl8ucG9zaXRpb24pO3RhYmxlQ2VsbC5zZXRQcm9wZXJ0eVZhbHVlKGcsdGV4dERpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307ZnVuY3Rpb24gZChnKXtzd2l0Y2goZyl7Y2FzZSBiLlRhYmxlQ2VsbEJvcmRlclBvc2l0aW9uLkJvdHRvbTpyZXR1cm4gYi5UYWJsZUNlbGxGb3JtYXRQcm9wZXJ0eU5hbWUuQm90dG9tQm9yZGVyQ29sb3I7Y2FzZSBiLlRhYmxlQ2VsbEJvcmRlclBvc2l0aW9uLlRvcDpyZXR1cm4gYi5UYWJsZUNlbGxGb3JtYXRQcm9wZXJ0eU5hbWUuVG9wQm9yZGVyQ29sb3I7Y2FzZSBiLlRhYmxlQ2VsbEJvcmRlclBvc2l0aW9uLlJpZ2h0OnJldHVybiBiLlRhYmxlQ2VsbEZvcm1hdFByb3BlcnR5TmFtZS5SaWdodEJvcmRlckNvbG9yO2Nhc2UgYi5UYWJsZUNlbGxCb3JkZXJQb3NpdGlvbi5MZWZ0OnJldHVybiBiLlRhYmxlQ2VsbEZvcm1hdFByb3BlcnR5TmFtZS5MZWZ0Qm9yZGVyQ29sb3I7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHRhYmxlIGNlbGwgYm9yZGVyIHBvc2l0aW9uLlwiKTt9fWZ1bmN0aW9uIGYoZyl7c3dpdGNoKGcpe2Nhc2UgYi5UYWJsZUNlbGxCb3JkZXJQb3NpdGlvbi5Cb3R0b206cmV0dXJuIGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLkJvdHRvbUJvcmRlcldpZHRoO2Nhc2UgYi5UYWJsZUNlbGxCb3JkZXJQb3NpdGlvbi5Ub3A6cmV0dXJuIGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLlRvcEJvcmRlcldpZHRoO2Nhc2UgYi5UYWJsZUNlbGxCb3JkZXJQb3NpdGlvbi5SaWdodDpyZXR1cm4gYi5UYWJsZUNlbGxGb3JtYXRQcm9wZXJ0eU5hbWUuUmlnaHRCb3JkZXJXaWR0aDtjYXNlIGIuVGFibGVDZWxsQm9yZGVyUG9zaXRpb24uTGVmdDpyZXR1cm4gYi5UYWJsZUNlbGxGb3JtYXRQcm9wZXJ0eU5hbWUuTGVmdEJvcmRlcldpZHRoO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0YWJsZSBjZWxsIGJvcmRlciBwb3NpdGlvbi5cIik7fX1mdW5jdGlvbiBlKGcpe3N3aXRjaChnKXtjYXNlIGIuVGFibGVDZWxsQm9yZGVyUG9zaXRpb24uQm90dG9tOnJldHVybiBiLlRhYmxlQ2VsbEZvcm1hdFByb3BlcnR5TmFtZS5Cb3R0b21UZXh0RGlzdGFuY2U7Y2FzZSBiLlRhYmxlQ2VsbEJvcmRlclBvc2l0aW9uLlRvcDpyZXR1cm4gYi5UYWJsZUNlbGxGb3JtYXRQcm9wZXJ0eU5hbWUuVG9wVGV4dERpc3RhbmNlO2Nhc2UgYi5UYWJsZUNlbGxCb3JkZXJQb3NpdGlvbi5SaWdodDpyZXR1cm4gYi5UYWJsZUNlbGxGb3JtYXRQcm9wZXJ0eU5hbWUuUmlnaHRUZXh0RGlzdGFuY2U7Y2FzZSBiLlRhYmxlQ2VsbEJvcmRlclBvc2l0aW9uLkxlZnQ6cmV0dXJuIGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLkxlZnRUZXh0RGlzdGFuY2U7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHRhYmxlIGNlbGwgYm9yZGVyIHBvc2l0aW9uLlwiKTt9fXJldHVybiBUYWJsZUNlbGxCb3JkZXI7fSkoKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlRhYmxlQ2VsbENvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhUYWJsZUNlbGxDb2xsZWN0aW9uLGQpO2Z1bmN0aW9uIFRhYmxlQ2VsbENvbGxlY3Rpb24oKXtkLmNhbGwodGhpcyk7fVRhYmxlQ2VsbENvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW1BdElucHV0UG9zaXRpb249ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGYpe2NhbGxiYWNrKGUuX2FkYXB0KGYpKTt9LFtdLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLHJvdyxjb2x1bW4pe2lmKHR5cGVvZiByb3chPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBjb2x1bW4hPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fSxbcm93LGNvbHVtbl0sZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGxDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0Q2FuUmVtb3ZlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXRoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkNvbGxlY3Rpb25Qcm9wZXJ0eU5hbWUuQ2FuUmVtb3ZlLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGYpe2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGU9bmV3IGIuVGFibGVDZWxsKGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIFRhYmxlQ2VsbENvbGxlY3Rpb247fSkoYi5Db2xsZWN0aW9uKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlRhYmxlQ2VsbEZvcm1hdFByb3BlcnR5TmFtZT1PYmplY3QuZnJlZXplKHtCYWNrQ29sb3I6XCJCYWNrQ29sb3JcIixOdW1iZXJGb3JtYXQ6XCJOdW1iZXJGb3JtYXRcIixUZXh0VHlwZTpcIlRleHRUeXBlXCIsVmVydGljYWxBbGlnbm1lbnQ6XCJWZXJ0aWNhbEFsaWdubWVudFwiLEJvdHRvbUJvcmRlckNvbG9yOlwiQm90dG9tQm9yZGVyQ29sb3JcIixCb3R0b21Cb3JkZXJXaWR0aDpcIkJvdHRvbUJvcmRlcldpZHRoXCIsQm90dG9tVGV4dERpc3RhbmNlOlwiQm90dG9tVGV4dERpc3RhbmNlXCIsVG9wQm9yZGVyQ29sb3I6XCJUb3BCb3JkZXJDb2xvclwiLFRvcEJvcmRlcldpZHRoOlwiVG9wQm9yZGVyV2lkdGhcIixUb3BUZXh0RGlzdGFuY2U6XCJUb3BUZXh0RGlzdGFuY2VcIixMZWZ0Qm9yZGVyQ29sb3I6XCJMZWZ0Qm9yZGVyQ29sb3JcIixMZWZ0Qm9yZGVyV2lkdGg6XCJMZWZ0Qm9yZGVyV2lkdGhcIixMZWZ0VGV4dERpc3RhbmNlOlwiTGVmdFRleHREaXN0YW5jZVwiLFJpZ2h0Qm9yZGVyQ29sb3I6XCJSaWdodEJvcmRlckNvbG9yXCIsUmlnaHRCb3JkZXJXaWR0aDpcIlJpZ2h0Qm9yZGVyV2lkdGhcIixSaWdodFRleHREaXN0YW5jZTpcIlJpZ2h0VGV4dERpc3RhbmNlXCIsfSk7Yi5UYWJsZUNlbGxGb3JtYXQ9KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhUYWJsZUNlbGxGb3JtYXQsZCk7ZnVuY3Rpb24gVGFibGVDZWxsRm9ybWF0KCl7ZC5jYWxsKHRoaXMpO31PYmplY3QuZGVmaW5lUHJvcGVydHkoVGFibGVDZWxsRm9ybWF0LnByb3RvdHlwZSxcImJvdHRvbUJvcmRlclwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1iLlRhYmxlQ2VsbEJvcmRlclBvc2l0aW9uLkJvdHRvbTtyZXR1cm4gbmV3IGIuVGFibGVDZWxsQm9yZGVyKGUsdGhpcyk7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFibGVDZWxsRm9ybWF0LnByb3RvdHlwZSxcImxlZnRCb3JkZXJcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9Yi5UYWJsZUNlbGxCb3JkZXJQb3NpdGlvbi5MZWZ0O3JldHVybiBuZXcgYi5UYWJsZUNlbGxCb3JkZXIoZSx0aGlzKTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShUYWJsZUNlbGxGb3JtYXQucHJvdG90eXBlLFwicmlnaHRCb3JkZXJcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9Yi5UYWJsZUNlbGxCb3JkZXJQb3NpdGlvbi5SaWdodDtyZXR1cm4gbmV3IGIuVGFibGVDZWxsQm9yZGVyKGUsdGhpcyk7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFibGVDZWxsRm9ybWF0LnByb3RvdHlwZSxcInRvcEJvcmRlclwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1iLlRhYmxlQ2VsbEJvcmRlclBvc2l0aW9uLlRvcDtyZXR1cm4gbmV3IGIuVGFibGVDZWxsQm9yZGVyKGUsdGhpcyk7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtUYWJsZUNlbGxGb3JtYXQucHJvdG90eXBlLmdldEJhY2tDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5UYWJsZUNlbGxGb3JtYXRQcm9wZXJ0eU5hbWUuQmFja0NvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsRm9ybWF0LnByb3RvdHlwZS5nZXROdW1iZXJGb3JtYXQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLk51bWJlckZvcm1hdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ2VsbEZvcm1hdC5wcm90b3R5cGUuZ2V0VGV4dFR5cGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLlRleHRUeXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsRm9ybWF0LnByb3RvdHlwZS5nZXRWZXJ0aWNhbEFsaWdubWVudD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5UYWJsZUNlbGxGb3JtYXRQcm9wZXJ0eU5hbWUuVmVydGljYWxBbGlnbm1lbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGxGb3JtYXQucHJvdG90eXBlLnNldEJhY2tDb2xvcj1mdW5jdGlvbihiYWNrQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJhY2tDb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLkJhY2tDb2xvcixiYWNrQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGxGb3JtYXQucHJvdG90eXBlLnNldE51bWJlckZvcm1hdD1mdW5jdGlvbihudW1iZXJGb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIG51bWJlckZvcm1hdCE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLk51bWJlckZvcm1hdCxudW1iZXJGb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNlbGxGb3JtYXQucHJvdG90eXBlLnNldFRleHRUeXBlPWZ1bmN0aW9uKHRleHRUeXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0ZXh0VHlwZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuVGFibGVDZWxsRm9ybWF0UHJvcGVydHlOYW1lLlRleHRUeXBlLHRleHRUeXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDZWxsRm9ybWF0LnByb3RvdHlwZS5zZXRWZXJ0aWNhbEFsaWdubWVudD1mdW5jdGlvbih2ZXJ0aWNhbEFsaWdubWVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmVydGljYWxBbGlnbm1lbnQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLlRhYmxlQ2VsbEZvcm1hdFByb3BlcnR5TmFtZS5WZXJ0aWNhbEFsaWdubWVudCx2ZXJ0aWNhbEFsaWdubWVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBUYWJsZUNlbGxGb3JtYXQ7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7R3JpZExpbmVzOlwiR3JpZExpbmVzXCJ9KTtiLlRhYmxlQ29sbGVjdGlvbj0oZnVuY3Rpb24oZSl7X19leHRlbmRzKFRhYmxlQ29sbGVjdGlvbixlKTtmdW5jdGlvbiBUYWJsZUNvbGxlY3Rpb24oKXtlLmNhbGwodGhpcyk7fVRhYmxlQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHJvd3MsY29sdW1ucyxpZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiJiZ0eXBlb2YgaWQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiByb3dzIT09XCJudW1iZXJcInx8dHlwZW9mIGNvbHVtbnMhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO312YXIgZj0odHlwZW9mIGlkIT09XCJ1bmRlZmluZWRcIik/W3Jvd3MsY29sdW1ucyxpZF06W3Jvd3MsY29sdW1uc107dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkLGNhbGxiYWNrLGYsZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlLnNldEdyaWRMaW5lcz1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5HcmlkTGluZXMsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEdyaWRMaW5lcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5HcmlkTGluZXMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldENhbkFkZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5Db2xsZWN0aW9uUHJvcGVydHlOYW1lLkNhbkFkZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLGlkKXt2YXIgZz10aGlzO2lmKCh0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiKSYmKHR5cGVvZiBpZCE9PVwibnVtYmVyXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXZhciBmPSh0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiKT9baWRdOltdO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oaCl7Y2FsbGJhY2soZy5fYWRhcHQoaCkpO30sZixlcnJvckNhbGxiYWNrKTt9O3JldHVybiBUYWJsZUNvbGxlY3Rpb247fSkoYi5UYWJsZUJhc2VDb2xsZWN0aW9uKTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGUsYSl7dmFyIGI9ZS5fcHJpdmF0ZT1lLl9wcml2YXRlfHx7fTt2YXIgZD1PYmplY3QuZnJlZXplKHtDZWxsRm9ybWF0OlwiQ2VsbEZvcm1hdFwiLENvbHVtbjpcIkNvbHVtblwiLFBvc2l0aW9uOlwiUG9zaXRpb25cIixXaWR0aDpcIldpZHRoXCJ9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtTZWxlY3Q6XCJTZWxlY3RcIn0pO2IuVGFibGVDb2x1bW49KGZ1bmN0aW9uKGYpe19fZXh0ZW5kcyhUYWJsZUNvbHVtbixmKTtmdW5jdGlvbiBUYWJsZUNvbHVtbihnLGgpe2YuY2FsbCh0aGlzLGcsaCk7fVRhYmxlQ29sdW1uLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oY2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlNlbGVjdCxjYWxsYmFjayk7fTtUYWJsZUNvbHVtbi5wcm90b3R5cGUuZ2V0Q2VsbEZvcm1hdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt2YXIgZz1uZXcgYi5mb3JtYXQoKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihnLGQuQ2VsbEZvcm1hdCk7Y2FsbGJhY2soZyk7fTtUYWJsZUNvbHVtbi5wcm90b3R5cGUuZ2V0Q29sdW1uPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNvbHVtbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ29sdW1uLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Qb3NpdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ29sdW1uLnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbihwb3NpdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgcG9zaXRpb24hPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlBvc2l0aW9uLHBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDb2x1bW4ucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLldpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVDb2x1bW4ucHJvdG90eXBlLnNldFdpZHRoPWZ1bmN0aW9uKHdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB3aWR0aCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuV2lkdGgsd2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gVGFibGVDb2x1bW47fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5UYWJsZUNvbHVtbkNvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhUYWJsZUNvbHVtbkNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gVGFibGVDb2x1bW5Db2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31UYWJsZUNvbHVtbkNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0YWJsZUFkZFBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0YWJsZUFkZFBvc2l0aW9uIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5BZGQsY2FsbGJhY2ssW3RhYmxlQWRkUG9zaXRpb25dLGVycm9yQ2FsbGJhY2spO307VGFibGVDb2x1bW5Db2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2ssY29sdW1uKXtpZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO312YXIgZj10aGlzO3ZhciBlPSh0eXBlb2YgY29sdW1uPT09XCJudW1iZXJcIik/W2NvbHVtbl06W107dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihnKXtjYWxsYmFjayhmLl9hZGFwdChnKSk7fSxlLGVycm9yQ2FsbGJhY2spO307VGFibGVDb2x1bW5Db2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307VGFibGVDb2x1bW5Db2xsZWN0aW9uLnByb3RvdHlwZS5nZXRDYW5SZW1vdmU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuQ29sbGVjdGlvblByb3BlcnR5TmFtZS5DYW5SZW1vdmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZUNvbHVtbkNvbGxlY3Rpb24ucHJvdG90eXBlLmdldENhbkFkZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5Db2xsZWN0aW9uUHJvcGVydHlOYW1lLkNhbkFkZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlQ29sdW1uQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGYpe2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGU9bmV3IGIuVGFibGVDb2x1bW4oZi5oYXNoY29kZSxmLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGUsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZi5oYXNoY29kZSxmLmluZGV4XSk7cmV0dXJuIGU7fTtyZXR1cm4gVGFibGVDb2x1bW5Db2xsZWN0aW9uO30pKGIuQ29sbGVjdGlvbik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7QWxsb3dQYWdlQnJlYWs6XCJBbGxvd1BhZ2VCcmVha1wiLENlbGxGb3JtYXQ6XCJDZWxsRm9ybWF0XCIsSXNIZWFkZXI6XCJJc0hlYWRlclwiLE1pbmltdW1IZWlnaHQ6XCJNaW5pbXVtSGVpZ2h0XCIsUm93OlwiUm93XCJ9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtTZWxlY3Q6XCJTZWxlY3RcIn0pO2IuVGFibGVSb3c9KGZ1bmN0aW9uKGYpe19fZXh0ZW5kcyhUYWJsZVJvdyxmKTtmdW5jdGlvbiBUYWJsZVJvdyhnLGgpe2YuY2FsbCh0aGlzLGcsaCk7fVRhYmxlUm93LnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuU2VsZWN0LGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307VGFibGVSb3cucHJvdG90eXBlLmdldENlbGxGb3JtYXQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGc9bmV3IGIuVGFibGVDZWxsRm9ybWF0KCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoZyxiLlRhYmxlQ2VsbFByb3BlcnR5TmFtZS5DZWxsRm9ybWF0LGNhbGxiYWNrKTtjYWxsYmFjayhnKTt9O1RhYmxlUm93LnByb3RvdHlwZS5nZXRSb3c9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuUm93LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVSb3cucHJvdG90eXBlLmdldEFsbG93UGFnZUJyZWFrPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkFsbG93UGFnZUJyZWFrLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVSb3cucHJvdG90eXBlLnNldEFsbG93UGFnZUJyZWFrPWZ1bmN0aW9uKGFsbG93UGFnZUJyZWFrLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBhbGxvd1BhZ2VCcmVhayE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkFsbG93UGFnZUJyZWFrLGFsbG93UGFnZUJyZWFrLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVSb3cucHJvdG90eXBlLmdldElzSGVhZGVyPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklzSGVhZGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVSb3cucHJvdG90eXBlLnNldElzSGVhZGVyPWZ1bmN0aW9uKGlzSGVhZGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBpc0hlYWRlciE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLklzSGVhZGVyLGlzSGVhZGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVSb3cucHJvdG90eXBlLmdldE1pbmltdW1IZWlnaHQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTWluaW11bUhlaWdodCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlUm93LnByb3RvdHlwZS5zZXRNaW5pbXVtSGVpZ2h0PWZ1bmN0aW9uKG1pbmltdW1IZWlnaHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIG1pbmltdW1IZWlnaHQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5NaW5pbXVtSGVpZ2h0LG1pbmltdW1IZWlnaHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gVGFibGVSb3c7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5UYWJsZVJvd0NvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhUYWJsZVJvd0NvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gVGFibGVSb3dDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31UYWJsZVJvd0NvbGxlY3Rpb24ucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0YWJsZUFkZFBvc2l0aW9uLGNvdW50LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0YWJsZUFkZFBvc2l0aW9uIT09XCJudW1iZXJcInx8dHlwZW9mIGNvdW50IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5BZGQsY2FsbGJhY2ssW3RhYmxlQWRkUG9zaXRpb24sY291bnRdLGVycm9yQ2FsbGJhY2spO307VGFibGVSb3dDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2sscm93KXtpZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO312YXIgZj10aGlzO3ZhciBlPSh0eXBlb2Ygcm93IT09XCJ1bmRlZmluZWRcIik/W3Jvd106W107dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihnKXtjYWxsYmFjayhmLl9hZGFwdChnKSk7fSxlLGVycm9yQ2FsbGJhY2spO307VGFibGVSb3dDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307VGFibGVSb3dDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRDYW5SZW1vdmU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuQ29sbGVjdGlvblByb3BlcnR5TmFtZS5DYW5SZW1vdmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZVJvd0NvbGxlY3Rpb24ucHJvdG90eXBlLmdldENhbkFkZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5Db2xsZWN0aW9uUHJvcGVydHlOYW1lLkNhbkFkZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlUm93Q29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGYpe2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGU9bmV3IGIuVGFibGVSb3coZi5oYXNoY29kZSxmLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGUsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZi5oYXNoY29kZSxmLmluZGV4XSk7cmV0dXJuIGU7fTtyZXR1cm4gVGFibGVSb3dDb2xsZWN0aW9uO30pKGIuQ29sbGVjdGlvbik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7QXBwbGljYXRpb25GaWVsZHM6XCJBcHBsaWNhdGlvbkZpZWxkc1wiLERvY3VtZW50TGlua3M6XCJEb2N1bWVudExpbmtzXCIsRG9jdW1lbnRUYXJnZXRzOlwiRG9jdW1lbnRUYXJnZXRzXCIsU2VsZWN0aW9uOlwiU2VsZWN0aW9uXCIsVGFibGVzOlwiVGFibGVzXCIsVGV4dEZpZWxkczpcIlRleHRGaWVsZHNcIixUcmFja2VkQ2hhbmdlczpcIlRyYWNrZWRDaGFuZ2VzXCIsRWRpdGFibGVSZWdpb25zOlwiRWRpdGFibGVSZWdpb25zXCIsSHlwZXJ0ZXh0TGlua3M6XCJIeXBlcnRleHRMaW5rc1wiLExpbmVzOlwiTGluZXNcIixNaXNzcGVsbGVkV29yZHM6XCJNaXNzcGVsbGVkV29yZHNcIixQYXJhZ3JhcGhzOlwiUGFyYWdyYXBoc1wiLFN1YlRleHRQYXJ0czpcIlN1YlRleHRQYXJ0c1wiLFRhYmxlc09mQ29udGVudHM6XCJUYWJsZXNPZkNvbnRlbnRzXCIsVGV4dENoYXJzOlwiVGV4dENoYXJzXCIsfSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7RmluZDpcIkZpbmRcIn0pO2IuRm9ybWF0dGVkVGV4dD0oZnVuY3Rpb24oZil7X19leHRlbmRzKEZvcm1hdHRlZFRleHQsZik7ZnVuY3Rpb24gRm9ybWF0dGVkVGV4dChnLGgsaSl7Zi5jYWxsKHRoaXMsZyxoKTt0aGlzLl8udGV4dFBhcnRUeXBlPWl8fFwidW5rbm93blwiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse2FwcGxpY2F0aW9uRmllbGRzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgaj1uZXcgYi5BcHBsaWNhdGlvbkZpZWxkQ29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGosZC5BcHBsaWNhdGlvbkZpZWxkcyk7cmV0dXJuIGo7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LGRvY3VtZW50VGFyZ2V0czp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGo9bmV3IGIuRG9jdW1lbnRUYXJnZXRDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoaixkLkRvY3VtZW50VGFyZ2V0cyk7cmV0dXJuIGo7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LGRvY3VtZW50TGlua3M6e2dldDpmdW5jdGlvbigpe3ZhciBqPW5ldyBiLkRvY3VtZW50TGlua0NvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihqLGQuRG9jdW1lbnRMaW5rcyk7cmV0dXJuIGo7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LGVkaXRhYmxlUmVnaW9uczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGo9bmV3IGIuRWRpdGFibGVSZWdpb25Db2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoaixkLkVkaXRhYmxlUmVnaW9ucyk7cmV0dXJuIGo7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LGh5cGVydGV4dExpbmtzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgaj1uZXcgYi5IeXBlcnRleHRMaW5rQ29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGosZC5IeXBlcnRleHRMaW5rcyk7cmV0dXJuIGo7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LGxpbmVzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgaj1uZXcgYi5MaW5lQ29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGosZC5MaW5lcyk7cmV0dXJuIGo7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LG1pc3NwZWxsZWRXb3Jkczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGo9bmV3IGIuTWlzc3BlbGxlZFdvcmRDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoaixkLk1pc3NwZWxsZWRXb3Jkcyk7cmV0dXJuIGo7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LHBhcmFncmFwaHM6e2dldDpmdW5jdGlvbigpe3ZhciBqPW5ldyBiLlBhcmFncmFwaENvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihqLGQuUGFyYWdyYXBocyk7cmV0dXJuIGo7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LHNlbGVjdGlvbjp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGo9bmV3IGIuU2VsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoaixkLlNlbGVjdGlvbik7cmV0dXJuIGo7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LHN1YlRleHRQYXJ0czp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGo9bmV3IGIuU3ViVGV4dFBhcnRDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoaixkLlN1YlRleHRQYXJ0cyk7cmV0dXJuIGo7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LHRhYmxlc09mQ29udGVudHM6e2dldDpmdW5jdGlvbigpe3ZhciBqPW5ldyBiLlRhYmxlT2ZDb250ZW50c0NvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihqLGQuVGFibGVzT2ZDb250ZW50cyk7cmV0dXJuIGo7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LHRhYmxlczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGo9bmV3IGIuVGFibGVDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoaixkLlRhYmxlcyk7cmV0dXJuIGo7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LHRleHRDaGFyczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGo9bmV3IGIuVGV4dENoYXJDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoaixkLlRleHRDaGFycyk7cmV0dXJuIGo7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LHRleHRGaWVsZHM6e2dldDpmdW5jdGlvbigpe3ZhciBqPW5ldyBiLlRleHRGaWVsZENvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihqLGQuVGV4dEZpZWxkcyk7cmV0dXJuIGo7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LHRleHRQYXJ0VHlwZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy50ZXh0UGFydFR5cGU7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LHRyYWNrZWRDaGFuZ2VzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgaj1uZXcgYi5UcmFja2VkQ2hhbmdlQ29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGosZC5UcmFja2VkQ2hhbmdlcyk7cmV0dXJuIGo7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9fSk7fUZvcm1hdHRlZFRleHQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odGV4dCxzdGFydCxvcHRpb25zLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0ZXh0IT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31pZih0eXBlb2Ygc3RhcnQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBvcHRpb25zIT09XCJ1bmRlZmluZWRcIiYmdHlwZW9mIG9wdGlvbnMhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBvcHRpb25zPT09XCJ1bmRlZmluZWRcIil7b3B0aW9ucz0wO310aGlzLmNhbGxNZXRob2QoYy5GaW5kLGNhbGxiYWNrLFt0ZXh0LHN0YXJ0LG9wdGlvbnNdLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIEZvcm1hdHRlZFRleHQ7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7QWN0aXZhdGlvblN0YXRlOlwiQWN0aXZhdGlvblN0YXRlXCIsQWxsb3dVbmRvOlwiQWxsb3dVbmRvXCIsQmFja0NvbG9yOlwiQmFja0NvbG9yXCIsQmFyY29kZXM6XCJCYXJjb2Rlc1wiLEJhc2VsaW5lOlwiQmFzZWxpbmVcIixDb250cm9sQ2hhcnM6XCJDb250cm9sQ2hhcnNcIixEaXNwbGF5Q29sb3JzOlwiRGlzcGxheUNvbG9yc1wiLERyYXdpbmdzOlwiRHJhd2luZ3NcIixDYW5DaGFyYWN0ZXJGb3JtYXQ6XCJDYW5DaGFyYWN0ZXJGb3JtYXRcIixDYW5Db3B5OlwiQ2FuQ29weVwiLENhbkRvY3VtZW50Rm9ybWF0OlwiQ2FuRG9jdW1lbnRGb3JtYXRcIixDYW5FZGl0OlwiQ2FuRWRpdFwiLENhblBhcmFncmFwaEZvcm1hdDpcIkNhblBhcmFwaEZvcm1hdFwiLENhblBhc3RlOlwiQ2FuUGFzdGVcIixDYW5QcmludDpcIkNhblByaW50XCIsQ2FuUmVkbzpcIkNhblJlZG9cIixDYW5TdHlsZUZvcm1hdDpcIkNhblN0eWxlRm9ybWF0XCIsQ2FuVGFibGVGb3JtYXQ6XCJDYW5UYWJsZUZvcm1hdFwiLENhblVuZG86XCJDYW5VbmRvXCIsRG9jdW1lbnRTZXR0aW5nczpcIkRvY3VtZW50U2V0dGluZ3NcIixEb2N1bWVudFRhcmdldE1hcmtlcnM6XCJEb2N1bWVudFRhcmdldE1hcmtlcnNcIixEcmF3aW5nTWFya2VyTGluZXM6XCJEcmF3aW5nTWFya2VyTGluZXNcIixFZGl0TW9kZTpcIkVkaXRNb2RlXCIsRnJhbWVzOlwiRnJhbWVzXCIsSW1hZ2VzOlwiSW1hZ2VzXCIsSXNUcmFja0NoYW5nZXNFbmFibGVkOlwiSXNUcmFja0NoYW5nZXNFbmFibGVkXCIsUGFnZVVuaXQ6XCJQYWdlVW5pdFwiLFBlcm1hbmVudENvbnRyb2xDaGFyczpcIlBlcm1hbmVudENvbnRyb2xDaGFyc1wiLFNlbGVjdE9iamVjdHM6XCJTZWxlY3RPYmplY3RzXCIsUmVkb0FjdGlvbk5hbWU6XCJSZWRvQWN0aW9uTmFtZVwiLFRleHQ6XCJUZXh0XCIsVGV4dEJhY2tDb2xvcjpcIlRleHRCYWNrQ29sb3JcIixUZXh0RnJhbWVNYXJrZXJMaW5lczpcIlRleHRGcmFtZU1hcmtlckxpbmVzXCIsVW5kb0FjdGlvbk5hbWU6XCJVbmRvQWN0aW9uTmFtZVwiLFVzZXJOYW1lczpcIlVzZXJOYW1lc1wiLFZpZXdNb2RlOlwiVmlld01vZGVcIixGb250VW5kZXJsaW5lU3R5bGU6XCJGb250VW5kZXJsaW5lU3R5bGVcIixGb3JlQ29sb3I6XCJGb3JlQ29sb3JcIixGb3JtdWxhUmVmZXJlbmNlU3R5bGU6XCJGb3JtdWxhUmVmZXJlbmNlU3R5bGVcIixMYW5kc2NhcGU6XCJMYW5kc2NhcGVcIixMaXN0Rm9ybWF0OlwiTGlzdEZvcm1hdFwiLElucHV0Rm9ybWF0OlwiSW5wdXRGb3JtYXRcIixJbnB1dFBvc2l0aW9uOlwiSW5wdXRQb3NpdGlvblwiLFBhZ2VNYXJnaW5zOlwiUGFnZU1hcmdpbnNcIixQYWdlU2l6ZTpcIlBhZ2VTaXplXCIsUGFnZXM6XCJQYWdlc1wiLFBhcmFncmFwaEZvcm1hdDpcIlBhcmFncmFwaEZvcm1hdFwiLFNlY3Rpb25zOlwiU2VjdGlvbnNcIixTZWxlY3Rpb246XCJTZWxlY3Rpb25cIixUZXh0RnJhbWVzOlwiVGV4dEZyYW1lc1wiLFRleHRQYXJ0czpcIlRleHRQYXJ0c1wiLEZvcm1GaWVsZHM6XCJGb3JtRmllbGRzXCIsSGVhZGVyc0FuZEZvb3RlcnM6XCJIZWFkZXJzQW5kRm9vdGVyc1wiLElubGluZVN0eWxlczpcIklubGluZVN0eWxlc1wiLFBhcmFncmFwaFN0eWxlczpcIlBhcmFncmFwaFN0eWxlc1wiLElzRm9ybXVsYUNhbGN1bGF0aW9uRW5hYmxlZDpcIklzRm9ybXVsYUNhbGN1bGF0aW9uRW5hYmxlZFwiLElzSHlwaGVuYXRpb25FbmFibGVkOlwiSXNIeXBoZW5hdGlvbkVuYWJsZWRcIixJc0xhbmd1YWdlRGV0ZWN0aW9uRW5hYmxlZDpcIklzTGFuZ3VhZ2VEZXRlY3Rpb25FbmFibGVkXCIsSXNTcGVsbENoZWNraW5nRW5hYmxlZDpcIklzU3BlbGxDaGVja2luZ0VuYWJsZWRcIix9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtHZXRTdXBwb3J0ZWRQYXBlclNpemVzOlwiR2V0U3VwcG9ydGVkUGFwZXJTaXplc1wiLEdldFN1cHBvcnRlZEZvbnRzOlwiR2V0U3VwcG9ydGVkRm9udHNcIixSZXNldENvbnRlbnRzOlwiUmVzZXRDb250ZW50c1wiLFVuZG86XCJVbmRvXCIsUmVkbzpcIlJlZG9cIixab29tOlwiWm9vbVwiLENsZWFyOlwiQ2xlYXJcIixMb2FkOlwiTG9hZFwiLFNhdmU6XCJTYXZlXCIsU2VsZWN0OlwiU2VsZWN0XCIsU2VsZWN0QWxsOlwiU2VsZWN0QWxsXCIsU2VsZWN0V29yZDpcIlNlbGVjdFdvcmRcIixHZXRQYWdlczpcIkdldFBhZ2VzXCIsfSk7Yi5UZXh0Q29udHJvbE1lbWJlckFjY2Vzc0NhbGxiYWNrcz17fTtiLlRleHRDb250cm9sPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoVGV4dENvbnRyb2wsZik7ZnVuY3Rpb24gVGV4dENvbnRyb2woKXtmLmNhbGwodGhpcyk7dGhpcy5hZGRFdmVudExpc3RlbmVyKGIuVFhFdmVudE5hbWVzLkFjY2Vzc1RleHRDb250cm9sTWVtYmVyLGZ1bmN0aW9uKGwpe2oobC5jYWxsYmFjayxsLnNlcXVlbmNlLGwuY2FsbERpcmVjdGlvbixsLmVycm9yQ2FsbGJhY2spO30pO3ZhciBrPW5ldyBiLklucHV0Rm9ybWF0KCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoayxkLklucHV0Rm9ybWF0KTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtiYXJjb2Rlczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGw9bmV3IGIuQmFyY29kZUNvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihsLGQuQmFyY29kZXMpO3JldHVybiBsO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxkaXNwbGF5Q29sb3JzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgbD1uZXcgYi5EaXNwbGF5Q29sb3JzKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxkLkRpc3BsYXlDb2xvcnMpO3JldHVybiBsO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxkb2N1bWVudFNldHRpbmdzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgbD1uZXcgYi5Eb2N1bWVudFNldHRpbmdzKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxkLkRvY3VtZW50U2V0dGluZ3MpO3JldHVybiBsO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxmb3JtRmllbGRzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgbD1uZXcgYi5Gb3JtRmllbGRDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxkLkZvcm1GaWVsZHMpO3JldHVybiBsO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxmcmFtZXM6e2dldDpmdW5jdGlvbigpe3ZhciBsPW5ldyBiLkZyYW1lQ29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGwsZC5GcmFtZXMpO3JldHVybiBsO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSxoZWFkZXJzQW5kRm9vdGVyczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGw9bmV3IGIuSGVhZGVyRm9vdGVyQ29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGwsZC5IZWFkZXJzQW5kRm9vdGVycyk7cmV0dXJuIGw7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LGlubGluZVN0eWxlczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGw9bmV3IGIuSW5saW5lU3R5bGVDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxkLklubGluZVN0eWxlcyk7cmV0dXJuIGw7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LGlucHV0UG9zaXRpb246e2dldDpmdW5jdGlvbigpe3ZhciBsPW5ldyBiLklucHV0UG9zaXRpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihsLGQuSW5wdXRQb3NpdGlvbik7cmV0dXJuIGw7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LGltYWdlczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGw9bmV3IGIuSW1hZ2VDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxkLkltYWdlcyk7cmV0dXJuIGw7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9LGlucHV0Rm9ybWF0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gazt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0sbGlzdEZvcm1hdDp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGw9bmV3IGIuTGlzdEZvcm1hdCgpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGwsZC5MaXN0Rm9ybWF0KTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0scGFnZXM6e2dldDpmdW5jdGlvbigpe3ZhciBsPW5ldyBiLlBhZ2VDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxjLkdldFBhZ2VzKTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0scGFnZU1hcmdpbnM6e2dldDpmdW5jdGlvbigpe3ZhciBsPW5ldyBiLlBhZ2VNYXJnaW5zKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxkLlBhZ2VNYXJnaW5zKTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0scGFnZVNpemU6e2dldDpmdW5jdGlvbigpe3ZhciBsPW5ldyBiLlBhZ2VTaXplKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxkLlBhZ2VTaXplKTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0scGFyYWdyYXBoRm9ybWF0OntnZXQ6ZnVuY3Rpb24oKXt2YXIgbD1uZXcgYi5QYXJhZ3JhcGhGb3JtYXQoKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihsLGQuUGFyYWdyYXBoRm9ybWF0KTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0scGFyYWdyYXBoU3R5bGVzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgbD1uZXcgYi5QYXJhZ3JhcGhTdHlsZUNvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihsLGQuUGFyYWdyYXBoU3R5bGVzKTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0sc2VjdGlvbnM6e2dldDpmdW5jdGlvbigpe3ZhciBsPW5ldyBiLlNlY3Rpb25Db2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIobCxkLlNlY3Rpb25zKTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0sdGV4dEZyYW1lczp7Z2V0OmZ1bmN0aW9uKCl7dmFyIGw9bmV3IGIuVGV4dEZyYW1lQ29sbGVjdGlvbigpO3RoaXMuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGwsZC5UZXh0RnJhbWVzKTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0sdGV4dFBhcnRzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgbD1uZXcgYi5UZXh0UGFydENvbGxlY3Rpb24oKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihsLGQuVGV4dFBhcnRzKTtyZXR1cm4gbDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX19KTt9ZnVuY3Rpb24gaihrLHAsbCxtKXt2YXIgbj1pKHAsayxtKTt2YXIgbz1uZXcgYi5UZXh0Q29udHJvbE1lbWJlckFjY2Vzc01lc3NhZ2UobixwLGwpO2Iuc2VuZENvbW1hbmQoby5jb21tYW5kSUQsby5wYXJhbTEsby5wYXJhbTIsby5wYXJhbTMsby5kYXRhKTt9Yi5nZXRUZXh0Q29udHJvbE1lbWJlckFjY2Vzc0NhbGxiYWNrPWZ1bmN0aW9uKGspe2lmKCFiLlRleHRDb250cm9sTWVtYmVyQWNjZXNzQ2FsbGJhY2tzLmhhc093blByb3BlcnR5KGspKXt0aHJvdyBuZXcgRXJyb3IoXCJfcHJpdmF0ZS5nZXRUZXh0Q29udHJvbE1lbWJlckFjY2Vzc0NhbGxiYWNrKCk6IENhbGxiYWNrIHF1ZXVlIFwiK2srXCIgZG9lcyBub3QgZXhpc3QuXCIpO312YXIgbD1iLlRleHRDb250cm9sTWVtYmVyQWNjZXNzQ2FsbGJhY2tzW2tdO2RlbGV0ZSBiLlRleHRDb250cm9sTWVtYmVyQWNjZXNzQ2FsbGJhY2tzW2tdO3JldHVybiBsO307ZnVuY3Rpb24gZygpe3JldHVyblwiXCIrTWF0aC5mbG9vcigxMDAwMDAwMDAwKyhNYXRoLnJhbmRvbSgpKjkwMDAwMDAwMDApKTt9ZnVuY3Rpb24gaShuLGssbCl7dmFyIG09ZygpO2IuVGV4dENvbnRyb2xNZW1iZXJBY2Nlc3NDYWxsYmFja3NbbV09e2NhbGxiYWNrOmssZXJyb3JDYWxsYmFjazpsfTtyZXR1cm4gbTt9VGV4dENvbnRyb2wucHJvdG90eXBlLnNldEFjdGl2YXRpb25TdGF0ZT1mdW5jdGlvbihhY3RpdmF0aW9uU3RhdGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQWN0aXZhdGlvblN0YXRlLGFjdGl2YXRpb25TdGF0ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXRBY3RpdmF0aW9uU3RhdGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQWN0aXZhdGlvblN0YXRlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNldEFsbG93VW5kbz1mdW5jdGlvbihhbGxvd1VuZG8sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGFsbG93VW5kbyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkFsbG93VW5kbyxhbGxvd1VuZG8sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0QWxsb3dVbmRvPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkFsbG93VW5kbyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRCYWNrQ29sb3I9ZnVuY3Rpb24oaHRtbENvbG9yLGssbCl7aWYodHlwZW9mIGh0bWxDb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQmFja0NvbG9yLGh0bWxDb2xvcixrLGwpO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldEJhY2tDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5CYWNrQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuc2V0QmFzZWxpbmU9ZnVuY3Rpb24oYmFzZWxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGJhc2VsaW5lIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5CYXNlbGluZSxiYXNlbGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXRCYXNlbGluZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5CYXNlbGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRDb250cm9sQ2hhcnM9ZnVuY3Rpb24oY29udHJvbENoYXJzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjb250cm9sQ2hhcnMhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Db250cm9sQ2hhcnMsY29udHJvbENoYXJzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldENvbnRyb2xDaGFycz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Db250cm9sQ2hhcnMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0Q2FuQ2hhcmFjdGVyRm9ybWF0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNhbkNoYXJhY3RlckZvcm1hdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXRDYW5Db3B5PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNhbkNvcHksY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0Q2FuRG9jdW1lbnRGb3JtYXQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQ2FuRG9jdW1lbnRGb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0Q2FuUGFzdGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQ2FuUGFzdGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0Q2FuUHJpbnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQ2FuUHJpbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0Q2FuUmVkbz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5DYW5SZWRvLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldENhblN0eWxlRm9ybWF0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNhblN0eWxlRm9ybWF0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldENhblRhYmxlRm9ybWF0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNhblRhYmxlRm9ybWF0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldENhblVuZG89ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQ2FuVW5kbyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXREb2N1bWVudFRhcmdldE1hcmtlcnM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRG9jdW1lbnRUYXJnZXRNYXJrZXJzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNldERvY3VtZW50VGFyZ2V0TWFya2Vycz1mdW5jdGlvbihkb2N1bWVudE1hcmtlckxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBkb2N1bWVudE1hcmtlckxpbmVzIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRG9jdW1lbnRUYXJnZXRNYXJrZXJzLGRvY3VtZW50TWFya2VyTGluZXMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0SXNGb3JtdWxhQ2FsY3VsYXRpb25FbmFibGVkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklzRm9ybXVsYUNhbGN1bGF0aW9uRW5hYmxlZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRJc0Zvcm11bGFDYWxjdWxhdGlvbkVuYWJsZWQ9ZnVuY3Rpb24oZW5hYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBlbmFibGUhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Jc0Zvcm11bGFDYWxjdWxhdGlvbkVuYWJsZWQsZW5hYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldElzSHlwaGVuYXRpb25FbmFibGVkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklzSHlwaGVuYXRpb25FbmFibGVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNldElzSHlwaGVuYXRpb25FbmFibGVkPWZ1bmN0aW9uKGVuYWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZW5hYmxlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSXNIeXBoZW5hdGlvbkVuYWJsZWQsZW5hYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldElzTGFuZ3VhZ2VEZXRlY3Rpb25FbmFibGVkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklzTGFuZ3VhZ2VEZXRlY3Rpb25FbmFibGVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNldElzTGFuZ3VhZ2VEZXRlY3Rpb25FbmFibGVkPWZ1bmN0aW9uKGVuYWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZW5hYmxlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSXNMYW5ndWFnZURldGVjdGlvbkVuYWJsZWQsZW5hYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldElzU3BlbGxDaGVja2luZ0VuYWJsZWQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuSXNTcGVsbENoZWNraW5nRW5hYmxlZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRJc1NwZWxsQ2hlY2tpbmdFbmFibGVkPWZ1bmN0aW9uKGVuYWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZW5hYmxlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSXNTcGVsbENoZWNraW5nRW5hYmxlZCxlbmFibGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0RHJhd2luZ01hcmtlckxpbmVzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkRyYXdpbmdNYXJrZXJMaW5lcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXREcmF3aW5nTWFya2VyTGluZXM9ZnVuY3Rpb24oZHJhd2luZ01hcmtlckxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBkcmF3aW5nTWFya2VyTGluZXMhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5EcmF3aW5nTWFya2VyTGluZXMsZHJhd2luZ01hcmtlckxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldEVkaXRNb2RlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkVkaXRNb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNldEVkaXRNb2RlPWZ1bmN0aW9uKGVkaXRNb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBlZGl0TW9kZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRWRpdE1vZGUsZWRpdE1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0Rm9udFVuZGVybGluZVN0eWxlPWZ1bmN0aW9uKGssbCl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRm9udFVuZGVybGluZVN0eWxlLGssbCk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuc2V0Rm9udFVuZGVybGluZVN0eWxlPWZ1bmN0aW9uKHN0eWxlLGssbCl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRm9udFVuZGVybGluZVN0eWxlLHN0eWxlLGssbCk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0Rm9yZUNvbG9yPWZ1bmN0aW9uKGssbCl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRm9yZUNvbG9yLGssbCk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuc2V0Rm9yZUNvbG9yPWZ1bmN0aW9uKGZvcmVDb2xvcixrLGwpe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkZvcmVDb2xvcixmb3JlQ29sb3IsayxsKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXRGb3JtdWxhUmVmZXJlbmNlU3R5bGU9ZnVuY3Rpb24oayxsKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Gb3JtdWxhUmVmZXJlbmNlU3R5bGUsayxsKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRGb3JtdWxhUmVmZXJlbmNlU3R5bGU9ZnVuY3Rpb24obSxrLGwpe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkZvcm11bGFSZWZlcmVuY2VTdHlsZSxtLGssbCk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0TGFuZHNjYXBlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxhbmRzY2FwZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRMYW5kc2NhcGU9ZnVuY3Rpb24oaXNMYW5kc2NhcGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlzTGFuZHNjYXBlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuTGFuZHNjYXBlLGlzTGFuZHNjYXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldElzVHJhY2tDaGFuZ2VzRW5hYmxlZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Jc1RyYWNrQ2hhbmdlc0VuYWJsZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuc2V0SXNUcmFja0NoYW5nZXNFbmFibGVkPWZ1bmN0aW9uKGlzVHJhY2tDaGFuZ2VzRW5hYmxlZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaXNUcmFja0NoYW5nZXNFbmFibGVkIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSXNUcmFja0NoYW5nZXNFbmFibGVkLGlzVHJhY2tDaGFuZ2VzRW5hYmxlZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXRQYWdlQ291bnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuUGFnZXMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0UGFnZVVuaXQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuUGFnZVVuaXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuc2V0UGFnZVVuaXQ9ZnVuY3Rpb24ocGFnZVVuaXQsayxsKXtpZih0eXBlb2YgcGFnZVVuaXQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlBhZ2VVbml0LHBhZ2VVbml0LGssbCk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0UGVybWFuZW50Q29udHJvbENoYXJzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlBlcm1hbmVudENvbnRyb2xDaGFycyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZXRQZXJtYW5lbnRDb250cm9sQ2hhcnM9ZnVuY3Rpb24ocGVybWFuZW50Q29udHJvbENoYXJzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBwZXJtYW5lbnRDb250cm9sQ2hhcnMhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlBlcm1hbmVudENvbnRyb2xDaGFycyxwZXJtYW5lbnRDb250cm9sQ2hhcnMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0UmVkb0FjdGlvbk5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuUmVkb0FjdGlvbk5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0U2VsZWN0T2JqZWN0cz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TZWxlY3RPYmplY3RzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNldFNlbGVjdE9iamVjdHM9ZnVuY3Rpb24oc2VsZWN0T2JqZWN0cyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygc2VsZWN0T2JqZWN0cyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlNlbGVjdE9iamVjdHMsc2VsZWN0T2JqZWN0cyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuc2V0VGV4dD1mdW5jdGlvbih0ZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0ZXh0IT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5UZXh0LHRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0VGV4dEJhY2tDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5UZXh0QmFja0NvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNldFRleHRCYWNrQ29sb3I9ZnVuY3Rpb24oY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGNvbG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5UZXh0QmFja0NvbG9yLGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldFRleHRGcmFtZU1hcmtlckxpbmVzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHRGcmFtZU1hcmtlckxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNldFRleHRGcmFtZU1hcmtlckxpbmVzPWZ1bmN0aW9uKHRleHRGcmFtZU1hcmtlckxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0ZXh0RnJhbWVNYXJrZXJMaW5lcyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlRleHRGcmFtZU1hcmtlckxpbmVzLHRleHRGcmFtZU1hcmtlckxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldFVuZG9BY3Rpb25OYW1lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlVuZG9BY3Rpb25OYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmdldFVzZXJOYW1lcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Vc2VyTmFtZXMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0Vmlld01vZGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVmlld01vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuc2V0Vmlld01vZGU9ZnVuY3Rpb24odmlld01vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuVmlld01vZGUsdmlld01vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUucmVkbz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5SZWRvLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnVuZG89ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuVW5kbyxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS56b29tPWZ1bmN0aW9uKHpvb21GYWN0b3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuWm9vbSxjYWxsYmFjayxbem9vbUZhY3Rvcl0sZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuQ2xlYXIsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0U3VwcG9ydGVkRm9udHM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuR2V0U3VwcG9ydGVkRm9udHMsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuZ2V0U3VwcG9ydGVkUGFwZXJTaXplcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5HZXRTdXBwb3J0ZWRQYXBlclNpemVzLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oc3RyZWFtVHlwZSxrLGNhbGxiYWNrLGxvYWRTZXR0aW5ncyxlcnJvckNhbGxiYWNrKXtsb2FkU2V0dGluZ3M9bG9hZFNldHRpbmdzfHxudWxsO3RoaXMuY2FsbE1ldGhvZChjLkxvYWQsY2FsbGJhY2ssW2ssc3RyZWFtVHlwZSxsb2FkU2V0dGluZ3NdLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oc3RyZWFtVHlwZSxjYWxsYmFjayxzYXZlU2V0dGluZ3MsZXJyb3JDYWxsYmFjayl7aWYoIXN0cmVhbVR5cGUpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ob1N0cmVhbVR5cGUpO31pZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9c2F2ZVNldHRpbmdzPXNhdmVTZXR0aW5nc3x8bnVsbDt0aGlzLmNhbGxNZXRob2QoYy5TYXZlLGNhbGxiYWNrLFtzdHJlYW1UeXBlLHNhdmVTZXR0aW5nc10sZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUucmVzZXRDb250ZW50cz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5SZXNldENvbnRlbnRzLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307VGV4dENvbnRyb2wucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbihzdGFydCxsZW5ndGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHN0YXJ0IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZih0eXBlb2YgbGVuZ3RoIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLmNhbGxNZXRob2QoYy5TZWxlY3QsY2FsbGJhY2ssW3N0YXJ0LGxlbmd0aF0sZXJyb3JDYWxsYmFjayk7fTtUZXh0Q29udHJvbC5wcm90b3R5cGUuc2VsZWN0QWxsPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlNlbGVjdEFsbCxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1RleHRDb250cm9sLnByb3RvdHlwZS5zZWxlY3RXb3JkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlNlbGVjdFdvcmQsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtmdW5jdGlvbiBoKGwsayl7aWYobCYmdHlwZW9mIGw9PT1cIm9iamVjdFwiJiZsLmNvbnN0cnVjdG9yPT09QXJyYXkpe2wuZm9yRWFjaChmdW5jdGlvbihtKXtpZih0eXBlb2YgbSE9PWspe3JldHVybiBmYWxzZTt9fSk7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9cmV0dXJuIFRleHRDb250cm9sO30pKGIuRm9ybWF0dGVkVGV4dCk7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5TaXplPShmdW5jdGlvbigpe2Z1bmN0aW9uIFNpemUod2lkdGgsaGVpZ2h0KXtpZigodHlwZW9mIHdpZHRoIT09XCJudW1iZXJcIil8fCh0eXBlb2YgaGVpZ2h0IT09XCJudW1iZXJcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXJzIGhhdmUgdG8gYmUgbnVtZXJpY2FsIHZhbHVlcy5cIik7fXRoaXMud2lkdGg9d2lkdGg7dGhpcy5oZWlnaHQ9aGVpZ2h0O31yZXR1cm4gU2l6ZTt9KSgpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0JvdW5kczpcIkJvdW5kc1wiLENvbnRhaW5zSW5wdXRQb3NpdGlvbjpcIkNvbnRhaW5zSW5wdXRQb3NpdGlvblwiLERlbGV0ZWFibGU6XCJEZWxldGVhYmxlXCIsRG91YmxlZElucHV0UG9zaXRpb246XCJEb3VibGVkSW5wdXRQb3NpdGlvblwiLEVkaXRhYmxlOlwiRWRpdGFibGVcIixGb3JtYXR0aW5nQm91bmRzOlwiRm9ybWF0dGluZ0JvdW5kc1wiLEhpZ2hsaWdodENvbG9yOlwiSGlnaGxpZ2h0Q29sb3JcIixIaWdobGlnaHRNb2RlOlwiSGlnaGxpZ2h0TW9kZVwiLElEOlwiSURcIixJc1NwZWxsQ2hlY2tpbmdFbmFibGVkOlwiSXNTcGVsbENoZWNraW5nRW5hYmxlZFwiLExlbmd0aDpcIkxlbmd0aFwiLE5hbWU6XCJOYW1lXCIsU3RhcnQ6XCJTdGFydFwiLFRleHQ6XCJUZXh0XCJ9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtTY3JvbGxUbzpcIlNjcm9sbFRvXCJ9KTtiLlRleHRGaWVsZD0oZnVuY3Rpb24oZil7X19leHRlbmRzKFRleHRGaWVsZCxmKTtmdW5jdGlvbiBUZXh0RmllbGQoZyxoKXtmLmNhbGwodGhpcyxnLGgpO31UZXh0RmllbGQucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Cb3VuZHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLmdldENvbnRhaW5zSW5wdXRQb3NpdGlvbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Db250YWluc0lucHV0UG9zaXRpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLmdldERlbGV0ZWFibGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRGVsZXRlYWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZC5wcm90b3R5cGUuc2V0RGVsZXRlYWJsZT1mdW5jdGlvbihkZWxldGVhYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBkZWxldGVhYmxlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRGVsZXRlYWJsZSxkZWxldGVhYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkLnByb3RvdHlwZS5nZXREb3VibGVkSW5wdXRQb3NpdGlvbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Eb3VibGVkSW5wdXRQb3NpdGlvbixjYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLnNldERvdWJsZWRJbnB1dFBvc2l0aW9uPWZ1bmN0aW9uKGRvdWJsZWRJbnB1dFBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBkb3VibGVkSW5wdXRQb3NpdGlvbiE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkRvdWJsZWRJbnB1dFBvc2l0aW9uLGRvdWJsZWRJbnB1dFBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkLnByb3RvdHlwZS5nZXRFZGl0YWJsZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5FZGl0YWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZC5wcm90b3R5cGUuc2V0RWRpdGFibGU9ZnVuY3Rpb24oZWRpdGFibGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGVkaXRhYmxlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRWRpdGFibGUsZWRpdGFibGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLmdldEZvcm1hdHRpbmdCb3VuZHM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRm9ybWF0dGluZ0JvdW5kcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZC5wcm90b3R5cGUuZ2V0SGlnaGxpZ2h0TW9kZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5IaWdobGlnaHRNb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkLnByb3RvdHlwZS5zZXRIaWdobGlnaHRNb2RlPWZ1bmN0aW9uKGhpZ2hsaWdodE1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGhpZ2hsaWdodE1vZGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodE1vZGUsaGlnaGxpZ2h0TW9kZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZC5wcm90b3R5cGUuZ2V0SGlnaGxpZ2h0Q29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuSGlnaGxpZ2h0Q29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLnNldEhpZ2hsaWdodENvbG9yPWZ1bmN0aW9uKGhpZ2hsaWdodENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBoaWdobGlnaHRDb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSGlnaGxpZ2h0Q29sb3IsaGlnaGxpZ2h0Q29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLmdldElEPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklELGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkLnByb3RvdHlwZS5zZXRJRD1mdW5jdGlvbihpZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaWQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLklELGlkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkLnByb3RvdHlwZS5nZXRJc1NwZWxsQ2hlY2tpbmdFbmFibGVkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklzU3BlbGxDaGVja2luZ0VuYWJsZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLnNldElzU3BlbGxDaGVja2luZ0VuYWJsZWQ9ZnVuY3Rpb24oaXNTcGVsbENoZWNraW5nRW5hYmxlZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaXNTcGVsbENoZWNraW5nRW5hYmxlZCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLklzU3BlbGxDaGVja2luZ0VuYWJsZWQsaXNTcGVsbENoZWNraW5nRW5hYmxlZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZC5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxlbmd0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZC5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5OYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkLnByb3RvdHlwZS5zZXROYW1lPWZ1bmN0aW9uKG5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIG5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLk5hbWUsbmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZC5wcm90b3R5cGUuZ2V0U3RhcnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU3RhcnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZC5wcm90b3R5cGUuc2V0VGV4dD1mdW5jdGlvbih0ZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0ZXh0IT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5UZXh0LHRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGQucHJvdG90eXBlLnNjcm9sbFRvPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlNjcm9sbFRvLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIFRleHRGaWVsZDt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtyZXR1cm4gZTt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlRleHRGaWVsZENvbGxlY3Rpb25CYXNlPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoVGV4dEZpZWxkQ29sbGVjdGlvbkJhc2UsZCk7ZnVuY3Rpb24gVGV4dEZpZWxkQ29sbGVjdGlvbkJhc2UoKXtkLmNhbGwodGhpcyk7fVRleHRGaWVsZENvbGxlY3Rpb25CYXNlLnByb3RvdHlwZS5nZXRDYW5BZGQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuQ29sbGVjdGlvblByb3BlcnR5TmFtZS5DYW5BZGQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gVGV4dEZpZWxkQ29sbGVjdGlvbkJhc2U7fSkoYi5Db2xsZWN0aW9uKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlRleHRGaWVsZENvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhUZXh0RmllbGRDb2xsZWN0aW9uLGQpO2Z1bmN0aW9uIFRleHRGaWVsZENvbGxlY3Rpb24oKXtkLmNhbGwodGhpcyk7fVRleHRGaWVsZENvbGxlY3Rpb24ucHJvdG90eXBlLmFkZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt2YXIgZT10aGlzO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZCxjYWxsYmFjaz9mdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fTp1bmRlZmluZWQsW10sZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGRDb2xsZWN0aW9uLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5DbGVhcixjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1RleHRGaWVsZENvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayxpZCl7aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dmFyIGY9dGhpczt2YXIgZT0odHlwZW9mIGlkPT09XCJudW1iZXJcIik/W2lkXTpbXTt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGcpe2NhbGxiYWNrKGYuX2FkYXB0KGcpKTt9LGUsZXJyb3JDYWxsYmFjayk7fTtUZXh0RmllbGRDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odGV4dEZpZWxkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLlJlbW92ZSxjYWxsYmFjayxbdGV4dEZpZWxkLl8uaGFzaGNvZGUsdGV4dEZpZWxkLl8uaW5kZXhdLGVycm9yQ2FsbGJhY2spO307VGV4dEZpZWxkQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGYpe2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGU9bmV3IGIuVGV4dEZpZWxkKGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIFRleHRGaWVsZENvbGxlY3Rpb247fSkoYi5UZXh0RmllbGRDb2xsZWN0aW9uQmFzZSk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7Rm9ybWF0OlwiRm9ybWF0XCIsUGFyYW1ldGVyczpcIlBhcmFtZXRlcnNcIixUeXBlTmFtZTpcIlR5cGVOYW1lXCJ9KTtiLkFwcGxpY2F0aW9uRmllbGRGb3JtYXQ9T2JqZWN0LmZyZWV6ZSh7Tm9uZTowLE1TV29yZDo3LEhpZ2hFZGl0OjgsTVNXb3JkVFhGb3JtRmllbGRzOjEyfSk7Yi5BcHBsaWNhdGlvbkZpZWxkPShmdW5jdGlvbihlKXtfX2V4dGVuZHMoQXBwbGljYXRpb25GaWVsZCxlKTtmdW5jdGlvbiBBcHBsaWNhdGlvbkZpZWxkKGYsZyl7ZS5jYWxsKHRoaXMsZixnKTt9QXBwbGljYXRpb25GaWVsZC5wcm90b3R5cGUuZ2V0Rm9ybWF0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkZvcm1hdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0FwcGxpY2F0aW9uRmllbGQucHJvdG90eXBlLnNldEZvcm1hdD1mdW5jdGlvbihmb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRm9ybWF0LGZvcm1hdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0FwcGxpY2F0aW9uRmllbGQucHJvdG90eXBlLmdldFBhcmFtZXRlcnM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuUGFyYW1ldGVycyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0FwcGxpY2F0aW9uRmllbGQucHJvdG90eXBlLnNldFBhcmFtZXRlcnM9ZnVuY3Rpb24ocGFyYW1ldGVycyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLnNldFByb3BlcnR5VmFsdWUoYy5QYXJhbWV0ZXJzLHBhcmFtZXRlcnMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtBcHBsaWNhdGlvbkZpZWxkLnByb3RvdHlwZS5nZXRUeXBlTmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5UeXBlTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0FwcGxpY2F0aW9uRmllbGQucHJvdG90eXBlLnNldFR5cGVOYW1lPWZ1bmN0aW9uKHR5cGVOYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlR5cGVOYW1lLHR5cGVOYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QXBwbGljYXRpb25GaWVsZC5wcm90b3R5cGUuc2hvd0RpYWxvZz1mdW5jdGlvbigpe307cmV0dXJuIEFwcGxpY2F0aW9uRmllbGQ7fSkoYi5UZXh0RmllbGQpO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuQXBwbGljYXRpb25GaWVsZENvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhBcHBsaWNhdGlvbkZpZWxkQ29sbGVjdGlvbixkKTtmdW5jdGlvbiBBcHBsaWNhdGlvbkZpZWxkQ29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9QXBwbGljYXRpb25GaWVsZENvbGxlY3Rpb24ucHJvdG90eXBlLmFkZD1mdW5jdGlvbihmb3JtYXQsdHlwZU5hbWUsdGV4dCxwYXJhbWV0ZXJzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIoZm9ybWF0KSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fWlmKHR5cGVvZiB0eXBlTmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9aWYodHlwZW9mIHRleHQhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWlmKCFpc0FycmF5T2ZUeXBlKHBhcmFtZXRlcnMsXCJzdHJpbmdcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBcnJheU9mU3RyaW5ncyk7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkLGNhbGxiYWNrP2Z1bmN0aW9uKGYpe2NhbGxiYWNrKGUuX2FkYXB0KGYpKTt9Om51bGwsW2Zvcm1hdCx0eXBlTmFtZSx0ZXh0LHBhcmFtZXRlcnNdLGVycm9yQ2FsbGJhY2spO307QXBwbGljYXRpb25GaWVsZENvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGYpe2NhbGxiYWNrKGUuX2FkYXB0KGYpKTt9LFtdLGVycm9yQ2FsbGJhY2spO307QXBwbGljYXRpb25GaWVsZENvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhcHBsaWNhdGlvbkZpZWxkLGtlZXBUZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBrZWVwVGV4dCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFthcHBsaWNhdGlvbkZpZWxkLl8uaGFzaGNvZGUsYXBwbGljYXRpb25GaWVsZC5fLmluZGV4LGtlZXBUZXh0XSxlcnJvckNhbGxiYWNrKTt9O0FwcGxpY2F0aW9uRmllbGRDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZil7aWYoZj09PW51bGwpe3JldHVybiBudWxsO312YXIgZT1uZXcgYi5BcHBsaWNhdGlvbkZpZWxkKGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIEFwcGxpY2F0aW9uRmllbGRDb2xsZWN0aW9uO30pKGIuQ29sbGVjdGlvbik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihnLGEpe3ZhciBiPWcuX3ByaXZhdGU9Zy5fcHJpdmF0ZXx8e307Yi5UZXh0UGFydENvbW1hbmQ9T2JqZWN0LmZyZWV6ZSh7R2V0Q291bnQ6MCxHZXRUZXh0UGFydDoxLEFjdGl2YXRlOjIsR2V0QWxsOjMsR2V0SXRlbTo0LEFjY2Vzc1RleHRDb250cm9sTWVtYmVyOjV9KTtiLlRleHRQYXJ0VHlwZT1PYmplY3QuZnJlZXplKHtVbmRlZmluZWQ6LTEsQXV0bzowLE1haW5UZXh0OjEsSGVhZGVyRm9vdGVyOjIsVGV4dEZyYW1lOjMsZnJvbVR5cGVOYW1lOmZ1bmN0aW9uKGgpe3N3aXRjaChoKXtjYXNlIGIuVGV4dFBhcnRUeXBlTmFtZS5BdXRvOnJldHVybiB0aGlzLkF1dG87Y2FzZSBiLlRleHRQYXJ0VHlwZU5hbWUuTWFpblRleHQ6cmV0dXJuIHRoaXMuTWFpblRleHQ7Y2FzZSBiLlRleHRQYXJ0VHlwZU5hbWUuSGVhZGVyRm9vdGVyOnJldHVybiB0aGlzLkhlYWRlckZvb3RlcjtjYXNlIGIuVGV4dFBhcnRUeXBlTmFtZS5UZXh0RnJhbWU6cmV0dXJuIHRoaXMuVGV4dEZyYW1lO31yZXR1cm4gLTE7fX0pO2IuVGV4dFBhcnRUeXBlTmFtZT1PYmplY3QuZnJlZXplKHtBdXRvOlwiYXV0b1wiLE1haW5UZXh0OlwibWFpblRleHRcIixIZWFkZXJGb290ZXI6XCJoZWFkZXJGb290ZXJcIixUZXh0RnJhbWU6XCJ0ZXh0RnJhbWVcIixmcm9tVHlwZTpmdW5jdGlvbihoKXtzd2l0Y2goaCl7Y2FzZSBiLlRleHRQYXJ0VHlwZS5BdXRvOnJldHVybiB0aGlzLkF1dG87Y2FzZSBiLlRleHRQYXJ0VHlwZS5NYWluVGV4dDpyZXR1cm4gdGhpcy5NYWluVGV4dDtjYXNlIGIuVGV4dFBhcnRUeXBlLkhlYWRlckZvb3RlcjpyZXR1cm4gdGhpcy5IZWFkZXJGb290ZXI7Y2FzZSBiLlRleHRQYXJ0VHlwZS5UZXh0RnJhbWU6cmV0dXJuIHRoaXMuVGV4dEZyYW1lO31yZXR1cm5cIlwiO319KTt2YXIgZj1PYmplY3QuZnJlZXplKHtUYWJsZXM6XCJUYWJsZXNcIixTZWxlY3Rpb246XCJTZWxlY3Rpb25cIixUZXh0RmllbGRzOlwiVGV4dEZpZWxkc1wifSk7dmFyIGM9W107Yi5MZWdhY3lUZXh0UGFydD0oZnVuY3Rpb24oaCl7X19leHRlbmRzKFRleHRQYXJ0LGgpO2Z1bmN0aW9uIFRleHRQYXJ0KGwsaixpKXtoLmNhbGwodGhpcyxpKTt0aGlzLmFkZEV2ZW50TGlzdGVuZXIoYi5UWEV2ZW50TmFtZXMuQWNjZXNzVGV4dENvbnRyb2xNZW1iZXIsZnVuY3Rpb24obil7dmFyIG89cChuLnNlcXVlbmNlLG4uY2FsbGJhY2spO3ZhciBtPW4uY2FsbERpcmVjdGlvbjtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5DbGllbnRUZXh0UGFydCxiLlRleHRQYXJ0Q29tbWFuZC5BY2Nlc3NUZXh0Q29udHJvbE1lbWJlciwwLDAse1RleHRQYXJ0SW5kZXg6aixUZXh0UGFydFR5cGU6Yi5UZXh0UGFydFR5cGUuZnJvbVR5cGVOYW1lKGwpLGNhbGxTZXF1ZW5jZTpuLnNlcXVlbmNlLG1lc3NhZ2VVSUQ6byxkaXJlY3Rpb246bX0pO2Z1bmN0aW9uIHAocyxxKXt2YXIgcj1cIlwiK01hdGguZmxvb3IoMTAwMDAwMDAwMCsoTWF0aC5yYW5kb20oKSo5MDAwMDAwMDAwKSk7Y1tyXT1xO3JldHVybiByO319KTt0aGlzLnR5cGU9bHx8Yi5UZXh0UGFydFR5cGVOYW1lLkF1dG87dGhpcy5pbmRleD1qfHwwO3ZhciBrPXRoaXM7T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7c2VsZWN0aW9uOntnZXQ6ZnVuY3Rpb24oKXt2YXIgbT1uZXcgYi5TZWxlY3Rpb24oKTtrLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihtLGYuU2VsZWN0aW9uKTtyZXR1cm4gbTt9LHNldDpmdW5jdGlvbihib3VuZHMpe3ZhciBtPW5ldyBiLlNlbGVjdGlvbigpO2suYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKG0sZi5TZWxlY3Rpb24pO20uc2V0Qm91bmRzKGJvdW5kcyk7fSxlbnVtZXJhYmxlOnRydWV9fSk7fVRleHRQYXJ0LnByb3RvdHlwZS5nZXRUZXh0RmllbGRzPWZ1bmN0aW9uKGNhbGxiYWNrLGF0SW5wdXRQb3NpdGlvbil7aWYoIWNhbGxiYWNrKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuVG9vRmV3UGFyYW1ldGVycyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWIuZG9jdW1lbnRUYXNrQ2FsbGJhY2tzLmdldFRleHRGaWVsZHMucHVzaChjYWxsYmFjayk7dmFyIGo9e1RleHRQYXJ0VHlwZTpiLlRleHRQYXJ0VHlwZS5mcm9tVHlwZU5hbWUodGhpcy50eXBlKSxUZXh0UGFydEluZGV4OnRoaXMuaW5kZXh9O3ZhciBpPWF0SW5wdXRQb3NpdGlvbj9iLlRleHRGaWVsZENvbW1hbmQuR2V0SXRlbTpiLlRleHRGaWVsZENvbW1hbmQuR2V0QWxsO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNsaWVudFRleHRGaWVsZCxpLDAsMCxqKTt9O1RleHRQYXJ0LnByb3RvdHlwZS5nZXRTdWJUZXh0UGFydHM9ZnVuY3Rpb24oY2FsbGJhY2ssYXRJbnB1dFBvc2l0aW9uKXtpZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9Yi5kb2N1bWVudFRhc2tDYWxsYmFja3MuZ2V0U3ViVGV4dFBhcnRzLnB1c2goY2FsbGJhY2spO3ZhciBqPXtUZXh0UGFydFR5cGU6Yi5UZXh0UGFydFR5cGUuZnJvbVR5cGVOYW1lKHRoaXMudHlwZSksVGV4dFBhcnRJbmRleDp0aGlzLmluZGV4fTt2YXIgaT1hdElucHV0UG9zaXRpb24/Yi5TdWJUZXh0UGFydENvbW1hbmQuR2V0SXRlbTpiLlN1YlRleHRQYXJ0Q29tbWFuZC5HZXRBbGw7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50U3ViVGV4dFBhcnQsaSwwLDAsaik7fTtUZXh0UGFydC5wcm90b3R5cGUuYWRkU3ViVGV4dFBhcnQ9ZnVuY3Rpb24oY2FsbGJhY2ssc3ViVGV4dFBhcnQpe2lmKCFjYWxsYmFjayl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31iLmRvY3VtZW50VGFza0NhbGxiYWNrcy5hZGRTdWJUZXh0UGFydC5wdXNoKGNhbGxiYWNrKTt2YXIgaz17fTtpZighc3ViVGV4dFBhcnQubmFtZSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXNzZWQgU3ViVGV4dFBhcnQgb2JqZWN0IGRvZXMgbm90IGhhdmUgYSBcIm5hbWVcIiBwcm9wZXJ0eS5cXCcpO31zdWJUZXh0UGFydC5pZD1zdWJUZXh0UGFydC5pZHx8MDtrW2IuU3ViVGV4dFBhcnRQcm9wZXJ0eS5OYW1lXT1zdWJUZXh0UGFydC5uYW1lO2tbYi5TdWJUZXh0UGFydFByb3BlcnR5LklEXT1zdWJUZXh0UGFydC5pZDtpZighIXN1YlRleHRQYXJ0LnN0YXJ0JiYhIXN1YlRleHRQYXJ0Lmxlbmd0aCl7a1tiLlN1YlRleHRQYXJ0UHJvcGVydHkuU3RhcnRdPXN1YlRleHRQYXJ0LnN0YXJ0O2tbYi5TdWJUZXh0UGFydFByb3BlcnR5Lkxlbmd0aF09c3ViVGV4dFBhcnQubGVuZ3RoO31pZighIXN1YlRleHRQYXJ0LmhpZ2hsaWdodENvbG9yKXtrW2IuU3ViVGV4dFBhcnRQcm9wZXJ0eS5IaWdobGlnaHRDb2xvcl09c3ViVGV4dFBhcnQuaGlnaGxpZ2h0Q29sb3I7fWlmKCEhc3ViVGV4dFBhcnQuaGlnaGxpZ2h0TW9kZSl7a1tiLlN1YlRleHRQYXJ0UHJvcGVydHkuSGlnaGxpZ2h0TW9kZV09c3ViVGV4dFBhcnQuaGlnaGxpZ2h0TW9kZTt9dmFyIGo9e1RleHRQYXJ0VHlwZTpiLlRleHRQYXJ0VHlwZS5mcm9tVHlwZU5hbWUodGhpcy50eXBlKSxUZXh0UGFydEluZGV4OnRoaXMuaW5kZXgsU3ViVGV4dFBhcnQ6ayx9O3ZhciBpPWIuU3ViVGV4dFBhcnRDb21tYW5kLkFkZEl0ZW07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50U3ViVGV4dFBhcnQsaSwwLDAsaik7fTtUZXh0UGFydC5wcm90b3R5cGUucmVtb3ZlU3ViVGV4dFBhcnQ9ZnVuY3Rpb24oY2FsbGJhY2ssa2VlcFRleHQsa2VlcE5lc3RlZCxzdWJUZXh0UGFydCl7aWYoIWNhbGxiYWNrKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuVG9vRmV3UGFyYW1ldGVycyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWtlZXBUZXh0PWtlZXBUZXh0fHxmYWxzZTtrZWVwTmVzdGVkPWtlZXBOZXN0ZWR8fGZhbHNlO2IuZG9jdW1lbnRUYXNrQ2FsbGJhY2tzLnJlbW92ZVN1YlRleHRQYXJ0LnB1c2goY2FsbGJhY2spO3ZhciBqPW51bGw7aWYoISFzdWJUZXh0UGFydCl7dmFyIGs9e307aWYoIXN1YlRleHRQYXJ0Lm5hbWUpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFzc2VkIFN1YlRleHRQYXJ0IG9iamVjdCBkb2VzIG5vdCBoYXZlIGEgXCJuYW1lXCIgcHJvcGVydHkuXFwnKTt9c3ViVGV4dFBhcnQuaWQ9c3ViVGV4dFBhcnQuaWR8fDA7a1tiLlN1YlRleHRQYXJ0UHJvcGVydHkuTmFtZV09c3ViVGV4dFBhcnQubmFtZTtrW2IuU3ViVGV4dFBhcnRQcm9wZXJ0eS5JRF09c3ViVGV4dFBhcnQuaWQ7aj17VGV4dFBhcnRUeXBlOmIuVGV4dFBhcnRUeXBlLmZyb21UeXBlTmFtZSh0aGlzLnR5cGUpLFRleHRQYXJ0SW5kZXg6dGhpcy5pbmRleCxTdWJUZXh0UGFydDprLEtlZXBUZXh0OmtlZXBUZXh0LEtlZXBOZXN0ZWQ6a2VlcE5lc3RlZH07fWVsc2V7aj17VGV4dFBhcnRUeXBlOmIuVGV4dFBhcnRUeXBlLmZyb21UeXBlTmFtZSh0aGlzLnR5cGUpLFRleHRQYXJ0SW5kZXg6dGhpcy5pbmRleCxLZWVwVGV4dDprZWVwVGV4dCxLZWVwTmVzdGVkOmtlZXBOZXN0ZWR9O312YXIgaT1iLlN1YlRleHRQYXJ0Q29tbWFuZC5SZW1vdmVJdGVtO2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNsaWVudFN1YlRleHRQYXJ0LGksMCwwLGopO307VGV4dFBhcnQucHJvdG90eXBlLmFkZFRleHRGaWVsZD1mdW5jdGlvbih0ZXh0RmllbGQpe2lmKCF0ZXh0RmllbGR8fCgodGV4dEZpZWxkLmNvbnN0cnVjdG9yIT09Yi5MZWdhY3lBcHBsaWNhdGlvbkZpZWxkKSYmKHRleHRGaWVsZC5jb25zdHJ1Y3RvciE9PWIuTGVnYWN5VGV4dEZpZWxkKSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwiYXBwbGljYXRpb25GaWVsZFwiIGNhbm5vdCBiZSBvbWl0dGVkIGFuZCBtdXN0IGJlIG9mIHR5cGUgVFhUZXh0Q29udHJvbC5BcHBsaWNhdGlvbkZpZWxkIG9yIFRYVGV4dENvbnRyb2wuVGV4dEZpZWxkLlxcJyk7fXRleHRGaWVsZC5fZmllbGQudGV4dFBhcnQudHlwZT1iLlRleHRQYXJ0VHlwZS5mcm9tVHlwZU5hbWUodGhpcy50eXBlKTt0ZXh0RmllbGQuX2ZpZWxkLnRleHRQYXJ0LmluZGV4PXRoaXMuaW5kZXg7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkLGIuVGV4dEZpZWxkQ29tbWFuZC5BZGQsMCwwLHt0ZXh0RmllbGQ6dGV4dEZpZWxkLl9maWVsZH0pO307cmV0dXJuIFRleHRQYXJ0O30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO2IucHJvY2Vzc1RleHRQYXJ0RGF0YU1lc3NhZ2U9ZnVuY3Rpb24oail7aWYoIWouRGF0YSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzc1RleHRQYXJ0RGF0YU1lc3NhZ2UoKTogUmVjZWl2ZWQgbWVzc2FnZSBkb2VzIG5vdCBjb250YWluIGRhdGEuXCIpO312YXIgaD1qLkRhdGEuQ29udGVudDt2YXIgaT1qLkRhdGEuRXhjTXNnO3N3aXRjaChoLnRleHRQYXJ0Q29tbWFuZCl7Y2FzZSBiLlRleHRQYXJ0Q29tbWFuZC5HZXRBbGw6Y2FzZSBiLlRleHRQYXJ0Q29tbWFuZC5HZXRJdGVtOmUoaCxpKTticmVhaztjYXNlIGIuVGV4dFBhcnRDb21tYW5kLkFjY2Vzc1RleHRDb250cm9sTWVtYmVyOmQoaCxpKTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoXCJwcm9jZXNzVGV4dFBhcnREYXRhTWVzc2FnZSgpOiBVbmtub3duIFRleHRQYXJ0Q29tbWFuZCBcIitoLnRleHRQYXJ0Q29tbWFuZCtcIi5cIik7YnJlYWs7fX07ZnVuY3Rpb24gZChpLGope3ZhciBrPWkubWVzc2FnZVVJRDtpZighYy5oYXNPd25Qcm9wZXJ0eShrKSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzc0FjY2Vzc1RleHRDb250cm9sTWVtYmVyUmVzcG9uc2UoKTogQ2FsbGJhY2sgcXVldWUgXCIraytcIiBkb2VzIG5vdCBleGlzdC5cIik7cmV0dXJuIG51bGw7fXZhciBoPWNba107ZGVsZXRlIGNba107aWYodHlwZW9mIGg9PT1cImZ1bmN0aW9uXCIpe2goaS5yZXN1bHQsaj9uZXcgRXJyb3Ioaik6dW5kZWZpbmVkKTt9fWZ1bmN0aW9uIGUoaSxrKXt2YXIgaD1iLmRvY3VtZW50VGFza0NhbGxiYWNrcy5nZXRUZXh0UGFydHMuc2hpZnQoKTtpZihrKXt0aHJvdyBuZXcgRXJyb3Ioayk7fWlmKGg9PT11bmRlZmluZWQpe3JldHVybjt9dmFyIGw9W107aS50ZXh0UGFydHMuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgbT1uZXcgYi5MZWdhY3lUZXh0UGFydChiLlRleHRQYXJ0VHlwZU5hbWUuZnJvbVR5cGUobi50eXBlKSxuLmluZGV4LG4uaGFzaGNvZGUpO2wucHVzaChtKTt9KTt0cnl7aChsKTt9Y2F0Y2goail7fX1yZXR1cm4gZzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtBY3RpdmF0ZTpcIkFjdGl2YXRlXCIsR2V0TWFpblRleHQ6XCJHZXRNYWluVGV4dFwiLH0pO2IuVGV4dFBhcnRDb2xsZWN0aW9uPShmdW5jdGlvbihlKXtfX2V4dGVuZHMoVGV4dFBhcnRDb2xsZWN0aW9uLGUpO2Z1bmN0aW9uIFRleHRQYXJ0Q29sbGVjdGlvbigpe2UuY2FsbCh0aGlzKTt9VGV4dFBhcnRDb2xsZWN0aW9uLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihmb3JtYXR0ZWRUZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKGZvcm1hdHRlZFRleHQuXyYmZm9ybWF0dGVkVGV4dC5fLmhhc2hjb2RlKXt0aGlzLmNhbGxNZXRob2QoYy5BY3RpdmF0ZSxjYWxsYmFjayxbZm9ybWF0dGVkVGV4dC5fLmhhc2hjb2RlLGZvcm1hdHRlZFRleHQuXy5pbmRleF0sZXJyb3JDYWxsYmFjayk7fWVsc2V7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBwYXNzZWQgb2JqZWN0IGlzIG5vdCBhIEZvcm1hdHRlZFRleHQuXCIpO319O1RleHRQYXJ0Q29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt2YXIgZj10aGlzO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oZyl7Y2FsbGJhY2soZi5fYWRhcHQoZykpO30sW10sZXJyb3JDYWxsYmFjayk7fTtUZXh0UGFydENvbGxlY3Rpb24ucHJvdG90eXBlLmdldE1haW5UZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBmPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGMuR2V0TWFpblRleHQsZnVuY3Rpb24oZyl7Y2FsbGJhY2soZi5fYWRhcHQoZykpO30sW10sZXJyb3JDYWxsYmFjayk7fTtUZXh0UGFydENvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihnKXt2YXIgZjtpZihnPT09bnVsbCl7cmV0dXJuIG51bGw7fXN3aXRjaChnLnR5cGUpe2Nhc2UgYi5UZXh0UGFydFR5cGUuVW5kZWZpbmVkOnJldHVybiBudWxsO2Nhc2UgYi5UZXh0UGFydFR5cGUuSGVhZGVyRm9vdGVyOmY9bmV3IGIuSGVhZGVyRm9vdGVyKGcuaGFzaGNvZGUsZy5pbmRleCk7YnJlYWs7Y2FzZSBiLlRleHRQYXJ0VHlwZS5UZXh0RnJhbWU6Zj1uZXcgYi5UZXh0RnJhbWUoZy5oYXNoY29kZSxnLmluZGV4KTticmVhaztkZWZhdWx0OmY9bmV3IGIuRm9ybWF0dGVkVGV4dChnLmhhc2hjb2RlLGcuaW5kZXgsXCJtYWluVGV4dFwiKTticmVhazt9dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihmLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2cuaGFzaGNvZGUsZy5pbmRleF0pO3JldHVybiBmO307cmV0dXJuIFRleHRQYXJ0Q29sbGVjdGlvbjt9KShiLkNvbGxlY3Rpb24pO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0FjdGl2ZTpcIkFjdGl2ZVwiLENoYW5nZUtpbmQ6XCJDaGFuZ2VLaW5kXCIsQ2hhbmdlVGltZTpcIkNoYW5nZVRpbWVcIixIaWdobGlnaHRDb2xvcjpcIkhpZ2hsaWdodENvbG9yXCIsSGlnaGxpZ2h0TW9kZTpcIkhpZ2hsaWdodE1vZGVcIixMZW5ndGg6XCJMZW5ndGhcIixOdW1iZXI6XCJOdW1iZXJcIixTdGFydDpcIlN0YXJ0XCIsVGV4dDpcIlRleHRcIixVc2VyTmFtZTpcIlVzZXJOYW1lXCIsfSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7U2F2ZTpcIlNhdmVcIn0pO2IuQ2hhbmdlS2luZD1PYmplY3QuZnJlZXplKHtJbnNlcnRlZFRleHQ6NDA5NixEZWxldGVkVGV4dDo4MTkyfSk7Yi5UcmFja2VkQ2hhbmdlPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoVHJhY2tlZENoYW5nZSxmKTtmdW5jdGlvbiBUcmFja2VkQ2hhbmdlKGcsaCl7Zi5jYWxsKHRoaXMsZyxoKTt9VHJhY2tlZENoYW5nZS5wcm90b3R5cGUuZ2V0QWN0aXZlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkFjdGl2ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RyYWNrZWRDaGFuZ2UucHJvdG90eXBlLnNldEFjdGl2ZT1mdW5jdGlvbihhY3RpdmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGFjdGl2ZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkFjdGl2ZSxhY3RpdmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5nZXRDaGFuZ2VLaW5kPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNoYW5nZUtpbmQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5nZXRDaGFuZ2VUaW1lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNoYW5nZVRpbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5nZXRIaWdobGlnaHRDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5IaWdobGlnaHRDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RyYWNrZWRDaGFuZ2UucHJvdG90eXBlLnNldEhpZ2hsaWdodENvbG9yPWZ1bmN0aW9uKGcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGchPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodENvbG9yLGcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5nZXRIaWdobGlnaHRNb2RlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodE1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5zZXRIaWdobGlnaHRNb2RlPWZ1bmN0aW9uKGcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGchPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodE1vZGUsZyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RyYWNrZWRDaGFuZ2UucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5MZW5ndGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5nZXROdW1iZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTnVtYmVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VHJhY2tlZENoYW5nZS5wcm90b3R5cGUuZ2V0U3RhcnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU3RhcnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlLnByb3RvdHlwZS5nZXRVc2VyTmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Vc2VyTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RyYWNrZWRDaGFuZ2UucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oc3RyZWFtVHlwZSxjYWxsYmFjayxzYXZlU2V0dGluZ3MsZXJyb3JDYWxsYmFjayl7aWYoIXN0cmVhbVR5cGUpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ob1N0cmVhbVR5cGUpO31pZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9c2F2ZVNldHRpbmdzPXNhdmVTZXR0aW5nc3x8bnVsbDt0aGlzLmNhbGxNZXRob2QoYy5TYXZlLGNhbGxiYWNrLFtzdHJlYW1UeXBlLHNhdmVTZXR0aW5nc10sZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gVHJhY2tlZENoYW5nZTt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtyZXR1cm4gZTt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlRyYWNrZWRDaGFuZ2VDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoVHJhY2tlZENoYW5nZUNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gVHJhY2tlZENoYW5nZUNvbGxlY3Rpb24oKXtkLmNhbGwodGhpcyk7fVRyYWNrZWRDaGFuZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odHJhY2tlZENoYW5nZSxhY2NlcHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIXRyYWNrZWRDaGFuZ2V8fCghdHJhY2tlZENoYW5nZS5oYXNPd25Qcm9wZXJ0eShcIl9cIikmJiF0cmFja2VkQ2hhbmdlLl8uaGFzT3duUHJvcGVydHkoXCJoYXNoY29kZVwiKSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuVHJhY2tlZENoYW5nZVBhcmFtVHlwZUVycm9yKTt9aWYodHlwZW9mIGFjY2VwdCE9XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFt0cmFja2VkQ2hhbmdlLl8uaGFzaGNvZGUsdHJhY2tlZENoYW5nZS5fLmluZGV4LGFjY2VwdF0sZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxuZXh0LGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXZhciBmPXRoaXM7dmFyIGU9KHR5cGVvZiBuZXh0PT09XCJib29sZWFuXCIpP1tuZXh0XTpbXTt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGcpe2NhbGxiYWNrKGYuX2FkYXB0KGcpKTt9LGUsZXJyb3JDYWxsYmFjayk7fTtUcmFja2VkQ2hhbmdlQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGYpe2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGU9bmV3IGIuVHJhY2tlZENoYW5nZShmLmhhc2hjb2RlLGYuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZSxiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtmLmhhc2hjb2RlLGYuaW5kZXhdKTtyZXR1cm4gZTt9O3JldHVybiBUcmFja2VkQ2hhbmdlQ29sbGVjdGlvbjt9KShiLkNvbGxlY3Rpb24pO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0F1dG9HZW5lcmF0aW9uVHlwZTpcIkF1dG9HZW5lcmF0aW9uVHlwZVwiLERlbGV0ZWFibGU6XCJEZWxldGVhYmxlXCIsSUQ6XCJJRFwiLE5hbWU6XCJOYW1lXCIsTnVtYmVyOlwiTnVtYmVyXCIsU3RhcnQ6XCJTdGFydFwiLFRhcmdldE5hbWU6XCJUYXJnZXROYW1lXCJ9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtTY3JvbGxUbzpcIlNjcm9sbFRvXCJ9KTtiLkF1dG9HZW5lcmF0aW9uVHlwZT17fTtiLkRvY3VtZW50VGFyZ2V0PShmdW5jdGlvbihmKXtfX2V4dGVuZHMoRG9jdW1lbnRUYXJnZXQsZik7ZnVuY3Rpb24gRG9jdW1lbnRUYXJnZXQoZyxoKXtmLmNhbGwodGhpcyxnLGgpO31Eb2N1bWVudFRhcmdldC5wcm90b3R5cGUuZ2V0RGVsZXRlYWJsZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5EZWxldGVhYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRUYXJnZXQucHJvdG90eXBlLnNldERlbGV0ZWFibGU9ZnVuY3Rpb24oZGVsZXRlYWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZGVsZXRlYWJsZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkRlbGV0ZWFibGUsZGVsZXRlYWJsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0LnByb3RvdHlwZS5nZXRJRD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5JRCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0LnByb3RvdHlwZS5zZXRJRD1mdW5jdGlvbihpZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaWQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLklELGlkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRUYXJnZXQucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0LnByb3RvdHlwZS5zZXROYW1lPWZ1bmN0aW9uKG5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIG5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLk5hbWUsbmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0LnByb3RvdHlwZS5nZXRTdGFydD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TdGFydCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0LnByb3RvdHlwZS5nZXROdW1iZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTnVtYmVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRUYXJnZXQucHJvdG90eXBlLmdldFRhcmdldE5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVGFyZ2V0TmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0LnByb3RvdHlwZS5zZXRUYXJnZXROYW1lPWZ1bmN0aW9uKHRhcmdldE5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRhcmdldE5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlRhcmdldE5hbWUsdGFyZ2V0TmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0LnByb3RvdHlwZS5nZXRBdXRvR2VuZXJhdGlvblR5cGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQXV0b0dlbmVyYXRpb25UeXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRUYXJnZXQucHJvdG90eXBlLnNjcm9sbFRvPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlNjcm9sbFRvLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIERvY3VtZW50VGFyZ2V0O30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRG9jdW1lbnRUYXJnZXRDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoRG9jdW1lbnRUYXJnZXRDb2xsZWN0aW9uLGQpO2Z1bmN0aW9uIERvY3VtZW50VGFyZ2V0Q29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9RG9jdW1lbnRUYXJnZXRDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odGFyZ2V0TmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdGFyZ2V0TmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5BZGQsY2FsbGJhY2s/ZnVuY3Rpb24oZil7aWYoY2FsbGJhY2spe2NhbGxiYWNrKGUuX2FkYXB0KGYpKTt9fTpudWxsLFt0YXJnZXROYW1lXSxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0Q29sbGVjdGlvbi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuQ2xlYXIsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtEb2N1bWVudFRhcmdldENvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayxlKXt2YXIgZz10aGlzO3ZhciBmPSgodHlwZW9mIGU9PT1cIm51bWJlclwiKXx8KHR5cGVvZiBlPT09XCJzdHJpbmdcIikpP1tlXTpbXTt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGNhbGxiYWNrP2Z1bmN0aW9uKGgpe2NhbGxiYWNrKGcuX2FkYXB0KGgpKTt9Om51bGwsZixlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50VGFyZ2V0Q29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0Q2FuQWRkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkNvbGxlY3Rpb25Qcm9wZXJ0eU5hbWUuQ2FuQWRkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRUYXJnZXRDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZG9jdW1lbnRUYXJnZXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFtkb2N1bWVudFRhcmdldC5fLmhhc2hjb2RlLGRvY3VtZW50VGFyZ2V0Ll8uaW5kZXhdLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRUYXJnZXRDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZil7aWYoZj09PW51bGwpe3JldHVybiBudWxsO312YXIgZT1uZXcgYi5Eb2N1bWVudFRhcmdldChmLmhhc2hjb2RlLGYuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZSxiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtmLmhhc2hjb2RlLGYuaW5kZXhdKTtyZXR1cm4gZTt9O3JldHVybiBEb2N1bWVudFRhcmdldENvbGxlY3Rpb247fSkoYi5Db2xsZWN0aW9uKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGUsYSl7dmFyIGI9ZS5fcHJpdmF0ZT1lLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtHZXREb2N1bWVudFRhcmdldDpcIkdldERvY3VtZW50VGFyZ2V0XCIsU2V0RG9jdW1lbnRUYXJnZXQ6XCJTZXREb2N1bWVudFRhcmdldFwifSk7dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7QXV0b0dlbmVyYXRpb25UeXBlOlwiQXV0b0dlbmVyYXRpb25UeXBlXCJ9KTtiLkRvY3VtZW50TGluaz0oZnVuY3Rpb24oZil7X19leHRlbmRzKERvY3VtZW50TGluayxmKTtmdW5jdGlvbiBEb2N1bWVudExpbmsoZyxoKXtmLmNhbGwodGhpcyxnLGgpO31Eb2N1bWVudExpbmsucHJvdG90eXBlLmdldERvY3VtZW50VGFyZ2V0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBoPXRoaXM7aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dGhpcy5jYWxsTWV0aG9kKGMuR2V0RG9jdW1lbnRUYXJnZXQsZnVuY3Rpb24oaSl7Y2FsbGJhY2soZyhpKSk7fSxbXSxlcnJvckNhbGxiYWNrKTtmdW5jdGlvbiBnKGope2lmKGo9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGk9bmV3IGIuRG9jdW1lbnRUYXJnZXQoai5oYXNoY29kZSxqLmluZGV4KTtoLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGksYy5HZXREb2N1bWVudFRhcmdldCk7cmV0dXJuIGk7fX07RG9jdW1lbnRMaW5rLnByb3RvdHlwZS5nZXRBdXRvR2VuZXJhdGlvblR5cGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQXV0b0dlbmVyYXRpb25UeXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRMaW5rLnByb3RvdHlwZS5zZXREb2N1bWVudFRhcmdldD1mdW5jdGlvbihkb2N1bWVudFRhcmdldCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZG9jdW1lbnRUYXJnZXQ9PT1cInVuZGVmaW5lZFwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtVW5kZWZpbmVkKTt9dGhpcy5jYWxsTWV0aG9kKGMuU2V0RG9jdW1lbnRUYXJnZXQsY2FsbGJhY2ssZG9jdW1lbnRUYXJnZXQ9PT1udWxsP1tdOltkb2N1bWVudFRhcmdldC5fLmhhc2hjb2RlLGRvY3VtZW50VGFyZ2V0Ll8uaW5kZXhdLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIERvY3VtZW50TGluazt9KShiLlRleHRGaWVsZCk7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5Eb2N1bWVudExpbmtDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoRG9jdW1lbnRMaW5rQ29sbGVjdGlvbixkKTtmdW5jdGlvbiBEb2N1bWVudExpbmtDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31Eb2N1bWVudExpbmtDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odGV4dCxkb2N1bWVudFRhcmdldCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt2YXIgaT10aGlzLGcsaDt0cnl7Zz1kb2N1bWVudFRhcmdldC5fLmhhc2hjb2RlO2g9ZG9jdW1lbnRUYXJnZXQuXy5pbmRleDt9Y2F0Y2goZil7dGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIHZhbGlkIERvY3VtZW50VGFyZ2V0IHBhc3NlZC5cIik7fXRoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZCxjYWxsYmFjaz9mdW5jdGlvbihqKXtjYWxsYmFjayhpLl9hZGFwdChqKSk7fTpudWxsLFt0ZXh0LGcsaF0sZXJyb3JDYWxsYmFjayk7fTtEb2N1bWVudExpbmtDb2xsZWN0aW9uLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbihlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuQ2xlYXIsY2FsbGJhY2ssW2VdLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRMaW5rQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLGlkKXtpZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO312YXIgZj10aGlzO3ZhciBlPSh0eXBlb2YgaWQ9PT1cIm51bWJlclwiKT9baWRdOltdO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oZyl7Y2FsbGJhY2soZi5fYWRhcHQoZykpO30sZSxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50TGlua0NvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihkb2N1bWVudExpbmssY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFtkb2N1bWVudExpbmsuXy5oYXNoY29kZSxkb2N1bWVudExpbmsuXy5pbmRleF0sZXJyb3JDYWxsYmFjayk7fTtEb2N1bWVudExpbmtDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZil7aWYoZj09PW51bGwpe3JldHVybiBudWxsO312YXIgZT1uZXcgYi5Eb2N1bWVudExpbmsoZi5oYXNoY29kZSxmLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGUsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZi5oYXNoY29kZSxmLmluZGV4XSk7cmV0dXJuIGU7fTtyZXR1cm4gRG9jdW1lbnRMaW5rQ29sbGVjdGlvbjt9KShiLlRleHRGaWVsZENvbGxlY3Rpb25CYXNlKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtUYXJnZXQ6XCJUYXJnZXRcIn0pO2IuSHlwZXJ0ZXh0TGluaz0oZnVuY3Rpb24oZSl7X19leHRlbmRzKEh5cGVydGV4dExpbmssZSk7ZnVuY3Rpb24gSHlwZXJ0ZXh0TGluayhmLGcpe2UuY2FsbCh0aGlzLGYsZyk7fUh5cGVydGV4dExpbmsucHJvdG90eXBlLmdldFRhcmdldD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5UYXJnZXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtIeXBlcnRleHRMaW5rLnByb3RvdHlwZS5zZXRUYXJnZXQ9ZnVuY3Rpb24odGFyZ2V0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlRhcmdldCx0YXJnZXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gSHlwZXJ0ZXh0TGluazt9KShiLlRleHRGaWVsZCk7cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5IeXBlcnRleHRMaW5rQ29sbGVjdGlvbj0oZnVuY3Rpb24oZCl7X19leHRlbmRzKEh5cGVydGV4dExpbmtDb2xsZWN0aW9uLGQpO2Z1bmN0aW9uIEh5cGVydGV4dExpbmtDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31IeXBlcnRleHRMaW5rQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHRleHQsdGFyZ2V0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkLGNhbGxiYWNrP2Z1bmN0aW9uKGYsZyl7Y2FsbGJhY2soZS5fYWRhcHQoZiksZyk7fTpudWxsLFt0ZXh0LHRhcmdldF0sZXJyb3JDYWxsYmFjayk7fTtIeXBlcnRleHRMaW5rQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLGlkKXt2YXIgZT10aGlzO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sY2FsbGJhY2s/ZnVuY3Rpb24oZil7Y2FsbGJhY2soZS5fYWRhcHQoZikpO306bnVsbCxbaWRdLGVycm9yQ2FsbGJhY2spO307SHlwZXJ0ZXh0TGlua0NvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihIeXBlcnRleHRMaW5rLGtlZXBUZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLlJlbW92ZSxjYWxsYmFjayxbSHlwZXJ0ZXh0TGluay5fLmhhc2hjb2RlLEh5cGVydGV4dExpbmsuXy5pbmRleCxrZWVwVGV4dF0sZXJyb3JDYWxsYmFjayk7fTtIeXBlcnRleHRMaW5rQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGYpe2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGU9bmV3IGIuSHlwZXJ0ZXh0TGluayhmLmhhc2hjb2RlLGYuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZSxiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtmLmhhc2hjb2RlLGYuaW5kZXhdKTtyZXR1cm4gZTt9O3JldHVybiBIeXBlcnRleHRMaW5rQ29sbGVjdGlvbjt9KShiLlRleHRGaWVsZENvbGxlY3Rpb25CYXNlKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlpPcmRlcj17fTtiLkRpc3RhbmNlcz0oZnVuY3Rpb24oKXtmdW5jdGlvbiBEaXN0YW5jZXMobGVmdCx0b3AscmlnaHQsYm90dG9tKXt0aGlzLmxlZnQ9bGVmdDt0aGlzLnRvcD10b3A7dGhpcy5yaWdodD1yaWdodDt0aGlzLmJvdHRvbT1ib3R0b207fXJldHVybiBEaXN0YW5jZXM7fSkoKTtiLkZyYW1lUHJvcGVydHlOYW1lPU9iamVjdC5mcmVlemUoe0FsaWdubWVudDpcIkFsaWdubWVudFwiLEJvdW5kczpcIkJvdW5kc1wiLElEOlwiSURcIixJbnNlcnRpb25Nb2RlOlwiSW5zZXJ0aW9uTW9kZVwiLExvY2F0aW9uOlwiTG9jYXRpb25cIixNb3ZlYWJsZTpcIk1vdmVhYmxlXCIsTmFtZTpcIk5hbWVcIixTaXplOlwiU2l6ZVwiLFNpemVhYmxlOlwiU2l6ZWFibGVcIixUZXh0RGlzdGFuY2VzOlwiVGV4dERpc3RhbmNlc1wiLFRleHRQb3NpdGlvbjpcIlRleHRQb3NpdGlvblwifSk7Yi5GcmFtZU1ldGhvZE5hbWU9T2JqZWN0LmZyZWV6ZSh7Q2hhbmdlWk9yZGVyOlwiQ2hhbmdlWk9yZGVyXCJ9KTtiLkZyYW1lQmFzZT0oZnVuY3Rpb24oZCl7X19leHRlbmRzKEZyYW1lQmFzZSxkKTtmdW5jdGlvbiBGcmFtZUJhc2UoZSxmKXtkLmNhbGwodGhpcyxlLGYpO31GcmFtZUJhc2UucHJvdG90eXBlLnNldEFsaWdubWVudD1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLkFsaWdubWVudCx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0ZyYW1lQmFzZS5wcm90b3R5cGUuZ2V0QWxpZ25tZW50PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLkFsaWdubWVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0ZyYW1lQmFzZS5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLkJvdW5kcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0ZyYW1lQmFzZS5wcm90b3R5cGUuc2V0SUQ9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5JRCx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0ZyYW1lQmFzZS5wcm90b3R5cGUuZ2V0SUQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuSUQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLnNldEluc2VydGlvbk1vZGU9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5JbnNlcnRpb25Nb2RlLHZhbHVlLGVycm9yQ2FsbGJhY2spO307RnJhbWVCYXNlLnByb3RvdHlwZS5nZXRJbnNlcnRpb25Nb2RlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLkluc2VydGlvbk1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLnNldExvY2F0aW9uPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcInhcIil8fCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcInlcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwidmFsdWVcIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcInhcIiBhbmQgXCJ5XCIuXFwnKTt9aWYoIWlzSW50ZWdlcih2YWx1ZS54KXx8IWlzSW50ZWdlcih2YWx1ZS55KSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNvb3JkaW5hdGVzIG11c3QgYmUgaW50ZWdlcnMuXCIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5Mb2NhdGlvbix2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0ZyYW1lQmFzZS5wcm90b3R5cGUuZ2V0TG9jYXRpb249ZnVuY3Rpb24oY2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLkxvY2F0aW9uLGZ1bmN0aW9uKGYpe3ZhciBlPW51bGw7aWYoZil7ZT1uZXcgYi5Qb2ludChmLngsZi55KTt9Y2FsbGJhY2soZSk7fSxlcnJvckNhbGxiYWNrKTt9O0ZyYW1lQmFzZS5wcm90b3R5cGUuc2V0TW92ZWFibGU9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuTW92ZWFibGUsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLmdldE1vdmVhYmxlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLk1vdmVhYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RnJhbWVCYXNlLnByb3RvdHlwZS5zZXROYW1lPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuTmFtZSx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0ZyYW1lQmFzZS5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5OYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RnJhbWVCYXNlLnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcIndpZHRoXCIpfHwhdmFsdWUuaGFzT3duUHJvcGVydHkoXCJoZWlnaHRcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwidmFsdWVcIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcIndpZHRoXCIgYW5kIFwiaGVpZ2h0XCIuXFwnKTt9aWYoIWlzSW50ZWdlcih2YWx1ZS53aWR0aCl8fCFpc0ludGVnZXIodmFsdWUuaGVpZ2h0KSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkRpbWVuc2lvbnMgbXVzdCBiZSBpbnRlZ2Vycy5cIik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLlNpemUsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuU2l6ZSxmdW5jdGlvbihmKXt2YXIgZT1udWxsO2lmKGYpe2U9bmV3IGIuU2l6ZShmLldpZHRoLGYuSGVpZ2h0KTt9Y2FsbGJhY2soZSk7fSxlcnJvckNhbGxiYWNrKTt9O0ZyYW1lQmFzZS5wcm90b3R5cGUuc2V0U2l6ZWFibGU9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuU2l6ZWFibGUsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLmdldFNpemVhYmxlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLlNpemVhYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RnJhbWVCYXNlLnByb3RvdHlwZS5zZXRUZXh0RGlzdGFuY2VzPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcImxlZnRcIil8fCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcInRvcFwiKXx8IXZhbHVlLmhhc093blByb3BlcnR5KFwicmlnaHRcIil8fCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcImJvdHRvbVwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJ2YWx1ZVwiIG11c3QgaGF2ZSBwcm9wZXJ0aWVzIFwibGVmdFwiLCBcInRvcFwiLCBcInJpZ2h0XCIgYW5kIFwiYm90dG9tXCIuXFwnKTt9aWYoIWlzSW50ZWdlcih2YWx1ZS5sZWZ0KXx8IWlzSW50ZWdlcih2YWx1ZS50b3ApfHwhaXNJbnRlZ2VyKHZhbHVlLnJpZ2h0KXx8IWlzSW50ZWdlcih2YWx1ZS5ib3R0b20pKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGV4dCBkaXN0YW5jZXMgbXVzdCBiZSBpbnRlZ2Vycy5cIik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLlRleHREaXN0YW5jZXMsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGcmFtZUJhc2UucHJvdG90eXBlLmdldFRleHREaXN0YW5jZXM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuVGV4dERpc3RhbmNlcyxmdW5jdGlvbihmKXt2YXIgZT1udWxsO2lmKGYpe2U9bmV3IGIuRGlzdGFuY2VzKGYubGVmdCxmLnRvcCxmLnJpZ2h0LGYuYm90dG9tKTt9Y2FsbGJhY2soZSk7fSxlcnJvckNhbGxiYWNrKTt9O0ZyYW1lQmFzZS5wcm90b3R5cGUuZ2V0VGV4dFBvc2l0aW9uPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLlRleHRQb3NpdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0ZyYW1lQmFzZS5wcm90b3R5cGUuY2hhbmdlWk9yZGVyPWZ1bmN0aW9uKHpPcmRlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygek9yZGVyIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLmNhbGxNZXRob2QoYi5GcmFtZU1ldGhvZE5hbWUuQ2hhbmdlWk9yZGVyLGNhbGxiYWNrLFt6T3JkZXJdLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIEZyYW1lQmFzZTt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtIYXNDaGVja1ZhbHVlOlwiSGFzQ2hlY2tWYWx1ZVwiLFNob3dDaGVja1ZhbHVlOlwiU2hvd0NoZWNrVmFsdWVcIn0pO2IuQmFyY29kZVR5cGVTZXR0aW5ncz0oZnVuY3Rpb24oZSl7X19leHRlbmRzKEJhcmNvZGVUeXBlU2V0dGluZ3MsZSk7ZnVuY3Rpb24gQmFyY29kZVR5cGVTZXR0aW5ncygpe2UuY2FsbCh0aGlzKTt9QmFyY29kZVR5cGVTZXR0aW5ncy5wcm90b3R5cGUuZ2V0SGFzQ2hlY2tWYWx1ZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5IYXNDaGVja1ZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QmFyY29kZVR5cGVTZXR0aW5ncy5wcm90b3R5cGUuc2V0SGFzQ2hlY2tWYWx1ZT1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLnNldFByb3BlcnR5VmFsdWUoYy5IYXNDaGVja1ZhbHVlLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QmFyY29kZVR5cGVTZXR0aW5ncy5wcm90b3R5cGUuZ2V0U2hvd0NoZWNrVmFsdWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuU2hvd0NoZWNrVmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlVHlwZVNldHRpbmdzLnByb3RvdHlwZS5zZXRTaG93Q2hlY2tWYWx1ZT1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLnNldFByb3BlcnR5VmFsdWUoYy5TaG93Q2hlY2tWYWx1ZSx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBCYXJjb2RlVHlwZVNldHRpbmdzO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0FkZGl0aW9uYWxUZXh0OlwiQWRkaXRpb25hbFRleHRcIixBbGlnbm1lbnQ6XCJBbGlnbm1lbnRcIixBbmdsZTpcIkFuZ2xlXCIsQmFja0NvbG9yOlwiQmFja0NvbG9yXCIsQmFyY29kZVR5cGU6XCJCYXJjb2RlVHlwZVwiLEJhcmNvZGVUeXBlU2V0dGluZ3M6XCJCYXJjb2RlVHlwZVNldHRpbmdzXCIsRm9yZUNvbG9yOlwiRm9yZUNvbG9yXCIsU2hvd1RleHQ6XCJTaG93VGV4dFwiLFRleHQ6XCJUZXh0XCIsVGV4dEFsaWdubWVudDpcIlRleHRBbGlnbm1lbnRcIixVcHBlclRleHRMZW5ndGg6XCJVcHBlclRleHRMZW5ndGhcIn0pO3ZhciBjPU9iamVjdC5mcmVlemUoe1NhdmVJbWFnZTpcIlNhdmVJbWFnZVwifSk7Yi5JbWFnZUZvcm1hdD17Qm1wOjEsRW1mOjIsR2lmOjMsSnBlZzo0LFBuZzo1LFRpZmY6NixXbWY6N307Yi5CYXJjb2RlQWxpZ25tZW50PXtUb3BMZWZ0OjEsVG9wQ2VudGVyOjIsVG9wUmlnaHQ6MyxNaWRkbGVMZWZ0OjQsTWlkZGxlQ2VudGVyOjUsTWlkZGxlUmlnaHQ6NixCb3R0b21DZW50ZXI6NyxCb3R0b21MZWZ0OjgsQm90dG9tUmlnaHQ6OSx9O2IuQmFyY29kZVRleHRBbGlnbm1lbnQ9e0JvdHRvbToxLFRvcDoyLH07Yi5CYXJjb2RlPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoQmFyY29kZSxmKTtmdW5jdGlvbiBCYXJjb2RlKCl7Zi5jYWxsKHRoaXMpO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse2JhcmNvZGVUeXBlU2V0dGluZ3M6e2dldDpmdW5jdGlvbigpe3ZhciBnPW5ldyBiLkJhcmNvZGVUeXBlU2V0dGluZ3MoKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihnLGQuQmFyY29kZVR5cGVTZXR0aW5ncyk7cmV0dXJuIGc7fSxlbnVtZXJhYmxlOnRydWV9fSk7fUJhcmNvZGUucHJvdG90eXBlLmdldEFkZGl0aW9uYWxUZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkFkZGl0aW9uYWxUZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QmFyY29kZS5wcm90b3R5cGUuc2V0QWRkaXRpb25hbFRleHQ9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5BZGRpdGlvbmFsVGV4dCx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGUucHJvdG90eXBlLmdldEFsaWdubWVudD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5BbGlnbm1lbnQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlLnByb3RvdHlwZS5zZXRBbGlnbm1lbnQ9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcih2YWx1ZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5BbGlnbm1lbnQsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlLnByb3RvdHlwZS5nZXRBbmdsZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5BbmdsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGUucHJvdG90eXBlLnNldEFuZ2xlPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIodmFsdWUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQW5nbGUsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlLnByb3RvdHlwZS5nZXRCYWNrQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQmFja0NvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QmFyY29kZS5wcm90b3R5cGUuc2V0QmFja0NvbG9yPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQmFja0NvbG9yLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QmFyY29kZS5wcm90b3R5cGUuZ2V0QmFyY29kZVR5cGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQmFyY29kZVR5cGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlLnByb3RvdHlwZS5zZXRCYXJjb2RlVHlwZT1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKHZhbHVlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkJhcmNvZGVUeXBlLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QmFyY29kZS5wcm90b3R5cGUuZ2V0Rm9yZUNvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkZvcmVDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGUucHJvdG90eXBlLnNldEZvcmVDb2xvcj1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkZvcmVDb2xvcix2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGUucHJvdG90eXBlLmdldFNob3dUZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlNob3dUZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QmFyY29kZS5wcm90b3R5cGUuc2V0U2hvd1RleHQ9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuU2hvd1RleHQsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlLnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dCx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGUucHJvdG90eXBlLmdldFRleHRBbGlnbm1lbnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dEFsaWdubWVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGUucHJvdG90eXBlLnNldFRleHRBbGlnbm1lbnQ9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcih2YWx1ZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5UZXh0QWxpZ25tZW50LHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307QmFyY29kZS5wcm90b3R5cGUuZ2V0VXBwZXJUZXh0TGVuZ3RoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlVwcGVyVGV4dExlbmd0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGUucHJvdG90eXBlLnNldFVwcGVyVGV4dExlbmd0aD1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKHZhbHVlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlVwcGVyVGV4dExlbmd0aCx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGUucHJvdG90eXBlLnNhdmVJbWFnZT1mdW5jdGlvbihpbWFnZUZvcm1hdCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKHZhbHVlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuY2FsbE1ldGhvZChjLlNhdmVJbWFnZSxjYWxsYmFjayxbaW1hZ2VGb3JtYXRdLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIEJhcmNvZGU7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7SG9yaXpvbnRhbFNjYWxpbmc6XCJIb3Jpem9udGFsU2NhbGluZ1wiLFZlcnRpY2FsU2NhbGluZzpcIlZlcnRpY2FsU2NhbGluZ1wifSk7Yi5JbWFnZT0oZnVuY3Rpb24oZSl7X19leHRlbmRzKEltYWdlLGUpO2Z1bmN0aW9uIEltYWdlKGYsZyl7ZS5jYWxsKHRoaXMsZixnKTt9SW1hZ2UucHJvdG90eXBlLnNldEhvcml6b250YWxTY2FsaW5nPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIodmFsdWUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuSG9yaXpvbnRhbFNjYWxpbmcsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbWFnZS5wcm90b3R5cGUuZ2V0SG9yaXpvbnRhbFNjYWxpbmc9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuSG9yaXpvbnRhbFNjYWxpbmcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbWFnZS5wcm90b3R5cGUuc2V0VmVydGljYWxTY2FsaW5nPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIodmFsdWUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuVmVydGljYWxTY2FsaW5nLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW1hZ2UucHJvdG90eXBlLmdldFZlcnRpY2FsU2NhbGluZz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5WZXJ0aWNhbFNjYWxpbmcsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gSW1hZ2U7fSkoYi5GcmFtZUJhc2UpO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0JhcmNvZGU6XCJCYXJjb2RlXCIsRXhwb3J0Q29tcHJlc3Npb25RdWFsaXR5OlwiRXhwb3J0Q29tcHJlc3Npb25RdWFsaXR5XCIsRXhwb3J0UmVzb2x1dGlvbjpcIkV4cG9ydFJlc29sdXRpb25cIn0pO3ZhciBjPU9iamVjdC5mcmVlemUoe1JlZnJlc2g6XCJSZWZyZXNoXCJ9KTtiLkJhcmNvZGVGcmFtZT0oZnVuY3Rpb24oZil7X19leHRlbmRzKEJhcmNvZGVGcmFtZSxmKTtmdW5jdGlvbiBCYXJjb2RlRnJhbWUoZyxoKXtmLmNhbGwodGhpcyxnLGgpO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse2JhcmNvZGU6e2dldDpmdW5jdGlvbigpe3ZhciBpPW5ldyBiLkJhcmNvZGUoKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihpLGQuQmFyY29kZSk7cmV0dXJuIGk7fSxlbnVtZXJhYmxlOnRydWV9fSk7fUJhcmNvZGVGcmFtZS5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5SZWZyZXNoLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIEJhcmNvZGVGcmFtZTt9KShiLkZyYW1lQmFzZSk7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7QmFja0NvbG9yOlwiQmFja0NvbG9yXCIsQm9yZGVyV2lkdGg6XCJCb3JkZXJXaWR0aFwiLEludGVybmFsTWFyZ2luczpcIkludGVybmFsTWFyZ2luc1wiLFRyYW5zcGFyZW5jeTpcIlRyYW5zcGFyZW5jeVwifSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7QWN0aXZhdGU6XCJBY3RpdmF0ZVwifSk7Yi5UZXh0RnJhbWU9KGZ1bmN0aW9uKGYpe19fZXh0ZW5kcyhUZXh0RnJhbWUsZik7ZnVuY3Rpb24gVGV4dEZyYW1lKGcsaCl7Zi5jYWxsKHRoaXMsZyxoLFwidGV4dEZyYW1lXCIpO31UZXh0RnJhbWUucHJvdG90eXBlLnNldEFsaWdubWVudD1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLkFsaWdubWVudCx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuZ2V0QWxpZ25tZW50PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLkFsaWdubWVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuZ2V0QmFja0NvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkJhY2tDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuc2V0QmFja0NvbG9yPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuQmFja0NvbG9yLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5nZXRCb3JkZXJXaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Cb3JkZXJXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuc2V0Qm9yZGVyV2lkdGg9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcih2YWx1ZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Cb3JkZXJXaWR0aCx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLkJvdW5kcyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuc2V0SUQ9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5JRCx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuZ2V0SUQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuSUQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWUucHJvdG90eXBlLnNldEluc2VydGlvbk1vZGU9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5JbnNlcnRpb25Nb2RlLHZhbHVlLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5nZXRJbnNlcnRpb25Nb2RlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLkluc2VydGlvbk1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWUucHJvdG90eXBlLnNldEludGVybmFsTWFyZ2lucz1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighdmFsdWUuaGFzT3duUHJvcGVydHkoXCJsZWZ0XCIpfHwhdmFsdWUuaGFzT3duUHJvcGVydHkoXCJ0b3BcIil8fCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcInJpZ2h0XCIpfHwhdmFsdWUuaGFzT3duUHJvcGVydHkoXCJib3R0b21cIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwidmFsdWVcIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcImxlZnRcIiwgXCJ0b3BcIiwgXCJyaWdodFwiIGFuZCBcImJvdHRvbVwiLlxcJyk7fWlmKCFpc0ludGVnZXIodmFsdWUubGVmdCl8fCFpc0ludGVnZXIodmFsdWUudG9wKXx8IWlzSW50ZWdlcih2YWx1ZS5yaWdodCl8fCFpc0ludGVnZXIodmFsdWUuYm90dG9tKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRleHQgZGlzdGFuY2VzIG11c3QgYmUgaW50ZWdlcnMuXCIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5JbnRlcm5hbE1hcmdpbnMsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWUucHJvdG90eXBlLmdldEludGVybmFsTWFyZ2lucz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5JbnRlcm5hbE1hcmdpbnMsZnVuY3Rpb24oaCl7dmFyIGc9bnVsbDtpZihoKXtnPW5ldyBiLkRpc3RhbmNlcyhoLmxlZnQsaC50b3AsaC5yaWdodCxoLmJvdHRvbSk7fWNhbGxiYWNrKGcpO30sZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWUucHJvdG90eXBlLnNldExvY2F0aW9uPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcInhcIil8fCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcInlcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwidmFsdWVcIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcInhcIiBhbmQgXCJ5XCIuXFwnKTt9aWYoIWlzSW50ZWdlcih2YWx1ZS54KXx8IWlzSW50ZWdlcih2YWx1ZS55KSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNvb3JkaW5hdGVzIG11c3QgYmUgaW50ZWdlcnMuXCIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5Mb2NhdGlvbix2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuZ2V0TG9jYXRpb249ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuTG9jYXRpb24sZnVuY3Rpb24oaSxnKXt2YXIgaD1udWxsO2lmKGkpe2g9bmV3IGIuUG9pbnQoaS5YLGkuWSk7fWNhbGxiYWNrKGgsZyk7fSxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuc2V0TW92ZWFibGU9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuTW92ZWFibGUsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWUucHJvdG90eXBlLmdldE1vdmVhYmxlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLk1vdmVhYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5zZXROYW1lPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuTmFtZSx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYi5GcmFtZVByb3BlcnR5TmFtZS5OYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcIndpZHRoXCIpfHwhdmFsdWUuaGFzT3duUHJvcGVydHkoXCJoZWlnaHRcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwidmFsdWVcIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcIndpZHRoXCIgYW5kIFwiaGVpZ2h0XCIuXFwnKTt9aWYoIWlzSW50ZWdlcih2YWx1ZS53aWR0aCl8fCFpc0ludGVnZXIodmFsdWUuaGVpZ2h0KSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkRpbWVuc2lvbnMgbXVzdCBiZSBpbnRlZ2Vycy5cIik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLlNpemUsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWUucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuU2l6ZSxmdW5jdGlvbihoKXt2YXIgZz1udWxsO2lmKGgpe2c9bmV3IGIuU2l6ZShoLldpZHRoLGguSGVpZ2h0KTt9Y2FsbGJhY2soZyk7fSxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuc2V0U2l6ZWFibGU9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuU2l6ZWFibGUsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWUucHJvdG90eXBlLmdldFNpemVhYmxlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLlNpemVhYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5zZXRUZXh0RGlzdGFuY2VzPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcImxlZnRcIil8fCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcInRvcFwiKXx8IXZhbHVlLmhhc093blByb3BlcnR5KFwicmlnaHRcIil8fCF2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcImJvdHRvbVwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJ2YWx1ZVwiIG11c3QgaGF2ZSBwcm9wZXJ0aWVzIFwibGVmdFwiLCBcInRvcFwiLCBcInJpZ2h0XCIgYW5kIFwiYm90dG9tXCIuXFwnKTt9aWYoIWlzSW50ZWdlcih2YWx1ZS5sZWZ0KXx8IWlzSW50ZWdlcih2YWx1ZS50b3ApfHwhaXNJbnRlZ2VyKHZhbHVlLnJpZ2h0KXx8IWlzSW50ZWdlcih2YWx1ZS5ib3R0b20pKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGV4dCBkaXN0YW5jZXMgbXVzdCBiZSBpbnRlZ2Vycy5cIik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLlRleHREaXN0YW5jZXMsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0RnJhbWUucHJvdG90eXBlLmdldFRleHREaXN0YW5jZXM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGIuRnJhbWVQcm9wZXJ0eU5hbWUuVGV4dERpc3RhbmNlcyxmdW5jdGlvbihoKXt2YXIgZz1udWxsO2lmKGgpe2c9bmV3IGIuRGlzdGFuY2VzKGgubGVmdCxoLnRvcCxoLnJpZ2h0LGguYm90dG9tKTt9Y2FsbGJhY2soZyk7fSxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuZ2V0VGV4dFBvc2l0aW9uPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShiLkZyYW1lUHJvcGVydHlOYW1lLlRleHRQb3NpdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuc2V0VHJhbnNwYXJlbmN5PWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuVHJhbnNwYXJlbmN5LHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5nZXRUcmFuc3BhcmVuY3k9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVHJhbnNwYXJlbmN5LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5BY3RpdmF0ZSxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZS5wcm90b3R5cGUuY2hhbmdlWk9yZGVyPWZ1bmN0aW9uKHpPcmRlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygek9yZGVyIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLmNhbGxNZXRob2QoYi5GcmFtZU1ldGhvZE5hbWUuQ2hhbmdlWk9yZGVyLGNhbGxiYWNrLFt6T3JkZXJdLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIFRleHRGcmFtZTt9KShiLkZvcm1hdHRlZFRleHQpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRnJhbWVDb2xsZWN0aW9uTWV0aG9kTmFtZT1PYmplY3QuZnJlZXplKHtBZGRJbmxpbmU6XCJBZGRJbmxpbmVcIixBZGRBbmNob3JlZDpcIkFkZEFuY2hvcmVkXCIsQWRkQW5jaG9yZWRBdExvY2F0aW9uOlwiQWRkQW5jaG9yZWRBdExvY2F0aW9uXCIsQWRkQXRGaXhlZFBvc2l0aW9uSW5Eb2N1bWVudDpcIkFkZEF0Rml4ZWRQb3NpdGlvbkluRG9jdW1lbnRcIixBZGRBdEZpeGVkUG9zaXRpb25PblBhZ2U6XCJBZGRBdEZpeGVkUG9zaXRpb25PblBhZ2VcIixBZGRXaXRoTW91c2U6XCJBZGRXaXRoTW91c2VcIn0pO2IuRnJhbWVCYXNlQ29sbGVjdGlvbj0oZnVuY3Rpb24oZCl7X19leHRlbmRzKEZyYW1lQmFzZUNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gRnJhbWVCYXNlQ29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9RnJhbWVCYXNlQ29sbGVjdGlvbi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuQ2xlYXIsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gRnJhbWVCYXNlQ29sbGVjdGlvbjt9KShiLkNvbGxlY3Rpb24pO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRnJhbWVDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoRnJhbWVDb2xsZWN0aW9uLGQpO2Z1bmN0aW9uIEZyYW1lQ29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9RnJhbWVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2ssaWQpe3ZhciBmPXRoaXM7aWYoKHR5cGVvZiBpZCE9PVwidW5kZWZpbmVkXCIpJiYodHlwZW9mIGlkIT09XCJudW1iZXJcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwiaWRcIiBtdXN0IGJlIGEgbnVtYmVyLlxcJyk7fXZhciBlPSh0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiKT9baWRdOltdO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sY2FsbGJhY2s/ZnVuY3Rpb24oZyxoKXtjYWxsYmFjayhmLl9hZGFwdChnKSxoKTt9OnVuZGVmaW5lZCxlLGVycm9yQ2FsbGJhY2spO307RnJhbWVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtQnlOYW1lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2ssbmFtZSl7dmFyIGU9dGhpcztpZih0eXBlb2YgbmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwibmFtZVwiIG11c3QgYmUgYSBzdHJpbmcuXFwnKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxjYWxsYmFjaz9mdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fTp1bmRlZmluZWQsW25hbWVdLGVycm9yQ2FsbGJhY2spO307RnJhbWVDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZnJhbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFtmcmFtZS5fLmhhc2hjb2RlLGZyYW1lLl8uaW5kZXhdLGVycm9yQ2FsbGJhY2spO307RnJhbWVDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZil7dmFyIGU9bnVsbDtpZihmPT09bnVsbCl7cmV0dXJuIG51bGw7fXN3aXRjaChmLmZyYW1lVHlwZSl7Y2FzZVwiQmFyY29kZUZyYW1lXCI6ZT1uZXcgYi5CYXJjb2RlRnJhbWUoZi5oYXNoY29kZSxmLmluZGV4KTticmVhaztjYXNlXCJJbWFnZVwiOmU9bmV3IGIuSW1hZ2UoZi5oYXNoY29kZSxmLmluZGV4KTticmVhaztjYXNlXCJUZXh0RnJhbWVcIjplPW5ldyBiLlRleHRGcmFtZShmLmhhc2hjb2RlLGYuaW5kZXgpO2JyZWFrO2RlZmF1bHQ6ZT1uZXcgYi5GcmFtZUJhc2UoZi5oYXNoY29kZSxmLmluZGV4KTticmVhazt9dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIEZyYW1lQ29sbGVjdGlvbjt9KShiLkZyYW1lQmFzZUNvbGxlY3Rpb24pO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuQmFyY29kZVR5cGU9e307Yi5GcmFtZUluc2VydGlvbk1vZGU9e307Yi5CYXJjb2RlQ29sbGVjdGlvbj0oZnVuY3Rpb24oZCl7X19leHRlbmRzKEJhcmNvZGVDb2xsZWN0aW9uLGQpO2Z1bmN0aW9uIEJhcmNvZGVDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31mdW5jdGlvbiBlKGcsZil7cmV0dXJuIGZ1bmN0aW9uKGkpe2lmKCFmKXtyZXR1cm47fXZhciBoPWkhPT1udWxsP2cuX2FkYXB0KGkpOm51bGw7ZihoKTt9O31CYXJjb2RlQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkSW5saW5lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2ssYmFyY29kZVR5cGUsdGV4dCx0ZXh0UG9zaXRpb24pe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWlmKCFpc0ludGVnZXIoYmFyY29kZVR5cGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiYmFyY29kZVR5cGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgVFhUZXh0Q29udHJvbC5CYXJjb2RlVHlwZSB2YWx1ZXMuXFwnKTt9aWYodHlwZW9mIHRleHQhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWlmKHR5cGVvZiB0ZXh0UG9zaXRpb249PT1cInVuZGVmaW5lZFwiKXt0ZXh0UG9zaXRpb249LTE7fWlmKCFpc0ludGVnZXIodGV4dFBvc2l0aW9uKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcInRleHRQb3NpdGlvblwiIG11c3QgYmUgYW4gaW50ZWdlci5cXCcpO310aGlzLmNhbGxNZXRob2QoYi5GcmFtZUNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZElubGluZSxlKHRoaXMsY2FsbGJhY2spLFtiYXJjb2RlVHlwZSx0ZXh0LHRleHRQb3NpdGlvbl0sZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkQW5jaG9yZWQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayxiYXJjb2RlVHlwZSx0ZXh0LGhvcml6b250YWxBbGlnbm1lbnQsdGV4dFBvc2l0aW9uLGluc2VydGlvbk1vZGUpe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWlmKCFpc0ludGVnZXIoYmFyY29kZVR5cGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiYmFyY29kZVR5cGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgVFhUZXh0Q29udHJvbC5CYXJjb2RlVHlwZSB2YWx1ZXMuXFwnKTt9aWYodHlwZW9mIHRleHQhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWlmKCFpc0ludGVnZXIoaG9yaXpvbnRhbEFsaWdubWVudCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJob3Jpem9udGFsQWxpZ25tZW50XCIgbXVzdCBiZSBvbmUgb2YgdGhlIHZhbHVlcyBkZWZpbmVkIGluIFRYVGV4dENvbnRyb2wuSG9yaXpvbnRhbEFsaWdubWVudC5cXCcpO31pZighaXNJbnRlZ2VyKHRleHRQb3NpdGlvbikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJ0ZXh0UG9zaXRpb25cIiBtdXN0IGJlIGFuIGludGVnZXIuXFwnKTt9aWYoIWlzSW50ZWdlcihpbnNlcnRpb25Nb2RlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImluc2VydGlvbk1vZGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgdmFsdWVzIGRlZmluZWQgaW4gVFhUZXh0Q29udHJvbC5GcmFtZUluc2VydGlvbk1vZGUuXFwnKTt9dGhpcy5jYWxsTWV0aG9kKGIuRnJhbWVDb2xsZWN0aW9uTWV0aG9kTmFtZS5BZGRBbmNob3JlZCxlKHRoaXMsY2FsbGJhY2spLFtiYXJjb2RlVHlwZSx0ZXh0LGhvcml6b250YWxBbGlnbm1lbnQsdGV4dFBvc2l0aW9uLGluc2VydGlvbk1vZGVdLGVycm9yQ2FsbGJhY2spO307QmFyY29kZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZEFuY2hvcmVkQXRMb2NhdGlvbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLGJhcmNvZGVUeXBlLHRleHQsbG9jYXRpb24sdGV4dFBvc2l0aW9uLGluc2VydGlvbk1vZGUpe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWlmKCFpc0ludGVnZXIoYmFyY29kZVR5cGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiYmFyY29kZVR5cGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgVFhUZXh0Q29udHJvbC5CYXJjb2RlVHlwZSB2YWx1ZXMuXFwnKTt9aWYodHlwZW9mIHRleHQhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWlmKChsb2NhdGlvbj09PW51bGwpfHwobG9jYXRpb249PT11bmRlZmluZWQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BsZWFzZSBwcm92aWRlIHRoZSBcImxvY2F0aW9uXCIgcGFyYW1ldGVyLlxcJyk7fWlmKCFsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eShcInhcIil8fCFsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eShcInlcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwibG9jYXRpb25cIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcInhcIiBhbmQgXCJ5XCIuXFwnKTt9aWYoIWlzSW50ZWdlcih0ZXh0UG9zaXRpb24pKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1widGV4dFBvc2l0aW9uXCIgbXVzdCBiZSBhbiBpbnRlZ2VyLlxcJyk7fWlmKCFpc0ludGVnZXIoaW5zZXJ0aW9uTW9kZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJpbnNlcnRpb25Nb2RlXCIgbXVzdCBiZSBvbmUgb2YgdGhlIHZhbHVlcyBkZWZpbmVkIGluIFRYVGV4dENvbnRyb2wuRnJhbWVJbnNlcnRpb25Nb2RlLlxcJyk7fXRoaXMuY2FsbE1ldGhvZChiLkZyYW1lQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkQW5jaG9yZWRBdExvY2F0aW9uLGUodGhpcyxjYWxsYmFjayksW2JhcmNvZGVUeXBlLHRleHQsbG9jYXRpb24sdGV4dFBvc2l0aW9uLGluc2VydGlvbk1vZGVdLGVycm9yQ2FsbGJhY2spO307QmFyY29kZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZEF0Rml4ZWRQb3NpdGlvbk9uUGFnZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLGJhcmNvZGVUeXBlLHRleHQscGFnZU51bWJlcixsb2NhdGlvbixpbnNlcnRpb25Nb2RlKXtpZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31pZighaXNJbnRlZ2VyKGJhcmNvZGVUeXBlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImJhcmNvZGVUeXBlXCIgbXVzdCBiZSBvbmUgb2YgdGhlIFRYVGV4dENvbnRyb2wuQmFyY29kZVR5cGUgdmFsdWVzLlxcJyk7fWlmKHR5cGVvZiB0ZXh0IT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31pZighaXNJbnRlZ2VyKHBhZ2VOdW1iZXIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wicGFnZU51bWJlclwiIG11c3QgYmUgYW4gaW50ZWdlci5cXCcpO31pZigobG9jYXRpb249PT1udWxsKXx8KGxvY2F0aW9uPT09dW5kZWZpbmVkKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQbGVhc2UgcHJvdmlkZSB0aGUgXCJsb2NhdGlvblwiIHBhcmFtZXRlci5cXCcpO31pZighbG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJ4XCIpfHwhbG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJ5XCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImxvY2F0aW9uXCIgbXVzdCBoYXZlIHByb3BlcnRpZXMgXCJ4XCIgYW5kIFwieVwiLlxcJyk7fWlmKCFpc0ludGVnZXIoaW5zZXJ0aW9uTW9kZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJpbnNlcnRpb25Nb2RlXCIgbXVzdCBiZSBvbmUgb2YgdGhlIHZhbHVlcyBkZWZpbmVkIGluIFRYVGV4dENvbnRyb2wuRnJhbWVJbnNlcnRpb25Nb2RlLlxcJyk7fXRoaXMuY2FsbE1ldGhvZChiLkZyYW1lQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkQXRGaXhlZFBvc2l0aW9uT25QYWdlLGUodGhpcyxjYWxsYmFjayksW2JhcmNvZGVUeXBlLHRleHQscGFnZU51bWJlcixsb2NhdGlvbixpbnNlcnRpb25Nb2RlXSxlcnJvckNhbGxiYWNrKTt9O0JhcmNvZGVDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRBdEZpeGVkUG9zaXRpb25JbkRvY3VtZW50PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2ssYmFyY29kZVR5cGUsdGV4dCxsb2NhdGlvbixpbnNlcnRpb25Nb2RlKXtpZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31pZighaXNJbnRlZ2VyKGJhcmNvZGVUeXBlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImJhcmNvZGVUeXBlXCIgbXVzdCBiZSBvbmUgb2YgdGhlIFRYVGV4dENvbnRyb2wuQmFyY29kZVR5cGUgdmFsdWVzLlxcJyk7fWlmKHR5cGVvZiB0ZXh0IT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31pZigobG9jYXRpb249PT1udWxsKXx8KGxvY2F0aW9uPT09dW5kZWZpbmVkKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQbGVhc2UgcHJvdmlkZSB0aGUgXCJsb2NhdGlvblwiIHBhcmFtZXRlci5cXCcpO31pZighbG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJ4XCIpfHwhbG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJ5XCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImxvY2F0aW9uXCIgbXVzdCBoYXZlIHByb3BlcnRpZXMgXCJ4XCIgYW5kIFwieVwiLlxcJyk7fWlmKCFpc0ludGVnZXIoaW5zZXJ0aW9uTW9kZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJpbnNlcnRpb25Nb2RlXCIgbXVzdCBiZSBvbmUgb2YgdGhlIHZhbHVlcyBkZWZpbmVkIGluIFRYVGV4dENvbnRyb2wuRnJhbWVJbnNlcnRpb25Nb2RlLlxcJyk7fXRoaXMuY2FsbE1ldGhvZChiLkZyYW1lQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkQXRGaXhlZFBvc2l0aW9uSW5Eb2N1bWVudCxlKHRoaXMsY2FsbGJhY2spLFtiYXJjb2RlVHlwZSx0ZXh0LGxvY2F0aW9uLGluc2VydGlvbk1vZGVdLGVycm9yQ2FsbGJhY2spO307QmFyY29kZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZFdpdGhNb3VzZT1mdW5jdGlvbihiYXJjb2RlVHlwZSx0ZXh0LGluc2VydGlvbk1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcihiYXJjb2RlVHlwZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJiYXJjb2RlVHlwZVwiIG11c3QgYmUgb25lIG9mIHRoZSBUWFRleHRDb250cm9sLkJhcmNvZGVUeXBlIHZhbHVlcy5cXCcpO31pZih0eXBlb2YgdGV4dCE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9aWYoIWlzSW50ZWdlcihpbnNlcnRpb25Nb2RlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImluc2VydGlvbk1vZGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgdmFsdWVzIGRlZmluZWQgaW4gVFhUZXh0Q29udHJvbC5GcmFtZUluc2VydGlvbk1vZGUuXFwnKTt9dGhpcy5jYWxsTWV0aG9kKGIuRnJhbWVDb2xsZWN0aW9uTWV0aG9kTmFtZS5BZGRXaXRoTW91c2UsY2FsbGJhY2ssW2JhcmNvZGVUeXBlLHRleHQsaW5zZXJ0aW9uTW9kZV0sZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLGlkKXt2YXIgZz10aGlzO2lmKCh0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiKSYmKHR5cGVvZiBpZCE9PVwibnVtYmVyXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImlkXCIgbXVzdCBiZSBhIG51bWJlci5cXCcpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO312YXIgZj0odHlwZW9mIGlkIT09XCJ1bmRlZmluZWRcIik/W2lkXTpbXTt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGgpe2NhbGxiYWNrKGcuX2FkYXB0KGgpKTt9LGYsZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbUJ5TmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLG5hbWUpe3ZhciBmPXRoaXM7aWYodHlwZW9mIG5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcIm5hbWVcIiBtdXN0IGJlIGEgc3RyaW5nLlxcJyk7fXRoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oZyl7Y2FsbGJhY2soZi5fYWRhcHQoZykpO30sW25hbWVdLGVycm9yQ2FsbGJhY2spO307QmFyY29kZUNvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihiYXJjb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLlJlbW92ZSxjYWxsYmFjayxbYmFyY29kZS5fLmhhc2hjb2RlLGJhcmNvZGUuXy5pbmRleF0sZXJyb3JDYWxsYmFjayk7fTtCYXJjb2RlQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGcpe2lmKGc9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGY9bmV3IGIuQmFyY29kZUZyYW1lKGcuaGFzaGNvZGUsZy5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihmLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2cuaGFzaGNvZGUsZy5pbmRleF0pO3JldHVybiBmO307cmV0dXJuIEJhcmNvZGVDb2xsZWN0aW9uO30pKGIuRnJhbWVCYXNlQ29sbGVjdGlvbik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5JbWFnZUluc2VydGlvbk1vZGU9e307Yi5JbWFnZUNvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhJbWFnZUNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gSW1hZ2VDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31mdW5jdGlvbiBlKGcsZil7cmV0dXJuIGZ1bmN0aW9uKGgpe2lmKCFmKXtyZXR1cm47fXZhciBpPWghPT1udWxsP2cuX2FkYXB0KGgpOm51bGw7ZihpKTt9O31JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZElubGluZT1mdW5jdGlvbihpbWFnZURhdGEsdGV4dFBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBpbWFnZURhdGEhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWlmKCFpc0ludGVnZXIodGV4dFBvc2l0aW9uKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcInRleHRQb3NpdGlvblwiIG11c3QgYmUgYW4gaW50ZWdlci5cXCcpO310aGlzLmNhbGxNZXRob2QoYi5GcmFtZUNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZElubGluZSxlKHRoaXMsY2FsbGJhY2spLFtpbWFnZURhdGEsdGV4dFBvc2l0aW9uXSxlcnJvckNhbGxiYWNrKTt9O0ltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkQW5jaG9yZWQ9ZnVuY3Rpb24oaW1hZ2VEYXRhLGhvcml6b250YWxBbGlnbm1lbnQsdGV4dFBvc2l0aW9uLGluc2VydGlvbk1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGltYWdlRGF0YSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9aWYoIWlzSW50ZWdlcihob3Jpem9udGFsQWxpZ25tZW50KSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImhvcml6b250YWxBbGlnbm1lbnRcIiBtdXN0IGJlIG9uZSBvZiB0aGUgdmFsdWVzIGRlZmluZWQgaW4gVFhUZXh0Q29udHJvbC5Ib3Jpem9udGFsQWxpZ25tZW50LlxcJyk7fWlmKCFpc0ludGVnZXIodGV4dFBvc2l0aW9uKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcInRleHRQb3NpdGlvblwiIG11c3QgYmUgYW4gaW50ZWdlci5cXCcpO31pZighaXNJbnRlZ2VyKGluc2VydGlvbk1vZGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiaW5zZXJ0aW9uTW9kZVwiIG11c3QgYmUgb25lIG9mIHRoZSB2YWx1ZXMgZGVmaW5lZCBpbiBUWFRleHRDb250cm9sLkZyYW1lSW5zZXJ0aW9uTW9kZS5cXCcpO310aGlzLmNhbGxNZXRob2QoYi5GcmFtZUNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZEFuY2hvcmVkLGUodGhpcyxjYWxsYmFjayksW2ltYWdlRGF0YSxob3Jpem9udGFsQWxpZ25tZW50LHRleHRQb3NpdGlvbixpbnNlcnRpb25Nb2RlXSxlcnJvckNhbGxiYWNrKTt9O0ltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkQW5jaG9yZWRBdExvY2F0aW9uPWZ1bmN0aW9uKGltYWdlRGF0YSxsb2NhdGlvbix0ZXh0UG9zaXRpb24saW5zZXJ0aW9uTW9kZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaW1hZ2VEYXRhIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31pZigobG9jYXRpb249PT1udWxsKXx8KGxvY2F0aW9uPT09dW5kZWZpbmVkKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQbGVhc2UgcHJvdmlkZSB0aGUgXCJsb2NhdGlvblwiIHBhcmFtZXRlci5cXCcpO31pZighbG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJ4XCIpfHwhbG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJ5XCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImxvY2F0aW9uXCIgbXVzdCBoYXZlIHByb3BlcnRpZXMgXCJ4XCIgYW5kIFwieVwiLlxcJyk7fWlmKCFpc0ludGVnZXIodGV4dFBvc2l0aW9uKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcInRleHRQb3NpdGlvblwiIG11c3QgYmUgYW4gaW50ZWdlci5cXCcpO31pZighaXNJbnRlZ2VyKGluc2VydGlvbk1vZGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiaW5zZXJ0aW9uTW9kZVwiIG11c3QgYmUgb25lIG9mIHRoZSB2YWx1ZXMgZGVmaW5lZCBpbiBUWFRleHRDb250cm9sLkZyYW1lSW5zZXJ0aW9uTW9kZS5cXCcpO310aGlzLmNhbGxNZXRob2QoYi5GcmFtZUNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZEFuY2hvcmVkQXRMb2NhdGlvbixlKHRoaXMsY2FsbGJhY2spLFtpbWFnZURhdGEsbG9jYXRpb24sdGV4dFBvc2l0aW9uLGluc2VydGlvbk1vZGVdLGVycm9yQ2FsbGJhY2spO307SW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRBdEZpeGVkUG9zaXRpb25PblBhZ2U9ZnVuY3Rpb24oZixwYWdlTnVtYmVyLGxvY2F0aW9uLGluc2VydGlvbk1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGYhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWlmKCFpc0ludGVnZXIocGFnZU51bWJlcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJwYWdlTnVtYmVyXCIgbXVzdCBiZSBhbiBpbnRlZ2VyLlxcJyk7fWlmKChsb2NhdGlvbj09PW51bGwpfHwobG9jYXRpb249PT11bmRlZmluZWQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BsZWFzZSBwcm92aWRlIHRoZSBcImxvY2F0aW9uXCIgcGFyYW1ldGVyLlxcJyk7fWlmKCFsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eShcInhcIil8fCFsb2NhdGlvbi5oYXNPd25Qcm9wZXJ0eShcInlcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwibG9jYXRpb25cIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcInhcIiBhbmQgXCJ5XCIuXFwnKTt9aWYoIWlzSW50ZWdlcihpbnNlcnRpb25Nb2RlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImluc2VydGlvbk1vZGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgdmFsdWVzIGRlZmluZWQgaW4gVFhUZXh0Q29udHJvbC5GcmFtZUluc2VydGlvbk1vZGUuXFwnKTt9dGhpcy5jYWxsTWV0aG9kKGIuRnJhbWVDb2xsZWN0aW9uTWV0aG9kTmFtZS5BZGRBdEZpeGVkUG9zaXRpb25PblBhZ2UsZSh0aGlzLGNhbGxiYWNrKSxbZixwYWdlTnVtYmVyLGxvY2F0aW9uLGluc2VydGlvbk1vZGVdLGVycm9yQ2FsbGJhY2spO307SW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRBdEZpeGVkUG9zaXRpb249SW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRBdEZpeGVkUG9zaXRpb25PblBhZ2U7SW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRBdEZpeGVkUG9zaXRpb25JbkRvY3VtZW50PWZ1bmN0aW9uKGYsbG9jYXRpb24saW5zZXJ0aW9uTW9kZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgZiE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9aWYoKGxvY2F0aW9uPT09bnVsbCl8fChsb2NhdGlvbj09PXVuZGVmaW5lZCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGxlYXNlIHByb3ZpZGUgdGhlIFwibG9jYXRpb25cIiBwYXJhbWV0ZXIuXFwnKTt9aWYoIWxvY2F0aW9uLmhhc093blByb3BlcnR5KFwieFwiKXx8IWxvY2F0aW9uLmhhc093blByb3BlcnR5KFwieVwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJsb2NhdGlvblwiIG11c3QgaGF2ZSBwcm9wZXJ0aWVzIFwieFwiIGFuZCBcInlcIi5cXCcpO31pZighaXNJbnRlZ2VyKGluc2VydGlvbk1vZGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiaW5zZXJ0aW9uTW9kZVwiIG11c3QgYmUgb25lIG9mIHRoZSB2YWx1ZXMgZGVmaW5lZCBpbiBUWFRleHRDb250cm9sLkZyYW1lSW5zZXJ0aW9uTW9kZS5cXCcpO310aGlzLmNhbGxNZXRob2QoYi5GcmFtZUNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZEF0Rml4ZWRQb3NpdGlvbkluRG9jdW1lbnQsZSh0aGlzLGNhbGxiYWNrKSxbZixsb2NhdGlvbixpbnNlcnRpb25Nb2RlXSxlcnJvckNhbGxiYWNrKTt9O0ltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLGlkKXt2YXIgZz10aGlzO2lmKCh0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiKSYmKHR5cGVvZiBpZCE9PVwibnVtYmVyXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImlkXCIgbXVzdCBiZSBhIG51bWJlci5cXCcpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO312YXIgZj0odHlwZW9mIGlkIT09XCJ1bmRlZmluZWRcIik/W2lkXTpbXTt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGgpe2NhbGxiYWNrKGcuX2FkYXB0KGgpKTt9LGYsZXJyb3JDYWxsYmFjayk7fTtJbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW1CeU5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayxuYW1lKXt2YXIgZj10aGlzO2lmKHR5cGVvZiBuYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJuYW1lXCIgbXVzdCBiZSBhIHN0cmluZy5cXCcpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO310aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGcpe2NhbGxiYWNrKGYuX2FkYXB0KGcpKTt9LFtuYW1lXSxlcnJvckNhbGxiYWNrKTt9O0ltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGltYWdlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLlJlbW92ZSxjYWxsYmFjayxbaW1hZ2UuXy5oYXNoY29kZSxpbWFnZS5fLmluZGV4XSxlcnJvckNhbGxiYWNrKTt9O0ltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGcpe2lmKGc9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGY9bmV3IGIuSW1hZ2UoZy5oYXNoY29kZSxnLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGYsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZy5oYXNoY29kZSxnLmluZGV4XSk7cmV0dXJuIGY7fTtyZXR1cm4gSW1hZ2VDb2xsZWN0aW9uO30pKGIuRnJhbWVCYXNlQ29sbGVjdGlvbik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5UZXh0RnJhbWVJbnNlcnRpb25Nb2RlPXt9O2IuVGV4dEZyYW1lQ29sbGVjdGlvbj0oZnVuY3Rpb24oZCl7X19leHRlbmRzKFRleHRGcmFtZUNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gVGV4dEZyYW1lQ29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9ZnVuY3Rpb24gZShnLGYpe3JldHVybiBmdW5jdGlvbihoKXtpZighZil7cmV0dXJuO312YXIgaT1oIT09bnVsbD9nLl9hZGFwdChoKTpudWxsO2YoaSk7fTt9VGV4dEZyYW1lQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkSW5saW5lPWZ1bmN0aW9uKHNpemUsdGV4dFBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKChzaXplPT09bnVsbCl8fChzaXplPT09dW5kZWZpbmVkKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQbGVhc2UgcHJvdmlkZSB0aGUgXCJzaXplXCIgcGFyYW1ldGVyLlxcJyk7fWlmKCFzaXplLmhhc093blByb3BlcnR5KFwid2lkdGhcIil8fCFzaXplLmhhc093blByb3BlcnR5KFwiaGVpZ2h0XCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcInNpemVcIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcIndpZHRoXCIgYW5kIFwiaGVpZ2h0XCIuXFwnKTt9aWYoIWlzSW50ZWdlcih0ZXh0UG9zaXRpb24pKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1widGV4dFBvc2l0aW9uXCIgbXVzdCBiZSBhbiBpbnRlZ2VyLlxcJyk7fXRoaXMuY2FsbE1ldGhvZChiLkZyYW1lQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkSW5saW5lLGUodGhpcyxjYWxsYmFjayksW3NpemUsdGV4dFBvc2l0aW9uXSxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZEFuY2hvcmVkPWZ1bmN0aW9uKHNpemUsaG9yaXpvbnRhbEFsaWdubWVudCx0ZXh0UG9zaXRpb24saW5zZXJ0aW9uTW9kZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZigoc2l6ZT09PW51bGwpfHwoc2l6ZT09PXVuZGVmaW5lZCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGxlYXNlIHByb3ZpZGUgdGhlIFwic2l6ZVwiIHBhcmFtZXRlci5cXCcpO31pZighc2l6ZS5oYXNPd25Qcm9wZXJ0eShcIndpZHRoXCIpfHwhc2l6ZS5oYXNPd25Qcm9wZXJ0eShcImhlaWdodFwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJzaXplXCIgbXVzdCBoYXZlIHByb3BlcnRpZXMgXCJ3aWR0aFwiIGFuZCBcImhlaWdodFwiLlxcJyk7fWlmKCFpc0ludGVnZXIoaG9yaXpvbnRhbEFsaWdubWVudCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJob3Jpem9udGFsQWxpZ25tZW50XCIgbXVzdCBiZSBvbmUgb2YgdGhlIHZhbHVlcyBkZWZpbmVkIGluIFRYVGV4dENvbnRyb2wuSG9yaXpvbnRhbEFsaWdubWVudC5cXCcpO31pZighaXNJbnRlZ2VyKHRleHRQb3NpdGlvbikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJ0ZXh0UG9zaXRpb25cIiBtdXN0IGJlIGFuIGludGVnZXIuXFwnKTt9aWYoIWlzSW50ZWdlcihpbnNlcnRpb25Nb2RlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImluc2VydGlvbk1vZGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgdmFsdWVzIGRlZmluZWQgaW4gVFhUZXh0Q29udHJvbC5UZXh0RnJhbWVJbnNlcnRpb25Nb2RlLlxcJyk7fXRoaXMuY2FsbE1ldGhvZChiLkZyYW1lQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkQW5jaG9yZWQsZSh0aGlzLGNhbGxiYWNrKSxbc2l6ZSxob3Jpem9udGFsQWxpZ25tZW50LHRleHRQb3NpdGlvbixpbnNlcnRpb25Nb2RlXSxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZEFuY2hvcmVkQXRMb2NhdGlvbj1mdW5jdGlvbihzaXplLGxvY2F0aW9uLHRleHRQb3NpdGlvbixpbnNlcnRpb25Nb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKChzaXplPT09bnVsbCl8fChzaXplPT09dW5kZWZpbmVkKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQbGVhc2UgcHJvdmlkZSB0aGUgXCJzaXplXCIgcGFyYW1ldGVyLlxcJyk7fWlmKCFzaXplLmhhc093blByb3BlcnR5KFwid2lkdGhcIil8fCFzaXplLmhhc093blByb3BlcnR5KFwiaGVpZ2h0XCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcInNpemVcIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcIndpZHRoXCIgYW5kIFwiaGVpZ2h0XCIuXFwnKTt9aWYoKGxvY2F0aW9uPT09bnVsbCl8fChsb2NhdGlvbj09PXVuZGVmaW5lZCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGxlYXNlIHByb3ZpZGUgdGhlIFwibG9jYXRpb25cIiBwYXJhbWV0ZXIuXFwnKTt9aWYoIWxvY2F0aW9uLmhhc093blByb3BlcnR5KFwieFwiKXx8IWxvY2F0aW9uLmhhc093blByb3BlcnR5KFwieVwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJsb2NhdGlvblwiIG11c3QgaGF2ZSBwcm9wZXJ0aWVzIFwieFwiIGFuZCBcInlcIi5cXCcpO31pZighaXNJbnRlZ2VyKHRleHRQb3NpdGlvbikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJ0ZXh0UG9zaXRpb25cIiBtdXN0IGJlIGFuIGludGVnZXIuXFwnKTt9aWYoIWlzSW50ZWdlcihpbnNlcnRpb25Nb2RlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImluc2VydGlvbk1vZGVcIiBtdXN0IGJlIG9uZSBvZiB0aGUgdmFsdWVzIGRlZmluZWQgaW4gVFhUZXh0Q29udHJvbC5UZXh0RnJhbWVJbnNlcnRpb25Nb2RlLlxcJyk7fXRoaXMuY2FsbE1ldGhvZChiLkZyYW1lQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkQW5jaG9yZWRBdExvY2F0aW9uLGUodGhpcyxjYWxsYmFjayksW3NpemUsbG9jYXRpb24sdGV4dFBvc2l0aW9uLGluc2VydGlvbk1vZGVdLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkQXRGaXhlZFBvc2l0aW9uT25QYWdlPWZ1bmN0aW9uKHNpemUscGFnZU51bWJlcixsb2NhdGlvbixpbnNlcnRpb25Nb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKChzaXplPT09bnVsbCl8fChzaXplPT09dW5kZWZpbmVkKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQbGVhc2UgcHJvdmlkZSB0aGUgXCJzaXplXCIgcGFyYW1ldGVyLlxcJyk7fWlmKCFzaXplLmhhc093blByb3BlcnR5KFwid2lkdGhcIil8fCFzaXplLmhhc093blByb3BlcnR5KFwiaGVpZ2h0XCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcInNpemVcIiBtdXN0IGhhdmUgcHJvcGVydGllcyBcIndpZHRoXCIgYW5kIFwiaGVpZ2h0XCIuXFwnKTt9aWYoIWlzSW50ZWdlcihwYWdlTnVtYmVyKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcInBhZ2VOdW1iZXJcIiBtdXN0IGJlIGFuIGludGVnZXIuXFwnKTt9aWYoKGxvY2F0aW9uPT09bnVsbCl8fChsb2NhdGlvbj09PXVuZGVmaW5lZCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGxlYXNlIHByb3ZpZGUgdGhlIFwibG9jYXRpb25cIiBwYXJhbWV0ZXIuXFwnKTt9aWYoIWxvY2F0aW9uLmhhc093blByb3BlcnR5KFwieFwiKXx8IWxvY2F0aW9uLmhhc093blByb3BlcnR5KFwieVwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJsb2NhdGlvblwiIG11c3QgaGF2ZSBwcm9wZXJ0aWVzIFwieFwiIGFuZCBcInlcIi5cXCcpO31pZighaXNJbnRlZ2VyKGluc2VydGlvbk1vZGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiaW5zZXJ0aW9uTW9kZVwiIG11c3QgYmUgb25lIG9mIHRoZSB2YWx1ZXMgZGVmaW5lZCBpbiBUWFRleHRDb250cm9sLlRleHRGcmFtZUluc2VydGlvbk1vZGUuXFwnKTt9dGhpcy5jYWxsTWV0aG9kKGIuRnJhbWVDb2xsZWN0aW9uTWV0aG9kTmFtZS5BZGRBdEZpeGVkUG9zaXRpb25PblBhZ2UsZSh0aGlzLGNhbGxiYWNrKSxbc2l6ZSxwYWdlTnVtYmVyLGxvY2F0aW9uLGluc2VydGlvbk1vZGVdLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkQXRGaXhlZFBvc2l0aW9uSW5Eb2N1bWVudD1mdW5jdGlvbihzaXplLGxvY2F0aW9uLGluc2VydGlvbk1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoKHNpemU9PT1udWxsKXx8KHNpemU9PT11bmRlZmluZWQpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BsZWFzZSBwcm92aWRlIHRoZSBcInNpemVcIiBwYXJhbWV0ZXIuXFwnKTt9aWYoIXNpemUuaGFzT3duUHJvcGVydHkoXCJ3aWR0aFwiKXx8IXNpemUuaGFzT3duUHJvcGVydHkoXCJoZWlnaHRcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwic2l6ZVwiIG11c3QgaGF2ZSBwcm9wZXJ0aWVzIFwid2lkdGhcIiBhbmQgXCJoZWlnaHRcIi5cXCcpO31pZigobG9jYXRpb249PT1udWxsKXx8KGxvY2F0aW9uPT09dW5kZWZpbmVkKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQbGVhc2UgcHJvdmlkZSB0aGUgXCJsb2NhdGlvblwiIHBhcmFtZXRlci5cXCcpO31pZighbG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJ4XCIpfHwhbG9jYXRpb24uaGFzT3duUHJvcGVydHkoXCJ5XCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImxvY2F0aW9uXCIgbXVzdCBoYXZlIHByb3BlcnRpZXMgXCJ4XCIgYW5kIFwieVwiLlxcJyk7fWlmKCFpc0ludGVnZXIoaW5zZXJ0aW9uTW9kZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJpbnNlcnRpb25Nb2RlXCIgbXVzdCBiZSBvbmUgb2YgdGhlIHZhbHVlcyBkZWZpbmVkIGluIFRYVGV4dENvbnRyb2wuVGV4dEZyYW1lSW5zZXJ0aW9uTW9kZS5cXCcpO310aGlzLmNhbGxNZXRob2QoYi5GcmFtZUNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZEF0Rml4ZWRQb3NpdGlvbkluRG9jdW1lbnQsZSh0aGlzLGNhbGxiYWNrKSxbc2l6ZSxsb2NhdGlvbixpbnNlcnRpb25Nb2RlXSxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZFdpdGhNb3VzZT1mdW5jdGlvbihpbnNlcnRpb25Nb2RlLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIoaW5zZXJ0aW9uTW9kZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJpbnNlcnRpb25Nb2RlXCIgbXVzdCBiZSBvbmUgb2YgdGhlIHZhbHVlcyBkZWZpbmVkIGluIFRYVGV4dENvbnRyb2wuVGV4dEZyYW1lSW5zZXJ0aW9uTW9kZS5cXCcpO310aGlzLmNhbGxNZXRob2QoYi5GcmFtZUNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZFdpdGhNb3VzZSxudWxsLFtpbnNlcnRpb25Nb2RlXSxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayxpZCl7dmFyIGc9dGhpcztpZigodHlwZW9mIGlkIT09XCJ1bmRlZmluZWRcIikmJih0eXBlb2YgaWQhPT1cIm51bWJlclwiKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJpZFwiIG11c3QgYmUgYSBudW1iZXIuXFwnKTt9dmFyIGY9KHR5cGVvZiBpZCE9PVwidW5kZWZpbmVkXCIpP1tpZF06W107dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihoKXtjYWxsYmFjayhnLl9hZGFwdChoKSk7fSxmLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbUJ5TmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLG5hbWUpe3ZhciBmPXRoaXM7aWYodHlwZW9mIG5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcIm5hbWVcIiBtdXN0IGJlIGEgc3RyaW5nLlxcJyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXRoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oZyl7Y2FsbGJhY2soZi5fYWRhcHQoZykpO30sW25hbWVdLGVycm9yQ2FsbGJhY2spO307VGV4dEZyYW1lQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHRleHRGcmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5SZW1vdmUsY2FsbGJhY2ssW3RleHRGcmFtZS5fLmhhc2hjb2RlLHRleHRGcmFtZS5fLmluZGV4XSxlcnJvckNhbGxiYWNrKTt9O1RleHRGcmFtZUNvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihnKXtpZihnPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBmPW5ldyBiLlRleHRGcmFtZShnLmhhc2hjb2RlLGcuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZixiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtnLmhhc2hjb2RlLGcuaW5kZXhdKTtyZXR1cm4gZjt9O3JldHVybiBUZXh0RnJhbWVDb2xsZWN0aW9uO30pKGIuRnJhbWVCYXNlQ29sbGVjdGlvbik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7SGlnaGxpZ2h0Q29sb3I6XCJIaWdobGlnaHRDb2xvclwiLEhpZ2hsaWdodE1vZGU6XCJIaWdobGlnaHRNb2RlXCIsSUQ6XCJJRFwiLExlbmd0aDpcIkxlbmd0aFwiLFN0YXJ0OlwiU3RhcnRcIixUZXh0OlwiVGV4dFwiLFVzZXJOYW1lOlwiVXNlck5hbWVcIn0pO3ZhciBjPU9iamVjdC5mcmVlemUoe1Njcm9sbFRvOlwiU2Nyb2xsVG9cIixTYXZlOlwiU2F2ZVwifSk7Yi5FZGl0YWJsZVJlZ2lvbj0oZnVuY3Rpb24oZil7X19leHRlbmRzKEVkaXRhYmxlUmVnaW9uLGYpO2Z1bmN0aW9uIEVkaXRhYmxlUmVnaW9uKGcsaCl7Zi5jYWxsKHRoaXMsZyxoKTt9RWRpdGFibGVSZWdpb24ucHJvdG90eXBlLmdldEhpZ2hsaWdodENvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RWRpdGFibGVSZWdpb24ucHJvdG90eXBlLnNldEhpZ2hsaWdodENvbG9yPWZ1bmN0aW9uKGhpZ2hsaWdodENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBoaWdobGlnaHRDb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSGlnaGxpZ2h0Q29sb3IsaGlnaGxpZ2h0Q29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtFZGl0YWJsZVJlZ2lvbi5wcm90b3R5cGUuZ2V0SGlnaGxpZ2h0TW9kZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5IaWdobGlnaHRNb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RWRpdGFibGVSZWdpb24ucHJvdG90eXBlLnNldEhpZ2hsaWdodE1vZGU9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5IaWdobGlnaHRNb2RlLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RWRpdGFibGVSZWdpb24ucHJvdG90eXBlLmdldElEPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklELGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RWRpdGFibGVSZWdpb24ucHJvdG90eXBlLnNldElEPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSUQsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtFZGl0YWJsZVJlZ2lvbi5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxlbmd0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0VkaXRhYmxlUmVnaW9uLnByb3RvdHlwZS5nZXRTdGFydD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TdGFydCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0VkaXRhYmxlUmVnaW9uLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtFZGl0YWJsZVJlZ2lvbi5wcm90b3R5cGUuZ2V0VXNlck5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVXNlck5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtFZGl0YWJsZVJlZ2lvbi5wcm90b3R5cGUuc2V0VXNlck5hbWU9ZnVuY3Rpb24odXNlcm5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuVXNlck5hbWUsdXNlcm5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtFZGl0YWJsZVJlZ2lvbi5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbihzdHJlYW1UeXBlLGNhbGxiYWNrLHNhdmVTZXR0aW5ncyxlcnJvckNhbGxiYWNrKXtzYXZlU2V0dGluZ3M9c2F2ZVNldHRpbmdzfHxudWxsO3RoaXMuY2FsbE1ldGhvZChjLlNhdmUsY2FsbGJhY2ssW3N0cmVhbVR5cGUsc2F2ZVNldHRpbmdzXSxlcnJvckNhbGxiYWNrKTt9O0VkaXRhYmxlUmVnaW9uLnByb3RvdHlwZS5zY3JvbGxUbz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5TY3JvbGxUbyxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBFZGl0YWJsZVJlZ2lvbjt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtyZXR1cm4gZTt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtHZXRJdGVtczpcIkdldEl0ZW1zXCJ9KTtiLkVkaXRhYmxlUmVnaW9uQ29sbGVjdGlvbj0oZnVuY3Rpb24oZSl7X19leHRlbmRzKEVkaXRhYmxlUmVnaW9uQ29sbGVjdGlvbixlKTtmdW5jdGlvbiBFZGl0YWJsZVJlZ2lvbkNvbGxlY3Rpb24oKXtlLmNhbGwodGhpcyk7fUVkaXRhYmxlUmVnaW9uQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHVzZXJuYW1lLGlkLGosaCxmLGcpe2lmKHR5cGVvZiB1c2VybmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9aWYodHlwZW9mIGlkIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZih0eXBlb2YgaiE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aWYodHlwZW9mIGghPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXZhciBpPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkLGY/ZnVuY3Rpb24oayl7dmFyIGw9e2VkaXRhYmxlUmVnaW9uOmkuX2FkYXB0KGsuZWRpdGFibGVSZWdpb24pLGFkZFJlc3VsdDprLmFkZFJlc3VsdH07ZihsKTt9Om51bGwsW3VzZXJuYW1lLGlkLGosaF0sZyk7fTtFZGl0YWJsZVJlZ2lvbkNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW1zPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBnPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGMuR2V0SXRlbXMsY2FsbGJhY2s/ZnVuY3Rpb24oaCl7Y2FsbGJhY2soZihoKSk7fTpudWxsLFtdLGVycm9yQ2FsbGJhY2spO2Z1bmN0aW9uIGYoaCl7aWYoaD09PW51bGwpe3JldHVybiBudWxsO31yZXR1cm4gaC5tYXAoZnVuY3Rpb24oaSl7cmV0dXJuIGcuX2FkYXB0KGkpO30pO319O0VkaXRhYmxlUmVnaW9uQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGVkaXRhYmxlUmVnaW9uLHNlbGVjdGVkUGFydCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt2YXIgZj10aGlzO2lmKCh0eXBlb2Ygc2VsZWN0ZWRQYXJ0IT09XCJ1bmRlZmluZWRcIikmJih0eXBlb2Ygc2VsZWN0ZWRQYXJ0IT09XCJib29sZWFuXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXNlbGVjdGVkUGFydD1zZWxlY3RlZFBhcnR8fGZhbHNlO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLlJlbW92ZSxjYWxsYmFjayxbZWRpdGFibGVSZWdpb24uXy5oYXNoY29kZSxlZGl0YWJsZVJlZ2lvbi5fLmluZGV4LHNlbGVjdGVkUGFydF0sZXJyb3JDYWxsYmFjayk7fTtFZGl0YWJsZVJlZ2lvbkNvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihnKXtpZihnPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBmPW5ldyBiLkVkaXRhYmxlUmVnaW9uKGcuaGFzaGNvZGUsZy5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihmLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2cuaGFzaGNvZGUsZy5pbmRleF0pO3JldHVybiBmO307cmV0dXJuIEVkaXRhYmxlUmVnaW9uQ29sbGVjdGlvbjt9KShiLkNvbGxlY3Rpb24pO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0Jhc2VsaW5lOlwiQmFzZWxpbmVcIixMZW5ndGg6XCJMZW5ndGhcIixOdW1iZXI6XCJOdW1iZXJcIixQYWdlOlwiUGFnZVwiLFN0YXJ0OlwiU3RhcnRcIixUZXh0OlwiVGV4dFwiLFRleHRCb3VuZHM6XCJUZXh0Qm91bmRzXCJ9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtTYXZlOlwiU2F2ZVwifSk7Yi5MaW5lPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoTGluZSxmKTtmdW5jdGlvbiBMaW5lKGcsaCl7Zi5jYWxsKHRoaXMsZyxoKTt9TGluZS5wcm90b3R5cGUuZ2V0QmFzZWxpbmU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQmFzZWxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtMaW5lLnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTGVuZ3RoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGluZS5wcm90b3R5cGUuZ2V0TnVtYmVyPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLk51bWJlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpbmUucHJvdG90eXBlLmdldFBhZ2U9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuUGFnZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0xpbmUucHJvdG90eXBlLmdldFN0YXJ0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlN0YXJ0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGluZS5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5UZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGluZS5wcm90b3R5cGUuZ2V0VGV4dEJvdW5kcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5UZXh0Qm91bmRzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TGluZS5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbihzdHJlYW1UeXBlLGNhbGxiYWNrLHNhdmVTZXR0aW5ncyxlcnJvckNhbGxiYWNrKXtpZighc3RyZWFtVHlwZSl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0Lk5vU3RyZWFtVHlwZSk7fWlmKCFjYWxsYmFjayl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31zYXZlU2V0dGluZ3M9c2F2ZVNldHRpbmdzfHxudWxsO3RoaXMuY2FsbE1ldGhvZChjLlNhdmUsY2FsbGJhY2ssW3N0cmVhbVR5cGUsc2F2ZVNldHRpbmdzXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBMaW5lO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuTGluZUNvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhMaW5lQ29sbGVjdGlvbixkKTtmdW5jdGlvbiBMaW5lQ29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9TGluZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oY2FsbGJhY2ssdGV4dFBvc2l0aW9uLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0ZXh0UG9zaXRpb24hPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fSxbdGV4dFBvc2l0aW9uXSxlcnJvckNhbGxiYWNrKTt9O0xpbmVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtQXRMb2NhdGlvbj1mdW5jdGlvbih4LHksY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHghPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiB5IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO312YXIgZT10aGlzO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oZil7Y2FsbGJhY2soZS5fYWRhcHQoZikpO30sW3gseV0sZXJyb3JDYWxsYmFjayk7fTtMaW5lQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGYpe2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGU9bmV3IGIuTGluZShmLmhhc2hjb2RlLGYuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZSxiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtmLmhhc2hjb2RlLGYuaW5kZXhdKTtyZXR1cm4gZTt9O3JldHVybiBMaW5lQ29sbGVjdGlvbjt9KShiLkNvbGxlY3Rpb24pO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0lzRHVwbGljYXRlOlwiSXNEdXBsaWNhdGVcIixJc0lnbm9yZWQ6XCJJc0lnbm9yZWRcIixMZW5ndGg6XCJMZW5ndGhcIixOdW1iZXI6XCJOdW1iZXJcIixTdGFydDpcIlN0YXJ0XCIsVGV4dDpcIlRleHRcIn0pO3ZhciBjPU9iamVjdC5mcmVlemUoe1NlbGVjdDpcIlNlbGVjdFwifSk7Yi5NaXNzcGVsbGVkV29yZD0oZnVuY3Rpb24oZil7X19leHRlbmRzKE1pc3NwZWxsZWRXb3JkLGYpO2Z1bmN0aW9uIE1pc3NwZWxsZWRXb3JkKGcsaCl7Zi5jYWxsKHRoaXMsZyxoKTt9TWlzc3BlbGxlZFdvcmQucHJvdG90eXBlLmdldElzRHVwbGljYXRlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLklzRHVwbGljYXRlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TWlzc3BlbGxlZFdvcmQucHJvdG90eXBlLmdldElzSWdub3JlZD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Jc0lnbm9yZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtNaXNzcGVsbGVkV29yZC5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxlbmd0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O01pc3NwZWxsZWRXb3JkLnByb3RvdHlwZS5nZXROdW1iZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTnVtYmVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TWlzc3BlbGxlZFdvcmQucHJvdG90eXBlLmdldFN0YXJ0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlN0YXJ0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307TWlzc3BlbGxlZFdvcmQucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVGV4dCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O01pc3NwZWxsZWRXb3JkLnByb3RvdHlwZS5zZXRJc0R1cGxpY2F0ZT1mdW5jdGlvbihpc0R1cGxpY2F0ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Jc0R1cGxpY2F0ZSxpc0R1cGxpY2F0ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O01pc3NwZWxsZWRXb3JkLnByb3RvdHlwZS5zZXRJc0lnbm9yZWQ9ZnVuY3Rpb24oaXNJZ25vcmVkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuc2V0UHJvcGVydHlWYWx1ZShkLklzSWdub3JlZCxpc0lnbm9yZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtNaXNzcGVsbGVkV29yZC5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlNlbGVjdCxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBNaXNzcGVsbGVkV29yZDt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtyZXR1cm4gZTt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtHZXRDb3VudDpcIkdldENvdW50XCIsR2V0SXRlbUF0SW5wdXRQb3NpdGlvbjpcIkdldEl0ZW1BdElucHV0UG9zaXRpb25cIixHZXRJdGVtQXRMb2NhdGlvbjpcIkdldEl0ZW1BdExvY2F0aW9uXCIsR2V0SXRlbUF0VGV4dFBvc2l0aW9uOlwiR2V0SXRlbUF0VGV4dFBvc2l0aW9uXCIsSWdub3JlOlwiSWdub3JlXCJ9KTtiLk1pc3NwZWxsZWRXb3JkQ29sbGVjdGlvbj0oZnVuY3Rpb24oZSl7X19leHRlbmRzKE1pc3NwZWxsZWRXb3JkQ29sbGVjdGlvbixlKTtmdW5jdGlvbiBNaXNzcGVsbGVkV29yZENvbGxlY3Rpb24oKXtlLmNhbGwodGhpcyk7fU1pc3NwZWxsZWRXb3JkQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0Q291bnRPZj1mdW5jdGlvbihraW5kLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBraW5kIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO310aGlzLmNhbGxNZXRob2QoYy5HZXRDb3VudCxjYWxsYmFjayxba2luZF0sZXJyb3JDYWxsYmFjayk7fTtNaXNzcGVsbGVkV29yZENvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW1BdElucHV0UG9zaXRpb249ZnVuY3Rpb24oa2luZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Yga2luZCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dGhpcy5jYWxsTWV0aG9kKGMuR2V0SXRlbUF0SW5wdXRQb3NpdGlvbixjYWxsYmFjayxba2luZF0sZXJyb3JDYWxsYmFjayk7fTtNaXNzcGVsbGVkV29yZENvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW1BdExvY2F0aW9uPWZ1bmN0aW9uKHgseSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgeCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aWYodHlwZW9mIHkhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXRoaXMuY2FsbE1ldGhvZChjLkdldEl0ZW1BdExvY2F0aW9uLGNhbGxiYWNrLFt4LHldLGVycm9yQ2FsbGJhY2spO307TWlzc3BlbGxlZFdvcmRDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtQXRUZXh0UG9zaXRpb249ZnVuY3Rpb24odGV4dFBvc2l0aW9uLGtpbmQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHRleHRQb3NpdGlvbiE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aWYodHlwZW9mIGtpbmQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXRoaXMuY2FsbE1ldGhvZChjLkdldEl0ZW1BdFRleHRQb3NpdGlvbixjYWxsYmFjayxbdGV4dFBvc2l0aW9uLGtpbmRdLGVycm9yQ2FsbGJhY2spO307TWlzc3BlbGxlZFdvcmRDb2xsZWN0aW9uLnByb3RvdHlwZS5pZ25vcmU9ZnVuY3Rpb24obWlzc3BlbGxlZFdvcmQsY2hhbmdlZFRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGNoYW5nZWRUZXh0IT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO310aGlzLmNhbGxNZXRob2QoYy5JZ25vcmUsY2FsbGJhY2ssW21pc3NwZWxsZWRXb3JkLl8uaGFzaGNvZGUsbWlzc3BlbGxlZFdvcmQuXy5pbmRleCxjaGFuZ2VkVGV4dF0sZXJyb3JDYWxsYmFjayk7fTtNaXNzcGVsbGVkV29yZENvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihtaXNzcGVsbGVkV29yZCxmLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO310aGlzLmNhbGxNZXRob2QoYy5JZ25vcmUsY2FsbGJhY2ssW21pc3NwZWxsZWRXb3JkLl8uaGFzaGNvZGUsbWlzc3BlbGxlZFdvcmQuXy5pbmRleCxmXSxlcnJvckNhbGxiYWNrKTt9O01pc3NwZWxsZWRXb3JkQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGcpe2lmKGc9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGY9bmV3IGIuTWlzc3BlbGxlZFdvcmQoZy5oYXNoY29kZSxnLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGYsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZy5oYXNoY29kZSxnLmluZGV4XSk7cmV0dXJuIGY7fTtyZXR1cm4gTWlzc3BlbGxlZFdvcmRDb2xsZWN0aW9uO30pKGIuQ29sbGVjdGlvbik7cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7U2F2ZTpcIlNhdmVcIixTZWxlY3Q6XCJTZWxlY3RcIn0pO3ZhciBkPU9iamVjdC5mcmVlemUoe0Zvcm1hdHRpbmdTdHlsZTpcIkZvcm1hdHRpbmdTdHlsZVwiLExlbmd0aDpcIkxlbmd0aFwiLExpbmVzOlwiTGluZXNcIixMaXN0TnVtYmVyOlwiTGlzdE51bWJlclwiLExpc3ROdW1iZXJUZXh0OlwiTGlzdE51bWJlclRleHRcIixOdW1iZXI6XCJOdW1iZXJcIixTdGFydDpcIlN0YXJ0XCIsU3RhcnRMaW5lOlwiU3RhcnRMaW5lXCIsVGV4dDpcIlRleHRcIixGb3JtYXQ6XCJGb3JtYXRcIixMaXN0Rm9ybWF0OlwiTGlzdEZvcm1hdFwiLH0pO2IuUGFyYWdyYXBoPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoUGFyYWdyYXBoLGYpO2Z1bmN0aW9uIFBhcmFncmFwaChnLGgpe2YuY2FsbCh0aGlzLGcsaCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFBhcmFncmFwaC5wcm90b3R5cGUsXCJsaXN0Rm9ybWF0XCIse2dldDpmdW5jdGlvbigpe3ZhciBpPW5ldyBiLkxpc3RGb3JtYXQoKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihpLGQuTGlzdEZvcm1hdCk7cmV0dXJuIGk7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFyYWdyYXBoLnByb3RvdHlwZSxcImZvcm1hdFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgaT1uZXcgYi5QYXJhZ3JhcGhGb3JtYXQoKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihpLGQuRm9ybWF0KTtyZXR1cm4gaTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO31QYXJhZ3JhcGgucHJvdG90eXBlLmdldEZvcm1hdHRpbmdTdHlsZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Gb3JtYXR0aW5nU3R5bGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGgucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5MZW5ndGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGgucHJvdG90eXBlLmdldExpbmVzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxpbmVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoLnByb3RvdHlwZS5nZXRMaXN0TnVtYmVyPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxpc3ROdW1iZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGgucHJvdG90eXBlLmdldExpc3ROdW1iZXJUZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxpc3ROdW1iZXJUZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoLnByb3RvdHlwZS5nZXRTdGFydD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TdGFydCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaC5wcm90b3R5cGUuZ2V0U3RhcnRMaW5lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlN0YXJ0TGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhcmFncmFwaC5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5UZXh0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoLnByb3RvdHlwZS5zZXRGb3JtYXR0aW5nU3R5bGU9ZnVuY3Rpb24oZm9ybWF0dGluZ1N0eWxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBmb3JtYXR0aW5nU3R5bGUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkZvcm1hdHRpbmdTdHlsZSxmb3JtYXR0aW5nU3R5bGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGgucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oc3RyZWFtVHlwZSxjYWxsYmFjayxzYXZlU2V0dGluZ3MsZXJyb3JDYWxsYmFjayl7aWYoIXN0cmVhbVR5cGUpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ob1N0cmVhbVR5cGUpO31pZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9c2F2ZVNldHRpbmdzPXNhdmVTZXR0aW5nc3x8bnVsbDt0aGlzLmNhbGxNZXRob2QoYy5TYXZlLGNhbGxiYWNrLFtzdHJlYW1UeXBlLHNhdmVTZXR0aW5nc10sZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGgucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5TZWxlY3QsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gUGFyYWdyYXBoO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuUGFyYWdyYXBoQ29sbGVjdGlvbj0oZnVuY3Rpb24oZCl7X19leHRlbmRzKFBhcmFncmFwaENvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gUGFyYWdyYXBoQ29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9UGFyYWdyYXBoQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbUF0VGV4dFBvc2l0aW9uPWZ1bmN0aW9uKHRleHRQb3NpdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO312YXIgZT10aGlzO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oZil7Y2FsbGJhY2soZS5fYWRhcHQoZikpO30sW3RleHRQb3NpdGlvbl0sZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtQXRMb2NhdGlvbj1mdW5jdGlvbih4LHksY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHghPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiB5IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO312YXIgZT10aGlzO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oZil7Y2FsbGJhY2soZS5fYWRhcHQoZikpO30sW3gseV0sZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZil7aWYoZj09PW51bGwpe3JldHVybiBudWxsO312YXIgZT1uZXcgYi5QYXJhZ3JhcGgoZi5oYXNoY29kZSxmLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGUsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZi5oYXNoY29kZSxmLmluZGV4XSk7cmV0dXJuIGU7fTtyZXR1cm4gUGFyYWdyYXBoQ29sbGVjdGlvbjt9KShiLkNvbGxlY3Rpb24pO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O2IuVGV4dEZpZWxkQ29tbWFuZD1PYmplY3QuZnJlZXplKHtHZXRBbGw6MSxTZXRQcm9wZXJ0eToyLEdldEl0ZW06MyxBZGQ6NCxSZW1vdmU6NSxTaG93RGlhbG9nOjZ9KTtiLlRleHRGaWVsZFByb3BlcnR5PU9iamVjdC5mcmVlemUoe1RleHQ6MCxQYXJhbWV0ZXJzOjEsTmFtZToyLFR5cGVOYW1lOjMsSUQ6NCxEZWxldGVhYmxlOjUsRG91YmxlZElucHV0UG9zaXRpb246NixFZGl0YWJsZTo3LFNob3dBY3RpdmF0ZWQ6OCxJc1NwZWxsQ2hlY2tpbmdFbmFibGVkOjl9KTtiLlByaXZhdGVUZXh0RmllbGQ9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0eXBlTmFtZSx0ZXh0LHBhcmFtZXRlcnMsZmllbGRUeXBlKXt0eXBlTmFtZT10eXBlTmFtZXx8XCJcIjt0ZXh0PXRleHR8fFwiXCI7cGFyYW1ldGVycz1wYXJhbWV0ZXJzfHxbXTtpZih0eXBlb2YgZmllbGRUeXBlPT09XCJ1bmRlZmluZWRcIil7ZmllbGRUeXBlPVwiVEVYVEZJRUxEXCI7fWlmKHR5cGVvZiB0eXBlTmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBFcnJvcihcXCdcInR5cGVOYW1lXCIgbXVzdCBiZSBhIHN0cmluZy5cXCcpO31pZih0eXBlb2YgdGV4dCE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJ0ZXh0XCIgbXVzdCBiZSBhIHN0cmluZy5cXCcpO31pZihwYXJhbWV0ZXJzLmNvbnN0cnVjdG9yIT09QXJyYXkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJwYXJhbWV0ZXJzXCIgbXVzdCBiZSBhbiBhcnJheS5cXCcpO31wYXJhbWV0ZXJzLmZvckVhY2goZnVuY3Rpb24oZil7aWYoKHR5cGVvZiBmIT09XCJzdHJpbmdcIikmJiEoZiBpbnN0YW5jZW9mIFN0cmluZykpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJwYXJhbWV0ZXJzXCIgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLlxcJyk7fX0pO3RoaXMudHlwZU5hbWU9dHlwZU5hbWU7dGhpcy5maWVsZFRleHQ9dGV4dDt0aGlzLnBhcmFtZXRlcnM9cGFyYW1ldGVyczt0aGlzLmZpZWxkVHlwZT1maWVsZFR5cGU7dGhpcy5maWVsZE5hbWU9XCJcIjt0aGlzLnN0YXJ0PTA7dGhpcy5sZW5ndGg9MDt0aGlzLmlkPTA7dGhpcy5ib3VuZHM9e2xvY2F0aW9uOnt4OjAseTowfSxzaXplOnt3aWR0aDowLGhlaWdodDowfX07dGhpcy5jb250YWluc0lucHV0UG9zaXRpb249ZmFsc2U7dGhpcy5kZWxldGVhYmxlPXRydWU7dGhpcy5kb3VibGVkSW5wdXRQb3NpdGlvbj1mYWxzZTt0aGlzLmVkaXRhYmxlPXRydWU7dGhpcy5zaG93QWN0aXZhdGVkPWZhbHNlO3RoaXMuaXNTcGVsbENoZWNraW5nRW5hYmxlZD10cnVlO3RoaXMudGV4dFBhcnQ9e3R5cGU6Yi5UZXh0UGFydFR5cGUuQXV0byxpbmRleDotMX07fXJldHVybiBlO30pKCk7Yi5MZWdhY3lUZXh0RmllbGQ9KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIFRleHRGaWVsZCh0ZXh0KXt2YXIgZjtpZihhcmd1bWVudHMubGVuZ3RoPT09Mil7Zj1hcmd1bWVudHNbMV07fWVsc2V7Zj1uZXcgYi5Qcml2YXRlVGV4dEZpZWxkKFwiXCIsdGV4dCk7fXRoaXMuX2ZpZWxkPWY7dmFyIGc9dGhpcztPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHt0ZXh0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5fZmllbGQuZmllbGRUZXh0O30sc2V0OmZ1bmN0aW9uKHRleHQpe2lmKHRleHQ9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIHRleHQhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1widGV4dFwiIG11c3QgYmUgYSBzdHJpbmcuXFwnKTt9Zy5fZmllbGQuZmllbGRUZXh0PXRleHQ7aWYoZy5fZmllbGQuY29uc3RydWN0b3I9PT1iLlByaXZhdGVUZXh0RmllbGQpe3JldHVybjt9dmFyIGg9e3RleHRGaWVsZDpnLl9maWVsZH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkLGIuVGV4dEZpZWxkQ29tbWFuZC5TZXRQcm9wZXJ0eSxiLlRleHRGaWVsZFByb3BlcnR5LlRleHQsMCxoKTt9LGVudW1lcmFibGU6dHJ1ZX0sbmFtZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuX2ZpZWxkLmZpZWxkTmFtZTt9LHNldDpmdW5jdGlvbihuYW1lKXtpZihuYW1lPT09dW5kZWZpbmVkKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvci5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIG5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wibmFtZVwiIG11c3QgYmUgYSBzdHJpbmcuXFwnKTt9Zy5fZmllbGQuZmllbGROYW1lPW5hbWU7aWYoZy5fZmllbGQuY29uc3RydWN0b3I9PT1iLlByaXZhdGVUZXh0RmllbGQpe3JldHVybjt9dmFyIGg9e3RleHRGaWVsZDpnLl9maWVsZH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkLGIuVGV4dEZpZWxkQ29tbWFuZC5TZXRQcm9wZXJ0eSxiLlRleHRGaWVsZFByb3BlcnR5Lk5hbWUsMCxoKTt9LGVudW1lcmFibGU6dHJ1ZX0sc3RhcnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl9maWVsZC5zdGFydDt9LGVudW1lcmFibGU6dHJ1ZX0sbGVuZ3RoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5fZmllbGQubGVuZ3RoO30sZW51bWVyYWJsZTp0cnVlfSxpZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuX2ZpZWxkLmlkO30sc2V0OmZ1bmN0aW9uKGlkKXtpZihpZD09PXVuZGVmaW5lZCl7aWQ9MDt9aWYoIWlzSW50ZWdlcihpZCkpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJpZFwiIG11c3QgYmUgYW4gaW50ZWdlci5cXCcpO31nLl9maWVsZC5pZD1pZDtpZihnLl9maWVsZC5jb25zdHJ1Y3Rvcj09PWIuUHJpdmF0ZVRleHRGaWVsZCl7cmV0dXJuO312YXIgaD17dGV4dEZpZWxkOmcuX2ZpZWxkfTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5DbGllbnRUZXh0RmllbGQsYi5UZXh0RmllbGRDb21tYW5kLlNldFByb3BlcnR5LGIuVGV4dEZpZWxkUHJvcGVydHkuSUQsMCxoKTt9LGVudW1lcmFibGU6dHJ1ZX0sdHlwZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuX2ZpZWxkLmZpZWxkVHlwZTt9LGVudW1lcmFibGU6dHJ1ZX0sYm91bmRzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5fZmllbGQuYm91bmRzO30sZW51bWVyYWJsZTp0cnVlfSxjb250YWluc0lucHV0UG9zaXRpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl9maWVsZC5jb250YWluc0lucHV0UG9zaXRpb247fSxlbnVtZXJhYmxlOnRydWV9LGRlbGV0ZWFibGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBnLl9maWVsZC5kZWxldGVhYmxlO30sc2V0OmZ1bmN0aW9uKGRlbGV0ZWFibGUpe2lmKGRlbGV0ZWFibGU9PT11bmRlZmluZWQpe2RlbGV0ZWFibGU9ZmFsc2U7fWlmKHR5cGVvZiBkZWxldGVhYmxlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJkZWxldGVhYmxlXCIgbXVzdCBiZSBhIGJvb2xlYW4gdmFsdWUuXFwnKTt9Zy5fZmllbGQuZGVsZXRlYWJsZT1kZWxldGVhYmxlO2lmKGcuX2ZpZWxkLmNvbnN0cnVjdG9yPT09Yi5Qcml2YXRlVGV4dEZpZWxkKXtyZXR1cm47fXZhciBoPXt0ZXh0RmllbGQ6Zy5fZmllbGR9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNsaWVudFRleHRGaWVsZCxiLlRleHRGaWVsZENvbW1hbmQuU2V0UHJvcGVydHksYi5UZXh0RmllbGRQcm9wZXJ0eS5EZWxldGVhYmxlLDAsaCk7fSxlbnVtZXJhYmxlOnRydWV9LGRvdWJsZWRJbnB1dFBvc2l0aW9uOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5fZmllbGQuZG91YmxlZElucHV0UG9zaXRpb247fSxzZXQ6ZnVuY3Rpb24oZG91YmxlZElucHV0UG9zaXRpb24pe2lmKGRvdWJsZWRJbnB1dFBvc2l0aW9uPT09dW5kZWZpbmVkKXtkb3VibGVkSW5wdXRQb3NpdGlvbj1mYWxzZTt9aWYodHlwZW9mIGRvdWJsZWRJbnB1dFBvc2l0aW9uIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJkb3VibGVkSW5wdXRQb3NpdGlvblwiIG11c3QgYmUgYSBib29sZWFuIHZhbHVlLlxcJyk7fWcuX2ZpZWxkLmRvdWJsZWRJbnB1dFBvc2l0aW9uPWRvdWJsZWRJbnB1dFBvc2l0aW9uO2lmKGcuX2ZpZWxkLmNvbnN0cnVjdG9yPT09Yi5Qcml2YXRlVGV4dEZpZWxkKXtyZXR1cm47fXZhciBoPXt0ZXh0RmllbGQ6Zy5fZmllbGR9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNsaWVudFRleHRGaWVsZCxiLlRleHRGaWVsZENvbW1hbmQuU2V0UHJvcGVydHksYi5UZXh0RmllbGRQcm9wZXJ0eS5Eb3VibGVkSW5wdXRQb3NpdGlvbiwwLGgpO30sZW51bWVyYWJsZTp0cnVlfSxlZGl0YWJsZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuX2ZpZWxkLmVkaXRhYmxlO30sc2V0OmZ1bmN0aW9uKGVkaXRhYmxlKXtpZihlZGl0YWJsZT09PXVuZGVmaW5lZCl7ZWRpdGFibGU9ZmFsc2U7fWlmKHR5cGVvZiBlZGl0YWJsZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wiZWRpdGFibGVcIiBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZS5cXCcpO31nLl9maWVsZC5lZGl0YWJsZT1lZGl0YWJsZTtpZihnLl9maWVsZC5jb25zdHJ1Y3Rvcj09PWIuUHJpdmF0ZVRleHRGaWVsZCl7cmV0dXJuO312YXIgaD17dGV4dEZpZWxkOmcuX2ZpZWxkfTtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5DbGllbnRUZXh0RmllbGQsYi5UZXh0RmllbGRDb21tYW5kLlNldFByb3BlcnR5LGIuVGV4dEZpZWxkUHJvcGVydHkuRWRpdGFibGUsMCxoKTt9LGVudW1lcmFibGU6dHJ1ZX0sc2hvd0FjdGl2YXRlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuX2ZpZWxkLnNob3dBY3RpdmF0ZWQ7fSxzZXQ6ZnVuY3Rpb24oc2hvd0FjdGl2YXRlZCl7aWYoc2hvd0FjdGl2YXRlZD09PXVuZGVmaW5lZCl7c2hvd0FjdGl2YXRlZD1mYWxzZTt9aWYodHlwZW9mIHNob3dBY3RpdmF0ZWQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcInNob3dBY3RpdmF0ZWRcIiBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZS5cXCcpO31nLl9maWVsZC5zaG93QWN0aXZhdGVkPXNob3dBY3RpdmF0ZWQ7aWYoZy5fZmllbGQuY29uc3RydWN0b3I9PT1iLlByaXZhdGVUZXh0RmllbGQpe3JldHVybjt9dmFyIGg9e3RleHRGaWVsZDpnLl9maWVsZH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkLGIuVGV4dEZpZWxkQ29tbWFuZC5TZXRQcm9wZXJ0eSxiLlRleHRGaWVsZFByb3BlcnR5LlNob3dBY3RpdmF0ZWQsMCxoKTt9LGVudW1lcmFibGU6dHJ1ZX0saXNTcGVsbENoZWNraW5nRW5hYmxlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuX2ZpZWxkLmlzU3BlbGxDaGVja2luZ0VuYWJsZWQ7fSxzZXQ6ZnVuY3Rpb24oaXNTcGVsbENoZWNraW5nRW5hYmxlZCl7aWYoaXNTcGVsbENoZWNraW5nRW5hYmxlZD09PXVuZGVmaW5lZCl7aXNTcGVsbENoZWNraW5nRW5hYmxlZD1mYWxzZTt9aWYodHlwZW9mIGlzU3BlbGxDaGVja2luZ0VuYWJsZWQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcImlzU3BlbGxDaGVja2luZ0VuYWJsZWRcIiBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZS5cXCcpO31nLl9maWVsZC5pc1NwZWxsQ2hlY2tpbmdFbmFibGVkPWlzU3BlbGxDaGVja2luZ0VuYWJsZWQ7aWYoZy5fZmllbGQuY29uc3RydWN0b3I9PT1iLlByaXZhdGVUZXh0RmllbGQpe3JldHVybjt9dmFyIGg9e3RleHRGaWVsZDpnLl9maWVsZH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkLGIuVGV4dEZpZWxkQ29tbWFuZC5TZXRQcm9wZXJ0eSxiLlRleHRGaWVsZFByb3BlcnR5LklzU3BlbGxDaGVja2luZ0VuYWJsZWQsMCxoKTt9LGVudW1lcmFibGU6dHJ1ZX19KTt9cmV0dXJuIFRleHRGaWVsZDt9KSgpO2IucHJvY2Vzc1RleHRGaWVsZERhdGFNZXNzYWdlPWZ1bmN0aW9uKGUpe3N3aXRjaChlLkNvbnRlbnQudGV4dEZpZWxkQ29tbWFuZCl7Y2FzZSBiLlRleHRGaWVsZENvbW1hbmQuR2V0QWxsOmMoZS5Db250ZW50LGUuRXhjTXNnKTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoXCJfcHJpdmF0ZS5wcm9jZXNzVGV4dEZpZWxkRGF0YU1lc3NhZ2UoKTogVW5rbm93biB0ZXh0IGZpZWxkIGNvbW1hbmQgXCIrZS5Db250ZW50LnRleHRGaWVsZENvbW1hbmQrXCIuXCIpO2JyZWFrO319O2Z1bmN0aW9uIGMoZyxpKXt2YXIgZj1iLmRvY3VtZW50VGFza0NhbGxiYWNrcy5nZXRUZXh0RmllbGRzLnNoaWZ0KCk7aWYoaSl7dGhyb3cgbmV3IEVycm9yKGkpO31pZihmPT09dW5kZWZpbmVkKXtyZXR1cm47fXZhciBqPVtdO2cudGV4dEZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmZpZWxkVHlwZSl7Y2FzZVwiQVBQTElDQVRJT05GSUVMRFwiOmoucHVzaChuZXcgYi5MZWdhY3lBcHBsaWNhdGlvbkZpZWxkKG51bGwsbnVsbCxudWxsLGUpKTticmVhaztjYXNlXCJURVhURklFTERcIjpqLnB1c2gobmV3IGIuTGVnYWN5VGV4dEZpZWxkKG51bGwsZSkpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcihcIlVua25vd24gdGV4dCBmaWVsZCB0eXBlOiBcIitlLmZpZWxkVHlwZSk7YnJlYWs7fX0pO3RyeXtmKGopO31jYXRjaChoKXt9fXJldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuTGVnYWN5QXBwbGljYXRpb25GaWVsZD0oZnVuY3Rpb24oZCl7X19leHRlbmRzKEFwcGxpY2F0aW9uRmllbGQsZCk7ZnVuY3Rpb24gQXBwbGljYXRpb25GaWVsZCh0eXBlTmFtZSx0ZXh0LHBhcmFtZXRlcnMpe3ZhciBlO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT00KXtlPWFyZ3VtZW50c1szXTt9ZWxzZXtpZih0eXBlb2YgdHlwZU5hbWU9PT1cInVuZGVmaW5lZFwiKXt0eXBlTmFtZT1cIk1FUkdFRklFTERcIjt9aWYodHlwZW9mIHRleHQ9PT1cInVuZGVmaW5lZFwiKXt0ZXh0PVwiwqtNRVJHRUZJRUxEwrtcIjt9ZT1uZXcgYi5Qcml2YXRlVGV4dEZpZWxkKHR5cGVOYW1lLHRleHQscGFyYW1ldGVycyxcIkFQUExJQ0FUSU9ORklFTERcIik7fWQuY2FsbCh0aGlzLG51bGwsZSk7dmFyIGY9dGhpcztPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHt0eXBlTmFtZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuX2ZpZWxkLnR5cGVOYW1lO30sc2V0OmZ1bmN0aW9uKHR5cGVOYW1lKXtpZih0eXBlTmFtZT09PXVuZGVmaW5lZCl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3IuVG9vRmV3UGFyYW1ldGVycyk7fWlmKHR5cGVvZiB0eXBlTmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJ0eXBlTmFtZVwiIG11c3QgYmUgYSBzdHJpbmcuXFwnKTt9Zi5fZmllbGQudHlwZU5hbWU9dHlwZU5hbWU7aWYoZi5fZmllbGQuY29uc3RydWN0b3I9PT1iLlByaXZhdGVUZXh0RmllbGQpe3JldHVybjt9dmFyIGc9e3RleHRGaWVsZDpmLl9maWVsZH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkLGIuVGV4dEZpZWxkQ29tbWFuZC5TZXRQcm9wZXJ0eSxiLlRleHRGaWVsZFByb3BlcnR5LlR5cGVOYW1lLDAsZyk7fSxlbnVtZXJhYmxlOnRydWV9LHBhcmFtZXRlcnM6e2dldDpmdW5jdGlvbigpe3JldHVybiBmLl9maWVsZC5wYXJhbWV0ZXJzO30sc2V0OmZ1bmN0aW9uKHBhcmFtZXRlcnMpe2lmKHBhcmFtZXRlcnM9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihiLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYocGFyYW1ldGVycy5jb25zdHJ1Y3RvciE9PUFycmF5KXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wicGFyYW1ldGVyc1wiIG11c3QgYmUgYW4gYXJyYXkuXFwnKTt9cGFyYW1ldGVycy5mb3JFYWNoKGZ1bmN0aW9uKGgpe2lmKCh0eXBlb2YgaCE9PVwic3RyaW5nXCIpJiYhKGggaW5zdGFuY2VvZiBTdHJpbmcpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1wicGFyYW1ldGVyc1wiIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cXCcpO319KTtmLl9maWVsZC5wYXJhbWV0ZXJzPXBhcmFtZXRlcnM7aWYoZi5fZmllbGQuY29uc3RydWN0b3I9PT1iLlByaXZhdGVUZXh0RmllbGQpe3JldHVybjt9dmFyIGc9e3RleHRGaWVsZDpmLl9maWVsZH07Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkLGIuVGV4dEZpZWxkQ29tbWFuZC5TZXRQcm9wZXJ0eSxiLlRleHRGaWVsZFByb3BlcnR5LlBhcmFtZXRlcnMsMCxnKTt9LGVudW1lcmFibGU6dHJ1ZX19KTt9QXBwbGljYXRpb25GaWVsZC5wcm90b3R5cGUuc2hvd0RpYWxvZz1mdW5jdGlvbigpe2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkNsaWVudFRleHRGaWVsZCxiLlRleHRGaWVsZENvbW1hbmQuU2hvd0RpYWxvZywwLDAse3RleHRGaWVsZDp0aGlzLl9maWVsZH0pO307cmV0dXJuIEFwcGxpY2F0aW9uRmllbGQ7fSkoYi5MZWdhY3lUZXh0RmllbGQpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRm9ybUZpZWxkPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoRm9ybUZpZWxkLGQpO2Z1bmN0aW9uIEZvcm1GaWVsZChlLGYpe2QuY2FsbCh0aGlzLGUsZik7fXJldHVybiBGb3JtRmllbGQ7fSkoYi5UZXh0RmllbGQpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O3ZhciBjPU9iamVjdC5mcmVlemUoe0FkZENoZWNrRm9ybUZpZWxkOlwiQWRkQ2hlY2tGb3JtRmllbGRcIixBZGRTZWxlY3Rpb25Gb3JtRmllbGQ6XCJBZGRTZWxlY3Rpb25Gb3JtRmllbGRcIixBZGRUZXh0Rm9ybUZpZWxkOlwiQWRkVGV4dEZvcm1GaWVsZFwiLEFkZERhdGVGb3JtRmllbGQ6XCJBZGREYXRlRm9ybUZpZWxkXCJ9KTtiLkZvcm1GaWVsZENvbGxlY3Rpb249KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhGb3JtRmllbGRDb2xsZWN0aW9uLGUpO2Z1bmN0aW9uIEZvcm1GaWVsZENvbGxlY3Rpb24oKXtlLmNhbGwodGhpcyk7fUZvcm1GaWVsZENvbGxlY3Rpb24ucHJvdG90eXBlLmFkZENoZWNrRm9ybUZpZWxkPWZ1bmN0aW9uKGlzQ2hlY2tlZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaXNDaGVja2VkIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dmFyIGY9dGhpczt0aGlzLmNhbGxNZXRob2QoYy5BZGRDaGVja0Zvcm1GaWVsZCwodHlwZW9mIGNhbGxiYWNrPT09XCJmdW5jdGlvblwiKT9mdW5jdGlvbihnKXtjYWxsYmFjayhmLl9hZGFwdChnKSk7fTpudWxsLFtpc0NoZWNrZWRdLGVycm9yQ2FsbGJhY2spO307Rm9ybUZpZWxkQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkU2VsZWN0aW9uRm9ybUZpZWxkPWZ1bmN0aW9uKGVtcHR5V2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGVtcHR5V2lkdGghPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXZhciBmPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGMuQWRkU2VsZWN0aW9uRm9ybUZpZWxkLCh0eXBlb2YgY2FsbGJhY2s9PT1cImZ1bmN0aW9uXCIpP2Z1bmN0aW9uKGcpe2NhbGxiYWNrKGYuX2FkYXB0KGcpKTt9Om51bGwsW2VtcHR5V2lkdGhdLGVycm9yQ2FsbGJhY2spO307Rm9ybUZpZWxkQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkVGV4dEZvcm1GaWVsZD1mdW5jdGlvbihlbXB0eVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBlbXB0eVdpZHRoIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO312YXIgZj10aGlzO3RoaXMuY2FsbE1ldGhvZChjLkFkZFRleHRGb3JtRmllbGQsKHR5cGVvZiBjYWxsYmFjaz09PVwiZnVuY3Rpb25cIik/ZnVuY3Rpb24oZyl7Y2FsbGJhY2soZi5fYWRhcHQoZykpO306bnVsbCxbZW1wdHlXaWR0aF0sZXJyb3JDYWxsYmFjayk7fTtGb3JtRmllbGRDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGREYXRlRm9ybUZpZWxkPWZ1bmN0aW9uKGVtcHR5V2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGVtcHR5V2lkdGghPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXZhciBmPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGMuQWRkRGF0ZUZvcm1GaWVsZCwodHlwZW9mIGNhbGxiYWNrPT09XCJmdW5jdGlvblwiKT9mdW5jdGlvbihnKXtjYWxsYmFjayhmLl9hZGFwdChnKSk7fTpudWxsLFtlbXB0eVdpZHRoXSxlcnJvckNhbGxiYWNrKTt9O0Zvcm1GaWVsZENvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayxpZCl7aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dmFyIGc9dGhpczt2YXIgZj0odHlwZW9mIGlkPT09XCJudW1iZXJcIik/W2lkXTpbXTt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLCh0eXBlb2YgY2FsbGJhY2s9PT1cImZ1bmN0aW9uXCIpP2Z1bmN0aW9uKGgpe2NhbGxiYWNrKGcuX2FkYXB0KGgpKTt9Om51bGwsZixlcnJvckNhbGxiYWNrKTt9O0Zvcm1GaWVsZENvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihmb3JtRmllbGQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZvcm1GaWVsZD09PVwidW5kZWZpbmVkXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1VbmRlZmluZWQpO310aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5SZW1vdmUsY2FsbGJhY2ssW2Zvcm1GaWVsZC5fLmhhc2hjb2RlLGZvcm1GaWVsZC5fLmluZGV4XSxlcnJvckNhbGxiYWNrKTt9O0Zvcm1GaWVsZENvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihnKXtpZihnPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBmPW51bGw7c3dpdGNoKGcudHlwZSl7Y2FzZVwiQ2hlY2tGb3JtRmllbGRcIjpmPW5ldyBiLkNoZWNrRm9ybUZpZWxkKGcuaGFzaGNvZGUsZy5pbmRleCk7YnJlYWs7Y2FzZVwiU2VsZWN0aW9uRm9ybUZpZWxkXCI6Zj1uZXcgYi5TZWxlY3Rpb25Gb3JtRmllbGQoZy5oYXNoY29kZSxnLmluZGV4KTticmVhaztjYXNlXCJUZXh0Rm9ybUZpZWxkXCI6Zj1uZXcgYi5UZXh0Rm9ybUZpZWxkKGcuaGFzaGNvZGUsZy5pbmRleCk7YnJlYWs7Y2FzZVwiRGF0ZUZvcm1GaWVsZFwiOmY9bmV3IGIuRGF0ZUZvcm1GaWVsZChnLmhhc2hjb2RlLGcuaW5kZXgpO2JyZWFrO2RlZmF1bHQ6Zj1uZXcgYi5Gb3JtRmllbGQoZy5oYXNoY29kZSxnLmluZGV4KTticmVhazt9dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihmLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2cuaGFzaGNvZGUsZy5pbmRleF0pO3JldHVybiBmO307cmV0dXJuIEZvcm1GaWVsZENvbGxlY3Rpb247fSkoYi5UZXh0RmllbGRDb2xsZWN0aW9uQmFzZSk7cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7VW5jaGVja2VkQ2hhcmFjdGVyOlwiVW5jaGVja2VkQ2hhcmFjdGVyXCIsQ2hlY2tlZENoYXJhY3RlcjpcIkNoZWNrZWRDaGFyYWN0ZXJcIixDaGVja2VkOlwiQ2hlY2tlZFwifSk7Yi5DaGVja0Zvcm1GaWVsZD0oZnVuY3Rpb24oZSl7X19leHRlbmRzKENoZWNrRm9ybUZpZWxkLGUpO2Z1bmN0aW9uIENoZWNrRm9ybUZpZWxkKGYsZyl7ZS5jYWxsKHRoaXMsZixnKTt9Q2hlY2tGb3JtRmllbGQucHJvdG90eXBlLmdldFVuY2hlY2tlZENoYXJhY3Rlcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5VbmNoZWNrZWRDaGFyYWN0ZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtDaGVja0Zvcm1GaWVsZC5wcm90b3R5cGUuc2V0VW5jaGVja2VkQ2hhcmFjdGVyPWZ1bmN0aW9uKGNoYXJhY3RlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNDaGFyYWN0ZXIoY2hhcmFjdGVyKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFDaGFyYWN0ZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5VbmNoZWNrZWRDaGFyYWN0ZXIsY2hhcmFjdGVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307Q2hlY2tGb3JtRmllbGQucHJvdG90eXBlLmdldENoZWNrZWRDaGFyYWN0ZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQ2hlY2tlZENoYXJhY3RlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0NoZWNrRm9ybUZpZWxkLnByb3RvdHlwZS5zZXRDaGVja2VkQ2hhcmFjdGVyPWZ1bmN0aW9uKGNoYXJhY3RlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNDaGFyYWN0ZXIoY2hhcmFjdGVyKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFDaGFyYWN0ZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5DaGVja2VkQ2hhcmFjdGVyLGNoYXJhY3RlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0NoZWNrRm9ybUZpZWxkLnByb3RvdHlwZS5nZXRDaGVja2VkPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkNoZWNrZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtDaGVja0Zvcm1GaWVsZC5wcm90b3R5cGUuc2V0Q2hlY2tlZD1mdW5jdGlvbihpc0NoZWNrZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlzQ2hlY2tlZCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkNoZWNrZWQsaXNDaGVja2VkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIENoZWNrRm9ybUZpZWxkO30pKGIuRm9ybUZpZWxkKTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtFbXB0eVdpZHRoOlwiRW1wdHlXaWR0aFwifSk7Yi5UZXh0Rm9ybUZpZWxkPShmdW5jdGlvbihlKXtfX2V4dGVuZHMoVGV4dEZvcm1GaWVsZCxlKTtmdW5jdGlvbiBUZXh0Rm9ybUZpZWxkKGYsZyl7ZS5jYWxsKHRoaXMsZixnKTt9VGV4dEZvcm1GaWVsZC5wcm90b3R5cGUuZ2V0RW1wdHlXaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5FbXB0eVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dEZvcm1GaWVsZC5wcm90b3R5cGUuc2V0RW1wdHlXaWR0aD1mdW5jdGlvbihlbXB0eVdpZHRoLGNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKGVtcHR5V2lkdGgpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRW1wdHlXaWR0aCxlbXB0eVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIFRleHRGb3JtRmllbGQ7fSkoYi5Gb3JtRmllbGQpO3JldHVybiBkO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O3ZhciBjPU9iamVjdC5mcmVlemUoe0VtcHR5V2lkdGg6XCJFbXB0eVdpZHRoXCIsSXNEcm9wRG93bkFycm93VmlzaWJsZTpcIklzRHJvcERvd25BcnJvd1Zpc2libGVcIixTZWxlY3RlZEluZGV4OlwiU2VsZWN0ZWRJbmRleFwiLEl0ZW1zOlwiSXRlbXNcIn0pO2IuU2VsZWN0aW9uRm9ybUZpZWxkPShmdW5jdGlvbihlKXtfX2V4dGVuZHMoU2VsZWN0aW9uRm9ybUZpZWxkLGUpO2Z1bmN0aW9uIFNlbGVjdGlvbkZvcm1GaWVsZChmLGcpe2UuY2FsbCh0aGlzLGYsZyk7fVNlbGVjdGlvbkZvcm1GaWVsZC5wcm90b3R5cGUuZ2V0RW1wdHlXaWR0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5FbXB0eVdpZHRoLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uRm9ybUZpZWxkLnByb3RvdHlwZS5zZXRFbXB0eVdpZHRoPWZ1bmN0aW9uKGVtcHR5V2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcihlbXB0eVdpZHRoKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkVtcHR5V2lkdGgsZW1wdHlXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbkZvcm1GaWVsZC5wcm90b3R5cGUuZ2V0SXNEcm9wRG93bkFycm93VmlzaWJsZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Jc0Ryb3BEb3duQXJyb3dWaXNpYmxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uRm9ybUZpZWxkLnByb3RvdHlwZS5zZXRJc0Ryb3BEb3duQXJyb3dWaXNpYmxlPWZ1bmN0aW9uKGlzRHJvcERvd25BcnJvd1Zpc2libGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlzRHJvcERvd25BcnJvd1Zpc2libGUhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Jc0Ryb3BEb3duQXJyb3dWaXNpYmxlLGlzRHJvcERvd25BcnJvd1Zpc2libGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb25Gb3JtRmllbGQucHJvdG90eXBlLmdldFNlbGVjdGVkSW5kZXg9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuU2VsZWN0ZWRJbmRleCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1NlbGVjdGlvbkZvcm1GaWVsZC5wcm90b3R5cGUuc2V0U2VsZWN0ZWRJbmRleD1mdW5jdGlvbihpbmRleCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKGluZGV4KSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlNlbGVjdGVkSW5kZXgsaW5kZXgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTZWxlY3Rpb25Gb3JtRmllbGQucHJvdG90eXBlLmdldEl0ZW1zPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkl0ZW1zLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U2VsZWN0aW9uRm9ybUZpZWxkLnByb3RvdHlwZS5zZXRJdGVtcz1mdW5jdGlvbihmLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0FycmF5T2ZUeXBlKGYsXCJzdHJpbmdcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBcnJheU9mU3RyaW5ncyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkl0ZW1zLGYsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gU2VsZWN0aW9uRm9ybUZpZWxkO30pKGIuRm9ybUZpZWxkKTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtEYXRlOlwiRGF0ZVwiLERhdGVGb3JtYXQ6XCJEYXRlRm9ybWF0XCIsRW1wdHlXaWR0aDpcIkVtcHR5V2lkdGhcIixTdXBwb3J0ZWREYXRlRm9ybWF0czpcIlN1cHBvcnRlZERhdGVGb3JtYXRzXCJ9KTtiLkRhdGVGb3JtRmllbGQ9KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhEYXRlRm9ybUZpZWxkLGUpO2Z1bmN0aW9uIERhdGVGb3JtRmllbGQoZixnKXtlLmNhbGwodGhpcyxmLGcpO31EYXRlRm9ybUZpZWxkLnByb3RvdHlwZS5nZXREYXRlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkRhdGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEYXRlRm9ybUZpZWxkLnByb3RvdHlwZS5zZXREYXRlPWZ1bmN0aW9uKHVuaXhUaW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB1bml4VGltZSE9PVwibnVtYmVyXCImJnVuaXhUaW1lIT1udWxsKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkRhdGUsdW5peFRpbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEYXRlRm9ybUZpZWxkLnByb3RvdHlwZS5nZXREYXRlRm9ybWF0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkRhdGVGb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEYXRlRm9ybUZpZWxkLnByb3RvdHlwZS5zZXREYXRlRm9ybWF0PWZ1bmN0aW9uKGRhdGVGb3JtYXQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGRhdGVGb3JtYXQhPVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRGF0ZUZvcm1hdCxkYXRlRm9ybWF0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RGF0ZUZvcm1GaWVsZC5wcm90b3R5cGUuZ2V0U3VwcG9ydGVkRGF0ZUZvcm1hdHM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuU3VwcG9ydGVkRGF0ZUZvcm1hdHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEYXRlRm9ybUZpZWxkLnByb3RvdHlwZS5nZXRFbXB0eVdpZHRoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkVtcHR5V2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEYXRlRm9ybUZpZWxkLnByb3RvdHlwZS5zZXRFbXB0eVdpZHRoPWZ1bmN0aW9uKGVtcHR5V2lkdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcihlbXB0eVdpZHRoKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkVtcHR5V2lkdGgsZW1wdHlXaWR0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBEYXRlRm9ybUZpZWxkO30pKGIuRm9ybUZpZWxkKTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGUsYSl7dmFyIGI9ZS5fcHJpdmF0ZT1lLl9wcml2YXRlfHx7fTt2YXIgZD1PYmplY3QuZnJlZXplKHtEYXRhOlwiRGF0YVwiLEhpZ2hsaWdodENvbG9yOlwiSGlnaGxpZ2h0Q29sb3JcIixIaWdobGlnaHRNb2RlOlwiSGlnaGxpZ2h0TW9kZVwiLElEOlwiSURcIixMZW5ndGg6XCJMZW5ndGhcIixOYW1lOlwiTmFtZVwiLE5lc3RlZExldmVsOlwiTmVzdGVkTGV2ZWxcIixOdW1iZXI6XCJOdW1iZXJcIixPdXRlck1vc3RTdWJUZXh0UGFydDpcIk91dGVyTW9zdFN1YlRleHRQYXJ0XCIsT3V0ZXJTdWJUZXh0UGFydDpcIk91dGVyU3ViVGV4dFBhcnRcIixTdGFydDpcIlN0YXJ0XCIsVGV4dDpcIlRleHRcIn0pO3ZhciBjPU9iamVjdC5mcmVlemUoe1NhdmU6XCJTYXZlXCIsU2Nyb2xsVG86XCJTY3JvbGxUb1wifSk7Yi5TdWJUZXh0UGFydD0oZnVuY3Rpb24oZil7X19leHRlbmRzKFN1YlRleHRQYXJ0LGYpO2Z1bmN0aW9uIFN1YlRleHRQYXJ0KGcsaCl7Zi5jYWxsKHRoaXMsZyxoKTt9U3ViVGV4dFBhcnQucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRGF0YSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0LnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKGRhdGEsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGRhdGEhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkRhdGEsZGF0YSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0LnByb3RvdHlwZS5nZXRIaWdobGlnaHRNb2RlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodE1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTdWJUZXh0UGFydC5wcm90b3R5cGUuc2V0SGlnaGxpZ2h0TW9kZT1mdW5jdGlvbihoaWdobGlnaHRNb2RlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBoaWdobGlnaHRNb2RlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5IaWdobGlnaHRNb2RlLGhpZ2hsaWdodE1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTdWJUZXh0UGFydC5wcm90b3R5cGUuZ2V0SGlnaGxpZ2h0Q29sb3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuSGlnaGxpZ2h0Q29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTdWJUZXh0UGFydC5wcm90b3R5cGUuc2V0SGlnaGxpZ2h0Q29sb3I9ZnVuY3Rpb24oaGlnaGxpZ2h0Q29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGhpZ2hsaWdodENvbG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5IaWdobGlnaHRDb2xvcixoaWdobGlnaHRDb2xvcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0LnByb3RvdHlwZS5nZXRJRD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5JRCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0LnByb3RvdHlwZS5zZXRJRD1mdW5jdGlvbihpZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaWQhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLklELGlkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U3ViVGV4dFBhcnQucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5MZW5ndGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTdWJUZXh0UGFydC5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5OYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U3ViVGV4dFBhcnQucHJvdG90eXBlLnNldE5hbWU9ZnVuY3Rpb24obmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgbmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuTmFtZSxuYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U3ViVGV4dFBhcnQucHJvdG90eXBlLmdldE5lc3RlZExldmVsPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLk5lc3RlZExldmVsLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307U3ViVGV4dFBhcnQucHJvdG90eXBlLmdldE51bWJlcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5OdW1iZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTdWJUZXh0UGFydC5wcm90b3R5cGUuZ2V0T3V0ZXJNb3N0U3ViVGV4dFBhcnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGc9dGhpczt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5PdXRlck1vc3RTdWJUZXh0UGFydCxmdW5jdGlvbihpKXtpZihpKXt2YXIgaD1uZXcgYi5TdWJUZXh0UGFydChpLmhhc2hjb2RlKTtnLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihoLGQuT3V0ZXJNb3N0U3ViVGV4dFBhcnQpO2NhbGxiYWNrKGgpO31lbHNle2NhbGxiYWNrKG51bGwpO319LGVycm9yQ2FsbGJhY2spO307U3ViVGV4dFBhcnQucHJvdG90eXBlLmdldE91dGVyU3ViVGV4dFBhcnQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFyIGc9dGhpczt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5PdXRlclN1YlRleHRQYXJ0LGZ1bmN0aW9uKGkpe2lmKGkpe3ZhciBoPW5ldyBiLlN1YlRleHRQYXJ0KGkuaGFzaGNvZGUpO2cuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGgsZC5PdXRlclN1YlRleHRQYXJ0KTtjYWxsYmFjayhoKTt9ZWxzZXtjYWxsYmFjayhudWxsKTt9fSxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0LnByb3RvdHlwZS5nZXRTdGFydD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5TdGFydCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0LnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtTdWJUZXh0UGFydC5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbihzdHJlYW1UeXBlLGNhbGxiYWNrLHNhdmVTZXR0aW5ncyxlcnJvckNhbGxiYWNrKXtpZighc3RyZWFtVHlwZSl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0Lk5vU3RyZWFtVHlwZSk7fWlmKCFjYWxsYmFjayl7dGhyb3cgbmV3IEVycm9yKGIuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31zYXZlU2V0dGluZ3M9c2F2ZVNldHRpbmdzfHxudWxsO3RoaXMuY2FsbE1ldGhvZChjLlNhdmUsY2FsbGJhY2ssW3N0cmVhbVR5cGUsc2F2ZVNldHRpbmdzXSxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0LnByb3RvdHlwZS5zY3JvbGxUbz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5TY3JvbGxUbyxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBTdWJUZXh0UGFydDt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtyZXR1cm4gZTt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlN1YlRleHRQYXJ0Q29sbGVjdGlvbj0oZnVuY3Rpb24oZCl7X19leHRlbmRzKFN1YlRleHRQYXJ0Q29sbGVjdGlvbixkKTtmdW5jdGlvbiBTdWJUZXh0UGFydENvbGxlY3Rpb24oKXtkLmNhbGwodGhpcyk7fVN1YlRleHRQYXJ0Q29sbGVjdGlvbi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKG5hbWUsaWQsZixsZW5ndGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoZjwxKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyIFxcJ3N0YXJ0XFwnIGlzIG5vdCBvbmUtYmFzZWQuXCIpO312YXIgZT10aGlzO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZCxjYWxsYmFjaz9mdW5jdGlvbihnKXtnLnN1YlRleHRQYXJ0PWUuX2FkYXB0KGcuc3ViVGV4dFBhcnQpO2NhbGxiYWNrKGcpO306bnVsbCxbbmFtZSxpZCxmLGxlbmd0aF0sZXJyb3JDYWxsYmFjayk7fTtTdWJUZXh0UGFydENvbGxlY3Rpb24ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkNsZWFyLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307U3ViVGV4dFBhcnRDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fSxbXSxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0Q29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHN1YlRleHRQYXJ0LGtlZXBUZXh0LGtlZXBOZXN0ZWQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGtlZXBUZXh0IT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9aWYodHlwZW9mIGtlZXBOZXN0ZWQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO31pZighc3ViVGV4dFBhcnR8fCFzdWJUZXh0UGFydC5ffHwhc3ViVGV4dFBhcnQuXy5oYXNoY29kZSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbUludmFsaWQpO310aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5SZW1vdmUsY2FsbGJhY2ssW3N1YlRleHRQYXJ0Ll8uaGFzaGNvZGUsc3ViVGV4dFBhcnQuXy5pbmRleCxrZWVwVGV4dCxrZWVwTmVzdGVkXSxlcnJvckNhbGxiYWNrKTt9O1N1YlRleHRQYXJ0Q29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGYpe2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGU9bmV3IGIuU3ViVGV4dFBhcnQoZi5oYXNoY29kZSxmLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGUsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZi5oYXNoY29kZSxmLmluZGV4XSk7cmV0dXJuIGU7fTtyZXR1cm4gU3ViVGV4dFBhcnRDb2xsZWN0aW9uO30pKGIuQ29sbGVjdGlvbik7Yi5TdWJUZXh0UGFydENvbGxlY3Rpb24uQWRkUmVzdWx0PU9iamVjdC5mcmVlemUoe0Vycm9yOjAsU3VjY2Vzc2Z1bDoxLE5vU2VsZWN0aW9uOjIsU2VsZWN0aW9uVG9vQ29tcGxleDozLFBvc2l0aW9uSW52YWxpZDo0LEFscmVhZHlFeGlzdHM6NSxPdmVybGFwcGluZzo3LENvbWJpbmVkOjgsfSk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7Qm91bmRzOlwiQm91bmRzXCIsQ2hhcjpcIkNoYXJcIixOdW1iZXI6XCJOdW1iZXJcIn0pO2IuVGV4dENoYXI9KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhUZXh0Q2hhcixlKTtmdW5jdGlvbiBUZXh0Q2hhcihmKXtlLmNhbGwodGhpcyxmKTt9VGV4dENoYXIucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Cb3VuZHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUZXh0Q2hhci5wcm90b3R5cGUuZ2V0Q2hhcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5DaGFyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGV4dENoYXIucHJvdG90eXBlLmdldE51bWJlcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5OdW1iZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gVGV4dENoYXI7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5UZXh0Q2hhckNvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhUZXh0Q2hhckNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gVGV4dENoYXJDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31UZXh0Q2hhckNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZD1mdW5jdGlvbihjaGFyYWN0ZXIsZm9udE5hbWUsdGV4dFBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0NoYXJhY3RlcihjaGFyYWN0ZXIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QUNoYXJhY3Rlcik7fWlmKHR5cGVvZiBmb250TmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9aWYoIWlzSW50ZWdlcih0ZXh0UG9zaXRpb24pKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkLGNhbGxiYWNrLFtjaGFyYWN0ZXIsZm9udE5hbWUsdGV4dFBvc2l0aW9uXSxlcnJvckNhbGxiYWNrKTt9O1RleHRDaGFyQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkQ29udHJvbENoYXI9ZnVuY3Rpb24oY29udHJvbENoYXIsdGV4dFBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIoY29udHJvbENoYXIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9aWYoIWlzSW50ZWdlcih0ZXh0UG9zaXRpb24pKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuQWRkLGNhbGxiYWNrLFtjb250cm9sQ2hhcix0ZXh0UG9zaXRpb25dLGVycm9yQ2FsbGJhY2spO307VGV4dENoYXJDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGxvY2F0aW9uLGdldE5lYXJlc3QsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9aWYodHlwZW9mIGdldE5lYXJlc3QhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO312YXIgZT10aGlzO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sZnVuY3Rpb24oZil7Y2FsbGJhY2soZS5fYWRhcHQoZikpO30sW2xvY2F0aW9uLngsbG9jYXRpb24ueSxnZXROZWFyZXN0XSxlcnJvckNhbGxiYWNrKTt9O1RleHRDaGFyQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKG51bWJlcixjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKG51bWJlcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO310aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5SZW1vdmUsY2FsbGJhY2ssW2NvbnRyb2xDaGFyLG51bWJlcl0sZXJyb3JDYWxsYmFjayk7fTtUZXh0Q2hhckNvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihmKXtpZihmPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBlPW5ldyBiLlRleHRDaGFyKGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIFRleHRDaGFyQ29sbGVjdGlvbjt9KShiLkNvbGxlY3Rpb24pO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0Nvbm5lY3RlZFRvUHJldmlvdXM6XCJDb25uZWN0ZWRUb1ByZXZpb3VzXCIsRGlzdGFuY2U6XCJEaXN0YW5jZVwiLFR5cGU6XCJUeXBlXCJ9KTt2YXIgYz1PYmplY3QuZnJlZXplKHtBY3RpdmF0ZTpcIkFjdGl2YXRlXCIsRGVhY3RpdmF0ZTpcIkRlYWN0aXZhdGVcIn0pO2IuSGVhZGVyRm9vdGVyPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoSGVhZGVyRm9vdGVyLGYpO2Z1bmN0aW9uIEhlYWRlckZvb3RlcihnLGgpe2YuY2FsbCh0aGlzLGcsaCxcImhlYWRlckZvb3RlclwiKTt9SGVhZGVyRm9vdGVyLnByb3RvdHlwZS5nZXRDb25uZWN0ZWRUb1ByZXZpb3VzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNvbm5lY3RlZFRvUHJldmlvdXMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtIZWFkZXJGb290ZXIucHJvdG90eXBlLnNldENvbm5lY3RlZFRvUHJldmlvdXM9ZnVuY3Rpb24oY29ubmVjdGVkVG9QcmV2aW91cyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgY29ubmVjdGVkVG9QcmV2aW91cyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkNvbm5lY3RlZFRvUHJldmlvdXMsY29ubmVjdGVkVG9QcmV2aW91cyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0hlYWRlckZvb3Rlci5wcm90b3R5cGUuZ2V0RGlzdGFuY2U9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtIZWFkZXJGb290ZXIucHJvdG90eXBlLnNldERpc3RhbmNlPWZ1bmN0aW9uKGRpc3RhbmNlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIoZGlzdGFuY2UpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRGlzdGFuY2UsZGlzdGFuY2UsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtIZWFkZXJGb290ZXIucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuVHlwZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0hlYWRlckZvb3Rlci5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuQWN0aXZhdGUsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtIZWFkZXJGb290ZXIucHJvdG90eXBlLmRlYWN0aXZhdGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuRGVhY3RpdmF0ZSxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBIZWFkZXJGb290ZXI7fSkoYi5Gb3JtYXR0ZWRUZXh0KTtyZXR1cm4gZTt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLkhlYWRlckZvb3RlckNvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhIZWFkZXJGb290ZXJDb2xsZWN0aW9uLGQpO2Z1bmN0aW9uIEhlYWRlckZvb3RlckNvbGxlY3Rpb24oKXtkLmNhbGwodGhpcyk7fUhlYWRlckZvb3RlckNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZD1mdW5jdGlvbihoZWFkZXJGb290ZXJUeXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIoaGVhZGVyRm9vdGVyVHlwZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO310aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5BZGQsY2FsbGJhY2ssW2hlYWRlckZvb3RlclR5cGVdLGVycm9yQ2FsbGJhY2spO307SGVhZGVyRm9vdGVyQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihoZWFkZXJGb290ZXJUeXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIoaGVhZGVyRm9vdGVyVHlwZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO312YXIgZT10aGlzO3RoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEl0ZW0sY2FsbGJhY2s/ZnVuY3Rpb24oZil7Y2FsbGJhY2soZS5fYWRhcHQoZikpO306bnVsbCxbaGVhZGVyRm9vdGVyVHlwZV0sZXJyb3JDYWxsYmFjayk7fTtIZWFkZXJGb290ZXJDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oaGVhZGVyRm9vdGVyVHlwZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKGhlYWRlckZvb3RlclR5cGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuUmVtb3ZlLGNhbGxiYWNrLFtoZWFkZXJGb290ZXJUeXBlXSxlcnJvckNhbGxiYWNrKTt9O0hlYWRlckZvb3RlckNvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihmKXtpZihmPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBlPW5ldyBiLkhlYWRlckZvb3RlcihmLmhhc2hjb2RlLGYuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZSxiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtmLmhhc2hjb2RlLGYuaW5kZXhdKTtyZXR1cm4gZTt9O3JldHVybiBIZWFkZXJGb290ZXJDb2xsZWN0aW9uO30pKGIuQ29sbGVjdGlvbik7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7Qm91bmRzOlwiQm91bmRzXCIsRm9vdGVyOlwiRm9vdGVyXCIsSGVhZGVyOlwiSGVhZGVyXCIsTGVuZ3RoOlwiTGVuZ3RoXCIsTnVtYmVyOlwiTnVtYmVyXCIsTnVtYmVySW5TZWN0aW9uOlwiTnVtYmVySW5TZWN0aW9uXCIsU2VjdGlvbjpcIlNlY3Rpb25cIixTdGFydDpcIlN0YXJ0XCIsVGV4dEJvdW5kczpcIlRleHRCb3VuZHNcIn0pO3ZhciBjPU9iamVjdC5mcmVlemUoe1NlbGVjdDpcIlNlbGVjdFwiLEdldEltYWdlOlwiR2V0SW1hZ2VcIn0pO2IuUGFnZT0oZnVuY3Rpb24oZil7X19leHRlbmRzKFBhZ2UsZik7ZnVuY3Rpb24gUGFnZShoLGkpe2YuY2FsbCh0aGlzLGgsaSk7fVBhZ2UucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Cb3VuZHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlLnByb3RvdHlwZS5nZXRGb290ZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7Zyh0aGlzLGNhbGxiYWNrLGQuRm9vdGVyLGVycm9yQ2FsbGJhY2spO307UGFnZS5wcm90b3R5cGUuZ2V0SGVhZGVyPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2codGhpcyxjYWxsYmFjayxkLkhlYWRlcixlcnJvckNhbGxiYWNrKTt9O1BhZ2UucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5MZW5ndGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYWdlLnByb3RvdHlwZS5nZXROdW1iZXI9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTnVtYmVyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZS5wcm90b3R5cGUuZ2V0TnVtYmVySW5TZWN0aW9uPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLk51bWJlckluU2VjdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2UucHJvdG90eXBlLmdldFNlY3Rpb249ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU2VjdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1BhZ2UucHJvdG90eXBlLmdldFN0YXJ0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlN0YXJ0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFnZS5wcm90b3R5cGUuZ2V0VGV4dEJvdW5kcz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5UZXh0Qm91bmRzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307ZnVuY3Rpb24gZyhsLGksayxqKXtsLmdldFByb3BlcnR5VmFsdWUoayxmdW5jdGlvbihtKXtpKGgobSxsLGspKTt9LGopO2Z1bmN0aW9uIGgobSxwLG8pe2lmKG09PW51bGwpe3JldHVybiBudWxsO312YXIgbj1uZXcgYi5IZWFkZXJGb290ZXIobS5oYXNoY29kZSxtLmluZGV4KTtwLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihuLG8pO3JldHVybiBuO319UGFnZS5wcm90b3R5cGUuZ2V0SW1hZ2U9ZnVuY3Rpb24oaW1hZ2VGb3JtYXQsem9vbUZhY3Rvcixjb250ZW50cyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZighaXNJbnRlZ2VyKGltYWdlRm9ybWF0KSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fWlmKCFpc0ludGVnZXIoem9vbUZhY3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO31pZighaXNJbnRlZ2VyKGNvbnRlbnRzKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFuSW50ZWdlcik7fXRoaXMuY2FsbE1ldGhvZChjLkdldEltYWdlLGNhbGxiYWNrLFtpbWFnZUZvcm1hdCx6b29tRmFjdG9yLGNvbnRlbnRzXSxlcnJvckNhbGxiYWNrKTt9O1BhZ2UucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5TZWxlY3QsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gUGFnZTt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtyZXR1cm4gZTt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlBhZ2VDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoUGFnZUNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gUGFnZUNvbGxlY3Rpb24oKXtkLmNhbGwodGhpcyk7fVBhZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fSxbXSxlcnJvckNhbGxiYWNrKTt9O1BhZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtQXRUZXh0UG9zaXRpb249ZnVuY3Rpb24odGV4dFBvc2l0aW9uLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB0ZXh0UG9zaXRpb24hPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fSxbdGV4dFBvc2l0aW9uXSxlcnJvckNhbGxiYWNrKTt9O1BhZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZil7aWYoZj09PW51bGwpe3JldHVybiBudWxsO312YXIgZT1uZXcgYi5QYWdlKGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIFBhZ2VDb2xsZWN0aW9uO30pKGIuVGV4dEZpZWxkQ29sbGVjdGlvbkJhc2UpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZSxhKXt2YXIgYj1lLl9wcml2YXRlPWUuX3ByaXZhdGV8fHt9O3ZhciBkPU9iamVjdC5mcmVlemUoe0Jhc2VsaW5lOlwiQmFzZWxpbmVcIixCYXNlU3R5bGU6XCJCYXNlU3R5bGVcIixCb2xkOlwiQm9sZFwiLEZvbnROYW1lOlwiRm9udE5hbWVcIixGb250U2l6ZTpcIkZvbnRTaXplXCIsRm9yZUNvbG9yOlwiRm9yZUNvbG9yXCIsSXRhbGljOlwiSXRhbGljXCIsTmFtZTpcIk5hbWVcIixTdHJpa2VvdXQ6XCJTdHJpa2VvdXRcIixUZXh0QmFja0NvbG9yOlwiVGV4dEJhY2tDb2xvclwiLFVuZGVybGluZTpcIlVuZGVybGluZVwifSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7QXBwbHk6XCJBcHBseVwifSk7Yi5Gb3JtYXR0aW5nU3R5bGU9KGZ1bmN0aW9uKGYpe19fZXh0ZW5kcyhGb3JtYXR0aW5nU3R5bGUsZik7ZnVuY3Rpb24gRm9ybWF0dGluZ1N0eWxlKGcsaCl7Zi5jYWxsKHRoaXMsZyxoKTt9Rm9ybWF0dGluZ1N0eWxlLnByb3RvdHlwZS5nZXRCYXNlbGluZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5CYXNlbGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Zvcm1hdHRpbmdTdHlsZS5wcm90b3R5cGUuc2V0QmFzZWxpbmU9ZnVuY3Rpb24oYmFzZWxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYoIWlzSW50ZWdlcihiYXNlbGluZSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5CYXNlbGluZSxiYXNlbGluZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Zvcm1hdHRpbmdTdHlsZS5wcm90b3R5cGUuZ2V0QmFzZVN0eWxlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhciBnPXRoaXM7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQmFzZVN0eWxlLGZ1bmN0aW9uKGkpe2lmKGk9PT1udWxsKXtjYWxsYmFjayhudWxsKTtyZXR1cm47fXZhciBoPW5ldyBiLkZvcm1hdHRpbmdTdHlsZShpLmhhc2hjb2RlLGkuaW5kZXgpO2cuYWRkUHJvcGVydHlBY2Nlc3NFdmVudExpc3RlbmVyKGgsZC5CYXNlU3R5bGUpO2NhbGxiYWNrKGgpO30sZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLmdldEJvbGQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQm9sZCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Zvcm1hdHRpbmdTdHlsZS5wcm90b3R5cGUuc2V0Qm9sZD1mdW5jdGlvbihpc0JvbGQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlzQm9sZCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkJvbGQsaXNCb2xkLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307Rm9ybWF0dGluZ1N0eWxlLnByb3RvdHlwZS5nZXRGb250TmFtZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Gb250TmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Zvcm1hdHRpbmdTdHlsZS5wcm90b3R5cGUuc2V0Rm9udE5hbWU9ZnVuY3Rpb24oZm9udE5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGZvbnROYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5Gb250TmFtZSxmb250TmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Zvcm1hdHRpbmdTdHlsZS5wcm90b3R5cGUuZ2V0Rm9udFNpemU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuRm9udFNpemUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLnNldEZvbnRTaXplPWZ1bmN0aW9uKGZvbnRTaXplLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIoZm9udFNpemUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QW5JbnRlZ2VyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRm9udFNpemUsZm9udFNpemUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLmdldEZvcmVDb2xvcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Gb3JlQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLnNldEZvbnRTaXplPWZ1bmN0aW9uKGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBjb2xvciE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuRm9yZUNvbG9yLGNvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307Rm9ybWF0dGluZ1N0eWxlLnByb3RvdHlwZS5nZXRJdGFsaWM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuSXRhbGljLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307Rm9ybWF0dGluZ1N0eWxlLnByb3RvdHlwZS5zZXRJdGFsaWM9ZnVuY3Rpb24oaXNJdGFsaWMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGlzSXRhbGljIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSXRhbGljLGlzSXRhbGljLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307Rm9ybWF0dGluZ1N0eWxlLnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLk5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLnNldE5hbWU9ZnVuY3Rpb24obmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgbmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuTmFtZSxuYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307Rm9ybWF0dGluZ1N0eWxlLnByb3RvdHlwZS5nZXRTdHJpa2VvdXQ9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU3RyaWtlb3V0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307Rm9ybWF0dGluZ1N0eWxlLnByb3RvdHlwZS5zZXRTdHJpa2VvdXQ9ZnVuY3Rpb24oc3RyaWtlb3V0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBzdHJpa2VvdXQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5TdHJpa2VvdXQsc3RyaWtlb3V0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307Rm9ybWF0dGluZ1N0eWxlLnByb3RvdHlwZS5nZXRUZXh0QmFja0NvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHRCYWNrQ29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLnNldFRleHRCYWNrQ29sb3I9ZnVuY3Rpb24oY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIGNvbG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5TdHJpa2VvdXQsY29sb3IsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLmdldFVuZGVybGluZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5VbmRlcmxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGUucHJvdG90eXBlLnNldFVuZGVybGluZT1mdW5jdGlvbih1bmRlcmxpbmVTdHlsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdW5kZXJsaW5lU3R5bGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlVuZGVybGluZSx1bmRlcmxpbmVTdHlsZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0Zvcm1hdHRpbmdTdHlsZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5jYWxsTWV0aG9kKGMuQXBwbHksY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gRm9ybWF0dGluZ1N0eWxlO30pKGIuVGV4dENvbnRyb2xDbGFzc0FkYXB0ZXIpO3JldHVybiBlO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuRm9ybWF0dGluZ1N0eWxlQ29sbGVjdGlvbj0oZnVuY3Rpb24oZCl7X19leHRlbmRzKEZvcm1hdHRpbmdTdHlsZUNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gRm9ybWF0dGluZ1N0eWxlQ29sbGVjdGlvbigpe2QuY2FsbCh0aGlzKTt9Rm9ybWF0dGluZ1N0eWxlQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHN0eWxlTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2Ygc3R5bGVOYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO310aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5SZW1vdmUsY2FsbGJhY2ssW3N0eWxlTmFtZV0sZXJyb3JDYWxsYmFjayk7fTtGb3JtYXR0aW5nU3R5bGVDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZil7aWYoZj09PW51bGwpe3JldHVybiBudWxsO312YXIgZT1uZXcgYi5Gb3JtYXR0aW5nU3R5bGUoZi5oYXNoY29kZSxmLmluZGV4KTt0aGlzLmFkZE1ldGhvZENhbGxFdmVudExpc3RlbmVyKGUsYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRBZGFwdGVyQnlIYXNoY29kZSxbZi5oYXNoY29kZSxmLmluZGV4XSk7cmV0dXJuIGU7fTtyZXR1cm4gRm9ybWF0dGluZ1N0eWxlQ29sbGVjdGlvbjt9KShiLlRleHRGaWVsZENvbGxlY3Rpb25CYXNlKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtJc0luaGVyaXRlZEZyb21QYXJhZ3JhcGg6XCJJc0luaGVyaXRlZEZyb21QYXJhZ3JhcGhcIixSZXNldFRvUGFyYWdyYXBoOlwiUmVzZXRUb1BhcmFncmFwaFwifSk7Yi5JbmxpbmVTdHlsZT0oZnVuY3Rpb24oZSl7X19leHRlbmRzKElubGluZVN0eWxlLGUpO2Z1bmN0aW9uIElubGluZVN0eWxlKGYsZyl7ZS5jYWxsKHRoaXMsZixnKTt9SW5saW5lU3R5bGUucHJvdG90eXBlLmlzSW5oZXJpdGVkRnJvbVBhcmFncmFwaD1mdW5jdGlvbihhdHRyaWJ1dGVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIoYXR0cmlidXRlcykpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO310aGlzLmNhbGxNZXRob2QoYy5Jc0luaGVyaXRlZEZyb21QYXJhZ3JhcGgsY2FsbGJhY2ssW10sZXJyb3JDYWxsYmFjayk7fTtJbmxpbmVTdHlsZS5wcm90b3R5cGUucmVzZXRUb1BhcmFncmFwaD1mdW5jdGlvbihhdHRyaWJ1dGVzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFpc0ludGVnZXIoYXR0cmlidXRlcykpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBbkludGVnZXIpO310aGlzLmNhbGxNZXRob2QoYy5SZXNldFRvUGFyYWdyYXBoLGNhbGxiYWNrLFtdLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIElubGluZVN0eWxlO30pKGIuRm9ybWF0dGluZ1N0eWxlKTtiLklubGluZVN0eWxlLkF0dHJpYnV0ZXM9T2JqZWN0LmZyZWV6ZSh7Rm9udE5hbWU6MSxGb250U2l6ZToyLEJvbGQ6NCxJdGFsaWM6OCxVbmRlcmxpbmU6MTYsU3RyaWtlb3V0OjMyLEJhc2VsaW5lOjY0LEZvcmVDb2xvcjoxMjgsVGV4dEJhY2tDb2xvcjoyNTYsfSk7cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5JbmxpbmVTdHlsZUNvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhJbmxpbmVTdHlsZUNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gSW5saW5lU3R5bGVDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31JbmxpbmVTdHlsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZD1mdW5jdGlvbihzdHlsZU5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHN0eWxlTmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5BZGQsY2FsbGJhY2s/ZnVuY3Rpb24oZil7Y2FsbGJhY2soZS5fYWRhcHQoZikpO306bnVsbCxbc3R5bGVOYW1lXSxlcnJvckNhbGxiYWNrKTt9O0lubGluZVN0eWxlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihzdHlsZU5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHN0eWxlTmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGNhbGxiYWNrP2Z1bmN0aW9uKGYpe2NhbGxiYWNrKGUuX2FkYXB0KGYpKTt9Om51bGwsW3N0eWxlTmFtZV0sZXJyb3JDYWxsYmFjayk7fTtJbmxpbmVTdHlsZUNvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGFwdD1mdW5jdGlvbihmKXtpZihmPT09bnVsbCl7cmV0dXJuIG51bGw7fXZhciBlPW5ldyBiLklubGluZVN0eWxlKGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIElubGluZVN0eWxlQ29sbGVjdGlvbjt9KShiLkZvcm1hdHRpbmdTdHlsZUNvbGxlY3Rpb24pO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oZCxhKXt2YXIgYj1kLl9wcml2YXRlPWQuX3ByaXZhdGV8fHt9O3ZhciBjPU9iamVjdC5mcmVlemUoe0ZvbGxvd2luZ1N0eWxlOlwiRm9sbG93aW5nU3R5bGVcIixQYXJhZ3JhcGhGb3JtYXQ6XCJQYXJhZ3JhcGhGb3JtYXRcIixMaXN0Rm9ybWF0OlwiTGlzdEZvcm1hdFwifSk7Yi5QYXJhZ3JhcGhTdHlsZT0oZnVuY3Rpb24oZSl7X19leHRlbmRzKFBhcmFncmFwaFN0eWxlLGUpO2Z1bmN0aW9uIFBhcmFncmFwaFN0eWxlKGYsZyl7ZS5jYWxsKHRoaXMsZixnKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFyYWdyYXBoU3R5bGUucHJvdG90eXBlLFwibGlzdEZvcm1hdFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgaD1uZXcgYi5MaXN0Rm9ybWF0KCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoaCxjLkxpc3RGb3JtYXQpO3JldHVybiBoO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFBhcmFncmFwaFN0eWxlLnByb3RvdHlwZSxcInBhcmFncmFwaEZvcm1hdFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgaD1uZXcgYi5QYXJhZ3JhcGhGb3JtYXQoKTt0aGlzLmFkZFByb3BlcnR5QWNjZXNzRXZlbnRMaXN0ZW5lcihoLGMuUGFyYWdyYXBoRm9ybWF0KTtyZXR1cm4gaDt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO31QYXJhZ3JhcGhTdHlsZS5wcm90b3R5cGUuZ2V0Rm9sbG93aW5nU3R5bGU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuRm9sbG93aW5nU3R5bGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhTdHlsZS5wcm90b3R5cGUuc2V0Rm9sbG93aW5nU3R5bGU9ZnVuY3Rpb24oc3R5bGVOYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHN0eWxlTmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRm9sbG93aW5nU3R5bGUsc3R5bGVOYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoU3R5bGUucHJvdG90eXBlLmdldFBhcmFncmFwaEZvcm1hdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt2YXIgZj10aGlzO3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlBhcmFncmFwaEZvcm1hdCxmdW5jdGlvbihnKXtjYWxsYmFjayhiLlBhcmFncmFwaEZvcm1hdC5fYWRhcHQoZixnLGMuUGFyYWdyYXBoRm9ybWF0KSk7fSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBQYXJhZ3JhcGhTdHlsZTt9KShiLkZvcm1hdHRpbmdTdHlsZSk7cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5QYXJhZ3JhcGhTdHlsZUNvbGxlY3Rpb249KGZ1bmN0aW9uKGQpe19fZXh0ZW5kcyhQYXJhZ3JhcGhTdHlsZUNvbGxlY3Rpb24sZCk7ZnVuY3Rpb24gUGFyYWdyYXBoU3R5bGVDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31QYXJhZ3JhcGhTdHlsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZD1mdW5jdGlvbihzdHlsZU5hbWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHN0eWxlTmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9dmFyIGU9dGhpczt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5BZGQsY2FsbGJhY2s/ZnVuY3Rpb24oZixnKXtjYWxsYmFjayhlLl9hZGFwdChmKSxnKTt9Om51bGwsW3N0eWxlTmFtZV0sZXJyb3JDYWxsYmFjayk7fTtQYXJhZ3JhcGhTdHlsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEl0ZW09ZnVuY3Rpb24oc3R5bGVOYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBzdHlsZU5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXZhciBlPXRoaXM7dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxjYWxsYmFjaz9mdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fTpudWxsLFtzdHlsZU5hbWVdLGVycm9yQ2FsbGJhY2spO307UGFyYWdyYXBoU3R5bGVDb2xsZWN0aW9uLnByb3RvdHlwZS5fYWRhcHQ9ZnVuY3Rpb24oZil7aWYoZj09PW51bGwpe3JldHVybiBudWxsO312YXIgZT1uZXcgYi5QYXJhZ3JhcGhTdHlsZShmLmhhc2hjb2RlLGYuaW5kZXgpO3RoaXMuYWRkTWV0aG9kQ2FsbEV2ZW50TGlzdGVuZXIoZSxiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkdldEFkYXB0ZXJCeUhhc2hjb2RlLFtmLmhhc2hjb2RlLGYuaW5kZXhdKTtyZXR1cm4gZTt9O3JldHVybiBQYXJhZ3JhcGhTdHlsZUNvbGxlY3Rpb247fSkoYi5Gb3JtYXR0aW5nU3R5bGVDb2xsZWN0aW9uKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLlNhdmVTZXR0aW5ncz0oZnVuY3Rpb24oZCl7ZnVuY3Rpb24gU2F2ZVNldHRpbmdzKCl7dmFyIGU9e307T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7YXV0aG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5BdXRob3I7fSxzZXQ6ZnVuY3Rpb24oYXV0aG9yKXtpZih0eXBlb2YgYXV0aG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdcInRleHRcIiBtdXN0IGJlIGEgc3RyaW5nLlxcJyk7fWUuQXV0aG9yPWF1dGhvcjt9LGVudW1lcmFibGU6dHJ1ZX0sY3JlYXRpb25EYXRlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5DcmVhdGlvbkRhdGU7fSxzZXQ6ZnVuY3Rpb24oY3JlYXRpb25EYXRlKXtpZih0eXBlb2YgY3NzU2F2ZU1vZGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWUuQ3JlYXRpb25EYXRlPWNyZWF0aW9uRGF0ZTt9LGVudW1lcmFibGU6dHJ1ZX0sY3JlYXRvckFwcGxpY2F0aW9uOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5DcmVhdG9yQXBwbGljYXRpb247fSxzZXQ6ZnVuY3Rpb24oY3JlYXRvckFwcGxpY2F0aW9uKXtpZih0eXBlb2YgY3JlYXRvckFwcGxpY2F0aW9uIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLkNyZWF0b3JBcHBsaWNhdGlvbj1jcmVhdG9yQXBwbGljYXRpb247fSxlbnVtZXJhYmxlOnRydWV9LGNzc1NhdmVNb2RlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Dc3NTYXZlTW9kZTt9LHNldDpmdW5jdGlvbihjc3NTYXZlTW9kZSl7aWYodHlwZW9mIGNzc1NhdmVNb2RlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31lLkNzc1NhdmVNb2RlPWNzc1NhdmVNb2RlO30sZW51bWVyYWJsZTp0cnVlfSxkb2N1bWVudEFjY2Vzc1Blcm1pc3Npb25zOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Eb2N1bWVudEFjY2Vzc1Blcm1pc3Npb25zO30sc2V0OmZ1bmN0aW9uKGRvY3VtZW50QWNjZXNzUGVybWlzc2lvbnMpe2lmKHR5cGVvZiBkb2N1bWVudEFjY2Vzc1Blcm1pc3Npb25zIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31lLkRvY3VtZW50QWNjZXNzUGVybWlzc2lvbnM9ZG9jdW1lbnRBY2Nlc3NQZXJtaXNzaW9uczt9LGVudW1lcmFibGU6dHJ1ZX0sZG9jdW1lbnRLZXl3b3Jkczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuRG9jdW1lbnRLZXl3b3Jkczt9LHNldDpmdW5jdGlvbihkb2N1bWVudEtleXdvcmRzKXtpZighaXNBcnJheU9mVHlwZShkb2N1bWVudEtleXdvcmRzLFwic3RyaW5nXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QXJyYXlPZlN0cmluZ3MpO31lLkRvY3VtZW50S2V5d29yZHM9ZG9jdW1lbnRLZXl3b3Jkczt9LGVudW1lcmFibGU6dHJ1ZX0sZG9jdW1lbnRMZXZlbEphdmFTY3JpcHRBY3Rpb25zOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Eb2N1bWVudExldmVsSmF2YVNjcmlwdEFjdGlvbnM7fSxzZXQ6ZnVuY3Rpb24oZG9jdW1lbnRMZXZlbEphdmFTY3JpcHRBY3Rpb25zKXtpZih0eXBlb2YgZG9jdW1lbnRMZXZlbEphdmFTY3JpcHRBY3Rpb25zIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLkRvY3VtZW50TGV2ZWxKYXZhU2NyaXB0QWN0aW9ucz1kb2N1bWVudExldmVsSmF2YVNjcmlwdEFjdGlvbnM7fSxlbnVtZXJhYmxlOnRydWV9LGRvY3VtZW50U3ViamVjdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuRG9jdW1lbnRTdWJqZWN0O30sc2V0OmZ1bmN0aW9uKGRvY3VtZW50U3ViamVjdCl7aWYodHlwZW9mIGRvY3VtZW50U3ViamVjdCE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9ZS5Eb2N1bWVudFN1YmplY3Q9ZG9jdW1lbnRTdWJqZWN0O30sZW51bWVyYWJsZTp0cnVlfSxkb2N1bWVudFRpdGxlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Eb2N1bWVudFRpdGxlO30sc2V0OmZ1bmN0aW9uKGRvY3VtZW50VGl0bGUpe2lmKHR5cGVvZiBkb2N1bWVudFRpdGxlIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLkRvY3VtZW50VGl0bGU9ZG9jdW1lbnRUaXRsZTt9LGVudW1lcmFibGU6dHJ1ZX0saW1hZ2VDb21wcmVzc2lvblF1YWxpdHk6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLkltYWdlQ29tcHJlc3Npb25RdWFsaXR5O30sc2V0OmZ1bmN0aW9uKGltYWdlQ29tcHJlc3Npb25RdWFsaXR5KXtpZih0eXBlb2YgaW1hZ2VDb21wcmVzc2lvblF1YWxpdHkhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWUuSW1hZ2VDb21wcmVzc2lvblF1YWxpdHk9aW1hZ2VDb21wcmVzc2lvblF1YWxpdHk7fSxlbnVtZXJhYmxlOnRydWV9LGltYWdlRXhwb3J0RmlsdGVySW5kZXg6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLkltYWdlRXhwb3J0RmlsdGVySW5kZXg7fSxzZXQ6ZnVuY3Rpb24oaW1hZ2VFeHBvcnRGaWx0ZXJJbmRleCl7aWYodHlwZW9mIGltYWdlRXhwb3J0RmlsdGVySW5kZXghPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWUuSW1hZ2VFeHBvcnRGaWx0ZXJJbmRleD1pbWFnZUV4cG9ydEZpbHRlckluZGV4O30sZW51bWVyYWJsZTp0cnVlfSxpbWFnZU1heFJlc29sdXRpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBlLkltYWdlTWF4UmVzb2x1dGlvbjt9LHNldDpmdW5jdGlvbihpbWFnZU1heFJlc29sdXRpb24pe2lmKHR5cGVvZiBpbWFnZU1heFJlc29sdXRpb24hPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWUuSW1hZ2VNYXhSZXNvbHV0aW9uPWltYWdlTWF4UmVzb2x1dGlvbjt9LGVudW1lcmFibGU6dHJ1ZX0sbGFzdE1vZGlmaWNhdGlvbkRhdGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLkxhc3RNb2RpZmljYXRpb25EYXRlO30sc2V0OmZ1bmN0aW9uKGxhc3RNb2RpZmljYXRpb25EYXRlKXtpZih0eXBlb2YgbGFzdE1vZGlmaWNhdGlvbkRhdGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWUuTGFzdE1vZGlmaWNhdGlvbkRhdGU9bGFzdE1vZGlmaWNhdGlvbkRhdGU7fSxlbnVtZXJhYmxlOnRydWV9LG1hc3RlclBhc3N3b3JkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5NYXN0ZXJQYXNzd29yZDt9LHNldDpmdW5jdGlvbihtYXN0ZXJQYXNzd29yZCl7aWYodHlwZW9mIG1hc3RlclBhc3N3b3JkIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLk1hc3RlclBhc3N3b3JkPW1hc3RlclBhc3N3b3JkO30sZW51bWVyYWJsZTp0cnVlfSxvbWl0dGVkQ29udGVudDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuT21pdHRlZENvbnRlbnQ7fSxzZXQ6ZnVuY3Rpb24ob21pdHRlZENvbnRlbnQpe2lmKHR5cGVvZiBvbWl0dGVkQ29udGVudCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9ZS5PbWl0dGVkQ29udGVudD1vbWl0dGVkQ29udGVudDt9LGVudW1lcmFibGU6dHJ1ZX0scmVwb3J0aW5nTWVyZ2VCbG9ja0Zvcm1hdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuUmVwb3J0aW5nTWVyZ2VCbG9ja0Zvcm1hdDt9LHNldDpmdW5jdGlvbihyZXBvcnRpbmdNZXJnZUJsb2NrRm9ybWF0KXtpZih0eXBlb2YgcmVwb3J0aW5nTWVyZ2VCbG9ja0Zvcm1hdCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9ZS5SZXBvcnRpbmdNZXJnZUJsb2NrRm9ybWF0PXJlcG9ydGluZ01lcmdlQmxvY2tGb3JtYXQ7fSxlbnVtZXJhYmxlOnRydWV9LHNhdmVEb2N1bWVudEJhY2tDb2xvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuU2F2ZURvY3VtZW50QmFja0NvbG9yO30sc2V0OmZ1bmN0aW9uKHNhdmVEb2N1bWVudEJhY2tDb2xvcil7aWYodHlwZW9mIHNhdmVEb2N1bWVudEJhY2tDb2xvciE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWUuU2F2ZURvY3VtZW50QmFja0NvbG9yPXNhdmVEb2N1bWVudEJhY2tDb2xvcjt9LGVudW1lcmFibGU6dHJ1ZX0sdXNlclBhc3N3b3JkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Vc2VyUGFzc3dvcmQ7fSxzZXQ6ZnVuY3Rpb24odXNlclBhc3N3b3JkKXtpZih0eXBlb2YgdXNlclBhc3N3b3JkIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLlVzZXJQYXNzd29yZD11c2VyUGFzc3dvcmQ7fSxlbnVtZXJhYmxlOnRydWV9LH0pO31yZXR1cm4gU2F2ZVNldHRpbmdzO30pKCk7Yi5TYXZlU2V0dGluZ3MuQ3NzU2F2ZU1vZGU9T2JqZWN0LmZyZWV6ZSh7Tm9uZTowLENyZWF0ZUZpbGU6ODE5MixPdmVyd3JpdGVGaWxlOjE2Mzg0LElubGluZTozMjc2OH0pO2IuU2F2ZVNldHRpbmdzLk9taXR0ZWRDb250ZW50PU9iamVjdC5mcmVlemUoe05vbmU6MCxTdWJUZXh0UGFydHM6NjU1MzYsVHJhY2tlZENoYW5nZXM6MTMxMDcyLEVkaXRhYmxlUmVnaW9uczoyNjIxNDQsU2VjdGlvbnM6NTI0Mjg4LFRleHRGaWVsZHM6MTA0ODU3Nn0pO2IuU2F2ZVNldHRpbmdzLlJlcG9ydGluZ01lcmdlQmxvY2tGb3JtYXQ9T2JqZWN0LmZyZWV6ZSh7RGVmYXVsdDoxLERvY3VtZW50VGFyZ2V0czoyLFN1YlRleHRQYXJ0czozfSk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5Mb2FkU2V0dGluZ3M9KGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIExvYWRTZXR0aW5ncygpe3ZhciBlPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse2FkZFBhcmFncmFwaDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuQWRkUGFyYWdyYXBoO30sc2V0OmZ1bmN0aW9uKGFkZFBhcmFncmFwaCl7aWYodHlwZW9mIGFkZFBhcmFncmFwaCE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWUuQWRkUGFyYWdyYXBoPWFkZFBhcmFncmFwaDt9LGVudW1lcmFibGU6dHJ1ZX0sYXBwbGljYXRpb25GaWVsZEZvcm1hdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuQXBwbGljYXRpb25GaWVsZEZvcm1hdDt9LHNldDpmdW5jdGlvbihhcHBsaWNhdGlvbkZpZWxkRm9ybWF0KXtpZih0eXBlb2YgYXBwbGljYXRpb25GaWVsZEZvcm1hdCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9ZS5BcHBsaWNhdGlvbkZpZWxkRm9ybWF0PWFwcGxpY2F0aW9uRmllbGRGb3JtYXQ7fSxlbnVtZXJhYmxlOnRydWV9LGFwcGxpY2F0aW9uRmllbGRUeXBlTmFtZXM6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLkFwcGxpY2F0aW9uRmllbGRUeXBlTmFtZXM7fSxzZXQ6ZnVuY3Rpb24oYXBwbGljYXRpb25GaWVsZFR5cGVOYW1lcyl7aWYoIWlzQXJyYXlPZlR5cGUoYXBwbGljYXRpb25GaWVsZFR5cGVOYW1lcyxzdHJpbmcpKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QXJyYXlPZlN0cmluZ3MpO31lLkFwcGxpY2F0aW9uRmllbGRUeXBlTmFtZXM9YXBwbGljYXRpb25GaWVsZFR5cGVOYW1lczt9LGVudW1lcmFibGU6dHJ1ZX0sZG9jdW1lbnRBY2Nlc3NQZXJtaXNzaW9uczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuRG9jdW1lbnRBY2Nlc3NQZXJtaXNzaW9uczt9LHNldDpmdW5jdGlvbihkb2N1bWVudEFjY2Vzc1Blcm1pc3Npb25zKXtpZih0eXBlb2YgZG9jdW1lbnRBY2Nlc3NQZXJtaXNzaW9ucyE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9ZS5Eb2N1bWVudEFjY2Vzc1Blcm1pc3Npb25zPWRvY3VtZW50QWNjZXNzUGVybWlzc2lvbnM7fSxlbnVtZXJhYmxlOnRydWV9LGRvY3VtZW50QmFzZVBhdGg6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLkRvY3VtZW50QmFzZVBhdGg7fSxzZXQ6ZnVuY3Rpb24oZG9jdW1lbnRCYXNlUGF0aCl7aWYodHlwZW9mIGRvY3VtZW50QmFzZVBhdGghPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWUuRG9jdW1lbnRCYXNlUGF0aD1kb2N1bWVudEJhc2VQYXRoO30sZW51bWVyYWJsZTp0cnVlfSxkb2N1bWVudFBhcnROYW1lOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Eb2N1bWVudFBhcnROYW1lO30sc2V0OmZ1bmN0aW9uKGRvY3VtZW50UGFydE5hbWUpe2lmKHR5cGVvZiBkb2N1bWVudFBhcnROYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLkRvY3VtZW50UGFydE5hbWU9ZG9jdW1lbnRQYXJ0TmFtZTt9LGVudW1lcmFibGU6dHJ1ZX0saW1hZ2VTZWFyY2hQYXRoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5JbWFnZVNlYXJjaFBhdGg7fSxzZXQ6ZnVuY3Rpb24oaW1hZ2VTZWFyY2hQYXRoKXtpZih0eXBlb2YgaW1hZ2VTZWFyY2hQYXRoIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLkltYWdlU2VhcmNoUGF0aD1pbWFnZVNlYXJjaFBhdGg7fSxlbnVtZXJhYmxlOnRydWV9LGxvYWREb2N1bWVudEJhY2tDb2xvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuTG9hZERvY3VtZW50QmFja0NvbG9yO30sc2V0OmZ1bmN0aW9uKGxvYWREb2N1bWVudEJhY2tDb2xvcil7aWYodHlwZW9mIGxvYWREb2N1bWVudEJhY2tDb2xvciE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWUuTG9hZERvY3VtZW50QmFja0NvbG9yPWxvYWREb2N1bWVudEJhY2tDb2xvcjt9LGVudW1lcmFibGU6dHJ1ZX0sbG9hZEh5cGVydGV4dExpbmtzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Mb2FkSHlwZXJ0ZXh0TGlua3M7fSxzZXQ6ZnVuY3Rpb24obG9hZEh5cGVydGV4dExpbmtzKXtpZih0eXBlb2YgbG9hZEh5cGVydGV4dExpbmtzIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9ZS5Mb2FkSHlwZXJ0ZXh0TGlua3M9bG9hZEh5cGVydGV4dExpbmtzO30sZW51bWVyYWJsZTp0cnVlfSxsb2FkSW1hZ2VzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Mb2FkSW1hZ2VzO30sc2V0OmZ1bmN0aW9uKGxvYWRJbWFnZXMpe2lmKHR5cGVvZiBsb2FkSW1hZ2VzIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9ZS5Mb2FkSW1hZ2VzPWxvYWRJbWFnZXM7fSxlbnVtZXJhYmxlOnRydWV9LGxvYWRTdWJUZXh0UGFydHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLkxvYWRTdWJUZXh0UGFydHM7fSxzZXQ6ZnVuY3Rpb24obG9hZFN1YlRleHRQYXJ0cyl7aWYodHlwZW9mIGxvYWRTdWJUZXh0UGFydHMhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO31lLkxvYWRTdWJUZXh0UGFydHM9bG9hZFN1YlRleHRQYXJ0czt9LGVudW1lcmFibGU6dHJ1ZX0sbWFzdGVyUGFzc3dvcmQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLk1hc3RlclBhc3N3b3JkO30sc2V0OmZ1bmN0aW9uKG1hc3RlclBhc3N3b3JkKXtpZih0eXBlb2YgbWFzdGVyUGFzc3dvcmQhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWUuTWFzdGVyUGFzc3dvcmQ9bWFzdGVyUGFzc3dvcmQ7fSxlbnVtZXJhYmxlOnRydWV9LFBERkltcG9ydFNldHRpbmdzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5QREZJbXBvcnRTZXR0aW5nczt9LHNldDpmdW5jdGlvbihQREZJbXBvcnRTZXR0aW5ncyl7aWYodHlwZW9mIFBERkltcG9ydFNldHRpbmdzIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31lLlBERkltcG9ydFNldHRpbmdzPVBERkltcG9ydFNldHRpbmdzO30sZW51bWVyYWJsZTp0cnVlfSxyZXBvcnRpbmdNZXJnZUJsb2NrRm9ybWF0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5SZXBvcnRpbmdNZXJnZUJsb2NrRm9ybWF0O30sc2V0OmZ1bmN0aW9uKHJlcG9ydGluZ01lcmdlQmxvY2tGb3JtYXQpe2lmKHR5cGVvZiByZXBvcnRpbmdNZXJnZUJsb2NrRm9ybWF0IT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO31lLlJlcG9ydGluZ01lcmdlQmxvY2tGb3JtYXQ9cmVwb3J0aW5nTWVyZ2VCbG9ja0Zvcm1hdDt9LGVudW1lcmFibGU6dHJ1ZX0sdXNlclBhc3N3b3JkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5Vc2VyUGFzc3dvcmQ7fSxzZXQ6ZnVuY3Rpb24odXNlclBhc3N3b3JkKXtpZih0eXBlb2YgdXNlclBhc3N3b3JkIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31lLlVzZXJQYXNzd29yZD11c2VyUGFzc3dvcmQ7fSxlbnVtZXJhYmxlOnRydWV9fSk7fXJldHVybiBMb2FkU2V0dGluZ3M7fSkoKTtiLkxvYWRTZXR0aW5ncy5QREZJbXBvcnRTZXR0aW5ncz1PYmplY3QuZnJlZXplKHtHZW5lcmF0ZUxpbmVzOjEsR2VuZXJhdGVQYXJhZ3JhcGhzOjIsR2VuZXJhdGVUZXh0RnJhbWVzOjQsR2VuZXJhdGVYTUw6OCxMb2FkRW1iZWRkZWRGaWxlczoxNixMb2FkRW1iZWRkZWREYXRhOjMyLEdlbmVyYXRlVGV4dEZyYW1lc0ZpcnN0UGFnZU9ubHk6MTI4fSk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7Q2FyZXRTaXplOlwiQ2FyZXRTaXplXCIsQ29sdW1uOlwiQ29sdW1uXCIsSW5hY3RpdmVNYXJrZXI6XCJJbmFjdGl2ZU1hcmtlclwiLExpbmU6XCJMaW5lXCIsTG9jYXRpb246XCJMb2NhdGlvblwiLFBhZ2U6XCJQYWdlXCIsUGFnZUluU2VjdGlvbjpcIlBhZ2VJblNlY3Rpb25cIixTZWN0aW9uOlwiU2VjdGlvblwiLFRleHRQb3NpdGlvbjpcIlRleHRQb3NpdGlvblwifSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7U2Nyb2xsVG86XCJTY3JvbGxUb1wifSk7Yi5JbnB1dFBvc2l0aW9uPShmdW5jdGlvbihmKXtfX2V4dGVuZHMoSW5wdXRQb3NpdGlvbixmKTtmdW5jdGlvbiBJbnB1dFBvc2l0aW9uKCl7Zi5jYWxsKHRoaXMpO31JbnB1dFBvc2l0aW9uLnByb3RvdHlwZS5nZXRDYXJldFNpemU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuQ2FyZXRTaXplLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRQb3NpdGlvbi5wcm90b3R5cGUuZ2V0Q29sdW1uPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkNvbHVtbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0UG9zaXRpb24ucHJvdG90eXBlLmdldEluYWN0aXZlTWFya2VyPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkluYWN0aXZlTWFya2VyLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307SW5wdXRQb3NpdGlvbi5wcm90b3R5cGUuc2V0SW5hY3RpdmVNYXJrZXI9ZnVuY3Rpb24oaXNJbmFjdGl2ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgaXNJbmFjdGl2ZSE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkluYWN0aXZlTWFya2VyLGlzSW5hY3RpdmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dFBvc2l0aW9uLnByb3RvdHlwZS5nZXRMaW5lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxpbmUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dFBvc2l0aW9uLnByb3RvdHlwZS5nZXRMb2NhdGlvbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5Mb2NhdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0UG9zaXRpb24ucHJvdG90eXBlLmdldFBhZ2U9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuUGFnZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0UG9zaXRpb24ucHJvdG90eXBlLmdldFBhZ2VJblNlY3Rpb249ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuUGFnZUluU2VjdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0UG9zaXRpb24ucHJvdG90eXBlLmdldFNlY3Rpb249ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuU2VjdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0lucHV0UG9zaXRpb24ucHJvdG90eXBlLmdldFRleHRQb3NpdGlvbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5UZXh0UG9zaXRpb24sY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtJbnB1dFBvc2l0aW9uLnByb3RvdHlwZS5zY3JvbGxUbz1mdW5jdGlvbihnLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiBnIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLmNhbGxNZXRob2QoYy5TY3JvbGxUbyxjYWxsYmFjayxbZ10sZXJyb3JDYWxsYmFjayk7fTtyZXR1cm4gSW5wdXRQb3NpdGlvbjt9KShiLlRleHRDb250cm9sQ2xhc3NBZGFwdGVyKTtiLklucHV0UG9zaXRpb24uU2Nyb2xsUG9zaXRpb249e0F1dG86MCxMZWZ0OjEsUmlnaHQ6MixUb3A6NCxCb3R0b206OH07cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihlLGEpe3ZhciBiPWUuX3ByaXZhdGU9ZS5fcHJpdmF0ZXx8e307dmFyIGQ9T2JqZWN0LmZyZWV6ZSh7SGFzTGlua3M6XCJIYXNMaW5rc1wiLEhhc1BhZ2VOdW1iZXJzOlwiSGFzUGFnZU51bWJlcnNcIixIYXNSaWdodEFsaWduZWRQYWdlTnVtYmVyczpcIkhhc1JpZ2h0QWxpZ25lZFBhZ2VOdW1iZXJzXCIsSGlnaGxpZ2h0Q29sb3I6XCJIaWdobGlnaHRDb2xvclwiLEhpZ2hsaWdodE1vZGU6XCJIaWdobGlnaHRNb2RlXCIsSUQ6XCJJRFwiLExlbmd0aDpcIkxlbmd0aFwiLE1heGltdW1TdHJ1Y3R1cmVMZXZlbDpcIk1heGltdW1TdHJ1Y3R1cmVMZXZlbFwiLE1pbmltdW1TdHJ1Y3R1cmVMZXZlbDpcIk1pbmltdW1TdHJ1Y3R1cmVMZXZlbFwiLE5hbWU6XCJOYW1lXCIsTnVtYmVyOlwiTnVtYmVyXCIsU3RhcnQ6XCJTdGFydFwiLFRleHQ6XCJUZXh0XCIsVGl0bGU6XCJUaXRsZVwifSk7dmFyIGM9T2JqZWN0LmZyZWV6ZSh7U2Nyb2xsVG86XCJTY3JvbGxUb1wiLFVwZGF0ZTpcIlVwZGF0ZVwiLFNhdmU6XCJTYXZlXCJ9KTtiLlRhYmxlT2ZDb250ZW50cz0oZnVuY3Rpb24oZil7X19leHRlbmRzKFRhYmxlT2ZDb250ZW50cyxmKTtmdW5jdGlvbiBUYWJsZU9mQ29udGVudHMoZyxoKXtmLmNhbGwodGhpcyxnLGgpO31UYWJsZU9mQ29udGVudHMucHJvdG90eXBlLmdldEhhc0xpbmtzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkhhc0xpbmtzLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVPZkNvbnRlbnRzLnByb3RvdHlwZS5zZXRIYXNMaW5rcz1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt2YWx1ZT0hIXZhbHVlO3RoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkhhc0xpbmtzLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVPZkNvbnRlbnRzLnByb3RvdHlwZS5nZXRIYXNQYWdlTnVtYmVycz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5IYXNQYWdlTnVtYmVycyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlT2ZDb250ZW50cy5wcm90b3R5cGUuc2V0SGFzUGFnZU51bWJlcnM9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dmFsdWU9ISF2YWx1ZTt0aGlzLnNldFByb3BlcnR5VmFsdWUoZC5IYXNQYWdlTnVtYmVycyx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlT2ZDb250ZW50cy5wcm90b3R5cGUuZ2V0SGFzUmlnaHRBbGlnbmVkUGFnZU51bWJlcnM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuSGFzUmlnaHRBbGlnbmVkUGFnZU51bWJlcnMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZU9mQ29udGVudHMucHJvdG90eXBlLnNldEhhc1JpZ2h0QWxpZ25lZFBhZ2VOdW1iZXJzPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3ZhbHVlPSEhdmFsdWU7dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuSGFzUmlnaHRBbGlnbmVkUGFnZU51bWJlcnMsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZU9mQ29udGVudHMucHJvdG90eXBlLmdldEhpZ2hsaWdodENvbG9yPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodENvbG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVPZkNvbnRlbnRzLnByb3RvdHlwZS5zZXRIaWdobGlnaHRDb2xvcj1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodENvbG9yLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVPZkNvbnRlbnRzLnByb3RvdHlwZS5nZXRIaWdobGlnaHRNb2RlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkhpZ2hsaWdodE1vZGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZU9mQ29udGVudHMucHJvdG90eXBlLnNldEhpZ2hsaWdodE1vZGU9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5IaWdobGlnaHRNb2RlLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVPZkNvbnRlbnRzLnByb3RvdHlwZS5nZXRJRD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5JRCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlT2ZDb250ZW50cy5wcm90b3R5cGUuc2V0SUQ9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5JRCx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlT2ZDb250ZW50cy5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLkxlbmd0aCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlT2ZDb250ZW50cy5wcm90b3R5cGUuZ2V0TWF4aW11bVN0cnVjdHVyZUxldmVsPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLk1heGltdW1TdHJ1Y3R1cmVMZXZlbCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlT2ZDb250ZW50cy5wcm90b3R5cGUuc2V0TWF4aW11bVN0cnVjdHVyZUxldmVsPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGQuTWF4aW11bVN0cnVjdHVyZUxldmVsLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVPZkNvbnRlbnRzLnByb3RvdHlwZS5nZXRNaW5pbXVtU3RydWN0dXJlTGV2ZWw9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTWluaW11bVN0cnVjdHVyZUxldmVsLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVPZkNvbnRlbnRzLnByb3RvdHlwZS5zZXRNaW5pbXVtU3RydWN0dXJlTGV2ZWw9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFOdW1iZXIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoZC5NaW5pbXVtU3RydWN0dXJlTGV2ZWwsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZU9mQ29udGVudHMucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGQuTmFtZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O1RhYmxlT2ZDb250ZW50cy5wcm90b3R5cGUuc2V0TmFtZT1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLk5hbWUsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZU9mQ29udGVudHMucHJvdG90eXBlLmdldE51bWJlcj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoZC5OdW1iZXIsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZU9mQ29udGVudHMucHJvdG90eXBlLmdldFN0YXJ0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlN0YXJ0LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVPZkNvbnRlbnRzLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRleHQsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtUYWJsZU9mQ29udGVudHMucHJvdG90eXBlLmdldFRpdGxlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShkLlRpdGxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVPZkNvbnRlbnRzLnByb3RvdHlwZS5zZXRUaXRsZT1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShkLlRpdGxlLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307VGFibGVPZkNvbnRlbnRzLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKHN0cmVhbVR5cGUsY2FsbGJhY2ssc2F2ZVNldHRpbmdzLGVycm9yQ2FsbGJhY2spe2lmKCFzdHJlYW1UeXBlKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuTm9TdHJlYW1UeXBlKTt9aWYoIWNhbGxiYWNrKXt0aHJvdyBuZXcgRXJyb3IoYi5FcnJvclRleHQuVG9vRmV3UGFyYW1ldGVycyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXNhdmVTZXR0aW5ncz1zYXZlU2V0dGluZ3N8fG51bGw7dGhpcy5jYWxsTWV0aG9kKGMuU2F2ZSxjYWxsYmFjayxbc3RyZWFtVHlwZSxzYXZlU2V0dGluZ3NdLGVycm9yQ2FsbGJhY2spO307VGFibGVPZkNvbnRlbnRzLnByb3RvdHlwZS5zY3JvbGxUbz1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYy5TY3JvbGxUbyxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O1RhYmxlT2ZDb250ZW50cy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlVwZGF0ZSxjYWxsYmFjayxbXSxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBUYWJsZU9mQ29udGVudHM7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGU7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5UYWJsZU9mQ29udGVudHNDb2xsZWN0aW9uPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoVGFibGVPZkNvbnRlbnRzQ29sbGVjdGlvbixkKTtmdW5jdGlvbiBUYWJsZU9mQ29udGVudHNDb2xsZWN0aW9uKCl7ZC5jYWxsKHRoaXMpO31UYWJsZU9mQ29udGVudHNDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24ocGFyYW1ldGVycyxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtwYXJhbWV0ZXJzPXBhcmFtZXRlcnN8fHt9O3ZhciBlPVtcIlwiLHRydWUsdHJ1ZSx0cnVlLDEsMl07aWYoaXNJbnRlZ2VyKHBhcmFtZXRlcnMubWF4aW11bVN0cnVjdHVyZUxldmVsKSl7ZVs1XT1wYXJhbWV0ZXJzLm1heGltdW1TdHJ1Y3R1cmVMZXZlbDt9aWYoaXNJbnRlZ2VyKHBhcmFtZXRlcnMubWluaW11bVN0cnVjdHVyZUxldmVsKSl7ZVs0XT1wYXJhbWV0ZXJzLm1pbmltdW1TdHJ1Y3R1cmVMZXZlbDt9aWYodHlwZW9mIHBhcmFtZXRlcnMuaGFzUmlnaHRBbGlnbmVkUGFnZU51bWJlcnM9PT1cImJvb2xlYW5cIil7ZVszXT1wYXJhbWV0ZXJzLmhhc1JpZ2h0QWxpZ25lZFBhZ2VOdW1iZXJzO31pZih0eXBlb2YgcGFyYW1ldGVycy5oYXNQYWdlTnVtYmVycz09PVwiYm9vbGVhblwiKXtlWzJdPXBhcmFtZXRlcnMuaGFzUGFnZU51bWJlcnM7fWlmKHR5cGVvZiBwYXJhbWV0ZXJzLmhhc0xpbmtzPT09XCJib29sZWFuXCIpe2VbMV09cGFyYW1ldGVycy5oYXNMaW5rczt9aWYodHlwZW9mIHBhcmFtZXRlcnMudGl0bGU9PT1cInN0cmluZ1wiKXtlWzBdPXBhcmFtZXRlcnMudGl0bGU7fXRoaXMuY2FsbE1ldGhvZChiLkNvbGxlY3Rpb25NZXRob2ROYW1lLkFkZCxjYWxsYmFjayxlLGVycm9yQ2FsbGJhY2spO307VGFibGVPZkNvbnRlbnRzQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrLGlkKXt2YXIgZj10aGlzO2lmKCh0eXBlb2YgaWQhPT1cInVuZGVmaW5lZFwiKSYmKHR5cGVvZiBpZCE9PVwibnVtYmVyXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImlkXCIgbXVzdCBiZSBhIG51bWJlci5cXCcpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO312YXIgZT0odHlwZW9mIGlkIT09XCJ1bmRlZmluZWRcIik/W2lkXTpbXTt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5HZXRJdGVtLGZ1bmN0aW9uKGcpe2NhbGxiYWNrKGYuX2FkYXB0KGcpKTt9LGUsZXJyb3JDYWxsYmFjayk7fTtUYWJsZU9mQ29udGVudHNDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtQnlOYW1lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2ssbmFtZSl7dmFyIGU9dGhpcztpZih0eXBlb2YgbmFtZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnUGFyYW1ldGVyIFwibmFtZVwiIG11c3QgYmUgYSBzdHJpbmcuXFwnKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9dGhpcy5jYWxsTWV0aG9kKGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0SXRlbSxmdW5jdGlvbihmKXtjYWxsYmFjayhlLl9hZGFwdChmKSk7fSxbbmFtZV0sZXJyb3JDYWxsYmFjayk7fTtUYWJsZU9mQ29udGVudHNDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZWxlbWVudCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmNhbGxNZXRob2QoYi5Db2xsZWN0aW9uTWV0aG9kTmFtZS5SZW1vdmUsY2FsbGJhY2ssW2VsZW1lbnQuXy5oYXNoY29kZSxlbGVtZW50Ll8uaW5kZXhdLGVycm9yQ2FsbGJhY2spO307VGFibGVPZkNvbnRlbnRzQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGYpe2lmKGY9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGU9bmV3IGIuVGFibGVPZkNvbnRlbnRzKGYuaGFzaGNvZGUsZi5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihlLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2YuaGFzaGNvZGUsZi5pbmRleF0pO3JldHVybiBlO307cmV0dXJuIFRhYmxlT2ZDb250ZW50c0NvbGxlY3Rpb247fSkoYi5Db2xsZWN0aW9uKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtDcmVhdGlvbkRhdGU6XCJDcmVhdGlvbkRhdGVcIixEYXRhOlwiRGF0YVwiLERlc2NyaXB0aW9uOlwiRGVzY3JpcHRpb25cIixGaWxlTmFtZTpcIkZpbGVOYW1lXCIsTGFzdE1vZGlmaWNhdGlvbkRhdGU6XCJMYXN0TW9kaWZpY2F0aW9uRGF0ZVwiLE1JTUVUeXBlOlwiTUlNRVR5cGVcIixSZWxhdGlvbnNoaXA6XCJSZWxhdGlvbnNoaXBcIn0pO2IuRW1iZWRkZWRGaWxlPShmdW5jdGlvbihlKXtfX2V4dGVuZHMoRW1iZWRkZWRGaWxlLGUpO2Z1bmN0aW9uIEVtYmVkZGVkRmlsZShmLGcpe2UuY2FsbCh0aGlzLGYsZyk7fUVtYmVkZGVkRmlsZS5wcm90b3R5cGUuZ2V0Q3JlYXRpb25EYXRlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkNyZWF0aW9uRGF0ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0VtYmVkZGVkRmlsZS5wcm90b3R5cGUuc2V0Q3JlYXRpb25EYXRlPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgcHJvcGVydHkgdmFsdWUgbXVzdCBiZSBhIG51bWJlci5cIik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkNyZWF0aW9uRGF0ZSx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0VtYmVkZGVkRmlsZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5EYXRhLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RW1iZWRkZWRGaWxlLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5EZXNjcmlwdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0VtYmVkZGVkRmlsZS5wcm90b3R5cGUuc2V0RGVzY3JpcHRpb249ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBwcm9wZXJ0eSB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nLlwiKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRGVzY3JpcHRpb24sdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtFbWJlZGRlZEZpbGUucHJvdG90eXBlLmdldEZpbGVOYW1lPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkZpbGVOYW1lLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RW1iZWRkZWRGaWxlLnByb3RvdHlwZS5nZXRMYXN0TW9kaWZpY2F0aW9uRGF0ZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5MYXN0TW9kaWZpY2F0aW9uRGF0ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0VtYmVkZGVkRmlsZS5wcm90b3R5cGUuc2V0TGFzdE1vZGlmaWNhdGlvbkRhdGU9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBwcm9wZXJ0eSB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyLlwiKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuTGFzdE1vZGlmaWNhdGlvbkRhdGUsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtFbWJlZGRlZEZpbGUucHJvdG90eXBlLmdldE1JTUVUeXBlPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLk1JTUVUeXBlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RW1iZWRkZWRGaWxlLnByb3RvdHlwZS5zZXRNSU1FVHlwZT1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIHByb3BlcnR5IHZhbHVlIG11c3QgYmUgYSBzdHJpbmcuXCIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5NSU1FVHlwZSx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0VtYmVkZGVkRmlsZS5wcm90b3R5cGUuZ2V0UmVsYXRpb25zaGlwPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLlJlbGF0aW9uc2hpcCxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0VtYmVkZGVkRmlsZS5wcm90b3R5cGUuc2V0UmVsYXRpb25zaGlwPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgcHJvcGVydHkgdmFsdWUgbXVzdCBiZSBhIHN0cmluZy5cIik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlJlbGF0aW9uc2hpcCx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O3JldHVybiBFbWJlZGRlZEZpbGU7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihkLGEpe3ZhciBiPWQuX3ByaXZhdGU9ZC5fcHJpdmF0ZXx8e307dmFyIGM9T2JqZWN0LmZyZWV6ZSh7QWRkQmluYXJ5RmlsZTpcIkFkZEJpbmFyeUZpbGVcIixBZGRUZXh0RmlsZTpcIkFkZFRleHRGaWxlXCIsUmVtb3ZlRWxlbWVudEF0OlwiUmVtb3ZlRWxlbWVudEF0XCJ9KTtiLkVtYmVkZGVkRmlsZUNvbGxlY3Rpb249KGZ1bmN0aW9uKGUpe19fZXh0ZW5kcyhFbWJlZGRlZEZpbGVDb2xsZWN0aW9uLGUpO2Z1bmN0aW9uIEVtYmVkZGVkRmlsZUNvbGxlY3Rpb24oKXtlLmNhbGwodGhpcyk7fUVtYmVkZGVkRmlsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmFkZFRleHRGaWxlPWZ1bmN0aW9uKGZpbGVOYW1lLGRhdGEsbWV0YURhdGEsZixnKXtmaWxlTmFtZT1maWxlTmFtZXx8XCJcIjtpZih0eXBlb2YgZmlsZU5hbWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyIFxcJ2ZpbGVOYW1lXFwnIG11c3QgYmUgYSBzdHJpbmcuXCIpO31pZigodHlwZW9mIGRhdGE9PT1cInVuZGVmaW5lZFwiKXx8KHR5cGVvZiBkYXRhIT09XCJzdHJpbmdcIikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgXFwnZGF0YVxcJyBtdXN0IGJlIGEgYmFzZTY0IHN0cmluZy5cIik7fW1ldGFEYXRhPW1ldGFEYXRhfHxcIlwiO2lmKHR5cGVvZiBtZXRhRGF0YSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgXFwnbWV0YURhdGFcXCcgbXVzdCBiZSBhIHN0cmluZy5cIik7fXRoaXMuY2FsbE1ldGhvZChjLkFkZFRleHRGaWxlLGYsW2ZpbGVOYW1lLGRhdGEsbWV0YURhdGFdLGcpO307RW1iZWRkZWRGaWxlQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkQmluYXJ5RmlsZT1mdW5jdGlvbihmaWxlTmFtZSxkYXRhLG1ldGFEYXRhLGYsZyl7ZmlsZU5hbWU9ZmlsZU5hbWV8fFwiXCI7aWYodHlwZW9mIGZpbGVOYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciBcXCdmaWxlTmFtZVxcJyBtdXN0IGJlIGEgc3RyaW5nLlwiKTt9aWYoKHR5cGVvZiBkYXRhPT09XCJ1bmRlZmluZWRcIil8fCh0eXBlb2YgZGF0YSE9PVwic3RyaW5nXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyIFxcJ2RhdGFcXCcgbXVzdCBiZSBhIGJhc2U2NCBzdHJpbmcuXCIpO31tZXRhRGF0YT1tZXRhRGF0YXx8XCJcIjtpZih0eXBlb2YgbWV0YURhdGEhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyIFxcJ21ldGFEYXRhXFwnIG11c3QgYmUgYSBzdHJpbmcuXCIpO310aGlzLmNhbGxNZXRob2QoYy5BZGRCaW5hcnlGaWxlLGYsW2ZpbGVOYW1lLGRhdGEsbWV0YURhdGFdLGcpO307RW1iZWRkZWRGaWxlQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlRWxlbWVudEF0PWZ1bmN0aW9uKGluZGV4LGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuY2FsbE1ldGhvZChjLlJlbW92ZUVsZW1lbnRBdCxjYWxsYmFjayxbaW5kZXhdLGVycm9yQ2FsbGJhY2spO307RW1iZWRkZWRGaWxlQ29sbGVjdGlvbi5wcm90b3R5cGUuX2FkYXB0PWZ1bmN0aW9uKGcpe2lmKGc9PT1udWxsKXtyZXR1cm4gbnVsbDt9dmFyIGY9bmV3IGIuRW1iZWRkZWRGaWxlKGcuaGFzaGNvZGUsZy5pbmRleCk7dGhpcy5hZGRNZXRob2RDYWxsRXZlbnRMaXN0ZW5lcihmLGIuQ29sbGVjdGlvbk1ldGhvZE5hbWUuR2V0QWRhcHRlckJ5SGFzaGNvZGUsW2cuaGFzaGNvZGUsZy5pbmRleF0pO3JldHVybiBmO307cmV0dXJuIEVtYmVkZGVkRmlsZUNvbGxlY3Rpb247fSkoYi5Db2xsZWN0aW9uKTtyZXR1cm4gZDt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGQsYSl7dmFyIGI9ZC5fcHJpdmF0ZT1kLl9wcml2YXRlfHx7fTt2YXIgYz1PYmplY3QuZnJlZXplKHtBdXRob3I6XCJBdXRob3JcIixDcmVhdGlvbkRhdGU6XCJDcmVhdGlvbkRhdGVcIixDcmVhdG9yQXBwbGljYXRpb246XCJDcmVhdG9yQXBwbGljYXRpb25cIixEb2N1bWVudEJhc2VQYXRoOlwiRG9jdW1lbnRCYXNlUGF0aFwiLERvY3VtZW50S2V5d29yZHM6XCJEb2N1bWVudEtleXdvcmRzXCIsRG9jdW1lbnRTdWJqZWN0OlwiRG9jdW1lbnRTdWJqZWN0XCIsRG9jdW1lbnRUaXRsZTpcIkRvY3VtZW50VGl0bGVcIixFbWJlZGRlZEZpbGVzOlwiRW1iZWRkZWRGaWxlc1wiLFVzZXJEZWZpbmVkRG9jdW1lbnRQcm9wZXJ0aWVzOlwiVXNlckRlZmluZWREb2N1bWVudFByb3BlcnRpZXNcIn0pO2IuRG9jdW1lbnRTZXR0aW5ncz0oZnVuY3Rpb24oZSl7X19leHRlbmRzKERvY3VtZW50U2V0dGluZ3MsZSk7ZnVuY3Rpb24gRG9jdW1lbnRTZXR0aW5ncygpe2UuY2FsbCh0aGlzKTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtlbWJlZGRlZEZpbGVzOntnZXQ6ZnVuY3Rpb24oKXt2YXIgZj1uZXcgYi5FbWJlZGRlZEZpbGVDb2xsZWN0aW9uKCk7dGhpcy5hZGRQcm9wZXJ0eUFjY2Vzc0V2ZW50TGlzdGVuZXIoZixjLkVtYmVkZGVkRmlsZXMpO3JldHVybiBmO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfX0pO31Eb2N1bWVudFNldHRpbmdzLnByb3RvdHlwZS5nZXRBdXRob3I9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuQXV0aG9yLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRTZXR0aW5ncy5wcm90b3R5cGUuc2V0QXV0aG9yPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgcHJvcGVydHkgdmFsdWUgbXVzdCBiZSBhIHN0cmluZy5cIik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkF1dGhvcix2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50U2V0dGluZ3MucHJvdG90eXBlLmdldENyZWF0aW9uRGF0ZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5DcmVhdGlvbkRhdGUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEb2N1bWVudFNldHRpbmdzLnByb3RvdHlwZS5zZXRDcmVhdGlvbkRhdGU9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBwcm9wZXJ0eSB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyLlwiKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuQ3JlYXRpb25EYXRlLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRTZXR0aW5ncy5wcm90b3R5cGUuZ2V0Q3JlYXRvckFwcGxpY2F0aW9uPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkNyZWF0b3JBcHBsaWNhdGlvbixjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50U2V0dGluZ3MucHJvdG90eXBlLnNldENyZWF0b3JBcHBsaWNhdGlvbj1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIHByb3BlcnR5IHZhbHVlIG11c3QgYmUgYSBzdHJpbmcuXCIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5DcmVhdG9yQXBwbGljYXRpb24sdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEb2N1bWVudFNldHRpbmdzLnByb3RvdHlwZS5nZXREb2N1bWVudEJhc2VQYXRoPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkRvY3VtZW50QmFzZVBhdGgsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEb2N1bWVudFNldHRpbmdzLnByb3RvdHlwZS5zZXREb2N1bWVudEJhc2VQYXRoPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKHR5cGVvZiB2YWx1ZSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgcHJvcGVydHkgdmFsdWUgbXVzdCBiZSBhIHN0cmluZy5cIik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLkRvY3VtZW50QmFzZVBhdGgsdmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEb2N1bWVudFNldHRpbmdzLnByb3RvdHlwZS5nZXREb2N1bWVudEtleXdvcmRzPWZ1bmN0aW9uKGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe3RoaXMuZ2V0UHJvcGVydHlWYWx1ZShjLkRvY3VtZW50S2V5d29yZHMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEb2N1bWVudFNldHRpbmdzLnByb3RvdHlwZS5zZXREb2N1bWVudEtleXdvcmRzPWZ1bmN0aW9uKHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spe2lmKCFBcnJheS5pc0FycmF5KHZhbHVlKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBwcm9wZXJ0eSB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIGFycmF5LlwiKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRG9jdW1lbnRLZXl3b3Jkcyx2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKTt9O0RvY3VtZW50U2V0dGluZ3MucHJvdG90eXBlLmdldERvY3VtZW50U3ViamVjdD1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Eb2N1bWVudFN1YmplY3QsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEb2N1bWVudFNldHRpbmdzLnByb3RvdHlwZS5zZXREb2N1bWVudFN1YmplY3Q9ZnVuY3Rpb24odmFsdWUsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7aWYodHlwZW9mIHZhbHVlIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBwcm9wZXJ0eSB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nLlwiKTt9dGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGMuRG9jdW1lbnRTdWJqZWN0LHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRTZXR0aW5ncy5wcm90b3R5cGUuZ2V0RG9jdW1lbnRUaXRsZT1mdW5jdGlvbihjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt0aGlzLmdldFByb3BlcnR5VmFsdWUoYy5Eb2N1bWVudFRpdGxlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRTZXR0aW5ncy5wcm90b3R5cGUuc2V0RG9jdW1lbnRUaXRsZT1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXtpZih0eXBlb2YgdmFsdWUhPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIHByb3BlcnR5IHZhbHVlIG11c3QgYmUgYSBzdHJpbmcuXCIpO310aGlzLnNldFByb3BlcnR5VmFsdWUoYy5Eb2N1bWVudFRpdGxlLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307RG9jdW1lbnRTZXR0aW5ncy5wcm90b3R5cGUuZ2V0VXNlckRlZmluZWREb2N1bWVudFByb3BlcnRpZXM9ZnVuY3Rpb24oY2FsbGJhY2ssZXJyb3JDYWxsYmFjayl7dGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGMuVXNlckRlZmluZWREb2N1bWVudFByb3BlcnRpZXMsY2FsbGJhY2ssZXJyb3JDYWxsYmFjayk7fTtEb2N1bWVudFNldHRpbmdzLnByb3RvdHlwZS5zZXRVc2VyRGVmaW5lZERvY3VtZW50UHJvcGVydGllcz1mdW5jdGlvbih2YWx1ZSxjYWxsYmFjayxlcnJvckNhbGxiYWNrKXt2YWx1ZT12YWx1ZXx8bnVsbDtpZih2YWx1ZSYmdHlwZW9mIHZhbHVlIT09XCJvYmplY3RcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBwcm9wZXJ0eSB2YWx1ZSBtdXN0IGJlIGFuIG9iamVjdC5cIik7fXRoaXMuc2V0UHJvcGVydHlWYWx1ZShjLlVzZXJEZWZpbmVkRG9jdW1lbnRQcm9wZXJ0aWVzLHZhbHVlLGNhbGxiYWNrLGVycm9yQ2FsbGJhY2spO307cmV0dXJuIERvY3VtZW50U2V0dGluZ3M7fSkoYi5UZXh0Q29udHJvbENsYXNzQWRhcHRlcik7cmV0dXJuIGQ7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5TbGlkZXJPcmllbnRhdGlvbj17VmVydGljYWw6XCJ2ZXJ0aWNhbFwiLEhvcml6b250YWw6XCJob3Jpem9udGFsXCJ9O2IuU2Nyb2xsYmFyPShmdW5jdGlvbigpe2Z1bmN0aW9uIGYoaSxvLGspe3ZhciBsPXRoaXM7ZnVuY3Rpb24gbihxKXt2YXIgcz1hKHEuY3VycmVudFRhcmdldCk7dmFyIHI9cy5maW5kKFwiLnR4dWktc2xpZGVyLWhhbmRsZVwiKTtpZihxLnRhcmdldCE9clswXSl7cS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt9fWZ1bmN0aW9uIGgocSl7dmFyIHI9YShxLmN1cnJlbnRUYXJnZXQpO3ZhciB0PShxLnBhZ2VYLXIub2Zmc2V0KCkubGVmdCkvci53aWR0aCgpO3ZhciBzPShyLmZpbmQoXCIudHhzbGlkZXJcIikuc2xpZGVyKFwib3B0aW9uXCIsXCJ2YWx1ZVwiKS90aGlzLnRleHRDb250cm9sVmlld2VyLmRvY3VtZW50U2l6ZS5XaWR0aCk7aWYoIWIuaXNUb3VjaERldmljZSl7dGhpcy50ZXh0Q29udHJvbFZpZXdlci5mb2N1cygpO31pZih0PnMpe2Iuc2Nyb2xsRGVsdGEoe1g6Yi5TY3JvbGxTdGVwKjUsWTowfSx0aGlzLmNvbXBvbmVudFR5cGUpO31lbHNle2Iuc2Nyb2xsRGVsdGEoe1g6LWIuU2Nyb2xsU3RlcCo1LFk6MH0sdGhpcy5jb21wb25lbnRUeXBlKTt9fWZ1bmN0aW9uIHAocSl7dmFyIHI9YShxLmN1cnJlbnRUYXJnZXQpO3ZhciB0PShxLnBhZ2VZLXIub2Zmc2V0KCkudG9wKS9yLmhlaWdodCgpO3ZhciBzPTEtKHIuZmluZChcIi50eHNsaWRlclwiKS5zbGlkZXIoXCJvcHRpb25cIixcInZhbHVlXCIpL3RoaXMudGV4dENvbnRyb2xWaWV3ZXIuZG9jdW1lbnRTaXplLkhlaWdodCk7aWYoIWIuaXNUb3VjaERldmljZSl7dGhpcy50ZXh0Q29udHJvbFZpZXdlci5mb2N1cygpO31pZih0PnMpe2Iuc2Nyb2xsRGVsdGEoe1g6MCxZOmIuU2Nyb2xsU3RlcCoxMH0sdGhpcy5jb21wb25lbnRUeXBlKTt9ZWxzZXtiLnNjcm9sbERlbHRhKHtYOjAsWTotYi5TY3JvbGxTdGVwKjEwfSx0aGlzLmNvbXBvbmVudFR5cGUpO319dGhpcy51cGRhdGVWZXJ0aWNhbFNjcm9sbGJhclN0eWxlPWZ1bmN0aW9uKCl7dmFyIHY9bC50eHNsaWRlcjt2YXIgcj17dXA6bC5zY3JvbGxidXR0b25zLmZpbHRlcihcIi5zY3JvbGwtYnV0dG9uLXVwXCIpLGRvd246bC5zY3JvbGxidXR0b25zLmZpbHRlcihcIi5zY3JvbGwtYnV0dG9uLWRvd25cIil9O3ZhciBzPXYuZmluZChcImEudHh1aS1zbGlkZXItaGFuZGxlXCIpO3ZhciB3PWcoe1dpZHRoOmwudGV4dENvbnRyb2xWaWV3ZXIud2lkdGgsSGVpZ2h0OmwudGV4dENvbnRyb2xWaWV3ZXIuaGVpZ2h0fSk7aWYoZShsLnRleHRDb250cm9sVmlld2VyLmRvY3VtZW50U2l6ZSx3KSl7bC5qcUNvbnRhaW5lci5oaWRlKCk7fWVsc2V7bC5qcUNvbnRhaW5lci5zaG93KCk7fXZhciBxPXIudXBbMF0uY2xpZW50SGVpZ2h0O2wudHhzY3JvbGxiYXJ3cmFwcGVyLmhlaWdodChsLnRleHRDb250cm9sVmlld2VyLmhlaWdodC0yKnEpO3ZhciB1PWwudHhzY3JvbGxiYXJ3cmFwcGVyLmhlaWdodCgpO3ZhciB0PU1hdGgubWF4KGIuTWluU2Nyb2xsYmFySGFuZGxlTGVuZ3RoLCh3LkhlaWdodC9sLnRleHRDb250cm9sVmlld2VyLmRvY3VtZW50U2l6ZS5IZWlnaHQpKnUpO3MuY3NzKHt3aWR0aDpiLlNjcm9sbGJhcldpZHRoLGhlaWdodDp0LGxlZnQ6MCxtYXJnaW5Cb3R0b206LSh0LzIpLH0pO3Yuc2xpZGVyKFwib3B0aW9uXCIsXCJtaW5cIiwwKTt2LnNsaWRlcihcIm9wdGlvblwiLFwibWF4XCIsbC50ZXh0Q29udHJvbFZpZXdlci5kb2N1bWVudFNpemUuSGVpZ2h0KTt2LmNzcyh7aGVpZ2h0OmwudGV4dENvbnRyb2xWaWV3ZXIuaGVpZ2h0LXQtKDIqcSksbWFyZ2luVG9wOnQvMn0pO307dGhpcy51cGRhdGVIb3Jpem9udGFsU2Nyb2xsYmFyU3R5bGU9ZnVuY3Rpb24oKXt2YXIgdz1sLnR4c2xpZGVyO3ZhciBxPXtsZWZ0Omwuc2Nyb2xsYnV0dG9ucy5maWx0ZXIoXCIuc2Nyb2xsLWJ1dHRvbi1sZWZ0XCIpLHJpZ2h0Omwuc2Nyb2xsYnV0dG9ucy5maWx0ZXIoXCIuc2Nyb2xsLWJ1dHRvbi1yaWdodFwiKX07dmFyIHM9dy5maW5kKFwiYS50eHVpLXNsaWRlci1oYW5kbGVcIik7dmFyIHY9bC50ZXh0Q29udHJvbFZpZXdlci52aWV3TW9kZT09Yi5WaWV3TW9kZS5QYWdlVmlldz9iLlNjcm9sbFBhZGRpbmc6MDt2YXIgeD1nKHtXaWR0aDpsLnRleHRDb250cm9sVmlld2VyLndpZHRoLEhlaWdodDpsLnRleHRDb250cm9sVmlld2VyLmhlaWdodH0pO2lmKGQobC50ZXh0Q29udHJvbFZpZXdlci5kb2N1bWVudFNpemUseCkpe2wuanFDb250YWluZXIuaGlkZSgpO31lbHNle2wuanFDb250YWluZXIuc2hvdygpO312YXIgcj1xLmxlZnRbMF0uY2xpZW50V2lkdGg7bC50eHNjcm9sbGJhcndyYXBwZXIud2lkdGgobC50ZXh0Q29udHJvbFZpZXdlci53aWR0aC0yKnIpO3ZhciB1PWwudHhzY3JvbGxiYXJ3cmFwcGVyLndpZHRoKCk7dmFyIHQ9TWF0aC5tYXgoYi5NaW5TY3JvbGxiYXJIYW5kbGVMZW5ndGgsKHguV2lkdGgvbC50ZXh0Q29udHJvbFZpZXdlci5kb2N1bWVudFNpemUuV2lkdGgpKnUpO3MuY3NzKHt3aWR0aDp0LGhlaWdodDpiLlNjcm9sbGJhcldpZHRoLHRvcDowLG1hcmdpbkxlZnQ6LSh0LzIpfSk7dy5zbGlkZXIoXCJvcHRpb25cIixcIm1pblwiLHYpO3cuc2xpZGVyKFwib3B0aW9uXCIsXCJtYXhcIixsLnRleHRDb250cm9sVmlld2VyLmRvY3VtZW50U2l6ZS5XaWR0aC12KTt3LmNzcyh7d2lkdGg6bC50ZXh0Q29udHJvbFZpZXdlci53aWR0aC10LSgyKnIpLG1hcmdpbkxlZnQ6dC8yfSk7bC5qcUNvbnRhaW5lci53aWR0aChsLnRleHRDb250cm9sVmlld2VyLndpZHRoKTt9O3RoaXMudXBkYXRlU2Nyb2xsYmFyU3R5bGU9ZnVuY3Rpb24oKXtpZihsLnNjcm9sbGJhcmRpcmVjdGlvbj09Yi5TbGlkZXJPcmllbnRhdGlvbi5WZXJ0aWNhbCl7bC51cGRhdGVWZXJ0aWNhbFNjcm9sbGJhclN0eWxlKCk7fWVsc2V7aWYobC5zY3JvbGxiYXJkaXJlY3Rpb249PWIuU2xpZGVyT3JpZW50YXRpb24uSG9yaXpvbnRhbCl7bC51cGRhdGVIb3Jpem9udGFsU2Nyb2xsYmFyU3R5bGUoKTt9fX07dGhpcy51cGRhdGVTbGlkZXJQb3NpdGlvbnM9ZnVuY3Rpb24oKXt2YXIgcT1sLnRleHRDb250cm9sVmlld2VyLmRvY3VtZW50U2l6ZTtpZihsLmlzU2xpZGluZyl7cmV0dXJuO31pZighcS5XaWR0aHx8IXEuSGVpZ2h0KXtyZXR1cm47fXZhciB2PWwudGV4dENvbnRyb2xWaWV3ZXIudmlld01vZGU9PWIuVmlld01vZGUuUGFnZVZpZXc/Yi5TY3JvbGxQYWRkaW5nOjA7dmFyIHc9e1dpZHRoOmwudGV4dENvbnRyb2xWaWV3ZXIud2lkdGgsSGVpZ2h0OmwudGV4dENvbnRyb2xWaWV3ZXIuaGVpZ2h0fTt3PWcodyxsLnRleHRDb250cm9sVmlld2VyLnpvb21GYWN0b3IpO3ZhciByPXEuV2lkdGgtdy5XaWR0aDt2YXIgeD1xLkhlaWdodC13LkhlaWdodDt2YXIgdD0obC50ZXh0Q29udHJvbFZpZXdlci50ZXh0Vmlld0xvY2F0aW9uLlgrdikvcjt2YXIgdT1sLnRleHRDb250cm9sVmlld2VyLnRleHRWaWV3TG9jYXRpb24uWS94O3ZhciBzPWwudHhzbGlkZXIuc2xpZGVyKFwib3B0aW9uXCIsXCJvcmllbnRhdGlvblwiKTtzd2l0Y2gocyl7Y2FzZSBiLlNsaWRlck9yaWVudGF0aW9uLlZlcnRpY2FsOmwudHhzbGlkZXIuc2xpZGVyKFwib3B0aW9uXCIsXCJ2YWx1ZVwiLCgxLXUpKnEuSGVpZ2h0KTticmVhaztjYXNlIGIuU2xpZGVyT3JpZW50YXRpb24uSG9yaXpvbnRhbDpsLnR4c2xpZGVyLnNsaWRlcihcIm9wdGlvblwiLFwidmFsdWVcIiwodCpiLmRvY3VtZW50U2l6ZS5XaWR0aCktdik7YnJlYWs7fX07ZnVuY3Rpb24gbShxLHMpe3ZhciByPWEocS50YXJnZXQpO3N3aXRjaChyLnNsaWRlcihcIm9wdGlvblwiLFwib3JpZW50YXRpb25cIikpe2Nhc2UgYi5TbGlkZXJPcmllbnRhdGlvbi5Ib3Jpem9udGFsOmwudGV4dENvbnRyb2xWaWV3ZXIuaFNjcm9sbChzLnZhbHVlKTticmVhaztjYXNlIGIuU2xpZGVyT3JpZW50YXRpb24uVmVydGljYWw6dmFyIHQ9ci5zbGlkZXIoXCJvcHRpb25cIixcIm1heFwiKS1zLnZhbHVlO2wudGV4dENvbnRyb2xWaWV3ZXIudlNjcm9sbCh0KTticmVhazt9fWlmKGshPT1iLlNsaWRlck9yaWVudGF0aW9uLlZlcnRpY2FsJiZrIT09Yi5TbGlkZXJPcmllbnRhdGlvbi5Ib3Jpem9udGFsKXt0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG9yaWVudGF0aW9uLlwiKTt9dGhpcy50ZXh0Q29udHJvbFZpZXdlcj1vO3RoaXMuc2Nyb2xsYmFyZGlyZWN0aW9uPWs7dGhpcy5zY3JvbGxTdGVwPWIuU2Nyb2xsU3RlcDt0aGlzLmpxQ29udGFpbmVyPWk7dGhpcy5jb21wb25lbnRUeXBlPXRoaXMudGV4dENvbnRyb2xWaWV3ZXIuY29tcG9uZW50Vmlld2VyLmNvbXBvbmVudFR5cGU7dGhpcy50eHNjcm9sbGJhcndyYXBwZXI9dGhpcy5qcUNvbnRhaW5lci5maW5kKFwiLnNjcm9sbGJhci13cmFwcGVyXCIpO3RoaXMudHhzY3JvbGxiYXJ3cmFwcGVyLnVuYmluZChcImtleWRvd25cIik7c3dpdGNoKGspe2Nhc2UgYi5TbGlkZXJPcmllbnRhdGlvbi5WZXJ0aWNhbDp0aGlzLnR4c2Nyb2xsYmFyd3JhcHBlci5jbGljayhwLmJpbmQodGhpcykpO2JyZWFrO2Nhc2UgYi5TbGlkZXJPcmllbnRhdGlvbi5Ib3Jpem9udGFsOnRoaXMudHhzY3JvbGxiYXJ3cmFwcGVyLmNsaWNrKGguYmluZCh0aGlzKSk7YnJlYWs7fXRoaXMudHhzbGlkZXI9dGhpcy5qcUNvbnRhaW5lci5maW5kKFwiLnR4c2xpZGVyXCIpO3RoaXMudHhzbGlkZXIub24oXCJtb3VzZWRvd25cIixuKTt0aGlzLnR4c2xpZGVyLm9uKFwidG91Y2hzdGFydFwiLG4pO3RoaXMuaXNTbGlkaW5nPWZhbHNlO3RoaXMudHhzbGlkZXIuc2xpZGVyKHtvcmllbnRhdGlvbjp0aGlzLnNjcm9sbGJhcmRpcmVjdGlvbixtaW46MCxtYXg6MTAwLHZhbHVlOjEwMCxzbGlkZTptLHN0YXJ0OmZ1bmN0aW9uKCl7bC5pc1NsaWRpbmc9dHJ1ZTt9LHN0b3A6ZnVuY3Rpb24oKXtsLmlzU2xpZGluZz1mYWxzZTt9fSk7dGhpcy5zY3JvbGxidXR0b25zPWkuZmluZChcImRpdi5zY3JvbGwtYnV0dG9uXCIpO3RoaXMuc2Nyb2xsYnV0dG9ucy5jbGljayhmdW5jdGlvbihyKXt2YXIgcTt2YXIgcz1sLnNjcm9sbFN0ZXA7aWYoci50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2Nyb2xsLWJ1dHRvbi11cFwiKSl7cT17WDowLFk6LXN9O31lbHNle2lmKHIudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInNjcm9sbC1idXR0b24tZG93blwiKSl7cT17WDowLFk6c307fWVsc2V7aWYoci50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2Nyb2xsLWJ1dHRvbi1sZWZ0XCIpKXtxPXtYOi1zLFk6MH07fWVsc2V7aWYoci50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2Nyb2xsLWJ1dHRvbi1yaWdodFwiKSl7cT17WDpzLFk6MH07fWVsc2V7cmV0dXJuO319fX1sLnRleHRDb250cm9sVmlld2VyLnNjcm9sbERlbHRhKHEpO30pO3RoaXMudXBkYXRlU2Nyb2xsYmFyU3R5bGUoKTt0aGlzLnVwZGF0ZVNsaWRlclBvc2l0aW9ucygpO2Z1bmN0aW9uIGoocSl7bC51cGRhdGVTbGlkZXJQb3NpdGlvbnMoKTtsLnVwZGF0ZVNjcm9sbGJhclN0eWxlKCk7fXRoaXMudGV4dENvbnRyb2xWaWV3ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImRvY3VtZW50U2l6ZUNoYW5nZWRcIixqKTt0aGlzLnRleHRDb250cm9sVmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJ3aWR0aENoYW5nZWRcIixqKTt0aGlzLnRleHRDb250cm9sVmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJoZWlnaHRDaGFuZ2VkXCIsaik7fWZ1bmN0aW9uIGUoaCxpKXtyZXR1cm4oaC5IZWlnaHQ8PWkuSGVpZ2h0KTt9ZnVuY3Rpb24gZChoLGkpe3JldHVybihoLldpZHRoPD1pLldpZHRoKTt9ZnVuY3Rpb24gZyhpLGgpe3JldHVybntXaWR0aDpiLnB4MnR3aXBzKGkuV2lkdGgsaCxiLkRlZlJlcyksSGVpZ2h0OmIucHgydHdpcHMoaS5IZWlnaHQsaCxiLkRlZlJlcyl9O31yZXR1cm4gZjt9KSgpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuVFhTaWRlYmFyPShmdW5jdGlvbigpe2Z1bmN0aW9uIGQoZSxoKXt2YXIgaT10aGlzO3RoaXMubWluV2lkdGg9aHx8MjEwO3RoaXMuZXZlbnRNYW5hZ2VyPW5ldyBiLkV2ZW50TWFuYWdlcigpO3RoaXMuY29udGFpbmVyPWU7dGhpcy5pc1Zpc2libGU9ZmFsc2U7ZS5xdWVyeVNlbGVjdG9yKFwiLmNsb3NlYnRuXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7aS5oaWRlKCk7fSk7dGhpcy5kcmFnQmFyPW5ldyBiLlRYRHJhZ2JhcihlKTt0aGlzLmRyYWdCYXIuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdnZWRcIixnKTt0aGlzLmRyYWdCYXIuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdGaW5pc2hlZFwiLGYpO2Z1bmN0aW9uIGcoail7aWYoKGkud2lkdGgrai5wb3NOZXcpPGkubWluV2lkdGgpe2ouY2FuY2VsPXRydWU7fX1mdW5jdGlvbiBmKGope3ZhciBrPU1hdGgubWF4KGkubWluV2lkdGgsaS53aWR0aCtqKTtpLndpZHRoPWs7Yi5hcnJhbmdlQ29udHJvbHMoKTt9fWQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZixlKXt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGYsZSk7fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJoZWFkZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhckhlYWRlclRpdGxlXCIpLmlubmVyVGV4dDt9LHNldDpmdW5jdGlvbihlKXt0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXJIZWFkZXJUaXRsZVwiKS5pbm5lclRleHQ9ZTt0aGlzLmV2ZW50TWFuYWdlci5maXJlRXZlbnQoXCJoZWFkZXJDaGFuZ2VkXCIsZSk7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7fSxzZXQ6ZnVuY3Rpb24oZil7dmFyIGU9Zi10aGlzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDt2YXIgZz1wYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuY29udGFpbmVyKS53aWR0aCk7dGhpcy5jb250YWluZXIuc3R5bGUud2lkdGg9KGcrZSkrXCJweFwiO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLFwiaGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5jb250YWluZXIuaGVpZ2h0PWU7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJiYWNrZ3JvdW5kQ29sb3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvcjt9LHNldDpmdW5jdGlvbihlKXt0aGlzLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9ZTt0aGlzLmV2ZW50TWFuYWdlci5maXJlRXZlbnQoXCJiYWNrZ3JvdW5kQ29sb3JcIixlKTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcInRpdGxlRm9yZWdyb3VuZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFySGVhZGVyVGl0bGVcIikuc3R5bGUuY29sb3I7fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFySGVhZGVyVGl0bGVcIikuc3R5bGUuY29sb3I9ZTt0aGlzLmV2ZW50TWFuYWdlci5maXJlRXZlbnQoXCJ0aXRsZUZvcmVncm91bmRcIixlKTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcInRpdGxlRm9udFNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhckhlYWRlclRpdGxlXCIpLnN0eWxlLmZvbnRTaXplO30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhckhlYWRlclRpdGxlXCIpLnN0eWxlLmZvbnRTaXplPWU7dGhpcy5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KFwidGl0bGVGb250U2l6ZVwiLGUpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLFwic3ViVGl0bGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhckhlYWRlclN1YlRpdGxlXCIpLmlubmVyVGV4dDt9LHNldDpmdW5jdGlvbihlKXt0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXJIZWFkZXJTdWJUaXRsZVwiKS5pbm5lclRleHQ9ZTt0aGlzLmV2ZW50TWFuYWdlci5maXJlRXZlbnQoXCJzaWRlYmFySGVhZGVyU3ViVGl0bGVcIixlKTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO2QucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmRyYWdCYXIuaGlkZSgpO3RoaXMuY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7dGhpcy5pc1Zpc2libGU9ZmFsc2U7dGhpcy5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KFwiaGlkZGVuXCIsdGhpcyk7fTtkLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwiZmxleFwiO3RoaXMuZHJhZ0Jhci5zaG93KCk7dGhpcy5pc1Zpc2libGU9dHJ1ZTt0aGlzLmV2ZW50TWFuYWdlci5maXJlRXZlbnQoXCJ2aXNpYmxlXCIsdGhpcyk7Yy5nZXRCYWNrQ29sb3IoZnVuY3Rpb24oZil7ZS5iYWNrZ3JvdW5kQ29sb3I9Zjt9KTt9O3JldHVybiBkO30pKCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5UWERyYWdiYXI9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShmKXt0aGlzLmV2ZW50TWFuYWdlcj1uZXcgYi5FdmVudE1hbmFnZXIoKTt0aGlzLm1vdXNlWENoYW5nZT0wO3RoaXMuZHJhZ0JhckVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLmRyYWdCYXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0eERyYWdCYXJcIik7dGhpcy5lbGVtU2lkZUJhcj1mO3RoaXMuZHJhZ0JhckVsZW1lbnQuaWQ9Zi5pZCtcIl9kcmFnYmFyXCI7dGhpcy5fbGVmdDtmLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5kcmFnQmFyRWxlbWVudCk7dGhpcy5kcmFnQmFyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZC5iaW5kKHRoaXMpKTt9ZnVuY3Rpb24gZChmKXt2YXIgaz10aGlzO3ZhciBqPWYuY2xpZW50WDt2YXIgZz10aGlzLl9sZWZ0O2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsaSk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGgpO3RoaXMuZHJhZ0JhckVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImRyYWdnaW5nXCIpO3RoaXMuZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChcImRyYWdTdGFydGVkXCIpO2Z1bmN0aW9uIGgobSl7dmFyIG49bS5jbGllbnRYLWo7dmFyIGw9e3Bvc05ldzpuLGNhbmNlbDpmYWxzZX07ay5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KFwiZHJhZ2dlZFwiLGwpO2lmKGwuY2FuY2VsKXtyZXR1cm47fWsubGVmdD0oZytuKTt9ZnVuY3Rpb24gaShsKXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLGkpO2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixoKTtrLmRyYWdCYXJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJkcmFnZ2luZ1wiKTtrLmV2ZW50TWFuYWdlci5maXJlRXZlbnQoXCJkcmFnRmluaXNoZWRcIixsLmNsaWVudFgtaik7ay51cGRhdGVQb3NpdGlvbigpO319ZS5wcm90b3R5cGUudXBkYXRlUG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKSxrPWcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsZW1TaWRlQmFyKSxpPXRoaXMuZHJhZ0JhckVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaj10aGlzLmVsZW1TaWRlQmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGg9cGFyc2VGbG9hdChsLnBhZGRpbmdSaWdodCksZj1wYXJzZUZsb2F0KGwuYm9yZGVyUmlnaHRXaWR0aCk7dGhpcy5sZWZ0PShqLmxlZnQrai53aWR0aCktaC1mLWsubGVmdDt9O2UucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVBvc2l0aW9uKCk7dGhpcy5kcmFnQmFyRWxlbWVudC5zdHlsZS5kaXNwbGF5PVwiaW5saW5lLWJsb2NrXCI7fTtlLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dGhpcy5kcmFnQmFyRWxlbWVudC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO307T2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibGVmdFwiLHtzZXQ6ZnVuY3Rpb24oZil7dGhpcy5fbGVmdD1mO3RoaXMuZHJhZ0JhckVsZW1lbnQuc3R5bGUubGVmdD1mK1wicHhcIjt9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZWZ0O30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7ZS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihnLGYpe3RoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZyxmKTt9O3JldHVybiBlO30pKCk7cmV0dXJuIGM7fShUWFRleHRDb250cm9sfHx7fSxqJDFfMTBfMikpO3ZhciBUWFRleHRDb250cm9sPShmdW5jdGlvbihjLGEpe3ZhciBiPWMuX3ByaXZhdGU9Yy5fcHJpdmF0ZXx8e307Yi5NZXNzYWdlQm94RGlhbG9nPShmdW5jdGlvbihkKXtfX2V4dGVuZHMoZixkKTt2YXIgZT1PYmplY3QuZnJlZXplKHtZZXNObzowLE9LOjEsfSk7dmFyIGc9T2JqZWN0LmZyZWV6ZSh7Tm9uZTowLEFzdGVyaXNrOjEsRXJyb3I6MixFeGNsYW1hdGlvbjozLEhhbmQ6NCxJbmZvcm1hdGlvbjo1LFF1ZXN0aW9uOjYsU3RvcDo3LFdhcm5pbmc6OH0pO2Z1bmN0aW9uIGYobCxrLGksail7ZC5jYWxsKHRoaXMpO3RoaXMuRGlhbG9nSW5mbz17RGlhbG9nVHlwZTpiLkhUTUxEaWFsb2dUeXBlLk1lc3NhZ2VCb3hEaWFsb2d9O3RoaXMudGl0bGU9bDt0aGlzLnRleHQ9a3x8XCJcIjt0aGlzLmJ1dHRvbnM9aTt0aGlzLmljb249ajt0aGlzLmRpYWxvZ1Jlc3VsdD1mYWxzZTt0aGlzLmRpYWxvZ0NvbnRhaW5lcklEPVwiZGlhbG9nQ29udGFpbmVyXCIrcmFuZG9tSW50RnJvbUludGVydmFsKDEwMDAwLDk5OTk5KTt9Zi5wcm90b3R5cGUuT0tIYW5kbGVyPWZ1bmN0aW9uKGkpe3RoaXMuZGlhbG9nUmVzdWx0PXRydWU7dGhpcy5jbG9zZShpKTt9O2YucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGope3ZhciBpPXtkaWFsb2dSZXN1bHQ6dGhpcy5kaWFsb2dSZXN1bHR9O2Iuc2VuZENvbW1hbmQoYi5Db21tYW5kLkRpYWxvZ1Jlc3VsdCxiLkhUTUxEaWFsb2dUeXBlLk1lc3NhZ2VCb3hEaWFsb2csMCwwLGkpO2EoaikuZGlhbG9nKFwiZGVzdHJveVwiKS5yZW1vdmUoKTthKFwiI1wiK3RoaXMuZGlhbG9nQ29udGFpbmVySUQpLnJlbW92ZSgpO2lmKCFiLmlzVG91Y2hEZXZpY2Upe2IudGV4dFZpZXdlci5mb2N1cygpO319O2YucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oail7dmFyIGs9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtc2dCb3hEbGdfSWNvblwiKTtpZih0aGlzLmljb249PWcuTm9uZSl7ay5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGspO31lbHNle3N3aXRjaCh0aGlzLmljb24pe2Nhc2UgZy5JbmZvcm1hdGlvbjprLmlubmVyVGV4dD1cIlxcXFx1MUY2QzhcIjticmVhaztjYXNlIGcuV2FybmluZzprLmlubmVyVGV4dD1cIlxcXFx1MjZBMFwiO2JyZWFrO319dmFyIGw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtc2dCb3hEbGdfVGV4dFwiKTtsLmlubmVySFRNTD10aGlzLnRleHQ7dmFyIGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlQm94RGlhbG9nXCIpO2kuc3R5bGUuaGVpZ2h0PShpLmNsaWVudEhlaWdodCtsLmNsaWVudEhlaWdodCs1KStcInB4XCI7fTtmdW5jdGlvbiBoKGope3ZhciBpO3N3aXRjaChqLmJ1dHRvbnMpe2Nhc2UgZS5PSzppPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuT0tfXCIrai5kaWFsb2dDb250YWluZXJJRCtcIiBzcGFuLnR4dWktYnV0dG9uLXRleHRcIik7aS50ZXh0Q29udGVudD1iLnZhcmlvdXNTdHJpbmdSZXNvdXJjZXMuQlROX09LO2JyZWFrO319Zi5wcm90b3R5cGUuZGlhbG9naXplPWZ1bmN0aW9uKGspe3ZhciBsPXRoaXM7dmFyIGk9e307dmFyIGo9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaWFsb2dDb250YWluZXJJRCk7ai5pbm5lckhUTUw9ay5odG1sO3N3aXRjaCh0aGlzLmJ1dHRvbnMpe2Nhc2UgZS5PSzppPXtPSzp7dGV4dDpcIk9LXCIsY2xpY2s6ZnVuY3Rpb24oKXtsLk9LSGFuZGxlcih0aGlzKTt9LGlkOlwiYnRuT0tfXCIrdGhpcy5kaWFsb2dDb250YWluZXJJRH19O2JyZWFrO31hKFwiI21lc3NhZ2VCb3hEaWFsb2dcIikuZGlhbG9nKHttb2RhbDp0cnVlLHJlc2l6YWJsZTpmYWxzZSx3aWR0aDpcImF1dG9cIixoZWlnaHQ6MTEwLHRpdGxlOnRoaXMudGl0bGV8fFwiTWVzc2FnZSBCb3hcIixidXR0b25zOmksY2xvc2U6ZnVuY3Rpb24oKXtsLmNsb3NlKHRoaXMpO30sb3BlbjpmdW5jdGlvbigpe2wuaW5pdCh0aGlzKTt9LH0pLmtleXByZXNzKGZ1bmN0aW9uKG0pe2lmKG0ua2V5Q29kZT09YS51aS5rZXlDb2RlLkVOVEVSKXtsLk9LSGFuZGxlcih0aGlzKTtyZXR1cm4gZmFsc2U7fX0pO2godGhpcyk7dGhpcy5pc0RpYWxvZ1JlYWR5PXRydWU7fTtyZXR1cm4gZjt9KShiLkhUTUxEaWFsb2cpO3JldHVybiBjO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTt2YXIgVFhUZXh0Q29udHJvbD0oZnVuY3Rpb24oYyxhKXt2YXIgYj1jLl9wcml2YXRlPWMuX3ByaXZhdGV8fHt9O2IuVmlld01vZGU9e1BhZ2VWaWV3OjI1NixOb3JtYWw6NTEyfTtiLlRleHRDb21wb25lbnRWaWV3ZXI9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChlLGYpe3RoaXMuY29tcG9uZW50Vmlld2VyPW5ldyBiLkNvbXBvbmVudFZpZXdlcihlLGYpO3RoaXMuZXZlbnRNYW5hZ2VyPW5ldyBiLkV2ZW50TWFuYWdlcigpO3RoaXMubV9kb2N1bWVudFNpemU9e0hlaWdodDowLFdpZHRoOjB9O3RoaXMubV90ZXh0Vmlld0xvY2F0aW9uPXtYOjAsWTowfTt0aGlzLm1fdmlld01vZGU9Yi5WaWV3TW9kZS5Ob3JtYWw7dGhpcy5tX3pvb21GYWN0b3I9MTAwO3RoaXMud2lkdGg9dGhpcy53aWR0aDt0aGlzLmhlaWdodD10aGlzLmhlaWdodDt9ZC5wcm90b3R5cGUuc2Nyb2xsRGVsdGE9ZnVuY3Rpb24oZSl7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuU2Nyb2xsRGVsdGEsZS5YLGUuWSx0aGlzLmNvbXBvbmVudFZpZXdlci5jb21wb25lbnRUeXBlKTt9O2QucHJvdG90eXBlLnZTY3JvbGw9ZnVuY3Rpb24oZSl7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuVlNjcm9sbCxlLHRoaXMuY29tcG9uZW50Vmlld2VyLmNvbXBvbmVudFR5cGUpO307ZC5wcm90b3R5cGUuaFNjcm9sbD1mdW5jdGlvbihlKXtiLnNlbmRDb21tYW5kKGIuQ29tbWFuZC5IU2Nyb2xsLGUsdGhpcy5jb21wb25lbnRWaWV3ZXIuY29tcG9uZW50VHlwZSk7fTtkLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGYsZSl7dGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihmLGUpO307T2JqZWN0LmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLFwidmlld01vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubV92aWV3TW9kZTt9LHNldDpmdW5jdGlvbihlKXt0aGlzLm1fdmlld01vZGU9ZTt0aGlzLmV2ZW50TWFuYWdlci5maXJlRXZlbnQoXCJ2aWV3TW9kZUNoYW5nZWRcIix0aGlzLm1fdmlld01vZGUpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLFwiZG9jdW1lbnRTaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1fZG9jdW1lbnRTaXplO30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMubV9kb2N1bWVudFNpemU9ZTt0aGlzLmV2ZW50TWFuYWdlci5maXJlRXZlbnQoXCJkb2N1bWVudFNpemVDaGFuZ2VkXCIsZSk7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJ0ZXh0Vmlld0xvY2F0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1fdGV4dFZpZXdMb2NhdGlvbjt9LHNldDpmdW5jdGlvbihlKXt0aGlzLm1fdGV4dFZpZXdMb2NhdGlvbj1lO3RoaXMuZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChcInRleHRWaWV3TG9jYXRpb25DaGFuZ2VkXCIsdGhpcy5tX3RleHRWaWV3TG9jYXRpb24pO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLFwiem9vbUZhY3RvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tX3pvb21GYWN0b3I7fSxzZXQ6ZnVuY3Rpb24oem9vbUZhY3Rvcil7aWYoem9vbUZhY3Rvcj09PXVuZGVmaW5lZCl7dGhyb3cgbmV3IEVycm9yKFxcJ1BhcmFtZXRlciBcInpvb21GYWN0b3JcIiBpcyB1bmRlZmluZWQuXFwnKTt9aWYoKHR5cGVvZiB6b29tRmFjdG9yIT09XCJudW1iZXJcIil8fCgoem9vbUZhY3RvcjwxMCkmJih6b29tRmFjdG9yPi0xKSl8fCh6b29tRmFjdG9yPC0zKSl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlpvb20gZmFjdG9yIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIgPj0gMTAgb3Igb25lIG9mIHRoZSBzcGVjaWFsIHpvb20gZmFjdG9yIHZhbHVlcyBkZWZpbmVkIGluIFRYVGV4dENvbnRyb2wuU3BlY2lhbFpvb21GYWN0b3IuXCIpO316b29tRmFjdG9yPU1hdGgucm91bmQoem9vbUZhY3Rvcik7aWYoem9vbUZhY3RvciE9dGhpcy5tX3pvb21GYWN0b3Ipe3RoaXMubV96b29tRmFjdG9yPXpvb21GYWN0b3I7Yi5zZW5kQ29tbWFuZChiLkNvbW1hbmQuWm9vbSx6b29tRmFjdG9yLHRoaXMuY29tcG9uZW50Vmlld2VyLmNvbXBvbmVudFR5cGUpO3RoaXMuZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChcInpvb21GYWN0b3JDaGFuZ2VkXCIsdGhpcy5tX3pvb21GYWN0b3IpO319LGVudW1lcmFibGU6dHJ1ZX0pO2QucHJvdG90eXBlLnNlbGVjdEhpZGRlblRleHRmaWVsZENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuc2VsZWN0SGlkZGVuVGV4dGZpZWxkQ29udGVudCgpO307ZC5wcm90b3R5cGUuc2V0SGlkZGVuVGV4dEZpZWxkVGV4dD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuc2V0SGlkZGVuVGV4dEZpZWxkVGV4dChlKTt9O2QucHJvdG90eXBlLm1vdXNlQnV0dG9uVG9Nb3VzZUJ1dHRvbkZsYWc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLm1vdXNlQnV0dG9uVG9Nb3VzZUJ1dHRvbkZsYWcoZSk7fTtkLnByb3RvdHlwZS5nZXRNb3VzZVBvcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuZ2V0TW91c2VQb3MoZSk7fTtkLnByb3RvdHlwZS5ibHVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLmJsdXIoKTt9O2QucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLmZvY3VzKCk7fTtkLnByb3RvdHlwZS5kcmF3U2hhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLmRyYXdTaGFwZShlKTt9O2QucHJvdG90eXBlLmhpZGVTaGFwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5oaWRlU2hhcGUoKTt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci53aWR0aDt9LHNldDpmdW5jdGlvbihlKXt0aGlzLmNvbXBvbmVudFZpZXdlci53aWR0aD1lO3RoaXMuZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChcIndpZHRoQ2hhbmdlZFwiLGUpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLFwiaGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5oZWlnaHQ7fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5jb21wb25lbnRWaWV3ZXIuaGVpZ2h0PWU7dGhpcy5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KFwiaGVpZ2h0Q2hhbmdlZFwiLGUpO30sZW51bWVyYWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQucHJvdG90eXBlLFwibGVmdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIubGVmdDt9LHNldDpmdW5jdGlvbihlKXt0aGlzLmNvbXBvbmVudFZpZXdlci5sZWZ0PWU7fSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJ0b3BcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLnRvcDt9LHNldDpmdW5jdGlvbihlKXt0aGlzLmNvbXBvbmVudFZpZXdlci50b3A9ZTt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSxcImNhcmV0Qm91bmRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5jYXJldEJvdW5kczt9LGVudW1lcmFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX0pO2QucHJvdG90eXBlLnNldENhcmV0U3RhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLnNldENhcmV0U3RhdGUoZSk7fTtkLnByb3RvdHlwZS5zZXRJbWFnZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuc2V0SW1hZ2UoZSk7fTtkLnByb3RvdHlwZS5yZXF1ZXN0VXBkYXRlSW1hZ2VSZWdpb25zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5yZXF1ZXN0VXBkYXRlSW1hZ2VSZWdpb25zKGUpO307ZC5wcm90b3R5cGUucmVxdWVzdFNjcm9sbD1mdW5jdGlvbihlLGYpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5yZXF1ZXN0U2Nyb2xsKGUsZik7fTtkLnByb3RvdHlwZS51cGRhdGVJbWFnZVJlZ2lvbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLnVwZGF0ZUltYWdlUmVnaW9ucyhlKTt9O2QucHJvdG90eXBlLnNjcm9sbD1mdW5jdGlvbihlLGYpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5zY3JvbGwoZSxmKTt9O2QucHJvdG90eXBlLnByb2Nlc3NOZXh0UXVldWVFbnRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5wcm9jZXNzTmV4dFF1ZXVlRW50cnkoKTt9O2QucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuc2hvdygpO307ZC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5oaWRlKCk7fTtkLnByb3RvdHlwZS5zaG93Q2FyZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuc2hvd0NhcmV0KCk7fTtkLnByb3RvdHlwZS5oaWRlQ2FyZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuaGlkZUNhcmV0KCk7fTtkLnByb3RvdHlwZS5yZWZyZXNoQ2FyZXRMb2NhdGlvbj1mdW5jdGlvbigpe3RoaXMuY29tcG9uZW50Vmlld2VyLnJlZnJlc2hDYXJldExvY2F0aW9uKCk7fTtkLnByb3RvdHlwZS5idWZmZXJDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLmJ1ZmZlckNvbnRlbnQoKTt9O2QucHJvdG90eXBlLmRyYXdCdWZmZXJlZENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuZHJhd0J1ZmZlcmVkQ29udGVudCgpO307ZC5wcm90b3R5cGUuY2FudmFzX01vdXNlRG93bj1mdW5jdGlvbigpe3RoaXMuY29tcG9uZW50Vmlld2VyLmNhbnZhc19Nb3VzZURvd24oZXZlbnQpO307ZC5wcm90b3R5cGUuY2FudmFzX01vdXNlVXA9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLmNhbnZhc19Nb3VzZVVwKGUpO307ZC5wcm90b3R5cGUuY2FudmFzX0NsaWNrPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5jYW52YXNfQ2xpY2soZSk7fTtkLnByb3RvdHlwZS5jYW52YXNfTW91c2VNb3ZlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5jYW52YXNfTW91c2VNb3ZlKGUpO307ZC5wcm90b3R5cGUuY2FudmFzX0RvdWJsZUNsaWNrPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5jYW52YXNfRG91YmxlQ2xpY2soZSk7fTtkLnByb3RvdHlwZS5jYW52YXNfVG91Y2hTdGFydD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuY2FudmFzX1RvdWNoU3RhcnQoZSk7fTtkLnByb3RvdHlwZS5jYW52YXNfVG91Y2hEcmFnVGV4dFZpZXc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLmNhbnZhc19Ub3VjaERyYWdUZXh0VmlldyhlKTt9O2QucHJvdG90eXBlLmNhbnZhc19Ub3VjaFBpbmNoVGV4dFZpZXc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLmNhbnZhc19Ub3VjaFBpbmNoVGV4dFZpZXcoZSk7fTtkLnByb3RvdHlwZS5jYW52YXNfVG91Y2hNb3ZlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5jYW52YXNfVG91Y2hNb3ZlKGUpO307ZC5wcm90b3R5cGUuY2FudmFzX1RvdWNoTW92ZVRleHRWaWV3PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbXBvbmVudFZpZXdlci5jYW52YXNfVG91Y2hNb3ZlVGV4dFZpZXcoZSk7fTtkLnByb3RvdHlwZS5jYW52YXNfVG91Y2hFbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcG9uZW50Vmlld2VyLmNhbnZhc19Ub3VjaEVuZChlKTt9O2QucHJvdG90eXBlLmNhbnZhc19Ub3VjaENhbmNlbD1mdW5jdGlvbihlKXt0aGlzLmNvbXBvbmVudFZpZXdlci5jYW52YXNfVG91Y2hDYW5jZWwoZSk7fTtkLnByb3RvdHlwZS5jYW52YXNfTW91c2VXaGVlbD1mdW5jdGlvbihlKXt0aGlzLmNvbXBvbmVudFZpZXdlci5jYW52YXNfTW91c2VXaGVlbChlKTt9O2QucHJvdG90eXBlLmN1cnNvckNoYW5nZWQ9ZnVuY3Rpb24oZSl7dGhpcy5jb21wb25lbnRWaWV3ZXIuY3Vyc29yQ2hhbmdlZChlKTt9O2QucHJvdG90eXBlLnNoYXBlQmxpbms9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRWaWV3ZXIuc2hhcGVCbGluaygpO307cmV0dXJuIGQ7fSkoKTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGE1LGEpe1widXNlIHN0cmljdFwiO3ZhciBjPWE1Ll9wcml2YXRlPWE1Ll9wcml2YXRlfHx7fTthNS52ZXJzaW9uPVwiMjkuMFwiO2Z1bmN0aW9uIGFSKCl7ZGVsZXRlIGE1Ll9wcml2YXRlO31jLmlzU1NMQ29ubmVjdGlvbj0od2luZG93LmxvY2F0aW9uLnByb3RvY29sPT09XCJodHRwczpcIik7dmFyIEY9NTk7Yy5Db21tYW5kPU9iamVjdC5mcmVlemUoe0ltYWdlOjEsQ2xvc2U6NCxVbmRvOjUsTmV3RmlsZTo2LEN1dDoxMCxDb3B5OjExLFBhc3RlOjEyLFJlZG86MTMsR2V0RmlsZUxpc3Q6MTQsT3BlbkZpbGU6MTUsR3Jvd0ZvbnQ6MTcsU2hyaW5rRm9udDoxOCxTZXRMYW5kc2NhcGU6MTksUHJpbnRUb1BERjoyMixJbmNyZWFzZUluZGVudDoyMyxEZWNyZWFzZUluZGVudDoyNCxEb2N1bWVudFNpemVDaGFuZ2VkOjMyLElucHV0UG9zaXRpb25DaGFuZ2VkOjMzLFdpbmRvd1Jlc2l6ZWQ6MzQsSFNjcm9sbDozNSxWU2Nyb2xsOjM2LFNjcm9sbERlbHRhOjM3LEluc2VydEJsYW5rUGFnZTozOCxJbnNlcnRCcmVhazozOSxUZXh0Vmlld0xvY2F0aW9uOjQ0LFpvb206NDUsVENQU2VydmVyTWVzc2FnZTo1MCxDb25zb2xlTG9nOjUxLEltYWdlTG9hZGVkOjUyLENsaWVudFBhc3RlOjUzLEdldERvY3VtZW50VGFyZ2V0czo1NCxJbnNlcnRJdGVtOjU1LEdldEl0ZW06NTYsRGVsZXRlSXRlbTo1NyxFbmFibGVTcGVsbENoZWNraW5nOjU4LEVuYWJsZUh5cGhlbmF0aW9uOjU5LEluc2VydERvY3VtZW50RmlsZTo2MCxHZXREaWFsb2dSZXNvdXJjZXM6NjEsU2V0QXBwTW9kZTo2MixNYWlsTWVyZ2VQcmV2TmF2OjYzLEZpbmlzaEFuZE1lcmdlOjY0LFNob3dEaWFsb2c6NjUsRGlhbG9nUmVzdWx0OjY2LEZpZWxkRGlzcGxheU1vZGVDaGFuZ2VkOjY3LFdhaXREaWFsb2c6NjksU2VsZWN0TWFzdGVyVGFibGU6NzAsU2V0RmllbGREaXNwbGF5TW9kZTo3MSxIaWdobGlnaHRNZXJnZUZpZWxkczo3MixDdXJzb3JDaGFuZ2VkOjc2LENvbXBvbmVudEV2ZW50Ojc3LENhcmV0U3RhdGVDaGFuZ2VkOjc4LENsb3NlRGlhbG9nOjc5LEltYWdlUmVnaW9uczo4MCxTY3JvbGw6ODEsRWRpdERhdGFSZWxhdGlvbnM6ODIsRWRpdE1lcmdlQmxvY2tzOjg0LEdvVG9JdGVtOjg1LERpc3BsYXlWaXN1YWxFbGVtZW50Ojg2LFRhYmxlQ29tbWFuZDo4NyxDb250ZXh0TWVudURhdGE6ODgsQ29udGV4dE1lbnVJdGVtQ2xpY2tlZDo4OSxEcmF3U2hhcGU6OTAsRmllbGRQcm9wZXJ0aWVzRGlhbG9nOjkxLFNldEl0ZW1Qcm9wZXJ0eTo5MixIeXBlcnRleHRMaW5rQ2xpY2tlZDo5MyxTYXZlRG9jdW1lbnRGaWxlOjk0LFBpbmc6OTUsUG9uZzo5NixTdHJpbmdSZXNvdXJjZXM6OTgsU2VydmVyRXZlbnQ6MTAyLFNldENvbm5lY3Rpb25JRDoxMDMsRW5hYmxlTGFuZ0RldGVjdDoxMDUsSXRlbUFjdGl2YXRpb25TdGF0ZUNoYW5nZWRFdmVudDoxMDYsU2F2ZToxMDgsQ29tcG9uZW50QWN0aXZhdGlvblN0YXRlOjEwOSxFZGl0TW9kZToxMTEsU2VsZWN0aW9uOjExMixCYWNrQ29sb3I6MTEzLFN0YXR1c0JhckNvbG9yOjExNCxTcGVsbENoZWNrRGlhbG9nQ29tbWFuZDoxMTcsSFRNTERpYWxvZ1N0YXRlOjExOCxPcGVuRGlyZWN0b3J5OjExOSxEb2N1bWVudERpcnR5Q2hhbmdlZDoxMjAsRG9jdW1lbnRTYXZlZDoxMjEsRW5hYmxlU2F2ZURvY3VtZW50UXVlc3Rpb246MTIyLENvbnRleHRNZW51c0VuYWJsZWQ6MTIzLFNldFRleHRGaWVsZHNFZGl0YWJsZToxMjQsSXNUb3VjaERldmljZToxMjYsU2VydmVyQ29uc29sZVdyaXRlTGluZToxMjcsSW1hZ2VSZXNvdXJjZXM6MTI5LENyZWF0ZVRleHRDb250cm9sOjEzMCxTZWxlY3RBbGw6MTMyLFRYU2V0dGluZ3M6MTMzLFJlc2V0Q29udGVudHM6MTM1LEhpZ2hsaWdodE1lcmdlQmxvY2tzOjEzNixDbGllbnRTZWxlY3Rpb246MTM3LEVuYWJsZUxvYWRXYWl0RGlhbG9nOjEzOCxDbGllbnRUZXh0UGFydDoxMzksVHJpYWxTdHJpbmc6MTQwLENsaXBib2FyZE1vZGU6MTQxLFRleHRDb250cm9sTG9hZGVkOjE0MixHZXRGaWxlRGlyZWN0b3J5OjE0NCxTZXRGaWxlRGlyZWN0b3J5OjE0NSxDbGllbnRTZXRGb3JtYXR0aW5nUHJpbnRlcjoxNDYsQ2xpZW50R2V0Rm9ybWF0dGluZ1ByaW50ZXI6MTQ3LENsaWVudEdldEluc3RhbGxlZFByaW50ZXJzOjE0OCxUZXh0Q29udHJvbENoYW5nZWQ6MTQ5LERyYXdpbmdDb250cm9sSW5mbzoxNTQsQ2xpZW50VGV4dEZpZWxkOjE1NyxDbGllbnRTdWJUZXh0UGFydDoxNTgsU3BlbGxDaGVjazoxNTksRnJhbWVFdmVudDoxNjAsU2V0VHhQcm9wZXJ0eToxNjEsVHJhbnNmZXJDU2hhcnBUeXBlOjE2MixSaWJib25NZW51RXZlbnQ6MTYzLFJpYmJvbkJ1dHRvbkV2ZW50OjE2NSxSaWJib25Db250cm9sU3RhdGU6MTY3LFJpYmJvbkJ1dHRvblN0YXRlOjE2OCxSaWJib25NZW51SXRlbVN0YXRlOjE2OSxSaWJib25UZXh0Qm94RXZlbnQ6MTcwLFJpYmJvblRleHRCb3hTdGF0ZToxNzEsUmliYm9uQ2hlY2tCb3hTdGF0ZToxNzIsU2hvd0ZpZWxkRGlhbG9nOjE3MyxVcGRhdGVGaWVsZDoxNzQsRnJhbWVJbmZvOjE3NSxUaGVzYXVydXNEaWFsb2dDb21tYW5kOjE3NixBcHBlbmREb2N1bWVudEZpbGU6MTc3LFBlcm1pc3Npb25zQWRkVXNlckRpYWxvZ0NvbW1hbmQ6MTc4LExpc3RCb3hFdmVudDoxNzksTGlzdEl0ZW1TdGF0ZToxODAsTGlzdEJveFN0YXRlOjE4MSxTZXREb2N1bWVudFBlcm1pc3Npb25zOjE4MixTZXRSaWJib25UYWJQcm9wZXJ0eToxODMsU2V0VXNlck5hbWVzOjE4NCxUWFByb3BlcnR5Q2hhbmdlZDoxODUsQWRkVGV4dEZyYW1lOjE4NyxUWFRleHRDb250cm9sUmVzb3VyY2VzOjE4OCxJbnB1dENvbnRyb2xFdmVudDoxOTAsRmFkZUluVmlld2VyczoxOTEsUmliYm9uVGFiQ2hhbmdlZDoxOTIsVHJhY2tDaGFuZ2VzRW5hYmxlZFN0YXRlOjE5MyxTaG93U2lkZUJhcjoxOTQsRmFkZUluUmliYm9uOjE5NSxSaWJib25UYWJzTG9hZGVkOjE5OCxBY2Nlc3NUZXh0Q29udHJvbE1lbWJlcjoxOTksT3ZlcmxheUNvbnRyb2xDb21tYW5kOjIwMCxFbmFibGVTYXZlTWVudUl0ZW06MjAxLFJpYmJvbkNvbWJvQm94Q29tbWFuZDoyMDIsQ2xpZW50Q29ubmVjdGlvbkxvc3Q6MjAzLFJlY29ubmVjdGlvblN1Y2Nlc3NmdWw6MjA0LEFib3J0UmVjb25uZWN0OjIwNSxHZXRJbWFnZXM6MjA2LFZlcnNpb25JbmZvOjIwNyxDbGllbnRJbmZvcm1hdGlvbjoyMDgsUmliYm9uVGFiVHJhbnNmZXJDb21wbGV0ZWQ6MjA5LEZpbmFsaXplUmliYm9uOjIxMCxSZXF1ZXN0UmliYm9uVGFic0FzeW5jOjIxMSxSaWJib25UYWI6MjEyLEdldEltYWdlc0FzeW5jOjIxMyxMaWNlbnNlRXJyb3I6MjE0LFBhcmFncmFwaFN0cnVjdHVyZUxldmVsRW50cnlFdmVudDoyMTUsUGFyYWdyYXBoU3RydWN0dXJlTGV2ZWxFbnRyeVN0YXRlOjIxNixSaWJib25Db250cm9sRXZlbnQ6MzAwLFJpYmJvbkNvbWJvQm94U3RhdGU6MzUwLFJpYmJvbkNoZWNrQm94RXZlbnQ6MzYwLFRyYWNrQ2hhbmdlc1ZpZXdlckluaXRpYXRlOjUwMCxUcmFja2VkQ2hhbmdlc1ZpZXdlclJlZnJlc2g6NTAyLFRyYWNrQ2hhbmdlc1ZpZXdlckRpc3Bvc2U6NTEwLFRyYWNrZWRDaGFuZ2VzQ291bnQ6NTE1LFNob3dIb3Jpem9udGFsUnVsZXJCYXI6NjAwLEhpZGVIb3Jpem9udGFsUnVsZXJCYXI6NjAxLFNob3dWZXJ0aWNhbFJ1bGVyQmFyOjcwMCxIaWRlVmVydGljYWxSdWxlckJhcjo3MDEsU2hvd1N0YXR1c0Jhcjo4MDAsSGlkZVN0YXR1c0Jhcjo4MDEsVGV4dENvbnRyb2xFdmVudDo4NTAsU2VsZWN0aW9uSFRNTENvbnRlbnQ6OTk5fSk7Yy5UYWJsZUNvbW1hbmQ9e1NlbGVjdEVsZW1lbnQ6MCxEZWxldGVFbGVtZW50OjEsSW5zZXJ0RWxlbWVudDoyLENlbGxBbGlnbm1lbnQ6MyxNZXJnZUNlbGxzOjQsU3BsaXRDZWxsczo1LFNwbGl0VGFibGU6NixDcmVhdGU6N307Yy5GaWxlVHlwZT17RG9jdW1lbnQ6MCxJbWFnZToxLERhdGFCYXNlOjJ9O2MuQ2hhcnRUZW1wbGF0ZVR5cGU9e307Yy5EaWFsb2dDYXRlZ29yeT17VFhEaWFsb2c6MCxIVE1MRGlhbG9nOjEsfTtjLkhUTUxEaWFsb2dUeXBlPXtOb25lOjAsTWVyZ2VGaWVsZERpYWxvZzoxLElmRmllbGREaWFsb2c6MixJbmNsdWRlVGV4dEZpZWxkRGlhbG9nOjMsRGF0ZUZpZWxkRGlhbG9nOjQsTmV4dElmRmllbGREaWFsb2c6NSxNYXhQcmV2aWV3Um93c0RpYWxvZzo2LElucHV0Qm94RGlhbG9nOjcsRWRpdE1lcmdlQmxvY2tzRGlhbG9nOjgsSW5zZXJ0TWVyZ2VCbG9ja0RpYWxvZzo5LFdhaXREaWFsb2c6MTAsRWRpdERhdGFSZWxhdGlvbnNEaWFsb2c6MTEsQ3JlYXRlRGF0YVJlbGF0aW9uRGlhbG9nOjEyLEh5cGVybGlua0RpYWxvZzoxNCxPcHRpb25zRGlhbG9nOjE1LENoYXJ0RGF0YVJlbERpYWxvZzoxNyxTYXZlRG9jdW1lbnRBc0RpYWxvZzoxOCxDbGllbnRQYXN0ZURpYWxvZzoxOSxTcGVsbENoZWNrRGlhbG9nOjIwLExvYWREaWN0aW9uYXJ5RGlhbG9nOjIyLEVkZ2VQcmludERpYWxvZzoyMyxTZXRDaGFydERhdGFSZWxhdGlvbkRpYWxvZzoyNCxGb250RGlhbG9nOjI1LFRoZXNhdXJ1c0RpYWxvZzoyNixMb2FkVGhlc2F1cnVzRGlhbG9nOjI3LFBlcm1pc3Npb25zQWRkVXNlckRpYWxvZzoyOCxDYW5ub3RUcmFja0NoYW5nZURpYWxvZzoyOSxUeERpYWxvZ0ZyYW1lOjMyLE1lc3NhZ2VCb3hEaWFsb2c6MzMsRmlsZVNhdmVRdWVzdGlvbkRpYWxvZzozNCxNYW5hZ2VDb25kaXRpb25hbEluc3RydWN0aW9uc0RpYWxvZzozNSxDb25kaXRpb25hbEluc3RydWN0aW9uRGlhbG9nOjM2LEFkdmFuY2VkSW5zdHJ1Y3Rpb25TZXR0aW5nc0RpYWxvZzozNyxJbnNlcnRCb29rbWFya0RpYWxvZzozOCxEZWxldGVCb29rbWFya3NEaWFsb2c6MzksTWVyZ2VCbG9ja0ZpbHRlckFuZFNvcnREaWFsb2c6NDAsfTtjLlRYRGlhbG9nVHlwZT1PYmplY3QuZnJlZXplKHtVbmtub3duOjAsRm9udERpYWxvZzoxLFBhcmFncmFwaEZvcm1hdERpYWxvZzoyLEluc2VydFRhYmxlRGlhbG9nOjMsQ2hpbGREaWFsb2c6NCxMaXN0Rm9ybWF0RGlhbG9nOjUsRm9ybWF0dGluZ1N0eWxlc0RpYWxvZzo2LFNlY3Rpb25Gb3JtYXREaWFsb2c6NyxMYW5ndWFnZURpYWxvZzo4LFRhYmxlRm9ybWF0RGlhbG9nOjksVGFiRGlhbG9nOjEyLE9iamVjdEF0dHJpYnV0ZXNEaWFsb2c6MTMsRmluZERpYWxvZzoxNCxSZXBsYWNlRGlhbG9nOjE1LEZvcmVDb2xvckRpYWxvZzoxNixUZXh0QmFja0NvbG9yRGlhbG9nOjE3LEluc2VydFN5bWJvbERpYWxvZzoxOCxGcmFtZUZpbGxDb2xvckRpYWxvZzoxOSxGcmFtZUxpbmVDb2xvckRpYWxvZzoyMCxQYWdlQ29sb3JEaWFsb2c6MjEsVGFibGVPZkNvbnRlbnRzRGlhbG9nOjIyLH0pO2MuVmlzdWFsRWxlbWVudD1PYmplY3QuZnJlZXplKHtDb250cm9sQ2hhcnM6MCxUZXh0RnJhbWVNYXJrZXJMaW5lczoxLEJvb2ttYXJrTWFya2VyczoyLFRhYmxlR3JpZExpbmVzOjMsRHJhd2luZ01hcmtlckxpbmVzOjQsRnJhbWVBbmNob3JzOjV9KTtjLlRhYmxlRWxlbWVudD17Q2VsbDowLENvbHVtbjoxLFJvdzoyLFdob2xlVGFibGU6Myx9O2MuQ29uc29sZUxvZ1R5cGU9e0xvZzowLERlYnVnOjEsSW5mbzoyLFdhcm46MyxFcnJvcjo0fTtjLkl0ZW1BY3RpdmF0aW9uU3RhdGU9e0RlYWN0aXZhdGVkOjAsQWN0aXZhdGVkOjF9O2MuU2VydmVyRXZlbnRUeXBlPXtUWENvbXBvbmVudHNMb2FkZWQ6MCxEb2N1bWVudExvYWRlZDoxfTt2YXIgYTI9e1ZhcmlvdXM6MCxSaWJib25TdHJpbmdzOjEsVFhUZXh0Q29udHJvbDoyfTt2YXIgYj17TGVmdDpmYWxzZSxNaWRkbGU6ZmFsc2UsUmlnaHQ6ZmFsc2V9O2MudmFyaW91c1N0cmluZ1Jlc291cmNlcz17V0VCU09DS0VUX0VSUk9SX01TRzpcIkNhblxcJ3QgY29ubmVjdCB0byB0aGUgc2VydmVyLlxcXFxuUGxlYXNlIHJlZnJlc2ggdGhlIHdlYnNpdGUgdG8gcmUtY29ubmVjdC5cIixSRUNPTk5FQ1RJTkc6XCJDb25uZWN0aW9uIGxvc3QuIFJlY29ubmVjdGluZ+KAplwifTtjLlRYVGV4dENvbnRyb2xSZXNvdXJjZXM9e0lEX1RSQUNLRURDSEFOR0VTX0NBUFRJT046XCJcIixJRF9UUkFDS0VEQ0hBTkdFU19DT1VOVDpcIlwiLFRPT0xUSVBfUmVmcmVzaFRyYWNrZWRDaGFuZ2VzOlwiXCJ9O2MuaW1hZ2VSZXNvdXJjZXM9e307Yy53ZWJTb2NrZXRIYW5kbGVyVVJMPVwiXCI7Yy5kb2N1bWVudFNhdmVkRXZlbnRIYW5kbGVycz1bXTtjLmRvY3VtZW50RGlydHk9ZmFsc2U7Yy5zYXZlRG9jdW1lbnRRdWVzdGlvbkVuYWJsZWQ9dHJ1ZTtjLmlnbm9yZU5leHRUZXh0Rm9jdXNSZXF1ZXN0PWZhbHNlO2MuaW5JTUVDb21wb3NpdGlvbj1mYWxzZTtjLnRyaWFsU3RyaW5nSW5mPW51bGw7Yy50cmlhbFN0cmluZ1dESWQ9bnVsbDtjLnByb29maW5nU2V0dGluZ3M9bnVsbDtjLnN1cHBvcnRlZFBhcGVyU2l6ZXM9W107Yy5GcmFtZUV2ZW50VHlwZT17fTtjLmlzVHJhY2tDaGFuZ2VzRW5hYmxlZD1mYWxzZTtjLmN1cnJlbnRGaWVsZERhdGE9e2ZpZWxkQWRhcHRlcjpudWxsLG1lcmdlRmllbGRUeXBlOm51bGwsdGV4dEZpZWxkOm51bGx9O2MucmVjb25uZWN0SW50ZXJ2YWxJRD0wO2MucmVjb25uZWN0U3RhcnRUaW1lPW51bGw7Yy5yZWNvbm5lY3RGYWlsZWQ9ZmFsc2U7Yy5uZXZlckNvbm5lY3RlZD10cnVlO2MucmVjb25uZWN0VGltZW91dD0zMDt2YXIgYU89MTtjLkFib3J0UmVjb25uZWN0UmVhc29uPXtVbmtub3duQ29ubmVjdGlvbklEOjEsT3RoZXJDb25uZWN0aW9uRXhpc3RzOjIsfTtjLmdlbmVyYXRlZENvbm5lY3Rpb25JRD1udWxsO2MuTG9jYWxJbWFnZVN0b3JhZ2VQcmVmaXg9XCJfX1RYSW1hZ2VDYWNoZVwiO2MuTG9jYWxJbWFnZVN0b3JhZ2VLZXk9Yy5Mb2NhbEltYWdlU3RvcmFnZVByZWZpeDtjLlRYSW1hZ2VDYWNoZT1udWxsO2MucmVxdWlyZWRJbWFnZXM9W107ZnVuY3Rpb24gQSgpe3ZhciBiYj0hIShcIm9udG91Y2hlbmRcIiBpbiBkb2N1bWVudHx8d2luZG93LkRvY3VtZW50VG91Y2gmJmRvY3VtZW50IGluc3RhbmNlb2YgRG9jdW1lbnRUb3VjaCk7dmFyIGJhPWMuQnJvd3NlckRldGVjdC5icm93c2VyO3JldHVybiBiYiYmKGJhIT09XCJFZGdlXCIpJiYoYmEhPT1cIkV4cGxvcmVyXCIpJiYoYmEhPT1cIkZpcmVmb3hcIikmJihiYSE9PVwiQ2hyb21lXCIpO31jLmlzVG91Y2hEZXZpY2U9QSgpO2lmKGMuaXNUb3VjaERldmljZSl7Yy5jbGlwYm9hcmRNb2RlPWMuQ2xpcGJvYXJkTW9kZS5TZXJ2ZXI7fWMuaXNTb2NrZXRDb25uZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYy5zb2NrZXQmJihjLnNvY2tldC5yZWFkeVN0YXRlPT09V2ViU29ja2V0Lk9QRU4pO307Yy5zZW5kQ29tbWFuZD1mdW5jdGlvbihiYixiZCxiZSxiZixiYyl7aWYoIWMuaXNTb2NrZXRDb25uZWN0ZWQoKSl7cmV0dXJuO312YXIgYmE9e0NvbW1hbmRJRDpwYXJzZUludChiYiwxMCksUGFyYW0xOmJkfHwwLFBhcmFtMjpiZXx8MCxQYXJhbTM6YmZ8fDAsRGF0YTpiY3x8XCJcIix9O3ZhciBiZz1KU09OLnN0cmluZ2lmeShiYSk7Yy5zb2NrZXQuc2VuZChiZyk7fTtmdW5jdGlvbiBhNCgpe3ZhciBiYixiYTtiYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIl9fdHhXZWJDb250cm9sU2V0dGluZ3NcIik7aWYoYmEpe2JiPWJhLmlubmVySFRNTDtjLndlYkNvbnRyb2xTZXR0aW5ncz1KU09OLnBhcnNlKGJiKTtiYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJhKTt9ZWxzZXtiYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIl9fdHhTZXR0aW5nc1wiKTtpZihiYSl7YmI9YmEuaW5uZXJIVE1MO2Muc2V0dGluZ3M9SlNPTi5wYXJzZShiYik7YmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiYSk7aWYoYy5zZXR0aW5ncy5SZWNvbm5lY3RUaW1lb3V0PjApe2MucmVjb25uZWN0VGltZW91dD1jLnNldHRpbmdzLlJlY29ubmVjdFRpbWVvdXQ7fX19fWMuaW5pdD1mdW5jdGlvbigpe3ZhciBiYz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5DYW52YXNcIik7dmFyIGJhPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaG9yUnVsZXJDYW52YXNcIik7dmFyIGJnPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmVydFJ1bGVyQ2FudmFzXCIpO3ZhciBiZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXR1c0JhckNhbnZhc1wiKTtiYy53aWR0aD13aW5kb3cuaW5uZXJXaWR0aDtiYy5oZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0O2JhLndpZHRoPXdpbmRvdy5pbm5lcldpZHRoO2JnLmhlaWdodD13aW5kb3cuaW5uZXJIZWlnaHQ7YmQud2lkdGg9d2luZG93LmlubmVyV2lkdGg7Yy50ZXh0Vmlld2VyPW5ldyBjLkNvbXBvbmVudFZpZXdlcihiYyxjLkNvbXBvbmVudFR5cGUuVGV4dFZpZXcpO2MuaG9yUnVsZXJWaWV3ZXI9bmV3IGMuQ29tcG9uZW50Vmlld2VyKGJhLGMuQ29tcG9uZW50VHlwZS5Ib3JSdWxlcik7Yy52ZXJ0UnVsZXJWaWV3ZXI9bmV3IGMuQ29tcG9uZW50Vmlld2VyKGJnLGMuQ29tcG9uZW50VHlwZS5WZXJ0UnVsZXIpO2Muc3RhdHVzQmFyVmlld2VyPW5ldyBjLkNvbXBvbmVudFZpZXdlcihiZCxjLkNvbXBvbmVudFR5cGUuU3RhdHVzQmFyKTthNCgpO3ZhciBiZj1jLmdldFdlYlNvY2tldEhhbmRsZXJVUkwoKTtjLndlYlNvY2tldEhhbmRsZXJVUkw9YmYudXJsO2NvbnNvbGUuaW5mbyhcIkNvbm5lY3RpbmcgdG8gXCIrYmYucGF0aCk7bCgpO3goKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLEMpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsRSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsRCk7aCgpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFBvc2l0aW9uQ2hhbmdlZFwiLGMuaW5wdXRQb3NpdGlvbkNoYW5nZWRIYW5kbGVyKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidWlGbGFnc1VwZGF0ZWRcIixjLnVpRmxhZ3NVcGRhdGVkSGFuZGxlcik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImltYWdlUmVjZWl2ZWRcIixjLmltYWdlUmVjZWl2ZWRIYW5kbGVyKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW1hZ2VSZWdpb25zVXBkYXRlZFwiLGMuaW1hZ2VSZWdpb25zVXBkYXRlZEhhbmRsZXIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aWV3Q29udGVudFNjcm9sbGVkXCIsYy52aWV3Q29udGVudFNjcm9sbGVkSGFuZGxlcik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInByaW50UmVzdWx0UmVjZWl2ZWRcIixjLnByaW50UmVzdWx0UmVjZWl2ZWRIYW5kbGVyKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZG9jdW1lbnRTaXplQ2hhbmdlZFwiLGMuZG9jdW1lbnRTaXplQ2hhbmdlZEhhbmRsZXIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0eFpvb21lZFwiLGMudHhab29tZWRIYW5kbGVyKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidGV4dFZpZXdMb2NhdGlvbkNoYW5nZWRcIixjLnRleHRWaWV3TG9jYXRpb25DaGFuZ2VkSGFuZGxlcik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRNZW51RGF0YVJlY2VpdmVkXCIsYy5jb250ZXh0TWVudURhdGFSZWNlaXZlZEhhbmRsZXIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0eENvbnRhaW5lclJlc2l6ZWRcIixjLm9uQ29udGFpbmVyUmVzaXplKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidGV4dFZpZXdDYXJldFN0YXRlQ2hhbmdlZFwiLGMudGV4dFZpZXdDYXJldFN0YXRlQ2hhbmdlZEhhbmRsZXIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzaG93RmllbGRQcm9wc0RpYWxvZ1wiLGMuc2hvd0ZpZWxkUHJvcHNEaWFsb2dIYW5kbGVyKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiaHlwZXJsaW5rQ2xpY2tlZFwiLGMuaHlwZXJsaW5rQ2xpY2tlZEhhbmRsZXIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb25nTWVzc2FnZVJlY2VpdmVkXCIsRyk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRvY3VtZW50U2F2ZWRcIixyKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidGV4dEZpZWxkRGF0YVJlY2VpdmVkXCIsYy50ZXh0RmllbGREYXRhUmVjZWl2ZWRIYW5kbGVyKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidHhQcm9wZXJ0eUNoYW5nZWRcIixjLnR4UHJvcGVydHlDaGFuZ2VkSGFuZGxlcik7YmMuYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIixjLmhhbmRsZURyb3ApO2JjLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZW50ZXJcIixmdW5jdGlvbihiaCl7YmgucHJldmVudERlZmF1bHQoKTtiaC5zdG9wUHJvcGFnYXRpb24oKTt9KTtiYy5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIixmdW5jdGlvbihiaCl7YmgucHJldmVudERlZmF1bHQoKTtiaC5zdG9wUHJvcGFnYXRpb24oKTtiaC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1cImNvcHlcIjt9KTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJpYmJvbmJhclwiKS5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIixIKTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZlcnRpY2FsLXNjcm9sbGJhci13cmFwcGVyXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLEgpO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaG9yaXpvbnRhbC1zY3JvbGxiYXItd3JhcHBlclwiKS5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIixIKTtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjcm9sbC1idXR0b24tdXBcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsSCk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY3JvbGwtYnV0dG9uLWRvd25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsSCk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY3JvbGwtYnV0dG9uLWxlZnRcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsSCk7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY3JvbGwtYnV0dG9uLXJpZ2h0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLEgpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixvKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHEpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixwKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixuKTtjLmluaXRDb250ZXh0TWVudXMoKTtjLmNyZWF0ZVNjcm9sbGJhcnMoKTtjLmNyZWF0ZVRyYWNrQ2hhbmdlc1NpZGViYXIoKTtjLmFkYXB0Vmlld1RvQ29udGFpbmVyU2l6ZSgpO3NldEludGVydmFsKGZ1bmN0aW9uKCl7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuUGluZyk7fSxGKjEwMDApO2lmKCFjLmlzVG91Y2hEZXZpY2Upe2MudGV4dFZpZXdlci5mb2N1cygpO312YXIgYmI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eExvYWRlclwiKTtiYi5zdHlsZS5kaXNwbGF5PVwiXCI7YmIuc3R5bGUub3BhY2l0eT0xO3ZhciBiZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3JpYmJvbmJhciB1bC50YWJzXCIpO2JlLnN0eWxlLmRpc3BsYXk9XCJcIjthUigpO307ZnVuY3Rpb24gbCgpe2Muc29ja2V0PW5ldyBXZWJTb2NrZXQoYy53ZWJTb2NrZXRIYW5kbGVyVVJMLFwiVFhUZXh0Q29udHJvbC5XZWJcIik7Yy5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIixhOSk7Yy5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixhOCk7Yy5zb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsYTcpO2Muc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLGE2KTt9ZnVuY3Rpb24gZigpe3ZhciBiYj13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5Nb3pNdXRhdGlvbk9ic2VydmVyO3ZhciBiYz1uZXcgYmIoZnVuY3Rpb24oYmQpe2JkLmZvckVhY2goZnVuY3Rpb24oYmUpe3N3aXRjaChiZS50eXBlKXtjYXNlXCJhdHRyaWJ1dGVzXCI6c3dpdGNoKGJlLmF0dHJpYnV0ZU5hbWUpe2Nhc2VcInN0eWxlXCI6aygpO2JyZWFrO31icmVhazt9fSk7fSk7dmFyIGJhPXthdHRyaWJ1dGVzOnRydWUsY2hpbGRMaXN0OmZhbHNlLGNoYXJhY3RlckRhdGE6ZmFsc2V9O2JjLm9ic2VydmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXJcIikucGFyZW50RWxlbWVudCxiYSk7fWZ1bmN0aW9uIGkoKXt2YXIgYmI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcjt2YXIgYmQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyaWJib25iYXJcIik7dmFyIGJjPW5ldyBiYihmdW5jdGlvbihiZSl7YmUuZm9yRWFjaChmdW5jdGlvbihiZil7c3dpdGNoKGJmLnR5cGUpe2Nhc2VcImF0dHJpYnV0ZXNcIjpzd2l0Y2goYmYuYXR0cmlidXRlTmFtZSl7Y2FzZVwic3R5bGVcIjppZihiZC5zdHlsZS5kaXNwbGF5PT09XCJub25lXCIpe2lmKCFjLmlzUmliYm9uQmFyUmVtb3ZlZCl7Yy5pc1JpYmJvbkJhclJlbW92ZWQ9dHJ1ZTtjLnJpYmJvbkJhckhlaWdodD0wO2MuYWRhcHRWaWV3VG9Db250YWluZXJTaXplKCk7fX1lbHNle2lmKGMuaXNSaWJib25CYXJSZW1vdmVkKXtjLmlzUmliYm9uQmFyUmVtb3ZlZD1mYWxzZTtjLnJpYmJvbkJhckhlaWdodD1jLkRFRkFVTFRfUklCQk9OQkFSX0hFSUdIVDtjLmFkYXB0Vmlld1RvQ29udGFpbmVyU2l6ZSgpO319YnJlYWs7fWJyZWFrO319KTt9KTt2YXIgYmE9e2F0dHJpYnV0ZXM6dHJ1ZSxjaGlsZExpc3Q6ZmFsc2UsY2hhcmFjdGVyRGF0YTpmYWxzZX07YmMub2JzZXJ2ZShiZCxiYSk7fWZ1bmN0aW9uIGcoKXt2YXIgYmM9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcjt2YXIgYmI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluQ2FudmFzXCIpO3ZhciBiZD1uZXcgYmMoZnVuY3Rpb24oYmYpe2lmKCFjLnRyaWFsU3RyaW5nSW5mKXtyZXR1cm47fXZhciBiZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjLnRyaWFsU3RyaW5nSW5mLmlkKTtpZighYmcpe3JldHVybjt9dmFyIGJlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhUZW1wbGF0ZURlc2lnbmVyQ29udGFpbmVyXCIpO2JmLmZvckVhY2goZnVuY3Rpb24oYmkpe3N3aXRjaChiaS50eXBlKXtjYXNlXCJhdHRyaWJ1dGVzXCI6c3dpdGNoKGJpLmF0dHJpYnV0ZU5hbWUpe2Nhc2VcIndpZHRoXCI6dmFyIGJsPWJiLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciBiaz1iZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt2YXIgYmg9YmwubGVmdCsoYmwud2lkdGgvMik7dmFyIGJqPWJoLShiay5sZWZ0Kyhiay53aWR0aC8yKSk7Ymcuc3R5bGUubGVmdD1kLmxlZnQ9KDUwKygoYmovYmsud2lkdGgpKjEwMCkpK1wiJVwiO2JyZWFrO31icmVhazt9fSk7fSk7dmFyIGJhPXthdHRyaWJ1dGVzOnRydWUsY2hpbGRMaXN0OmZhbHNlLGNoYXJhY3RlckRhdGE6ZmFsc2V9O2JkLm9ic2VydmUoYmIsYmEpO31mdW5jdGlvbiBoKCl7ZigpO2koKTtnKCk7fWZ1bmN0aW9uIGFTKGJiKXt2YXIgYmE9XCJcIjtpZih0eXBlb2YgYy53ZWJDb250cm9sU2V0dGluZ3MhPT1cInVuZGVmaW5lZFwiKXtiYT1jLndlYkNvbnRyb2xTZXR0aW5ncy5jb25uZWN0aW9uSUQ7fWVsc2V7aWYodHlwZW9mIGMuc2V0dGluZ3MhPT1cInVuZGVmaW5lZFwiKXtiYT1jLnNldHRpbmdzLkNvbm5lY3Rpb25JRDt9ZWxzZXtpZihjLmdlbmVyYXRlZENvbm5lY3Rpb25JRCl7YmE9Yy5nZW5lcmF0ZWRDb25uZWN0aW9uSUQ7fWVsc2V7YmE9Yy5nZW5lcmF0ZWRDb25uZWN0aW9uSUQ9Yy5nZW5lcmF0ZVJhbmRvbUlEKDIxKTtjb25zb2xlLmxvZyhcIk5vIGNvbm5lY3Rpb24gSUQgd2FzIHJlY2VpdmVkIGZyb20gdGhlIHdlYiBzZXJ2ZXIuIEdlbmVyYXRpbmcgbXkgb3duLiAoXCIrYmErXCIpXCIpO319fWMuc2VuZENvbW1hbmQoYy5Db21tYW5kLlNldENvbm5lY3Rpb25JRCwoYmI/MTowKSwwLDAsYmEpO31mdW5jdGlvbiBhQSgpe2lmKHR5cGVvZiBjLnNldHRpbmdzPT09XCJ1bmRlZmluZWRcIil7cmV0dXJuO31jLnNhdmVEb2N1bWVudFF1ZXN0aW9uRW5hYmxlZD1jLnNldHRpbmdzLlNhdmVEb2N1bWVudFF1ZXN0aW9uRGlhbG9nRW5hYmxlZDtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5UWFNldHRpbmdzLDAsMCwwLGMuc2V0dGluZ3MpO31mdW5jdGlvbiB2KGJhKXtpZihuYXZpZ2F0b3IudXNlckxhbmd1YWdlKXtiYS5jdWx0dXJlPW5hdmlnYXRvci51c2VyTGFuZ3VhZ2U7YmEudWlDdWx0dXJlPW5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2U7fWVsc2V7dmFyIGJiPW5hdmlnYXRvci5sYW5ndWFnZXM/bmF2aWdhdG9yLmxhbmd1YWdlc1swXTpuYXZpZ2F0b3IubGFuZ3VhZ2U7aWYoYmIpe2JhLmN1bHR1cmU9YmEudWlDdWx0dXJlPWJiO31lbHNle2NvbnNvbGUud2FybihcIlVuYWJsZSB0byBkZXRlY3QgYnJvd3NlciBsYW5ndWFnZS5cIik7fX19Yy5DdWx0dXJlU2V0dGluZ3M9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ3VsdHVyZVNldHRpbmdzKGN1bHR1cmUsdWlDdWx0dXJlKXtpZihjdWx0dXJlPT09dW5kZWZpbmVkKXtjdWx0dXJlPVwiXCI7fWlmKHVpQ3VsdHVyZT09PXVuZGVmaW5lZCl7dWlDdWx0dXJlPVwiXCI7fXRoaXMuY3VsdHVyZT1cIlwiK2N1bHR1cmU7dGhpcy51aUN1bHR1cmU9XCJcIit1aUN1bHR1cmU7fXJldHVybiBDdWx0dXJlU2V0dGluZ3M7fSkoKTtjLmdldEN1bHR1cmVzPWZ1bmN0aW9uKCl7dmFyIGJhPW5ldyBjLkN1bHR1cmVTZXR0aW5ncygpO3YoYmEpO2lmKHR5cGVvZiBjLndlYkNvbnRyb2xTZXR0aW5ncyE9PVwidW5kZWZpbmVkXCIpe2lmKGMud2ViQ29udHJvbFNldHRpbmdzLmhhc093blByb3BlcnR5KFwiY3VsdHVyZVwiKSYmYy53ZWJDb250cm9sU2V0dGluZ3MuaGFzT3duUHJvcGVydHkoXCJ1aUN1bHR1cmVcIikpe2lmKGMud2ViQ29udHJvbFNldHRpbmdzLmN1bHR1cmUpe2JhLmN1bHR1cmU9Yy53ZWJDb250cm9sU2V0dGluZ3MuY3VsdHVyZTt9aWYoYy53ZWJDb250cm9sU2V0dGluZ3MudWlDdWx0dXJlKXtiYS51aUN1bHR1cmU9Yy53ZWJDb250cm9sU2V0dGluZ3MudWlDdWx0dXJlO319fWVsc2V7aWYodHlwZW9mIGMuc2V0dGluZ3MhPT1cInVuZGVmaW5lZFwiKXtpZihjLnNldHRpbmdzLkN1bHR1cmUpe2JhLmN1bHR1cmU9Yy5zZXR0aW5ncy5DdWx0dXJlO31pZihjLnNldHRpbmdzLlVJQ3VsdHVyZSl7YmEudWlDdWx0dXJlPWMuc2V0dGluZ3MuVUlDdWx0dXJlO319fXJldHVybiBiYTt9O2Z1bmN0aW9uIEUoKXt0cnl7aygpO31jYXRjaChiYSl7fX1mdW5jdGlvbiBEKCl7Yy5tb2RpZmllcktleXM9MDt9ZnVuY3Rpb24gaygpe3ZhciBiYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKS5wYXJlbnRFbGVtZW50O3ZhciBiZCxiYztpZihiYS50YWdOYW1lPT09XCJCT0RZXCIpe2JkPXdpbmRvdy5pbm5lcldpZHRoO2JjPXdpbmRvdy5pbm5lckhlaWdodDt9ZWxzZXtiZD1iYS5vZmZzZXRXaWR0aDtiYz1iYS5vZmZzZXRIZWlnaHQ7fWlmKChiZCE9PWMuY2xpZW50U2l6ZS5XaWR0aCl8fChiYyE9PWMuY2xpZW50U2l6ZS5IZWlnaHQpKXt2YXIgYmI9bmV3IEN1c3RvbUV2ZW50KFwidHhDb250YWluZXJSZXNpemVkXCIpO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmIpO319Yy5ibG9ja1VzZXJJbnB1dD1mdW5jdGlvbigpe3ZhciBiYj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VXNlcklucHV0QmxvY2tlclwiKTtpZihiYil7cmV0dXJuO312YXIgYmE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXJcIik7YmI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtiYi5pZD1cInR4VXNlcklucHV0QmxvY2tlclwiO2JiLnN0eWxlLm9wYWNpdHk9MDtiYS5hcHBlbmRDaGlsZChiYik7YmIuc3R5bGUub3BhY2l0eT0xO307Yy5hbGxvd1VzZXJJbnB1dD1mdW5jdGlvbigpe2MucmVtb3ZlTXNnRGl2KCk7dmFyIGJiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhVc2VySW5wdXRCbG9ja2VyXCIpO2lmKCFiYil7cmV0dXJuO312YXIgYmE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXJcIik7cyhiYixiYSwwLDIwMCk7fTtmdW5jdGlvbiB4KCl7dmFyIGJoPWRvY3VtZW50LnN0eWxlU2hlZXRzfHxbXTtmb3IodmFyIGJiPTA7YmI8YmgubGVuZ3RoO2JiKyspe3RyeXt2YXIgYmY9YmhbYmJdLmNzc1J1bGVzfHxiaFtiYl0ucnVsZXN8fFtdO2Zvcih2YXIgYmM9MDtiYzxiZi5sZW5ndGg7YmMrKyl7dmFyIGJlPWJmW2JjXTtzd2l0Y2goYmUuc2VsZWN0b3JUZXh0KXtjYXNlXCIjdHhUZW1wbGF0ZURlc2lnbmVyQ29udGFpbmVyICNyaWJib25iYXJcIjpjLnJpYmJvbkJhckhlaWdodD1jLkRFRkFVTFRfUklCQk9OQkFSX0hFSUdIVD1wYXJzZUludChiZS5zdHlsZS5oZWlnaHQsMTApO2JyZWFrO319fWNhdGNoKGJhKXt9fXZhciBiZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJpYmJvbmJhclwiKTt2YXIgYmc9Z2V0Q29tcHV0ZWRTdHlsZShiZCl8fHt9O2lmKGJnLmRpc3BsYXk9PT1cIm5vbmVcIil7Yy5yaWJib25CYXJIZWlnaHQ9MDtjLmlzUmliYm9uQmFyUmVtb3ZlZD10cnVlO319ZnVuY3Rpb24gcyhiYixiYyxiYSxiZCl7YmIuc3R5bGUudHJhbnNpdGlvbj1cIm9wYWNpdHkgXCIrKGJkLzEwMDApK1wic1wiO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiYi5zdHlsZS5vcGFjaXR5PTA7c2V0VGltZW91dChmdW5jdGlvbigpe2lmKGJiLnN0eWxlLm9wYWNpdHkhPTApe3JldHVybjt9YmMucmVtb3ZlQ2hpbGQoYmIpO2JiLnN0eWxlLnRyYW5zaXRpb249XCJcIjt9LGJkKTt9LGJhKTt9Yy5zaG93TXNnRGl2PWZ1bmN0aW9uKGJkLGJjKXtjLnRleHRWaWV3ZXIuaGlkZUNhcmV0KCk7dmFyIGJhPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhUZW1wbGF0ZURlc2lnbmVyQ29udGFpbmVyXCIpO3ZhciBiYj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4RXJyTXNnRGl2XCIpO2lmKCFiYil7YmI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtiYi5pZD1cInR4RXJyTXNnRGl2XCI7YmIuY2xhc3NMaXN0LmFkZChcInVuc2VsZWN0YWJsZVwiKTtiYi5zdHlsZS56SW5kZXg9XCI5OTk5XCI7YmIuc3R5bGUub3BhY2l0eT0wO2JhLmFwcGVuZENoaWxkKGJiKTt9YmQ9YmQucmVwbGFjZSgvXFxcXHI/XFxcXG4vZyxcIjxicj5cIik7YmIuaW5uZXJIVE1MPWJkO2JiLnN0eWxlLm1hcmdpblRvcD0tKGJiLmNsaWVudEhlaWdodC8yKStcInB4XCI7YmIuc3R5bGUubWFyZ2luTGVmdD0tKGJiLmNsaWVudFdpZHRoLzIpK1wicHhcIjtiYi5zdHlsZS5vcGFjaXR5PTE7aWYoYmMpe3MoYmIsYmEsMTAwMCwxMDAwKTt9fTtjLnJlbW92ZU1zZ0Rpdj1mdW5jdGlvbigpe3ZhciBiYj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4RXJyTXNnRGl2XCIpO2lmKCFiYil7cmV0dXJuO312YXIgYmE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eFRlbXBsYXRlRGVzaWduZXJDb250YWluZXJcIik7cyhiYixiYSwwLDIwMCk7fTtmdW5jdGlvbiBhMSgpe2MuYmxvY2tVc2VySW5wdXQoKTtjLnNob3dNc2dEaXYoYy52YXJpb3VzU3RyaW5nUmVzb3VyY2VzLldFQlNPQ0tFVF9FUlJPUl9NU0cpO31mdW5jdGlvbiBhOSgpe2lmKGMucmVjb25uZWN0SW50ZXJ2YWxJRCl7Y29uc29sZS5sb2coXCJXZWJTb2NrZXQgc3VjY2Vzc2Z1bGx5IHJlY29ubmVjdGVkLiBXYWl0aW5nIGZvciBzeW5jaHJvbml6YXRpb24gc2VydmljZSByZXNwb25zZeKAplwiKTt9YVMoYy5yZWNvbm5lY3RJbnRlcnZhbElEIT09MCk7aWYoIWMucmVjb25uZWN0RmFpbGVkJiYhYy5yZWNvbm5lY3RJbnRlcnZhbElEKXtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5DbGllbnRJbmZvcm1hdGlvbiwwLDAsMCx7ZGV2aWNlUGl4ZWxSYXRpbzp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb30pO3ZhciBiYT1jLmdldEN1bHR1cmVzKCk7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuQ3JlYXRlVGV4dENvbnRyb2wsMCwwLDAsYmEpO2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLklzVG91Y2hEZXZpY2UsYy5pc1RvdWNoRGV2aWNlPzE6MCk7YUEoKTt9fWZ1bmN0aW9uIGE3KGJhKXt9ZnVuY3Rpb24gYTYoYmIpe2Muc29ja2V0PW51bGw7dmFyIGJhPXtjb2RlOmJiLmNvZGUscmVhc29uOmJiLnJlYXNvbix3YXNDbGVhbjpiYi53YXNDbGVhbn07Yy5maXJlRXZlbnQoYy5FdmVudE5hbWUud2ViU29ja2V0Q2xvc2VkLGJhKTtpZihjLm5ldmVyQ29ubmVjdGVkKXthMSgpO3JldHVybjt9Y29uc29sZS5sb2coXCJXZWJTb2NrZXQgY29ubmVjdGlvbiBsb3N0LlwiKTtpZighYy5yZWNvbm5lY3RGYWlsZWQmJiFjLnJlY29ubmVjdEludGVydmFsSUQpe2MuYmxvY2tVc2VySW5wdXQoKTtjLnNob3dNc2dEaXYoYy52YXJpb3VzU3RyaW5nUmVzb3VyY2VzLlJFQ09OTkVDVElORyk7Y29uc29sZS5sb2coXCJTdGFydGluZyByZWNvbm5lY3Rpb24gYXR0ZW1wdHMuXCIpO2MucmVjb25uZWN0U3RhcnRUaW1lPURhdGUubm93KCk7Yy5yZWNvbm5lY3RJbnRlcnZhbElEPXdpbmRvdy5zZXRJbnRlcnZhbChhUCxhTyoxMDAwKTt9fWZ1bmN0aW9uIGFRKGJhKXtjLnJlY29ubmVjdEZhaWxlZD10cnVlO3dpbmRvdy5jbGVhckludGVydmFsKGMucmVjb25uZWN0SW50ZXJ2YWxJRCk7Yy5yZWNvbm5lY3RJbnRlcnZhbElEPTA7Y29uc29sZS5sb2coYmEpO2ExKCk7fWZ1bmN0aW9uIGFQKCl7aWYoKERhdGUubm93KCktYy5yZWNvbm5lY3RTdGFydFRpbWUpPihjLnJlY29ubmVjdFRpbWVvdXQqMTAwMCkpe2FRKFwiQ291bGQgbm90IHJlY29ubmVjdC5cIik7cmV0dXJuO31pZihjLnNvY2tldCl7cmV0dXJuO31jb25zb2xlLmxvZyhcIlRyeWluZyB0byByZWNvbm5lY3QgdG8gV2ViU29ja2V04oCmXCIpO2woKTt9ZnVuY3Rpb24gYXEoKXtjLmFsbG93VXNlcklucHV0KCk7Y29uc29sZS5sb2coXCJTeW5jaHJvbml6YXRpb24gc2VydmljZSBjb25uZWN0aW9uIHJlLWVzdGFibGlzaGVkLlwiKTt3aW5kb3cuY2xlYXJJbnRlcnZhbChjLnJlY29ubmVjdEludGVydmFsSUQpO2MucmVjb25uZWN0SW50ZXJ2YWxJRD0wO31mdW5jdGlvbiBlKGJhKXt2YXIgYmI9XCJDb3VsZCBub3QgcmVjb25uZWN0LlwiO3N3aXRjaChiYSl7Y2FzZSBjLkFib3J0UmVjb25uZWN0UmVhc29uLlVua25vd25Db25uZWN0aW9uSUQ6YmI9XCJDb3VsZCBub3QgcmVjb25uZWN0LiBDb25uZWN0aW9uIElEIGlzIHVua25vd24gdG8gdGhlIHN5bmNocm9uaXphdGlvbiBzZXJ2aWNlLlwiO2JyZWFrO2Nhc2UgYy5BYm9ydFJlY29ubmVjdFJlYXNvbi5PdGhlckNvbm5lY3Rpb25FeGlzdHM6YmI9XCJDb3VsZCBub3QgcmVjb25uZWN0LiBBIGNvbm5lY3Rpb24gd2l0aCB0aGUgc2FtZSBJRCBhbHJlYWR5IGV4aXN0cy5cIjticmVhazt9YVEoYmIpO2Mud2ViU29ja2V0RGlzY29ubmVjdCgpO31mdW5jdGlvbiBhOChiYSl7dmFyIGJjPVwiXCIrYmEuZGF0YTt2YXIgYmI9SlNPTi5wYXJzZShiYyk7YW0oYmIpO31mdW5jdGlvbiB6KGJhKXtyZXR1cm4gYmEuaGFzT3duUHJvcGVydHkoXCJDb21tYW5kSURcIik7fWZ1bmN0aW9uIGFtKGJjKXtpZigheihiYykpe2NvbnNvbGUuZXJyb3IoXCJwcm9jZXNzTWVzc2FnZSgpOiBSZWNlaXZlZCBvYmplY3QgaXMgbm90IGEgdmFsaWQgbWVzc2FnZS5cIik7cmV0dXJuO31zd2l0Y2goYmMuQ29tbWFuZElEKXtjYXNlIGMuQ29tbWFuZC5QcmludFRvUERGOmFwKGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5UZXh0Vmlld0xvY2F0aW9uOmFJKGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5UcmFuc2ZlckNTaGFycFR5cGU6Yy5jcmVhdGVQcml2YXRlT2JqZWN0KGJjLkRhdGEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlN0cmluZ1Jlc291cmNlczphRShiYyk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuSW1hZ2U6YWUoYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlNob3dEaWFsb2c6YUIoYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlRyaWFsU3RyaW5nOmMudHJpYWxTdHJpbmdJbmY9YmMuRGF0YTtqKCk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuSW1hZ2VSZXNvdXJjZXM6Yy5pbWFnZVJlc291cmNlcz1iYy5EYXRhO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkltYWdlUmVnaW9uczphZihiYyk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuU2Nyb2xsOmF0KGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5DYXJldFN0YXRlQ2hhbmdlZDpJKGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5UWFByb3BlcnR5Q2hhbmdlZDphSyhiYyk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuRG9jdW1lbnRTaXplQ2hhbmdlZDpSKGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5SaWJib25Db250cm9sRXZlbnQ6YXIoYmMuRGF0YSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuR2V0RmlsZUxpc3Q6WChiYy5EYXRhKTticmVhaztjYXNlIGMuQ29tbWFuZC5ab29tOmFOKGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5JbnB1dFBvc2l0aW9uQ2hhbmdlZDphZyhiYyk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuT3BlbkZpbGU6YW4oYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkRCU2NoZW1lOk8oYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlRDUFNlcnZlck1lc3NhZ2U6YUYoYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkN1cnNvckNoYW5nZWQ6YXooYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkdldERvY3VtZW50VGFyZ2V0czpTKGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5HZXRJdGVtOmFqKGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5HZXREaWFsb2dSZXNvdXJjZXM6UChiYyk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuU2V0QXBwTW9kZTpheShiYyk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuRmllbGREaXNwbGF5TW9kZUNoYW5nZWQ6VihiYyk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuV2FpdERpYWxvZzphTShiYyk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuSGlnaGxpZ2h0TWVyZ2VGaWVsZHM6YWwoYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkNsb3NlRGlhbG9nOksoYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkNvbnRleHRNZW51RGF0YTpOKGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5Db25zb2xlTG9nOk0oYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkRyYXdTaGFwZTpVKGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5GaWVsZFByb3BlcnRpZXNEaWFsb2c6dmFyIGJhPW5ldyBDdXN0b21FdmVudChcInNob3dGaWVsZFByb3BzRGlhbG9nXCIpO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkh5cGVydGV4dExpbmtDbGlja2VkOmFkKGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5Qb25nOmJhPW5ldyBDdXN0b21FdmVudChcInBvbmdNZXNzYWdlUmVjZWl2ZWRcIik7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiYSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuSXRlbUFjdGl2YXRpb25TdGF0ZUNoYW5nZWRFdmVudDphaShiYyk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuSFRNTERpYWxvZ1N0YXRlOmFjKGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5Eb2N1bWVudERpcnR5Q2hhbmdlZDpjLmRvY3VtZW50RGlydHk9KGJjLlBhcmFtMSE9PTApO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkRvY3VtZW50U2F2ZWQ6UShiYyk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuRW5hYmxlU2F2ZURvY3VtZW50UXVlc3Rpb246Yy5zYXZlRG9jdW1lbnRRdWVzdGlvbkVuYWJsZWQ9KGJjLlBhcmFtMSE9PTApO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkNvbXBvbmVudEFjdGl2YXRpb25TdGF0ZTpMKGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5FZGl0TW9kZTpjLnNldEVkaXRNb2RlKGJjLlBhcmFtMSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuSGlnaGxpZ2h0TWVyZ2VCbG9ja3M6YWsoYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlNlcnZlckV2ZW50OmF4KGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5DbGllbnRTZWxlY3Rpb246YXUoYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkNsaWVudFRleHRQYXJ0OmMucHJvY2Vzc1RleHRQYXJ0RGF0YU1lc3NhZ2UoYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkNsaXBib2FyZE1vZGU6SihiYyk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuVGV4dENvbnRyb2xMb2FkZWQ6Yy5maXJlRXZlbnQoYy5FdmVudE5hbWUudGV4dENvbnRyb2xMb2FkZWQpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkdldEZpbGVEaXJlY3Rvcnk6VyhiYyk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuU3RhdHVzQmFyQ29sb3I6YUQoYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkNsaWVudEdldEZvcm1hdHRpbmdQcmludGVyOlkoYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkNsaWVudEdldEluc3RhbGxlZFByaW50ZXJzOmFoKGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5UZXh0Q29udHJvbENoYW5nZWQ6Yy5maXJlRXZlbnQoYy5FdmVudE5hbWUudGV4dENvbnRyb2xDaGFuZ2VkKTticmVhaztjYXNlIGMuQ29tbWFuZC5EcmF3aW5nQ29udHJvbEluZm86VChiYyk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuQ2xpZW50VGV4dEZpZWxkOmMucHJvY2Vzc1RleHRGaWVsZERhdGFNZXNzYWdlKGJjLkRhdGEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkNsaWVudFN1YlRleHRQYXJ0OmMucHJvY2Vzc1N1YlRleHRQYXJ0RGF0YU1lc3NhZ2UoYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlNlbGVjdGlvbkhUTUxDb250ZW50OmMucHJvY2Vzc1NlbGVjdGlvbkhUTUxDb250ZW50TWVzc2FnZShiYyk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuU3BlbGxDaGVjazpjLnByb2Nlc3NTcGVsbENoZWNrQ29tbWFuZFJlc3BvbnNlKGJjKTticmVhaztjYXNlIGMuQ29tbWFuZC5GcmFtZUV2ZW50OlooYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlJpYmJvblRhYjpjLmFkZFJpYmJvblRhYihiYy5EYXRhKTticmVhaztjYXNlIGMuQ29tbWFuZC5SaWJib25UYWJUcmFuc2ZlckNvbXBsZXRlZDpjLnJpYmJvblRhYlRyYW5zZmVyQ29tcGxldGVkKCk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuUmliYm9uQ29udHJvbFN0YXRlOmMuY2hhbmdlUmliYm9uQ29udHJvbFN0YXRlKGJjLkRhdGEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlJpYmJvbkJ1dHRvblN0YXRlOmMuY2hhbmdlUmliYm9uQnV0dG9uU3RhdGUoYmMuRGF0YSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuUmliYm9uTWVudUl0ZW1TdGF0ZTpjLmNoYW5nZVJpYmJvbk1lbnVJdGVtU3RhdGUoYmMuRGF0YSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuUmliYm9uVGV4dEJveFN0YXRlOmMuY2hhbmdlUmliYm9uVGV4dEJveFN0YXRlKGJjLkRhdGEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlJpYmJvbkNoZWNrQm94U3RhdGU6Yy5jaGFuZ2VSaWJib25DaGVja0JveFN0YXRlKGJjLkRhdGEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlJpYmJvbkNvbWJvQm94U3RhdGU6Yy5jaGFuZ2VSaWJib25Db21ib0JveFN0YXRlKGJjLkRhdGEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlBhcmFncmFwaFN0cnVjdHVyZUxldmVsRW50cnlTdGF0ZTpjLmNoYW5nZVBhcmFncmFwaFN0cnVjdHVyZUxldmVsRW50cnlTdGF0ZShiYy5EYXRhKTticmVhaztjYXNlIGMuQ29tbWFuZC5TaG93RmllbGREaWFsb2c6Yy5zaG93RmllbGREaWFsb2coYmMuRGF0YS5kaWFsb2dDb250ZW50LmZpZWxkLGJjLkRhdGEuZGlhbG9nQ29udGVudC5maWVsZFR5cGUsYmMuRGF0YS50ZXh0RmllbGQpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkxpc3RJdGVtU3RhdGU6Yy5jaGFuZ2VMaXN0SXRlbVN0YXRlKGJjLkRhdGEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkxpc3RCb3hTdGF0ZTpjLmNoYW5nZUxpc3RCb3hTdGF0ZShiYy5EYXRhKTticmVhaztjYXNlIGMuQ29tbWFuZC5TaG93SG9yaXpvbnRhbFJ1bGVyQmFyOmMuc2hvd0hvcml6b250YWxSdWxlcih0cnVlKTticmVhaztjYXNlIGMuQ29tbWFuZC5IaWRlSG9yaXpvbnRhbFJ1bGVyQmFyOmMuc2hvd0hvcml6b250YWxSdWxlcihmYWxzZSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuU2hvd1ZlcnRpY2FsUnVsZXJCYXI6Yy5zaG93VmVydGljYWxSdWxlcih0cnVlKTticmVhaztjYXNlIGMuQ29tbWFuZC5IaWRlVmVydGljYWxSdWxlckJhcjpjLnNob3dWZXJ0aWNhbFJ1bGVyKGZhbHNlKTticmVhaztjYXNlIGMuQ29tbWFuZC5TaG93U3RhdHVzQmFyOmMuc2hvd1N0YXR1c0Jhcih0cnVlKTticmVhaztjYXNlIGMuQ29tbWFuZC5IaWRlU3RhdHVzQmFyOmMuc2hvd1N0YXR1c0JhcihmYWxzZSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuRmFkZUluVmlld2VyczpjLm5ldmVyQ29ubmVjdGVkPWZhbHNlO2MuZmFkZUluVmlld2VycygpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlRyYWNrQ2hhbmdlc0VuYWJsZWRTdGF0ZTpjLmlzVHJhY2tDaGFuZ2VzRW5hYmxlZD0oYmMuUGFyYW0xIT09MCk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuU2V0RG9jdW1lbnRQZXJtaXNzaW9uczpjLnNldERvY3VtZW50UGVybWlzc2lvbihiYyk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuU2hvd1NpZGVCYXI6YUMoYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkZhZGVJblJpYmJvbjpjLmZhZGVJblJpYmJvbigpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlRyYWNrZWRDaGFuZ2VzQ291bnQ6YUooYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlJpYmJvblRhYnNMb2FkZWQ6Yy5yaWJib25UYWJzTG9hZGVkKCk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuQWNjZXNzVGV4dENvbnRyb2xNZW1iZXI6YUcoYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLk92ZXJsYXlDb250cm9sQ29tbWFuZDpjLnByb2Nlc3NPdmVybGF5Q29udHJvbENvbW1hbmQoYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkVuYWJsZVNhdmVNZW51SXRlbTp2YXIgYmI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWxlTW51SXRlbVNhdmVcIik7aWYoYmIpe2lmKGJjLlBhcmFtMT09MCl7YmIuY2xhc3NMaXN0LmFkZChcInR4dWktc3RhdGUtZGlzYWJsZWRcIik7fWVsc2V7YmIuY2xhc3NMaXN0LnJlbW92ZShcInR4dWktc3RhdGUtZGlzYWJsZWRcIik7fX1icmVhaztjYXNlIGMuQ29tbWFuZC5SaWJib25Db21ib0JveENvbW1hbmQ6Yy5wcm9jZXNzUmliYm9uQ29tYm9Cb3hDb21tYW5kKGJjLkRhdGEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlRleHRDb250cm9sRXZlbnQ6YUgoYmMpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlJlY29ubmVjdGlvblN1Y2Nlc3NmdWw6YXEoKTticmVhaztjYXNlIGMuQ29tbWFuZC5BYm9ydFJlY29ubmVjdDplKGJjLlBhcmFtMSk7YnJlYWs7Y2FzZSBjLkNvbW1hbmQuR2V0SW1hZ2VzOmFiKGJjLkRhdGEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLlZlcnNpb25JbmZvOmFMKGJjLkRhdGEpO2JyZWFrO2Nhc2UgYy5Db21tYW5kLkxpY2Vuc2VFcnJvcjpjLndlYlNvY2tldERpc2Nvbm5lY3QoKTtjLmJsb2NrVXNlcklucHV0KCk7Yy5zaG93TXNnRGl2KGJjLkRhdGEpO2JyZWFrO319ZnVuY3Rpb24gYUgoYmIpe3ZhciBiYT1iYi5QYXJhbTI7aWYoYmE9PT1jLkV2ZW50Q2F0ZWdvcnkuVGV4dFZpZXdHZW5lcmF0b3Ipe2MuZmlyZUV2ZW50KGJiLkRhdGEuZXZlbnROYW1lLGJiLkRhdGEuZXZlbnRBcmdzKTt9ZWxzZXtpZihiYT09PWMuRXZlbnRDYXRlZ29yeS5JbnB1dEZvcm1hdCl7Yy50ZXh0Q29udHJvbC5pbnB1dEZvcm1hdC5fLmV2ZW50TWFuYWdlci5maXJlRXZlbnQoYmIuRGF0YS5ldmVudE5hbWUsYmIuRGF0YS5ldmVudEFyZ3MpO319fWZ1bmN0aW9uIGFHKGJkKXtpZighYmQuRGF0YSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzc1RleHRDb250cm9sQ29tbWFuZCgpOiBSZWNlaXZlZCBtZXNzYWdlIGRvZXMgbm90IGNvbnRhaW4gZGF0YS5cIik7fXZhciBiYT1iZC5EYXRhLkNvbnRlbnQ7dmFyIGJjPWJkLkRhdGEuRXhjTXNnO3ZhciBiZT1jLmdldFRleHRDb250cm9sTWVtYmVyQWNjZXNzQ2FsbGJhY2soYmEubWVzc2FnZVVJRCk7dmFyIGJiPXttc2c6YmMsaGFuZGxlZDpmYWxzZX07aWYoYmMpe2lmKGJlLmVycm9yQ2FsbGJhY2spe2JlLmVycm9yQ2FsbGJhY2soYmIpO31pZihiYi5oYW5kbGVkIT10cnVlKXtjLmZpcmVFdmVudChjLkV2ZW50TmFtZS51bmhhbmRsZWRFcnJvcixiYik7fWlmKGJiLmhhbmRsZWQhPXRydWUpe3Rocm93IG5ldyBFcnJvcihiYyk7fX1lbHNle2lmKGJlLmNhbGxiYWNrKXtiZS5jYWxsYmFjayhiYS5yZXN1bHQpO319fWMudHJhY2tlZENoYW5nZXNDb3VudD0wO2Z1bmN0aW9uIGFKKGJhKXtpZihjLnRyYWNrQ2hhbmdlc1NpZGViYXIpe2lmKGMuVFhUZXh0Q29udHJvbFJlc291cmNlcy5JRF9UUkFDS0VEQ0hBTkdFU19DT1VOVCl7Yy50cmFja2VkQ2hhbmdlc0NvdW50PWJhLlBhcmFtMTtjLnRyYWNrQ2hhbmdlc1NpZGViYXIuc3ViVGl0bGU9Yy5UWFRleHRDb250cm9sUmVzb3VyY2VzLklEX1RSQUNLRURDSEFOR0VTX0NPVU5UK2MudHJhY2tlZENoYW5nZXNDb3VudDt9fX1mdW5jdGlvbiBhcihiYSl7aWYoYmEuZXZlbnQpe3N3aXRjaChiYS5ldmVudCl7Y2FzZVwiQ29sbGVjdGlvbkNoYW5nZWRcIjppZihiYS5zZW5kZXIpe3N3aXRjaChiYS5zZW5kZXIudHlwZSl7Y2FzZVwiUmliYm9uTWVudVwiOmMucmliYm9uTWVudV9jb2xsZWN0aW9uQ2hhbmdlZChiYSk7YnJlYWs7Y2FzZVwiUmliYm9uTGlzdFZpZXdcIjpjLnJpYmJvbkxpc3RWaWV3X2NvbGxlY3Rpb25DaGFuZ2VkKGJhKTticmVhazt9fWJyZWFrO319fWZ1bmN0aW9uIGFUKGJhKXtzd2l0Y2goYmEpe2Nhc2UgYy5BY3RpdmF0aW9uU3RhdGUuQWN0aXZhdGVkOmMudGV4dFZpZXdlci5mb2N1cygpO2JyZWFrO2Nhc2UgYy5BY3RpdmF0aW9uU3RhdGUuRGVhY3RpdmF0ZWQ6Yy50ZXh0Vmlld2VyLmJsdXIoKTticmVhazt9fWZ1bmN0aW9uIGFlKGJiKXt2YXIgYmE9bmV3IEN1c3RvbUV2ZW50KFwiaW1hZ2VSZWNlaXZlZFwiLHtkZXRhaWw6YmJ9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJhKTt9ZnVuY3Rpb24gbShiYil7dmFyIGJhPW5ldyBDdXN0b21FdmVudChcInVpRmxhZ3NVcGRhdGVkXCIse2RldGFpbDpiYn0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmEpO31mdW5jdGlvbiBYKGJiKXt2YXIgYmE9bmV3IEN1c3RvbUV2ZW50KFwiZmlsZUxpc3RSZWNlaXZlZFwiLHtkZXRhaWw6YmJ9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJhKTt9ZnVuY3Rpb24gYXAoYmIpe3ZhciBiYT1uZXcgQ3VzdG9tRXZlbnQoXCJwcmludFJlc3VsdFJlY2VpdmVkXCIse2RldGFpbDpiYn0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmEpO31mdW5jdGlvbiBSKGJiKXtzd2l0Y2goYmIuUGFyYW0xKXtjYXNlIGMuQ29tcG9uZW50VHlwZS5UZXh0Vmlldzp2YXIgYmE9bmV3IEN1c3RvbUV2ZW50KFwiZG9jdW1lbnRTaXplQ2hhbmdlZFwiLHtkZXRhaWw6YmIuRGF0YX0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmEpO2JyZWFrO2Nhc2UgYy5Db21wb25lbnRUeXBlLlRyYWNrQ2hhbmdlc1ZpZXc6aWYoYy50cmFja0NoYW5nZXNWaWV3ZXIpe2MudHJhY2tDaGFuZ2VzVmlld2VyLmRvY3VtZW50U2l6ZT17V2lkdGg6YmIuRGF0YS5XaWR0aCxIZWlnaHQ6YmIuRGF0YS5IZWlnaHR9O31icmVhaztkZWZhdWx0OmNvbnNvbGUubG9nKFwicHJvY2Vzc0RvY3VtZW50U2l6ZUNoYW5nZWRNZXNzYWdlOiBVbmtub3duIGNvbXBvbmVudCBpZC5cIik7fX1mdW5jdGlvbiBhTihiYil7dmFyIGJhPW5ldyBDdXN0b21FdmVudChcInR4Wm9vbWVkXCIse2RldGFpbDp7em9vbUZhY3RvcjpiYi5QYXJhbTF9fSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiYSk7fWMuSW5wdXRQb3NpdGlvbkNoYW5nZWRFdmVudEFyZ3M9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYmEoaW5wdXRQb3NpdGlvbil7Zm9yKHZhciBiYiBpbiBpbnB1dFBvc2l0aW9uKXt0aGlzW2JiXT1pbnB1dFBvc2l0aW9uW2JiXTt9fXJldHVybiBiYTt9KSgpO2Z1bmN0aW9uIGFnKGJkKXt2YXIgYmI9YmQuRGF0YTtiYi51aUZsYWdzPWJkLlBhcmFtMTt2YXIgYmM9bmV3IEN1c3RvbUV2ZW50KFwiaW5wdXRQb3NpdGlvbkNoYW5nZWRcIix7ZGV0YWlsOmJifSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiYyk7dmFyIGJhPW5ldyBjLklucHV0UG9zaXRpb25DaGFuZ2VkRXZlbnRBcmdzKGJiLklucHV0UG9zaXRpb24pO2MuZmlyZUV2ZW50KGMuRXZlbnROYW1lLmlucHV0UG9zaXRpb25DaGFuZ2VkLGJhKTttKGJiLnVpRmxhZ3MpO31mdW5jdGlvbiBhbihiYSl7c3dpdGNoKGJhLlBhcmFtMSl7Y2FzZSBjLkZpbGVUeXBlLkRhdGFCYXNlOk8oYmEpO2JyZWFrO319ZnVuY3Rpb24gYWEoYmIpe3ZhciBiYT1uZXcgQ3VzdG9tRXZlbnQoXCJmcmFtZUluZm9SZWNlaXZlZFwiLHtkZXRhaWw6YmJ9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJhKTt9ZnVuY3Rpb24gYUsoYmIpe3ZhciBiYT1uZXcgQ3VzdG9tRXZlbnQoXCJ0eFByb3BlcnR5Q2hhbmdlZFwiLHtkZXRhaWw6YmIuRGF0YX0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmEpO31mdW5jdGlvbiBUZXh0Vmlld0xvY2F0aW9uQ2hhbmdlZEV2ZW50QXJncyh4LHkpe3RoaXMubG9jYXRpb249bmV3IGMuUG9pbnQoeCx5KTt9ZnVuY3Rpb24gYUkoYmMpe3N3aXRjaChiYy5QYXJhbTEpe2Nhc2UgYy5Db21wb25lbnRUeXBlLlRyYWNrQ2hhbmdlc1ZpZXc6aWYoYy50cmFja0NoYW5nZXNWaWV3ZXIpe2MudHJhY2tDaGFuZ2VzVmlld2VyLnRleHRWaWV3TG9jYXRpb249YmMuRGF0YTtjLnR4VHJhY2tDaGFuZ2VzVmVydGljYWxTY3JvbGxiYXIudXBkYXRlU2xpZGVyUG9zaXRpb25zKCk7Yy50eFRyYWNrQ2hhbmdlc0hvcml6b250YWxTY3JvbGxiYXIudXBkYXRlU2xpZGVyUG9zaXRpb25zKCk7fWJyZWFrO2Nhc2UgYy5Db21wb25lbnRUeXBlLlRleHRWaWV3OnZhciBiYj1uZXcgQ3VzdG9tRXZlbnQoXCJ0ZXh0Vmlld0xvY2F0aW9uQ2hhbmdlZFwiLHtkZXRhaWw6YmMuRGF0YX0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmIpO3ZhciBiZD1jLnR3aXBzMnB4KGJjLkRhdGEuWCwxMDAsOTYpO3ZhciBiZT1jLnR3aXBzMnB4KGJjLkRhdGEuWSwxMDAsOTYpO3ZhciBiYT1uZXcgVGV4dFZpZXdMb2NhdGlvbkNoYW5nZWRFdmVudEFyZ3MoYmQsYmUpO2MuZmlyZUV2ZW50KGMuRXZlbnROYW1lLnRleHRWaWV3TG9jYXRpb25DaGFuZ2VkLGJhKTttKGJjLlBhcmFtMik7YnJlYWs7fX1mdW5jdGlvbiBPKGJjKXt2YXIgYmE9YmMuRGF0YXx8e307YmEuc3VwcHJlc3NNZXNzYWdlPShiYy5QYXJhbTM9PT0xKTt2YXIgYmI9bmV3IEN1c3RvbUV2ZW50KFwiZGJTY2hlbWVSZWNlaXZlZFwiLHtkZXRhaWw6YmF9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJiKTt9ZnVuY3Rpb24gYUYoYmEpe3ZhciBiYj1jLnR4RGlhbG9nP2MudHhEaWFsb2cuZ2V0QWN0aXZlVmlld2VyKCk6Yy50ZXh0Vmlld2VyO2MuZG9jdW1lbnRTYXZlZEV2ZW50SGFuZGxlcnM9W107Yy5qUXVlcnlBbGVydChiYS5EYXRhLmNhcHRpb24sYmEuRGF0YS5tZXNzYWdlLGJiKTt9ZnVuY3Rpb24gYXooYmMpe3ZhciBiYT17dGFyZ2V0OmJjLlBhcmFtMSxjdXJzb3JUeXBlOmJjLlBhcmFtMixkaWFsb2dUeXBlOmJjLlBhcmFtM307dmFyIGJiPW5ldyBDdXN0b21FdmVudChcImNvbXBvbmVudEN1cnNvckNoYW5nZWRcIix7ZGV0YWlsOmJhfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiYik7fWZ1bmN0aW9uIFMoYmIpe3ZhciBiYT1uZXcgQ3VzdG9tRXZlbnQoXCJkb2N1bWVudFRhcmdldHNSZWNlaXZlZFwiLHtkZXRhaWw6e3RhcmdldHM6YmIuRGF0YX19KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJhKTt9ZnVuY3Rpb24gYWooYmMpe3ZhciBiYT17aXRlbVR5cGU6YmMuUGFyYW0xLG1vdXNlQ2xpY2s6KGJjLlBhcmFtMiE9PTApLGl0ZW06YmMuRGF0YX07dmFyIGJiPW5ldyBDdXN0b21FdmVudChcInR4SXRlbVJlY2VpdmVkXCIse2RldGFpbDpiYX0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmIpO3N3aXRjaChiYS5pdGVtVHlwZSl7Y2FzZSBjLkl0ZW1UeXBlLkZpZWxkQWRhcHRlcjpjLmN1cnJlbnRGaWVsZERhdGEuZmllbGRBZGFwdGVyPWJhLml0ZW0uZmllbGQ7Yy5jdXJyZW50RmllbGREYXRhLm1lcmdlRmllbGRUeXBlPWJhLml0ZW0uZmllbGRUeXBlO2JiPW5ldyBDdXN0b21FdmVudChcImZpZWxkRGF0YVJlY2VpdmVkXCIse2RldGFpbDpiYS5pdGVtfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiYik7YnJlYWs7fX1mdW5jdGlvbiBQKGJjKXt2YXIgYmE9e2RpYWxvZ1R5cGU6YmMuUGFyYW0xLHJlc291cmNlczpiYy5EYXRhfTt2YXIgYmI9bmV3IEN1c3RvbUV2ZW50KFwiZGlhbG9nUmVzb3VyY2VzUmVjZWl2ZWRcIix7ZGV0YWlsOmJhfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiYik7fWZ1bmN0aW9uIGF5KGJiKXt2YXIgYmE9bmV3IEN1c3RvbUV2ZW50KFwiYXBwTW9kZUNoYW5nZWRcIix7ZGV0YWlsOnthcHBNb2RlOmJiLlBhcmFtMX19KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJhKTt9ZnVuY3Rpb24gYUIoYmEpe3N3aXRjaChiYS5QYXJhbTEpe2Nhc2UgYy5EaWFsb2dDYXRlZ29yeS5IVE1MRGlhbG9nOmFXKGJhKTticmVhaztjYXNlIGMuRGlhbG9nQ2F0ZWdvcnkuVFhEaWFsb2c6aWYoIWMudHhEaWFsb2cpe2MudHhEaWFsb2c9bmV3IGMuVHhEaWFsb2coYmEuRGF0YS5pbml0aWFsSW1hZ2UsYmEuRGF0YS5zaXplLGJhLkRhdGEuY2FwdGlvbixiYS5QYXJhbTIpO2MudHhEaWFsb2cuc2hvd01vZGFsKCk7fWVsc2V7Yy50eERpYWxvZy5zaG93Q2hpbGREaWFsb2coYmEuRGF0YS5pbml0aWFsSW1hZ2UsYmEuRGF0YS5zaXplLGJhLkRhdGEuY2FwdGlvbik7fWJyZWFrO319ZnVuY3Rpb24gYVcoYmIpe3ZhciBiYTtzd2l0Y2goYmIuUGFyYW0yKXtjYXNlIGMuSFRNTERpYWxvZ1R5cGUuSW5wdXRCb3hEaWFsb2c6YVgoYmIuRGF0YSk7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLk1heFByZXZpZXdSb3dzRGlhbG9nOmFZKGJiLkRhdGEpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5DaGlsZERpYWxvZzppZihjLnR4RGlhbG9nKXtjLnR4RGlhbG9nLnNob3dDaGlsZERpYWxvZyhiYi5EYXRhLmluaXRpYWxJbWFnZSxiYi5EYXRhLnNpemUsYmIuRGF0YS5jYXB0aW9uKTt9ZWxzZXtjLmpRdWVyeUFsZXJ0KFwiRXJyb3IgTWVzc2FnZVwiLFwiQ2FuIG5vdCBvcGVuIGNoaWxkIGRpYWxvZyB3aXRob3V0IGhhdmluZyBhbnkgVFhUZXh0Q29udHJvbCBkaWFsb2cgb3Blbi5cIik7fWJyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5FZGl0RGF0YVJlbGF0aW9uc0RpYWxvZzphVShiYi5EYXRhLnJlbGF0aW9ucyxiYi5EYXRhLmRiU2NoZW1lKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuRWRpdE1lcmdlQmxvY2tzRGlhbG9nOmFWKGJiLkRhdGEuYmxvY2tzKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuT3B0aW9uc0RpYWxvZzphWihiYi5EYXRhLm9wdGlvbnMpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5JbnNlcnRNZXJnZUJsb2NrRGlhbG9nOmJhPW5ldyBjLkluc2VydE1lcmdlQmxvY2tEaWFsb2coYmIuRGF0YS5uYW1lLGJiLkRhdGEuZGJTY2hlbWUpO2JhLnNob3dNb2RhbCgpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5TYXZlRG9jdW1lbnRBc0RpYWxvZzphMChiYi5EYXRhLmZpbGVOYW1lLGJiLkRhdGEuc3RyZWFtVHlwZSk7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLlNwZWxsQ2hlY2tEaWFsb2c6YmE9bmV3IGMuU3BlbGxDaGVja0RpYWxvZyhiYi5EYXRhKTtiYS5zaG93TW9kYWwoKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuTG9hZERpY3Rpb25hcnlEaWFsb2c6YmE9bmV3IGMuTG9hZERpY3Rpb25hcnlEaWFsb2coYmIuRGF0YSk7YmEuc2hvd01vZGFsKCk7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLlNldENoYXJ0RGF0YVJlbGF0aW9uRGlhbG9nOmJhPW5ldyBjLlNldENoYXJ0RGF0YVJlbGF0aW9uRGlhbG9nKGJiLkRhdGEpO2JhLnNob3dNb2RhbCgpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5Gb250RGlhbG9nOmJhPW5ldyBjLkZvbnREaWFsb2coYmIuRGF0YS5zdGF0ZSk7YmEuc2hvd01vZGFsKCk7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLlRoZXNhdXJ1c0RpYWxvZzpiYT1uZXcgYy5UaGVzYXVydXNEaWFsb2coYmIuRGF0YSk7YmEuc2hvd01vZGFsKCk7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLkxvYWRUaGVzYXVydXNEaWFsb2c6YmE9bmV3IGMuTG9hZFRoZXNhdXJ1c0RpYWxvZyhiYi5EYXRhKTtiYS5zaG93TW9kYWwoKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuUGVybWlzc2lvbnNBZGRVc2VyRGlhbG9nOmJhPW5ldyBjLlBlcm1pc3Npb25zQWRkVXNlckRpYWxvZyhiYi5EYXRhKTtiYS5zaG93TW9kYWwoKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuQ2Fubm90VHJhY2tDaGFuZ2VEaWFsb2c6YmE9bmV3IGMuTWVzc2FnZUJveERpYWxvZyhiYi5EYXRhLnRpdGxlLGJiLkRhdGEudGV4dCxiYi5EYXRhLmJ1dHRvbnMsYmIuRGF0YS5pY29uKTtiYS5zaG93TW9kYWwoKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuT3BlbkZpbGVEaWFsb2c6Yy5vcGVuRmlsZShiYi5EYXRhLmZpbGVUeXBlKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuSHlwZXJsaW5rRGlhbG9nOmJhPW5ldyBjLkh5cGVybGlua0RpYWxvZygpO2JhLnNob3dNb2RhbCgpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5JbnNlcnREb2N1bWVudEZpbGVEaWFsb2c6YmE9bmV3IGMuT3BlbkZpbGVEaWFsb2coYy5Db21tYW5kLkluc2VydERvY3VtZW50RmlsZSxjLkZpbGVUeXBlLkRvY3VtZW50KTtiYS5zaG93TW9kYWwoKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuTWVyZ2VGaWVsZERpYWxvZzphNS5zaG93TWVyZ2VGaWVsZERpYWxvZyhjLkZpZWxkVHlwZS5NZXJnZUZpZWxkKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuTmV4dElmRmllbGREaWFsb2c6YTUuc2hvd01lcmdlRmllbGREaWFsb2coYy5GaWVsZFR5cGUuTmV4dElmRmllbGQpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5JZkZpZWxkRGlhbG9nOmE1LnNob3dNZXJnZUZpZWxkRGlhbG9nKGMuRmllbGRUeXBlLklmRmllbGQpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5JbmNsdWRlVGV4dEZpZWxkRGlhbG9nOmE1LnNob3dNZXJnZUZpZWxkRGlhbG9nKGMuRmllbGRUeXBlLkluY2x1ZGVUZXh0RmllbGQpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5EYXRlRmllbGREaWFsb2c6YTUuc2hvd01lcmdlRmllbGREaWFsb2coYy5GaWVsZFR5cGUuRGF0ZUZpZWxkKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuRmlsZVNhdmVRdWVzdGlvbkRpYWxvZzpjLmZpbGVTYXZlUXVlc3Rpb24oKTticmVhaztjYXNlIGMuSFRNTERpYWxvZ1R5cGUuTWFuYWdlQ29uZGl0aW9uYWxJbnN0cnVjdGlvbnNEaWFsb2c6YmE9bmV3IGMuTWFuYWdlQ29uZGl0aW9uYWxJbnN0cnVjdGlvbnNEaWFsb2coYmIuRGF0YSk7YmEuc2hvd01vZGFsKCk7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLkluc2VydEJvb2ttYXJrRGlhbG9nOmJhPW5ldyBjLkluc2VydEJvb2ttYXJrRGlhbG9nKGJiLkRhdGEpO2JhLnNob3dNb2RhbCgpO2JyZWFrO2Nhc2UgYy5IVE1MRGlhbG9nVHlwZS5EZWxldGVCb29rbWFya3NEaWFsb2c6YmE9bmV3IGMuRGVsZXRlQm9va21hcmtzRGlhbG9nKGJiLkRhdGEpO2JhLnNob3dNb2RhbCgpO2JyZWFrO319Yy5pbnNlcnRMb2NhbEltYWdlRmlsZT1mdW5jdGlvbigpe3ZhciBiYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7YmEudHlwZT1cImZpbGVcIjtiYS5vbmNoYW5nZT1mdW5jdGlvbihiYil7dmFyIGJjPWJhLmZpbGVzWzBdO2lmKCFiYyl7cmV0dXJuO312YXIgYmQ9bmV3IEZpbGVSZWFkZXIoKTtiZC5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgYmU9Yy5hcnJheUJ1ZmZlclRvQjY0KGJkLnJlc3VsdCk7YTUuaW1hZ2VzLmFkZElubGluZShiZSwtMSk7fTtiZC5yZWFkQXNBcnJheUJ1ZmZlcihiYyk7fTtiYS5jbGljaygpO307ZnVuY3Rpb24gVihiYil7dmFyIGJhPW5ldyBDdXN0b21FdmVudChcImZpZWxkRGlzcGxheU1vZGVDaGFuZ2VkXCIse2RldGFpbDp7ZmllbGREaXNwbGF5TW9kZTpiYi5QYXJhbTF9fSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiYSk7fWZ1bmN0aW9uIGFNKGJjKXt2YXIgYmE9e3Nob3c6KGJjLlBhcmFtMSE9PTApLHJlc291cmNlczpiYy5EYXRhfTt2YXIgYmI9bmV3IEN1c3RvbUV2ZW50KFwid2FpdERpYWxvZ01lc3NhZ2VSZWNlaXZlZFwiLHtkZXRhaWw6YmF9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJiKTt9ZnVuY3Rpb24gYWwoYmIpe3ZhciBiYT1uZXcgQ3VzdG9tRXZlbnQoXCJtZXJnZUZpZWxkSGlnaGxpZ2h0aW5nQ2hhbmdlZFwiLHtkZXRhaWw6e2hpZ2hsaWdodDooYmIuUGFyYW0xIT09MCl9fSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiYSk7fWZ1bmN0aW9uIGFrKGJiKXt2YXIgYmE9bmV3IEN1c3RvbUV2ZW50KFwibWVyZ2VCbG9ja0hpZ2hsaWdodGluZ0NoYW5nZWRcIix7ZGV0YWlsOntoaWdobGlnaHQ6KGJiLlBhcmFtMSE9PTApfX0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmEpO31mdW5jdGlvbiBRKGJjKXt2YXIgYmI9YmMuRGF0YS5tZXNzYWdlO2lmKGJiJiZiYi5sZW5ndGgpe2Muc2hvd01zZ0RpdihiYix0cnVlKTt9Yy5kb2N1bWVudERpcnR5PWZhbHNlO3ZhciBiYT1uZXcgQ3VzdG9tRXZlbnQoXCJkb2N1bWVudFNhdmVkXCIpO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmEpO31mdW5jdGlvbiBMKGJhKXtzd2l0Y2goYmEuUGFyYW0xKXtjYXNlIGMuQ29tcG9uZW50VHlwZS5UZXh0VmlldzphVChiYS5QYXJhbTIpO2JyZWFrO319ZnVuY3Rpb24gSShiYil7c3dpdGNoKGJiLlBhcmFtMSl7Y2FzZSBjLkNvbXBvbmVudFR5cGUuVHhEaWFsb2c6dmFyIGJhPW5ldyBDdXN0b21FdmVudChcImRpYWxvZ0NhcmV0U3RhdGVDaGFuZ2VkXCIse2RldGFpbDpiYn0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmEpO2JyZWFrO2Nhc2UgYy5Db21wb25lbnRUeXBlLlRleHRWaWV3OmJhPW5ldyBDdXN0b21FdmVudChcInRleHRWaWV3Q2FyZXRTdGF0ZUNoYW5nZWRcIix7ZGV0YWlsOmJifSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiYSk7YnJlYWs7fX1mdW5jdGlvbiBLKGJjKXt2YXIgYmE9e2RpYWxvZ1R5cGU6YmMuUGFyYW0xLG5lc3RpbmdEZXB0aDpiYy5QYXJhbTJ9O3ZhciBiYj1uZXcgQ3VzdG9tRXZlbnQoXCJ0eERpYWxvZ0Nsb3NlZFwiLHtkZXRhaWw6YmF9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJiKTt9ZnVuY3Rpb24gYWYoYmIpe3ZhciBiYT1uZXcgQ3VzdG9tRXZlbnQoXCJpbWFnZVJlZ2lvbnNVcGRhdGVkXCIse2RldGFpbDpiYn0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmEpO31mdW5jdGlvbiBhdChiYil7dmFyIGJhPW5ldyBDdXN0b21FdmVudChcInZpZXdDb250ZW50U2Nyb2xsZWRcIix7ZGV0YWlsOmJifSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiYSk7fWZ1bmN0aW9uIE4oYmMpe3ZhciBiYT17bG9jYXRpb246YmMuUGFyYW0xLG1lbnVJdGVtczpiYy5EYXRhfTt2YXIgYmI9bmV3IEN1c3RvbUV2ZW50KFwiY29udGV4dE1lbnVEYXRhUmVjZWl2ZWRcIix7ZGV0YWlsOmJhfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiYik7fWZ1bmN0aW9uIE0oYmEpe3ZhciBiYj1iYS5EYXRhLnRleHQ7dmFyIGJjPWJhLlBhcmFtMTtzd2l0Y2goYmMpe2Nhc2UgYy5Db25zb2xlTG9nVHlwZS5Mb2c6Y29uc29sZS5sb2coYmIpO2JyZWFrO2Nhc2UgYy5Db25zb2xlTG9nVHlwZS5EZWJ1Zzpjb25zb2xlLmRlYnVnKGJiKTticmVhaztjYXNlIGMuQ29uc29sZUxvZ1R5cGUuSW5mbzpjb25zb2xlLmluZm8oYmIpO2JyZWFrO2Nhc2UgYy5Db25zb2xlTG9nVHlwZS5XYXJuOmNvbnNvbGUud2FybihiYik7YnJlYWs7Y2FzZSBjLkNvbnNvbGVMb2dUeXBlLkVycm9yOmNvbnNvbGUuZXJyb3IoYmIpO2JyZWFrO319ZnVuY3Rpb24gVShiYyl7dmFyIGJhPXtDb21wb25lbnRUeXBlOmJjLlBhcmFtMSxLaW5kOmJjLkRhdGEuS2luZCxMb2NhdGlvbjpiYy5EYXRhLkxvY2F0aW9uLFNpemU6YmMuRGF0YS5TaXplfTt2YXIgYmI9bmV3IEN1c3RvbUV2ZW50KFwiZHJhd1NoYXBlTWVzc2FnZVJlY2VpdmVkXCIse2RldGFpbDpiYX0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmIpO31mdW5jdGlvbiBhZChiYil7dmFyIGJhPW5ldyBDdXN0b21FdmVudChcImh5cGVybGlua0NsaWNrZWRcIix7ZGV0YWlsOmJiLkRhdGEuVGFyZ2V0fSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiYSk7fWZ1bmN0aW9uIGFFKGJhKXt2YXIgYmI9YmEuRGF0YTtzd2l0Y2goYmEuUGFyYW0xKXtjYXNlIGEyLlZhcmlvdXM6Yy52YXJpb3VzU3RyaW5nUmVzb3VyY2VzPWJiO2JyZWFrO2Nhc2UgYTIuUmliYm9uU3RyaW5nczpjLnJpYmJvblN0cmluZ1Jlc291cmNlcz1iYjtjLmluaXRSaWJib24oKTticmVhaztjYXNlIGEyLlRYVGV4dENvbnRyb2w6Yy5UWFRleHRDb250cm9sUmVzb3VyY2VzPWJiO2MudHJhY2tDaGFuZ2VzU2lkZWJhci5oZWFkZXI9YmIuSURfVFJBQ0tFRENIQU5HRVNfQ0FQVElPTjticmVhazt9fWZ1bmN0aW9uIGFpKGJkKXt2YXIgYmI9bnVsbDt2YXIgYmM9YmQuUGFyYW0xO3ZhciBiYT1iZC5QYXJhbTI7c3dpdGNoKGJjKXtjYXNlIGMuSXRlbVR5cGUuSGVhZGVyRm9vdGVyOnN3aXRjaChiYSl7Y2FzZSBjLkl0ZW1BY3RpdmF0aW9uU3RhdGUuQWN0aXZhdGVkOmJiPW5ldyBDdXN0b21FdmVudChcImhlYWRlckZvb3RlckFjdGl2YXRlZFwiKTticmVhaztjYXNlIGMuSXRlbUFjdGl2YXRpb25TdGF0ZS5EZWFjdGl2YXRlZDpiYj1uZXcgQ3VzdG9tRXZlbnQoXCJoZWFkZXJGb290ZXJEZWFjdGl2YXRlZFwiKTticmVhazt9YnJlYWs7fWlmKGJiKXtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJiKTt9fWZ1bmN0aW9uIGFjKGJjKXt2YXIgYmE9YmMuUGFyYW0xO3ZhciBiZD1iYy5EYXRhO3N3aXRjaChiYSl7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLlNwZWxsQ2hlY2tEaWFsb2c6dmFyIGJiPW5ldyBDdXN0b21FdmVudChcInNwZWxsQ2hlY2tEaWFsb2dTdGF0ZVVwZGF0ZWRcIix7ZGV0YWlsOmJkfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiYik7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLlRoZXNhdXJ1c0RpYWxvZzpiYj1uZXcgQ3VzdG9tRXZlbnQoXCJ0aGVzYXVydXNEaWFsb2dTdGF0ZVVwZGF0ZWRcIix7ZGV0YWlsOmJkfSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChiYik7YnJlYWs7Y2FzZSBjLkhUTUxEaWFsb2dUeXBlLlBlcm1pc3Npb25zQWRkVXNlckRpYWxvZzpiYj1uZXcgQ3VzdG9tRXZlbnQoXCJwZXJtaXNzaW9uc0FkZFVzZXJEaWFsb2dVcGRhdGVkXCIse2RldGFpbDpiZH0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmIpO2JyZWFrO319ZnVuY3Rpb24gYXgoYmIpe3ZhciBiYT1iYi5QYXJhbTE7c3dpdGNoKGJhKXtjYXNlIGMuU2VydmVyRXZlbnRUeXBlLkRvY3VtZW50TG9hZGVkOnQoYmIuRGF0YS5ldmVudERhdGEpO2JyZWFrO319Yy5Eb2N1bWVudExvYWRlZEV2ZW50QXJncz0oZnVuY3Rpb24oKXtmdW5jdGlvbiBEb2N1bWVudExvYWRlZEV2ZW50QXJncyhmaWxlTmFtZSl7dGhpcy5maWxlTmFtZT1maWxlTmFtZTt9cmV0dXJuIERvY3VtZW50TG9hZGVkRXZlbnRBcmdzO30pKCk7ZnVuY3Rpb24gdChiYil7dmFyIGJjPVwiXCI7aWYoYmIpe2JjPWJiLkZpbGVOYW1lfHxcIlwiO312YXIgYmE9bmV3IGMuRG9jdW1lbnRMb2FkZWRFdmVudEFyZ3MoYmMpO2MuZmlyZUV2ZW50KGMuRXZlbnROYW1lLmRvY3VtZW50TG9hZGVkLGJhKTt9Yy5TYXZlRG9jdW1lbnRSZXN1bHQ9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gU2F2ZURvY3VtZW50UmVzdWx0KGRhdGEsc3RyZWFtVHlwZSxiYSl7dGhpcy5kYXRhPWRhdGE7dGhpcy5zdHJlYW1UeXBlPXN0cmVhbVR5cGV8fDA7dGhpcy5ieXRlc1dyaXR0ZW49YmF8fDA7fXJldHVybiBTYXZlRG9jdW1lbnRSZXN1bHQ7fSkoKTtmdW5jdGlvbiBhdShiYyl7aWYoIWJjLkRhdGEpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3NTZWxlY3Rpb25EYXRhKCk6IFJlY2VpdmVkIG1lc3NhZ2UgZG9lcyBub3QgY29udGFpbiBkYXRhLlwiKTt9dmFyIGJhPWJjLkRhdGEuQ29udGVudDt2YXIgYmI9YmMuRGF0YS5FeGNNc2c7c3dpdGNoKGJhLlNlbGVjdGlvbkNvbW1hbmQpe2Nhc2UgYy5TZWxlY3Rpb25Db21tYW5kLlNhdmU6YXcoYmEsYmIpO2JyZWFrO2Nhc2UgYy5TZWxlY3Rpb25Db21tYW5kLkdldFN0YXJ0QW5kTGVuZ3RoOmF2KGJhLGJiKTticmVhaztkZWZhdWx0OmFvKGJhLGJiKTticmVhazt9fWZ1bmN0aW9uIGF3KGJlLGJkKXt2YXIgYmI9Yy5zZWxlY3Rpb25UYXNrQ2FsbGJhY2tzLnNhdmUuc2hpZnQoKTtpZihiZCl7dGhyb3cgbmV3IEVycm9yKGJkKTt9aWYoIXkoYmUuU3RyZWFtVHlwZSkpe2JlLkRvY0RhdGE9YTUuYXRvYlVURjgoYmUuRG9jRGF0YSk7fWlmKGJiKXt2YXIgYmE9bmV3IGMuU2F2ZURvY3VtZW50UmVzdWx0KGJlLkRvY0RhdGEsYmUuU3RyZWFtVHlwZSk7dHJ5e2JiKGJhKTt9Y2F0Y2goYmMpe319fWZ1bmN0aW9uIGF2KGJkLGJjKXt2YXIgYmE9Yy5zZWxlY3Rpb25UYXNrQ2FsbGJhY2tzLmdldEJvdW5kcy5zaGlmdCgpO2lmKGJjKXt0aHJvdyBuZXcgRXJyb3IoYmMpO31pZihiYSl7dHJ5e2JhKHtzdGFydDpiZC5TdGFydCxsZW5ndGg6YmQuTGVuZ3RofSk7fWNhdGNoKGJiKXt9fX1mdW5jdGlvbiBhbyhiYixiYSl7aWYoYmEpe3Rocm93IG5ldyBFcnJvcihiYSk7fX1mdW5jdGlvbiBKKGJhKXtpZihjLmlzVG91Y2hEZXZpY2Upe3JldHVybjt9Yy5zZXRDbGlwYm9hcmRNb2RlKGJhLlBhcmFtMSk7fWZ1bmN0aW9uIFcoYmUpe3ZhciBiYTt2YXIgYmQ9YmUuRGF0YS5maWxlVHlwZTt2YXIgYmI9YmUuRGF0YS5kaXI7c3dpdGNoKGJkKXtjYXNlIGMuRmlsZVR5cGUuRG9jdW1lbnQ6YmE9Yy5jb250cm9sVGFza0NhbGxiYWNrcy5nZXRGaWxlRGlyLmRvY3VtZW50LnNoaWZ0KCk7YnJlYWs7Y2FzZSBjLkZpbGVUeXBlLkltYWdlOmJhPWMuY29udHJvbFRhc2tDYWxsYmFja3MuZ2V0RmlsZURpci5pbWFnZS5zaGlmdCgpO2JyZWFrO2Nhc2UgYy5GaWxlVHlwZS5EYXRhQmFzZTpiYT1jLmNvbnRyb2xUYXNrQ2FsbGJhY2tzLmdldEZpbGVEaXIuZGIuc2hpZnQoKTticmVhazt9aWYoYmEpe3RyeXtiYShiYik7fWNhdGNoKGJjKXt9fX1mdW5jdGlvbiBhRChiYyl7dmFyIGJhPWMuY29udHJvbFRhc2tDYWxsYmFja3MuZ2V0U3RhdHVzQmFyQ29sb3Iuc2hpZnQoKTtpZihiYSl7dHJ5e2JhKGJjLkRhdGEuY3NzQ29sb3IpO31jYXRjaChiYil7fX19ZnVuY3Rpb24gWShiYyl7dmFyIGJhPWMuY29udHJvbFRhc2tDYWxsYmFja3MuZ2V0Rm9ybWF0dGluZ1ByaW50ZXIuc2hpZnQoKTtpZihiYSl7dHJ5e2JhKGJjLkRhdGEucHJpbnRlck5hbWUpO31jYXRjaChiYil7fX19ZnVuY3Rpb24gYWgoYmMpe3ZhciBiYT1jLmNvbnRyb2xUYXNrQ2FsbGJhY2tzLmdldEluc3RhbGxlZFByaW50ZXJzLnNoaWZ0KCk7aWYoYmEpe3RyeXtiYShiYy5EYXRhLnByaW50ZXJOYW1lcyk7fWNhdGNoKGJiKXt9fX1mdW5jdGlvbiBUKGJiKXt2YXIgYmE9bmV3IEN1c3RvbUV2ZW50KFwiZHJhd2luZ0NvbnRyb2xJbmZvUmVjZWl2ZWRcIix7ZGV0YWlsOmJiLkRhdGF9KTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGJhKTt9ZnVuY3Rpb24gWihiZCl7dmFyIGJjPWJkLlBhcmFtMTt2YXIgYmI9bnVsbDtzd2l0Y2goYmMpe2Nhc2UgYy5GcmFtZUV2ZW50VHlwZS5TaXplZDpiYj1cImZyYW1lU2l6ZWRcIjticmVhaztjYXNlIGMuRnJhbWVFdmVudFR5cGUuTW92ZWQ6YmI9XCJmcmFtZU1vdmVkXCI7YnJlYWs7fWlmKGJiKXt2YXIgYmE9bmV3IEN1c3RvbUV2ZW50KGJiLHtkZXRhaWw6YmQuRGF0YX0pO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQoYmEpO319ZnVuY3Rpb24gYUMoYmEpe3ZhciBiYj1iYS5QYXJhbTE7dmFyIGJjPShiYS5QYXJhbTIhPT0wKTtzd2l0Y2goYmIpe2Nhc2UgYy5TaWRlQmFyVHlwZS5UcmFja0NoYW5nZXM6aWYoYy50cmFja0NoYW5nZXNTaWRlYmFyKXtpZihiYyl7Yy50cmFja0NoYW5nZXNTaWRlYmFyLnNob3coKTtjLmFycmFuZ2VDb250cm9scygpO31lbHNle2MudHJhY2tDaGFuZ2VzU2lkZWJhci5oaWRlKCk7fX1icmVhazt9fWMuY3JlYXRlUHJpdmF0ZU9iamVjdD1mdW5jdGlvbihiYil7Y1tiYi5OYW1lXT1jW2JiLk5hbWVdfHx7fTtmb3IodmFyIGJhIGluIGJiLkRlc2NyaXB0aW9uKXtjW2JiLk5hbWVdW2JhXT1iYi5EZXNjcmlwdGlvbltiYV07fX07ZnVuY3Rpb24gYTMoKXt2YXIgYmE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYy50cmlhbFN0cmluZ0luZi5pZCk7aWYoIWJhKXtqKCk7fWVsc2V7aWYoIWJhLnN0eWxlLmRpc3BsYXl8fChiYS5zdHlsZS5kaXNwbGF5IT09ZC5kaXNwbGF5KSl7YmEuc3R5bGUuZGlzcGxheT1kLmRpc3BsYXk7fWlmKCFiYS5zdHlsZS5wb3NpdGlvbnx8KGJhLnN0eWxlLnBvc2l0aW9uIT09ZC5wb3NpdGlvbikpe2JhLnN0eWxlLnBvc2l0aW9uPWQucG9zaXRpb247fWlmKGJhLnN0eWxlLnpJbmRleCl7YmEuc3R5bGUuekluZGV4PVwiXCI7fWlmKCFiYS5zdHlsZS5sZWZ0fHwoYmEuc3R5bGUubGVmdCE9PWQubGVmdCkpe2JhLnN0eWxlLmxlZnQ9ZC5sZWZ0O31pZighYmEuc3R5bGUudG9wfHwoYmEuc3R5bGUudG9wIT09KGQudG9wK1wicHhcIikpKXtiYS5zdHlsZS50b3A9ZC50b3ArXCJweFwiO31pZighYmEuc3R5bGUubWFyZ2luTGVmdHx8KGJhLnN0eWxlLm1hcmdpbkxlZnQhPT0oZC5tYXJnaW5MZWZ0K1wicHhcIikpKXtiYS5zdHlsZS5tYXJnaW5MZWZ0PWQubWFyZ2luTGVmdCtcInB4XCI7fWlmKCFiYS5zdHlsZS53aWR0aHx8KGJhLnN0eWxlLndpZHRoIT09KGQud2lkdGgrXCJweFwiKSkpe2JhLnN0eWxlLndpZHRoPWQud2lkdGgrXCJweFwiO31pZighYmEuc3R5bGUub3ZlcmZsb3d8fChiYS5zdHlsZS5vdmVyZmxvdyE9PWQub3ZlcmZsb3cpKXtiYS5zdHlsZS5vdmVyZmxvdz1kLm92ZXJmbG93O31pZighYmEuc3R5bGUub3BhY2l0eXx8KGJhLnN0eWxlLm9wYWNpdHkhPWQub3BhY2l0eSkpe2JhLnN0eWxlLm9wYWNpdHk9ZC5vcGFjaXR5O31pZighYmEuc3R5bGUuZm9udFNpemV8fChiYS5zdHlsZS5mb250U2l6ZSE9PShkLmZvbnRTaXplK1wicHRcIikpKXtiYS5zdHlsZS5mb250U2l6ZT1kLmZvbnRTaXplK1wicHRcIjt9aWYoIWJhLnN0eWxlLmNvbG9yfHwoYmEuc3R5bGUuY29sb3IucmVwbGFjZSgvIC9nLFwiXCIpIT09ZC5jb2xvcikpe2JhLnN0eWxlLmNvbG9yPWQuY29sb3I7fWlmKGJhLmlubmVySFRNTCE9PWQuaW5uZXJIVE1MKXtiYS5pbm5lckhUTUw9ZC5pbm5lckhUTUw7fWlmKGJhLnN0eWxlLnRyYW5zZm9ybSl7YmEuc3R5bGUudHJhbnNmb3JtPVwiXCI7fWlmKGJhLnN0eWxlLnpJbmRleCE9PWQuekluZGV4KXtiYS5zdHlsZS56SW5kZXg9ZC56SW5kZXg7fX19Yy5nZW5lcmF0ZVJhbmRvbUlEPWZ1bmN0aW9uKGJiKXtpZihiYjwxKXt0aHJvdyBuZXcgRXJyb3IoXCJJRCBtdXN0IGF0IGxlYXN0IGJlIG9uZSBjaGFyYWN0ZXIgbG9uZy5cIik7fXZhciBiZT1cIlwiO3ZhciBiZD1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIjt2YXIgYmM9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OV9cIjtmb3IodmFyIGJhPTA7YmE8YmI7KytiYSl7aWYoYmE9PTApe2JlKz1iZC5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmJkLmxlbmd0aCkpO31lbHNle2JlKz1iYy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmJjLmxlbmd0aCkpO319cmV0dXJuIGJlO307ZnVuY3Rpb24gdyhiYSl7dmFyIGJiPWJhLmNoaWxkcmVuLmxlbmd0aDtpZighYmIpe3JldHVybiBudWxsO31yZXR1cm4gYmEuY2hpbGRyZW5bTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmJiKV07fXZhciBkPXtwb3NpdGlvbjpcImFic29sdXRlXCIsZGlzcGxheTpcImJsb2NrXCIsbGVmdDpcIjUwJVwiLHRvcDowLG1hcmdpbkxlZnQ6MCxvdmVyZmxvdzpcInZpc2libGVcIixvcGFjaXR5OjAuMyx3aWR0aDowLHpJbmRleDoxLGZvbnRTaXplOjE2LGNvbG9yOlwicmdiKDAsMCwwKVwiLGlubmVySFRNTDpcIlwifTtmdW5jdGlvbiBqKCl7dmFyIGJhPWMudHJpYWxTdHJpbmdJbmYuY29sb3I7dmFyIGJmPShiYS5BLzI1NSkudG9GaXhlZCgyKTtkLm9wYWNpdHk9YmY7dmFyIGJiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YmIudGV4dENvbnRlbnQ9Yy50cmlhbFN0cmluZ0luZi50ZXh0O2JiLnN0eWxlLnBvc2l0aW9uPWQucG9zaXRpb247aWYoIWMudHJpYWxTdHJpbmdXRElkKXtiYi5zdHlsZS5vcGFjaXR5PTA7fWVsc2V7YmIuc3R5bGUub3BhY2l0eT1iZjt9ZC5jb2xvcj1cInJnYihcIitiYS5SK1wiLFwiK2JhLkcrXCIsXCIrYmEuQitcIilcIjtiYi5zdHlsZS5jb2xvcj1kLmNvbG9yO2JiLnN0eWxlLmZvbnRGYW1pbHk9Yy50cmlhbFN0cmluZ0luZi5mb250RmFtaWx5O2QuZm9udFNpemU9Yy50cmlhbFN0cmluZ0luZi5mb250U2l6ZTtiYi5zdHlsZS5mb250U2l6ZT1jLnRyaWFsU3RyaW5nSW5mLmZvbnRTaXplK1wicHRcIjtiYi5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiO2JiLnN0eWxlLnpJbmRleD1kLnpJbmRleDtiYi5zdHlsZS50ZXh0QWxpZ249XCJjZW50ZXJcIjtiYi5zdHlsZS5kaXNwbGF5PWQuZGlzcGxheTtpZighYy50cmlhbFN0cmluZ1dESWQpe2JiLnN0eWxlLnRyYW5zaXRpb249XCJvcGFjaXR5IDJzXCI7fWJiLmNsYXNzTGlzdC5hZGQoXCJ1bnNlbGVjdGFibGVcIik7ZC5pbm5lckhUTUw9YmIuaW5uZXJIVE1MO2JiLmlkPWMuZ2VuZXJhdGVSYW5kb21JRCgxMCk7Yy50cmlhbFN0cmluZ0luZi5pZD1iYi5pZDt2YXIgYmU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluQ2FudmFzXCIpO3ZhciBiZz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKTt0cnl7dmFyIGJkPXcoYmcpO2JnLmluc2VydEJlZm9yZShiYixiZCk7fWNhdGNoKGJjKXtpZihiYyBpbnN0YW5jZW9mIFR5cGVFcnJvciYmYy50cmlhbFN0cmluZ1dESWQpe2NsZWFySW50ZXJ2YWwoYy50cmlhbFN0cmluZ1dESWQpO3JldHVybjt9fWQudG9wPWJlLm9mZnNldFRvcCtjLnRyaWFsU3RyaW5nSW5mLnlQb3M7YmIuc3R5bGUudG9wPWQudG9wK1wicHhcIjtkLndpZHRoPWJiLmNsaWVudFdpZHRoKzEwO2JiLnN0eWxlLndpZHRoPWQud2lkdGgrXCJweFwiO2QubWFyZ2luTGVmdD0tKGJiLmNsaWVudFdpZHRoLzIpO2JiLnN0eWxlLm1hcmdpbkxlZnQ9ZC5tYXJnaW5MZWZ0K1wicHhcIjtiYi5zdHlsZS5sZWZ0PWQubGVmdDtpZighYy50cmlhbFN0cmluZ1dESWQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiYi5zdHlsZS5vcGFjaXR5PWJmO30sMjAwMCk7fWlmKCFjLnRyaWFsU3RyaW5nV0RJZCl7Yy50cmlhbFN0cmluZ1dESWQ9c2V0SW50ZXJ2YWwoYTMsMjAwMCk7fX1jLmdldENhY2hlZEltYWdlRGF0YVVSTD1mdW5jdGlvbihiZSl7aWYoIWMuVFhJbWFnZUNhY2hlKXt2YXIgYmQ9bG9jYWxTdG9yYWdlLmdldEl0ZW0oYy5Mb2NhbEltYWdlU3RvcmFnZUtleSk7aWYoIWJkKXtyZXR1cm4gbnVsbDt9dHJ5e2MuVFhJbWFnZUNhY2hlPUpTT04ucGFyc2UoYmQpO31jYXRjaChiYyl7Y29uc29sZS5lcnJvcihcIkNvdWxkIG5vdCBkZXNlcmlhbGl6ZSBUWCBEb2N1bWVudCBFZGl0b3IgaW1hZ2UgY2FjaGU6IFwiK2JjLm1lc3NhZ2UpO319aWYoIWMuVFhJbWFnZUNhY2hlKXtyZXR1cm4gbnVsbDt9dmFyIGJiPWMuVFhJbWFnZUNhY2hlW2JlLkltYWdlTmFtZV07aWYoIWJiKXtyZXR1cm4gbnVsbDt9YmI9YmJbYmUuSW1hZ2VLaW5kXTtpZighYmIpe3JldHVybiBudWxsO312YXIgYmE9YmUuQ3VsdHVyZT9iZS5DdWx0dXJlLnJlcGxhY2UoXCItXCIsXCJfXCIpOlwiaW52YXJpYW50XCI7YmI9YmJbYmFdO2lmKCFiYil7cmV0dXJuIG51bGw7fXJldHVybiBiYi5kYXRhVVJMO307Yy5yZXF1ZXN0UmVxdWlyZWRJbWFnZXM9ZnVuY3Rpb24oKXtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5HZXRJbWFnZXNBc3luYywwLDAsMCxjLnJlcXVpcmVkSW1hZ2VzKTtjLnJlcXVpcmVkSW1hZ2VzPVtdO307ZnVuY3Rpb24gYWIoYmMpe2lmKChiYz09PVwiXCIpfHwodHlwZW9mIGJjPT09XCJ1bmRlZmluZWRcIil8fChiYz09PW51bGwpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiTWlzc2luZyBpbWFnZSBkYXRhLlwiKTt9aWYoYmMubGVuZ3RoPT09MCl7cmV0dXJuO312YXIgYmI9bG9jYWxTdG9yYWdlLmdldEl0ZW0oYy5Mb2NhbEltYWdlU3RvcmFnZUtleSk7aWYoYmIpe3RyeXtjLlRYSW1hZ2VDYWNoZT1KU09OLnBhcnNlKGJiKTt9Y2F0Y2goYmEpe2NvbnNvbGUuZXJyb3IoXCJDb3VsZCBub3QgZGVzZXJpYWxpemUgVFggRG9jdW1lbnQgRWRpdG9yIGltYWdlIGNhY2hlOiBcIitiYS5tZXNzYWdlKTt9bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYy5Mb2NhbEltYWdlU3RvcmFnZUtleSk7fWMuVFhJbWFnZUNhY2hlPWMuVFhJbWFnZUNhY2hlfHx7fTtiYy5mb3JFYWNoKGJlKTt0cnl7bG9jYWxTdG9yYWdlLnNldEl0ZW0oYy5Mb2NhbEltYWdlU3RvcmFnZUtleSxKU09OLnN0cmluZ2lmeShjLlRYSW1hZ2VDYWNoZSkpO31jYXRjaChiYSl7Y29uc29sZS5lcnIoXCJDb3VsZCBub3Qgc3RvcmUgdGhlIFRYIERvY3VtZW50IEVkaXRvciBpbWFnZSBjYWNoZSBpbiB0aGUgbG9jYWwgc3RvcmFnZTogXCIrYmEubWVzc2FnZSk7fXZhciBiZD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3R4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lciBpbWdbZGF0YS10eC1pbWFnZS1pbmZvXVwiKTtbXS5mb3JFYWNoLmNhbGwoYmQsZnVuY3Rpb24oYmcpe3ZhciBiZj1KU09OLnBhcnNlKGJnLmRhdGFzZXQudHhJbWFnZUluZm8pO3ZhciBiaD1jLmdldENhY2hlZEltYWdlRGF0YVVSTChiZik7aWYoYmg9PT1udWxsKXtyZXR1cm47fWJnLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtdHgtaW1hZ2UtaW5mb1wiKTtiZy5zcmM9Ymg7fSk7ZnVuY3Rpb24gYmUoYmgpe3ZhciBiZz1jLlRYSW1hZ2VDYWNoZVtiaC5pbWFnZU5hbWVdfHx7fTt2YXIgYmo9YmdbYmguaW1hZ2VLaW5kXXx8e307dmFyIGJmPWJoLmN1bHR1cmU/YmguY3VsdHVyZS5yZXBsYWNlKFwiLVwiLFwiX1wiKTpcImludmFyaWFudFwiO3ZhciBiaT1ialtiZl18fHt9O2JpLmRhdGFVUkw9YmguZGF0YVVSTDtialtiZl09Ymk7YmdbYmguaW1hZ2VLaW5kXT1iajtjLlRYSW1hZ2VDYWNoZVtiaC5pbWFnZU5hbWVdPWJnO319ZnVuY3Rpb24gYUwoYmQpe2E1LnZlcnNpb249YmQuTWFqb3IrXCIuXCIrYmQuTWlub3I7YTUudmVyc2lvbkluZm89e21ham9yOmJkLk1ham9yLG1pbm9yOmJkLk1pbm9yLHNlcnZpY2VQYWNrOmJkLlNlcnZpY2VQYWNrfTt2YXIgYmI9Yy5Mb2NhbEltYWdlU3RvcmFnZVByZWZpeCtcIl9cIitiZC5NYWpvcitcIl9cIitiZC5NaW5vcitcIl9cIitiZC5TZXJ2aWNlUGFjaztjLkxvY2FsSW1hZ2VTdG9yYWdlS2V5PWJiO3ZhciBiYz1bXTtmb3IodmFyIGJhPTA7YmE8bG9jYWxTdG9yYWdlLmxlbmd0aDsrK2JhKXtiYy5wdXNoKGxvY2FsU3RvcmFnZS5rZXkoYmEpKTt9YmMuZm9yRWFjaChmdW5jdGlvbihiZSl7aWYoYmUuc3RhcnRzV2l0aChjLkxvY2FsSW1hZ2VTdG9yYWdlUHJlZml4KSYmKGJlIT09YmIpKXtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShiZSk7fX0pO31jLmZpbGVTYXZlUXVlc3Rpb249ZnVuY3Rpb24oYmMpe2JjPWJjfHxmdW5jdGlvbigpe307aWYoIWMuc2F2ZURvY3VtZW50UXVlc3Rpb25FbmFibGVkKXtiYygpO3JldHVybjt9dmFyIGJnPWMudHhEaWFsb2c/Yy50eERpYWxvZy5nZXRBY3RpdmVWaWV3ZXIoKTpjLnRleHRWaWV3ZXI7dmFyIGJiPWMudmFyaW91c1N0cmluZ1Jlc291cmNlcy5TQVZFX1FVRVNUSU9OX0RJQUxPR19DQVBUSU9OO3ZhciBiZj1jLnZhcmlvdXNTdHJpbmdSZXNvdXJjZXMuU0FWRV9RVUVTVElPTl9ESUFMT0dfVEVYVDt2YXIgYmg9Yy52YXJpb3VzU3RyaW5nUmVzb3VyY2VzLkJUTl9ZRVM7dmFyIGJkPWMudmFyaW91c1N0cmluZ1Jlc291cmNlcy5CVE5fTk87dmFyIGJhPWMudmFyaW91c1N0cmluZ1Jlc291cmNlcy5CVE5fQ0FOQ0VMO2MuZG9jdW1lbnRTYXZlZEV2ZW50SGFuZGxlcnM9W107dmFyIGJlPWZ1bmN0aW9uKCl7Yy5kb2N1bWVudFNhdmVkRXZlbnRIYW5kbGVycy5wdXNoKGJjKTtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5TYXZlKTt9O2EoXFwnPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMTBwdDsgbWluLXdpZHRoOiAyNTBweFwiPlxcJytiZitcIjwvZGl2PlwiKS5kaWFsb2coe21vZGFsOnRydWUscmVzaXphYmxlOmZhbHNlLHRpdGxlOmJiLHdpZHRoOlwiYXV0b1wiLGhlaWdodDoxMzAsYnV0dG9uczp7WWVzOnt0ZXh0OmJoLGNsaWNrOmZ1bmN0aW9uKCl7YSh0aGlzKS5kaWFsb2coXCJkZXN0cm95XCIpLnJlbW92ZSgpO2JlKCk7aWYoYmcmJiFjLmlzVG91Y2hEZXZpY2Upe2JnLmZvY3VzKCk7fX19LE5vOnt0ZXh0OmJkLGNsaWNrOmZ1bmN0aW9uKCl7YSh0aGlzKS5kaWFsb2coXCJkZXN0cm95XCIpLnJlbW92ZSgpO2JjKCk7aWYoYmcmJiFjLmlzVG91Y2hEZXZpY2Upe2JnLmZvY3VzKCk7fX19LENhbmNlbDp7dGV4dDpiYSxjbGljazpmdW5jdGlvbigpe2EodGhpcykuZGlhbG9nKFwiZGVzdHJveVwiKS5yZW1vdmUoKTtpZihiZyYmIWMuaXNUb3VjaERldmljZSl7YmcuZm9jdXMoKTt9fX19LGNsb3NlOmZ1bmN0aW9uKCl7YSh0aGlzKS5kaWFsb2coXCJkZXN0cm95XCIpLnJlbW92ZSgpO2lmKGJnJiYhYy5pc1RvdWNoRGV2aWNlKXtiZy5mb2N1cygpO319fSk7fTtmdW5jdGlvbiBhWChiYSl7dmFyIGJiPW5ldyBjLklucHV0Qm94RGlhbG9nKGJhLnRpdGxlLGJhLnRleHQsYmEubGFiZWwsYmEuaXNQYXNzd29yZEJveCk7YmIuc2hvd01vZGFsKCk7fWZ1bmN0aW9uIGFZKGJhKXt2YXIgYmI9bmV3IGMuTWF4UHJldmlld1Jvd3NEaWFsb2coYmEudmFsdWUpO2JiLnNob3dNb2RhbCgpO31mdW5jdGlvbiBhVShiYyxiYSl7dmFyIGJiPW5ldyBjLkVkaXREYXRhUmVsYXRpb25zRGlhbG9nKGJjLGJhKTtiYi5zaG93TW9kYWwoKTt9ZnVuY3Rpb24gYVYoYmEpe3ZhciBiYj1uZXcgYy5FZGl0TWVyZ2VCbG9ja3NEaWFsb2coYmEpO2JiLnNob3dNb2RhbCgpO31mdW5jdGlvbiBhWihiYil7dmFyIGJhPW5ldyBjLk9wdGlvbnNEaWFsb2coYmIpO2JhLnNob3dNb2RhbCgpO31mdW5jdGlvbiBhMChiYixiYyl7dmFyIGJhPW5ldyBjLlNhdmVEb2N1bWVudEFzRGlhbG9nKGJiLGJjKTtiYS5zaG93TW9kYWwoKTt9ZnVuY3Rpb24gdShiYSl7aWYoYy5pc1RvdWNoRGV2aWNlKXtyZXR1cm47fWlmKGMub3ZlcmxheUNvbnRyb2xzLmV4aXN0KCkpe3JldHVybjt9dmFyIGJiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHhUZW1wbGF0ZURlc2lnbmVyQ29udGFpbmVyXCIpO2lmKChiYT09YmIpfHwoYmIuY29udGFpbnMoYmEpKSl7aWYoKGJhLnRhZ05hbWUhPT1cIlNFTEVDVFwiKSYmKGJhLnRhZ05hbWUhPT1cIklOUFVUXCIpKXtjLnRleHRWaWV3ZXIuZm9jdXMoKTt9fX1mdW5jdGlvbiBCKGJhKXt2YXIgYmI9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInNjcm9sbGJhci13cmFwcGVyXCIpO2Zvcih2YXIgYmM9MDtiYzxiYi5sZW5ndGg7KytiYyl7aWYoYmJbYmNdLmNvbnRhaW5zKGJhKSl7dShiYSk7YnJlYWs7fX19ZnVuY3Rpb24gbyhiYil7dHJ5e0IoYmIudGFyZ2V0KTtiLkxlZnQ9KGJiLndoaWNoPT0xKTtiLk1pZGRsZT0oYmIud2hpY2g9PTIpO2IuUmlnaHQ9KGJiLndoaWNoPT0zKTt9Y2F0Y2goYmEpe319ZnVuY3Rpb24gcChiYil7dHJ5e2lmKGMubW91c2VPd25lcil7dmFyIGJjPWMubW91c2VPd25lcjtjLm1vdXNlT3duZXI9bnVsbDtiYy5jYW52YXNfTW91c2VNb3ZlKGJiKTtjLm1vdXNlT3duZXI9YmM7fX1jYXRjaChiYSl7fX1mdW5jdGlvbiBxKGJiKXt0cnl7aWYoYmIud2hpY2g9PTEpe2IuTGVmdD1mYWxzZTt9aWYoYmIud2hpY2g9PTIpe2IuTWlkZGxlPWZhbHNlO31pZihiYi53aGljaD09Myl7Yi5SaWdodD1mYWxzZTt9aWYoYy5tb3VzZU93bmVyKXt2YXIgYmM9Yy5tb3VzZU93bmVyO2MubW91c2VPd25lcj1udWxsO2JjLmNhbnZhc19Nb3VzZVVwKGJiKTtjLm1vdXNlT3duZXI9YmM7fWlmKCFiLkxlZnQmJiFiLk1pZGRsZSYmIWIuUmlnaHQpe2MubW91c2VPd25lcj1udWxsO319Y2F0Y2goYmEpe319ZnVuY3Rpb24gbihiYil7dHJ5e3UoYmIudGFyZ2V0KTt9Y2F0Y2goYmEpe319ZnVuY3Rpb24gRygpe31mdW5jdGlvbiB5KGJhKXtzd2l0Y2goYmEpe2Nhc2UgYy5UWFN0cmVhbVR5cGUuSW50ZXJuYWxGb3JtYXQ6Y2FzZSBjLlRYU3RyZWFtVHlwZS5JbnRlcm5hbFVuaWNvZGVGb3JtYXQ6Y2FzZSBjLlRYU3RyZWFtVHlwZS5NU1dvcmQ6Y2FzZSBjLlRYU3RyZWFtVHlwZS5BZG9iZVBERjpjYXNlIGMuVFhTdHJlYW1UeXBlLldvcmRwcm9jZXNzaW5nTUw6Y2FzZSBjLlRYU3RyZWFtVHlwZS5BZG9iZVBERkE6Y2FzZSBjLlRYU3RyZWFtVHlwZS5TcHJlYWRzaGVldE1MOnJldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fWMuaXNCaW5hcnlTdHJlYW1UeXBlPXk7ZnVuY3Rpb24gcigpe2Zvcih2YXIgYmI9MDtiYjxjLmRvY3VtZW50U2F2ZWRFdmVudEhhbmRsZXJzLmxlbmd0aDsrK2JiKXt2YXIgYmE9Yy5kb2N1bWVudFNhdmVkRXZlbnRIYW5kbGVyc1tiYl07YmEoKTt9Yy5kb2N1bWVudFNhdmVkRXZlbnRIYW5kbGVycz1bXTt9ZnVuY3Rpb24gSChiYSl7YmEucHJldmVudERlZmF1bHQoKTt9Yy53ZWJTb2NrZXREaXNjb25uZWN0PWZ1bmN0aW9uKCl7aWYoIWMuc29ja2V0KXtyZXR1cm47fWlmKGMuaXNTb2NrZXRDb25uZWN0ZWQoKSl7Yy5zb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsYTcpO2Muc29ja2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLGE2KTtjLnNvY2tldC5jbG9zZSgpO31jLnNvY2tldD1udWxsO307ZnVuY3Rpb24gQyhiYSl7dHJ5e2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkNsb3NlKTtjLndlYlNvY2tldERpc2Nvbm5lY3QoKTt9Y2F0Y2goYmEpe319Yy51bnN1YnNjcmliZURvY3VtZW50QW5kV2luZG93RXZlbnRzPWZ1bmN0aW9uKCl7fTtjLmpRdWVyeUFsZXJ0PWZ1bmN0aW9uKGJhLGJiLGJjKXtiYT1iYXx8XCJcIjtiYj1iYnx8XCJcIjtiYj1iYi5yZXBsYWNlKC9cXFxccj9cXFxcbi9nLFwiPGJyPlwiKTtiYz10eXBlb2YgYmMhPT1cInVuZGVmaW5lZFwiP2JjOm51bGw7YShcXCc8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiAxMHB0OyBtaW4td2lkdGg6IDI1MHB4XCI+XFwnK2JiK1wiPC9kaXY+XCIpLmRpYWxvZyh7bW9kYWw6dHJ1ZSxyZXNpemFibGU6ZmFsc2UsdGl0bGU6YmEsd2lkdGg6XCJhdXRvXCIsYnV0dG9uczp7T0s6ZnVuY3Rpb24oKXthKHRoaXMpLmRpYWxvZyhcImRlc3Ryb3lcIikucmVtb3ZlKCk7aWYoYmMmJiFjLmlzVG91Y2hEZXZpY2Upe2JjLmZvY3VzKCk7fX0sfSxjbG9zZTpmdW5jdGlvbigpe2EodGhpcykuZGlhbG9nKFwiZGVzdHJveVwiKS5yZW1vdmUoKTtpZihiYyYmIWMuaXNUb3VjaERldmljZSl7YmMuZm9jdXMoKTt9fX0pO307cmV0dXJuIGE1O30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTtpZih0eXBlb2YgcmFuZG9tSW50RnJvbUludGVydmFsIT09XCJmdW5jdGlvblwiKXtyYW5kb21JbnRGcm9tSW50ZXJ2YWw9ZnVuY3Rpb24oYixhKXtyZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihhLWIrMSkrYik7fTt9aWYodHlwZW9mIGlzSW50ZWdlciE9PVwiZnVuY3Rpb25cIil7aXNJbnRlZ2VyPWZ1bmN0aW9uKGEpe3JldHVybihhPT09K2EpJiYoYT09PShhfDApKTt9O31pZih0eXBlb2YgaXNDaGFyYWN0ZXIhPT1cImZ1bmN0aW9uXCIpe2lzQ2hhcmFjdGVyPWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgYT09PVwic3RyaW5nXCImJmEubGVuZ3RoPT0xO307fWlmKHR5cGVvZiBpc0FycmF5T2ZUeXBlIT09XCJmdW5jdGlvblwiKXtpc0FycmF5T2ZUeXBlPWZ1bmN0aW9uKGIsYSl7aWYoYiYmdHlwZW9mIGI9PT1cIm9iamVjdFwiJiZiLmNvbnN0cnVjdG9yPT09QXJyYXkpe2IuZm9yRWFjaChmdW5jdGlvbihjKXtpZih0eXBlb2YgYyE9PWEpe3JldHVybiBmYWxzZTt9fSk7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9O30hQXJyYXkucHJvdG90eXBlLmZpbmQmJihBcnJheS5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPHRoaXMubGVuZ3RoOysrYil7aWYoYSh0aGlzW2JdLGIsdGhpcykpe3JldHVybiB0aGlzW2JdO319cmV0dXJuIG51bGw7fSk7IUFycmF5LnByb3RvdHlwZS5zb21lJiYoQXJyYXkucHJvdG90eXBlLnNvbWU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZmluZChhKSE9PW51bGw7fSk7aWYoIUFycmF5LnByb3RvdHlwZS5pbmNsdWRlcyl7T2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSxcImluY2x1ZGVzXCIse3ZhbHVlOmZ1bmN0aW9uKGcsYSl7aWYodGhpcz09PW51bGwpe3Rocm93IG5ldyBUeXBlRXJyb3IoXFwnXCJ0aGlzXCIgaXMgbnVsbCBvciBub3QgZGVmaW5lZFxcJyk7fXZhciBlPU9iamVjdCh0aGlzKTt2YXIgYz1lLmxlbmd0aD4+PjA7aWYoYz09PTApe3JldHVybiBmYWxzZTt9dmFyIGQ9YXwwO3ZhciBiPU1hdGgubWF4KGQ+PTA/ZDpjLU1hdGguYWJzKGQpLDApO2Z1bmN0aW9uIGYoaCxpKXtyZXR1cm4oaD09PWkpfHwoKHR5cGVvZiBoPT09XCJudW1iZXJcIikmJih0eXBlb2YgaT09PVwibnVtYmVyXCIpJiZpc05hTihoKSYmaXNOYU4oaSkpO313aGlsZShiPGMpe2lmKGYoZVtiXSxnKSl7cmV0dXJuIHRydWU7fWIrKzt9cmV0dXJuIGZhbHNlO319KTt9IU51bWJlci5wcm90b3R5cGUubW9kJiYoTnVtYmVyLnByb3RvdHlwZS5tb2Q9ZnVuY3Rpb24oYSl7cmV0dXJuKCh0aGlzJWEpK2EpJWE7fSk7aWYoIVN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsXCJzdGFydHNXaXRoXCIse3ZhbHVlOmZ1bmN0aW9uKGMsYil7dmFyIGE9Yj4wP2J8MDowO3JldHVybiB0aGlzLnN1YnN0cmluZyhhLGErYy5sZW5ndGgpPT09Yzt9fSk7fWlmKHR5cGVvZiBDdXN0b21FdmVudCE9PVwiZnVuY3Rpb25cIil7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGQpe2Q9ZHx8e2J1YmJsZXM6ZmFsc2UsY2FuY2VsYWJsZTpmYWxzZSxkZXRhaWw6dW5kZWZpbmVkfTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO2MuaW5pdEN1c3RvbUV2ZW50KGIsZC5idWJibGVzLGQuY2FuY2VsYWJsZSxkLmRldGFpbCk7cmV0dXJuIGM7fWEucHJvdG90eXBlPXdpbmRvdy5DdXN0b21FdmVudC5wcm90b3R5cGU7d2luZG93LkN1c3RvbUV2ZW50PWE7fSkoKTt9aWYodHlwZW9mIGNsb25lT2JqZWN0IT09XCJmdW5jdGlvblwiKXtjbG9uZU9iamVjdD1mdW5jdGlvbihhKXtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhKSk7fTt9dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGMsYSl7dmFyIGI9Yy5fcHJpdmF0ZT1jLl9wcml2YXRlfHx7fTtiLmdldEhvc3RBbmRXZWJTb2NrZXRIYW5kbGVyUGF0aD1mdW5jdGlvbigpe3ZhciBnPVwiXCI7dmFyIGU9XCJcIjtpZih0eXBlb2YgYi5zZXR0aW5ncyE9PVwidW5kZWZpbmVkXCIpe3JldHVybiBiLmdldEhvc3RBbmRBcHBWaXJ0UGF0aCgpO31pZih0eXBlb2YgYi53ZWJDb250cm9sU2V0dGluZ3MhPT1cInVuZGVmaW5lZFwiKXtpZihiLndlYkNvbnRyb2xTZXR0aW5ncy53ZWJTb2NrZXRIYW5kbGVyUGF0aCl7ZT1iLndlYkNvbnRyb2xTZXR0aW5ncy53ZWJTb2NrZXRIYW5kbGVyUGF0aDt9ZWxzZXtyZXR1cm4gYi5nZXRIb3N0QW5kQXBwVmlydFBhdGgoKTt9fXZhciBmPXdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdChcIi9cIik7Zi5wb3AoKTt2YXIgZD0oZi5sZW5ndGg9PT0wKT9cIi9cIjpmLmpvaW4oXCIvXCIpK1wiL1wiO2lmKGUpe2lmKGUuc2xpY2UoLTEpIT09XCIvXCIpe2UrPVwiL1wiO31pZihlWzBdPT09XCIvXCIpe2c9d2luZG93LmxvY2F0aW9uLmhvc3QrZTt9ZWxzZXtnPXdpbmRvdy5sb2NhdGlvbi5ob3N0K2QrZTt9fWVsc2V7Zz13aW5kb3cubG9jYXRpb24uaG9zdCtkO31yZXR1cm4gZzt9O2IuZ2V0SG9zdEFuZEFwcFZpcnRQYXRoPWZ1bmN0aW9uKCl7dmFyIGg9XCJcIjt2YXIgZD1cIlwiO3ZhciBnPTA7aWYoKHR5cGVvZiBiLnNldHRpbmdzIT09XCJ1bmRlZmluZWRcIikmJmIuc2V0dGluZ3MuUG9ydCl7Zz1iLnNldHRpbmdzLlBvcnQ7fWlmKHR5cGVvZiBiLndlYkNvbnRyb2xTZXR0aW5ncyE9PVwidW5kZWZpbmVkXCIpe2Q9Yi53ZWJDb250cm9sU2V0dGluZ3MuYXBwVmlydFBhdGg7fWVsc2V7aWYoKHR5cGVvZiBiLnNldHRpbmdzIT09XCJ1bmRlZmluZWRcIikmJmIuc2V0dGluZ3MuSXNNVkMpe2Q9Yi5zZXR0aW5ncy5BcHBWaXJ0dWFsUGF0aDt9fWlmKGQpe2g9d2luZG93LmxvY2F0aW9uLmhvc3QrZDt9ZWxzZXt2YXIgZj13aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoXCIvXCIpO2YucG9wKCk7dmFyIGU9KGYubGVuZ3RoPT09MCk/XCIvXCI6Zi5qb2luKFwiL1wiKStcIi9cIjtoPShnPyh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUrXCI6XCIrZyk6d2luZG93LmxvY2F0aW9uLmhvc3QpK2U7fXJldHVybiBoO307Yi5nZXRXZWJTb2NrZXRIYW5kbGVyVVJMPWZ1bmN0aW9uKCl7dmFyIGY9e3BhdGg6XCJcIixxdWVyeTpcIlwiLHVybDpcIlwifTtpZihiLnNldHRpbmdzJiZiLnNldHRpbmdzLldlYlNvY2tldFVSTCl7Zi51cmw9Yi5zZXR0aW5ncy5XZWJTb2NrZXRVUkw7fWVsc2V7dmFyIGU9Yi5pc1NTTENvbm5lY3Rpb24/XCJ3c3M6Ly9cIjpcIndzOi8vXCI7dmFyIGQ9Yi5nZXRIb3N0QW5kV2ViU29ja2V0SGFuZGxlclBhdGgoKTtpZigodHlwZW9mIGIuc2V0dGluZ3MhPT1cInVuZGVmaW5lZFwiKSl7aWYoYi5zZXR0aW5ncy5Jc01WQyl7Zi51cmw9ZStkK2Iuc2V0dGluZ3MuQXBpUm91dGUrXCJUWFdlYlNvY2tldFwiO31lbHNle2Q9ZStkO2YudXJsPWQuc3Vic3RyaW5nKDAsZC5sZW5ndGgtMSkrYi5zZXR0aW5ncy5XZWJTb2NrZXRQYXRoO319ZWxzZXtmLnVybD1lK2QrXCJUWFdlYlNvY2tldEhhbmRsZXIuYXNoeFwiO319Zi5wYXRoPWYudXJsO3JldHVybiBmO307YShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtiLmluaXQoKTt9KTtyZXR1cm4gYzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGcsYSl7dmFyIGM9Zy5fcHJpdmF0ZT1nLl9wcml2YXRlfHx7fTtjLnNlY3JldEFQSUVuYWJsZWQ9ZmFsc2U7Yy5kb2N1bWVudFRhc2tDYWxsYmFja3M9e2dldFRleHRQYXJ0czpbXSxnZXRUZXh0RmllbGRzOltdLGdldFN1YlRleHRQYXJ0czpbXSxhZGRTdWJUZXh0UGFydDpbXSxyZW1vdmVTdWJUZXh0UGFydDpbXX07Yy5zZWxlY3Rpb25UYXNrQ2FsbGJhY2tzPXtzYXZlOltdLGdldEJvdW5kczpbXSxnZXRDdWx0dXJlOltdfTtjLmNvbnRyb2xUYXNrQ2FsbGJhY2tzPXtnZXRGaWxlRGlyOntkb2N1bWVudDpbXSxkYjpbXSxpbWFnZTpbXX0sZ2V0U3RhdHVzQmFyQ29sb3I6W10sZ2V0Rm9ybWF0dGluZ1ByaW50ZXI6W10sZ2V0SW5zdGFsbGVkUHJpbnRlcnM6W119O2MuRXJyb3JUZXh0PU9iamVjdC5mcmVlemUoe05vU3RyZWFtVHlwZTpcIk5vIFRYVGV4dENvbnRyb2wgc3RyZWFtIHR5cGUgZ2l2ZW4uXCIsTm9Eb2N1bWVudERhdGE6XCJObyBkb2N1bWVudCBkYXRhIGdpdmVuLlwiLFRvb0Zld1BhcmFtZXRlcnM6XCJXcm9uZyBudW1iZXIgb2YgcGFyYW1ldGVycy5cIixDYWxsQmFja0lzTm9GdW5jdGlvbjpcXCdQYXJhbWV0ZXIgXCJjYWxsYmFja1wiIG11c3QgYmUgb2YgdHlwZSBcImZ1bmN0aW9uXCIuXFwnLEVycm9yQ2FsbEJhY2tJc05vRnVuY3Rpb246XFwnUGFyYW1ldGVyIFwiZXJyb3JDYWxsYmFja1wiIG11c3QgYmUgb2YgdHlwZSBcImZ1bmN0aW9uXCIuXFwnLFBhcmFtSW52YWxpZDpcIlBhcmFtZXRlciBpcyBpbnZhbGlkLlwiLFBhcmFtVW5kZWZpbmVkOlwiUGFyYW1ldGVyIGlzIHVuZGVmaW5lZC5cIixQYXJhbU5vdEFOdW1iZXI6XCJQYXJhbWV0ZXIgaXMgbm90IGEgbnVtYmVyLlwiLFBhcmFtTm90QW5JbnRlZ2VyOlwiUGFyYW1ldGVyIGlzIG5vdCBhbiBpbnRlZ2VyLlwiLFBhcmFtTm90QVN0cmluZzpcIlBhcmFtZXRlciBpcyBub3QgYSBzdHJpbmcuXCIsUGFyYW1Ob3RBQ2hhcmFjdGVyOlwiUGFyYW1ldGVyIGlzIG5vdCBhIHN0cmluZyBvZiBsZW5ndGggMS5cIixQYXJhbU5vdEJvb2xlYW46XCJQYXJhbWV0ZXIgaXMgbm90IG9mIHR5cGUgYm9vbGVhbi5cIixQYXJhbU5vdEFUYWJsZUFkZFBvc2l0aW9uOlwiUGFyYW1ldGVyIGlzIG5vdCBhIFRhYmxlQWRkUG9zaXRpb24uXCIsUGFyYW1Ob3RBbkFycmF5OlwiUGFyYW1ldGVyIGlzIG5vdCBhbiBhcnJheS5cIixQYXJhbU5vdEFycmF5T2ZTdHJpbmdzOlwiUGFyYW1ldGVyIGlzIG5vdCBhbiBhcnJheSB3aXRoIGVsZW1lbnRzIG9mIHR5cGUgc3RyaW5nLlwiLEZpbGVUeXBlSXNOb3ROdW1lcmljOlxcJ1BhcmFtZXRlciBcImZpbGVUeXBlXCIgbXVzdCBiZSBhIG51bWVyaWMgdmFsdWUuXFwnLEludmFsaWRIZXhDb2xvclN0cmluZzpcIiBpcyBub3QgYSB2YWxpZCBoZXggY29sb3Igc3RyaW5nLlwiLEludmFsaWRDb2xvclN0cmluZzpcIiBpcyBub3QgYSB2YWxpZCBjb2xvciBzdHJpbmcuXCIsUmliYm9uVGFiRG9lc05vdEV4aXN0OlwiVGhlIHJlcXVlc3RlZCByaWJib24gdGFiIGRvZXMgbm90IGV4aXN0IG9yIGlzIG5vdCBzZWxlY3RhYmxlIGF0IHRoZSBtb21lbnQuXCIsVGV4dEZpZWxkUGFyYW1UeXBlRXJyb3I6XFwnUGFyYW1ldGVyIFwidGV4dEZpZWxkXCIgY2Fubm90IGJlIG9taXR0ZWQgYW5kIG11c3QgYmUgb2YgdHlwZSBUWFRleHRDb250cm9sLkFwcGxpY2F0aW9uRmllbGQgb3IgVFhUZXh0Q29udHJvbC5UZXh0RmllbGQuXFwnLFRyYWNrZWRDaGFuZ2VQYXJhbVR5cGVFcnJvcjpcXCdQYXJhbWV0ZXIgXCJ0cmFja2VkQ2hhbmdlXCIgY2Fubm90IGJlIG9taXR0ZWQgYW5kIG11c3QgYmUgb2YgdHlwZSBUcmFja2VkQ2hhbmdlLlxcJyx9KTt2YXIgYj10cnVlO2cuU3RyZWFtVHlwZT1nLnN0cmVhbVR5cGU9Yy5UWFN0cmVhbVR5cGU7Zy5FZGl0TW9kZT1jLkVkaXRNb2RlO2cuRmlsZVR5cGU9Yy5GaWxlVHlwZTtnLkNsaXBib2FyZE1vZGU9Yy5DbGlwYm9hcmRNb2RlO2cuSGlnaGxpZ2h0TW9kZT1jLkhpZ2hsaWdodE1vZGU7Zy5Db2xvcj1jLkNvbG9yO2cuRGlyZWN0aW9uPWMuRGlyZWN0aW9uO2cuSnVzdGlmaWNhdGlvbj1jLkp1c3RpZmljYXRpb247Zy5UYWJUeXBlPWMuVGFiVHlwZTtnLkZpZWxkVHlwZT1jLkZpZWxkVHlwZTtnLkZpbmRPcHRpb25zPWMuRmluZE9wdGlvbnM7Zy5Gb250VW5kZXJsaW5lU3R5bGU9Yy5Gb250VW5kZXJsaW5lU3R5bGU7Zy5GcmFtZT1jLkZyYW1lO2cuRnJhbWVTdHlsZT1jLkZyYW1lU3R5bGU7Zy5NZXJnZUZpZWxkVGV4dEZvcm1hdD1jLk1lcmdlRmllbGRUZXh0Rm9ybWF0O2cuSWZGaWVsZD1jLklmRmllbGQ7Zy5MaXN0VHlwZT1jLkxpc3RUeXBlO2cuTWVhc3VyaW5nVW5pdD1jLk1lYXN1cmluZ1VuaXQ7Zy5OdW1iZXJGb3JtYXQ9Yy5OdW1iZXJGb3JtYXQ7Zy5SZWxhdGlvbmFsT3BlcmF0b3I9Yy5SZWxhdGlvbmFsT3BlcmF0b3I7Zy5TcGVjaWFsWm9vbUZhY3Rvcj1jLlNwZWNpYWxab29tRmFjdG9yO2cuSW1hZ2VJbnNlcnRpb25Nb2RlPWMuSW1hZ2VJbnNlcnRpb25Nb2RlO2cuSG9yaXpvbnRhbEFsaWdubWVudD1jLkhvcml6b250YWxBbGlnbm1lbnQ7Zy5WZXJ0aWNhbEFsaWdubWVudD1jLlZlcnRpY2FsQWxpZ25tZW50O2cuVGV4dFR5cGU9Yy5UZXh0VHlwZTtnLlRleHRGcmFtZUluc2VydGlvbk1vZGU9Yy5UZXh0RnJhbWVJbnNlcnRpb25Nb2RlO2cuU2lkZUJhclR5cGU9Yy5TaWRlQmFyVHlwZTtnLkFkZFJlc3VsdD1jLkFkZFJlc3VsdDtnLlNlY3Rpb25CcmVha0tpbmQ9Yy5TZWN0aW9uQnJlYWtLaW5kO2cuVGFibGVBZGRQb3NpdGlvbj1jLlRhYmxlQWRkUG9zaXRpb247Zy5BY3RpdmF0aW9uU3RhdGU9Yy5BY3RpdmF0aW9uU3RhdGU7Zy5QZXJtYW5lbnRDb250cm9sQ2hhcj1jLlBlcm1hbmVudENvbnRyb2xDaGFyO2cuU2Nyb2xsUG9zaXRpb249Yy5TY3JvbGxQb3NpdGlvbjtnLkNoYW5nZUtpbmQ9Yy5DaGFuZ2VLaW5kO2cuVmlld01vZGU9Yy5WaWV3TW9kZTtnLkZvcm11bGFSZWZlcmVuY2VTdHlsZT1jLkZvcm11bGFSZWZlcmVuY2VTdHlsZTtnLkJhcmNvZGVUeXBlPWMuQmFyY29kZVR5cGU7Zy5GcmFtZUluc2VydGlvbk1vZGU9Yy5GcmFtZUluc2VydGlvbk1vZGU7Zy5NaXNzcGVsbGVkV29yZEtpbmQ9Yy5NaXNzcGVsbGVkV29yZEtpbmQ7Zy5JbWFnZUZvcm1hdD1jLkltYWdlRm9ybWF0O2cuQmFyY29kZUFsaWdubWVudD1jLkJhcmNvZGVBbGlnbm1lbnQ7Zy5CYXJjb2RlVGV4dEFsaWdubWVudD1jLkJhcmNvZGVUZXh0QWxpZ25tZW50O2cuWk9yZGVyPWMuWk9yZGVyO2cuU3ViVGV4dFBhcnRDb2xsZWN0aW9uPXtBZGRSZXN1bHQ6Yy5TdWJUZXh0UGFydENvbGxlY3Rpb24uQWRkUmVzdWx0fTtnLkNvbnRyb2xDaGFycz1jLkNvbnRyb2xDaGFycztnLkFwcGxpY2F0aW9uRmllbGRGb3JtYXQ9Yy5BcHBsaWNhdGlvbkZpZWxkRm9ybWF0O2cuSGVhZGVyRm9vdGVyVHlwZT1jLkhlYWRlckZvb3RlclR5cGU7Zy5MaXN0Rm9ybWF0Q2hhcmFjdGVyPWMuTGlzdEZvcm1hdENoYXJhY3RlcjtnLlRhYkxlYWRlcj1jLlRhYkxlYWRlcjtnLkF1dG9HZW5lcmF0aW9uVHlwZT1jLkF1dG9HZW5lcmF0aW9uVHlwZTtnLklubGluZVN0eWxlPU9iamVjdC5mcmVlemUoe0F0dHJpYnV0ZXM6Yy5JbmxpbmVTdHlsZS5BdHRyaWJ1dGVzfSk7Zy5JbnB1dFBvc2l0aW9uPU9iamVjdC5mcmVlemUoe1Njcm9sbFBvc2l0aW9uOmMuSW5wdXRQb3NpdGlvbi5TY3JvbGxQb3NpdGlvbn0pO2cuUGFyYWdyYXBoRm9ybWF0PU9iamVjdC5mcmVlemUoe0F0dHJpYnV0ZTpjLlBhcmFncmFwaEZvcm1hdC5BdHRyaWJ1dGV9KTtnLlNlbGVjdGlvbj1PYmplY3QuZnJlZXplKHtBdHRyaWJ1dGU6Yy5TZWxlY3Rpb24uQXR0cmlidXRlfSk7Zy5MaXN0Rm9ybWF0PU9iamVjdC5mcmVlemUoe0F0dHJpYnV0ZTpjLkxpc3RGb3JtYXQuQXR0cmlidXRlfSk7Zy5TZWN0aW9uRm9ybWF0PU9iamVjdC5mcmVlemUoe0F0dHJpYnV0ZTpjLlNlY3Rpb25Gb3JtYXQuQXR0cmlidXRlfSk7Zy5QYWdlTWFyZ2lucz1PYmplY3QuZnJlZXplKHtBdHRyaWJ1dGU6Yy5QYWdlTWFyZ2lucy5BdHRyaWJ1dGV9KTtnLlBhZ2VTaXplPU9iamVjdC5mcmVlemUoe0F0dHJpYnV0ZTpjLlBhZ2VTaXplLkF0dHJpYnV0ZX0pO2cuUGFnZUJvcmRlcj1PYmplY3QuZnJlZXplKHtBdHRyaWJ1dGU6Yy5QYWdlQm9yZGVyLkF0dHJpYnV0ZX0pO2cuQXBwbGljYXRpb25GaWVsZD1jLkxlZ2FjeUFwcGxpY2F0aW9uRmllbGQ7Zy5JbmNsdWRlVGV4dEZpZWxkPWMuSW5jbHVkZVRleHRGaWVsZDtnLlRleHRGaWVsZD1jLkxlZ2FjeVRleHRGaWVsZDtnLkRhdGVGaWVsZD1jLkRhdGVGaWVsZDtnLk1lcmdlRmllbGQ9Yy5NZXJnZUZpZWxkO2cuTmV4dElmRmllbGQ9Yy5OZXh0SWZGaWVsZDtnLk5leHRGaWVsZD1jLk5leHRGaWVsZDtnLlNhdmVTZXR0aW5ncz1jLlNhdmVTZXR0aW5ncztnLkxvYWRTZXR0aW5ncz1jLkxvYWRTZXR0aW5nczt2YXIgZT1uZXcgYy5UZXh0Q29udHJvbCgpO2MudGV4dENvbnRyb2w9ZTtnLmRpc3BsYXlDb2xvcnM9ZS5kaXNwbGF5Q29sb3JzO2cuaW5wdXRGb3JtYXQ9ZS5pbnB1dEZvcm1hdDtnLnNlY3Rpb25zPWUuc2VjdGlvbnM7Zy50YWJsZXM9ZS50YWJsZXM7Zy50ZXh0RmllbGRzPWUudGV4dEZpZWxkcztnLmFwcGxpY2F0aW9uRmllbGRzPWUuYXBwbGljYXRpb25GaWVsZHM7Zy50cmFja2VkQ2hhbmdlcz1lLnRyYWNrZWRDaGFuZ2VzO2cubGlzdEZvcm1hdD1lLmxpc3RGb3JtYXQ7Zy5wYWdlTWFyZ2lucz1lLnBhZ2VNYXJnaW5zO2cucGFnZVNpemU9ZS5wYWdlU2l6ZTtnLnBhcmFncmFwaEZvcm1hdD1lLnBhcmFncmFwaEZvcm1hdDtnLmRvY3VtZW50VGFyZ2V0cz1lLmRvY3VtZW50VGFyZ2V0cztnLmRvY3VtZW50TGlua3M9ZS5kb2N1bWVudExpbmtzO2cuYmFyY29kZXM9ZS5iYXJjb2RlcztnLmltYWdlcz1lLmltYWdlcztnLmVkaXRhYmxlUmVnaW9ucz1lLmVkaXRhYmxlUmVnaW9ucztnLmh5cGVydGV4dExpbmtzPWUuaHlwZXJ0ZXh0TGlua3M7Zy5saW5lcz1lLmxpbmVzO2cubWlzc3BlbGxlZFdvcmRzPWUubWlzc3BlbGxlZFdvcmRzO2cucGFyYWdyYXBocz1lLnBhcmFncmFwaHM7Zy50ZXh0RnJhbWVzPWUudGV4dEZyYW1lcztnLmZyYW1lcz1lLmZyYW1lcztnLmZvcm1GaWVsZHM9ZS5mb3JtRmllbGRzO2cuc3ViVGV4dFBhcnRzPWUuc3ViVGV4dFBhcnRzO2cudGV4dENoYXJzPWUudGV4dENoYXJzO2cuaGVhZGVyc0FuZEZvb3RlcnM9ZS5oZWFkZXJzQW5kRm9vdGVycztnLnBhZ2VzPWUucGFnZXM7Zy5pbmxpbmVTdHlsZXM9ZS5pbmxpbmVTdHlsZXM7Zy5wYXJhZ3JhcGhTdHlsZXM9ZS5wYXJhZ3JhcGhTdHlsZXM7Zy5pbnB1dFBvc2l0aW9uPWUuaW5wdXRQb3NpdGlvbjtnLnRleHRQYXJ0cz1lLnRleHRQYXJ0cztnLnRhYmxlc09mQ29udGVudHM9ZS50YWJsZXNPZkNvbnRlbnRzO2cuZG9jdW1lbnRTZXR0aW5ncz1lLmRvY3VtZW50U2V0dGluZ3M7Zy5zZXRBY3RpdmF0aW9uU3RhdGU9ZS5zZXRBY3RpdmF0aW9uU3RhdGUuYmluZChlKTtnLnNldEFsbG93VW5kbz1lLnNldEFsbG93VW5kby5iaW5kKGUpO2cuc2V0QmFja0NvbG9yPWUuc2V0QmFja0NvbG9yLmJpbmQoZSk7Zy5zZXRCYXNlbGluZT1lLnNldEJhc2VsaW5lLmJpbmQoZSk7Zy5zZXRDb250cm9sQ2hhcnM9ZS5zZXRDb250cm9sQ2hhcnMuYmluZChlKTtnLnNldERvY3VtZW50VGFyZ2V0TWFya2Vycz1lLnNldERvY3VtZW50VGFyZ2V0TWFya2Vycy5iaW5kKGUpO2cuc2V0RHJhd2luZ01hcmtlckxpbmVzPWUuc2V0RHJhd2luZ01hcmtlckxpbmVzLmJpbmQoZSk7Zy5zZXRFZGl0TW9kZT1lLnNldEVkaXRNb2RlLmJpbmQoZSk7Zy5zZXRJc1RyYWNrQ2hhbmdlc0VuYWJsZWQ9ZS5zZXRJc1RyYWNrQ2hhbmdlc0VuYWJsZWQuYmluZChlKTtnLnNldFBlcm1hbmVudENvbnRyb2xDaGFycz1lLnNldFBlcm1hbmVudENvbnRyb2xDaGFycy5iaW5kKGUpO2cuc2V0U2VsZWN0T2JqZWN0cz1lLnNldFNlbGVjdE9iamVjdHMuYmluZChlKTtnLnNldFRleHRGcmFtZU1hcmtlckxpbmVzPWUuc2V0VGV4dEZyYW1lTWFya2VyTGluZXMuYmluZChlKTtnLnNldFZpZXdNb2RlPWUuc2V0Vmlld01vZGUuYmluZChlKTtnLnNldEZvbnRVbmRlcmxpbmVTdHlsZT1lLnNldEZvbnRVbmRlcmxpbmVTdHlsZS5iaW5kKGUpO2cuc2V0Rm9ybXVsYVJlZmVyZW5jZVN0eWxlPWUuc2V0Rm9ybXVsYVJlZmVyZW5jZVN0eWxlLmJpbmQoZSk7Zy5zZXRMYW5kc2NhcGU9ZS5zZXRMYW5kc2NhcGUuYmluZChlKTtnLnNldFBhZ2VVbml0PWUuc2V0UGFnZVVuaXQuYmluZChlKTtnLnNldFRleHQ9ZS5zZXRUZXh0LmJpbmQoZSk7Zy5zZXRUZXh0QmFja0NvbG9yPWUuc2V0VGV4dEJhY2tDb2xvci5iaW5kKGUpO2cuc2V0SXNGb3JtdWxhQ2FsY3VsYXRpb25FbmFibGVkPWUuc2V0SXNGb3JtdWxhQ2FsY3VsYXRpb25FbmFibGVkLmJpbmQoZSk7Zy5zZXRJc0h5cGhlbmF0aW9uRW5hYmxlZD1lLnNldElzSHlwaGVuYXRpb25FbmFibGVkLmJpbmQoZSk7Zy5zZXRJc0xhbmd1YWdlRGV0ZWN0aW9uRW5hYmxlZD1lLnNldElzTGFuZ3VhZ2VEZXRlY3Rpb25FbmFibGVkLmJpbmQoZSk7Zy5zZXRJc1NwZWxsQ2hlY2tpbmdFbmFibGVkPWUuc2V0SXNTcGVsbENoZWNraW5nRW5hYmxlZC5iaW5kKGUpO2cuZ2V0QWN0aXZhdGlvblN0YXRlPWUuZ2V0QWN0aXZhdGlvblN0YXRlLmJpbmQoZSk7Zy5nZXRBbGxvd1VuZG89ZS5nZXRBbGxvd1VuZG8uYmluZChlKTtnLmdldEJhc2VsaW5lPWUuZ2V0QmFzZWxpbmUuYmluZChlKTtnLmdldEJhY2tDb2xvcj1lLmdldEJhY2tDb2xvci5iaW5kKGUpO2cuZ2V0Q2FuQ2hhcmFjdGVyRm9ybWF0PWUuZ2V0Q2FuQ2hhcmFjdGVyRm9ybWF0LmJpbmQoZSk7Zy5nZXRDYW5Db3B5PWUuZ2V0Q2FuQ29weS5iaW5kKGUpO2cuZ2V0Q2FuRG9jdW1lbnRGb3JtYXQ9ZS5nZXRDYW5Eb2N1bWVudEZvcm1hdC5iaW5kKGUpO2cuZ2V0Q2FuUGFzdGU9ZS5nZXRDYW5QYXN0ZS5iaW5kKGUpO2cuZ2V0Q2FuUHJpbnQ9ZS5nZXRDYW5QcmludC5iaW5kKGUpO2cuZ2V0Q2FuUmVkbz1lLmdldENhblJlZG8uYmluZChlKTtnLmdldENhblN0eWxlRm9ybWF0PWUuZ2V0Q2FuU3R5bGVGb3JtYXQuYmluZChlKTtnLmdldENhblRhYmxlRm9ybWF0PWUuZ2V0Q2FuVGFibGVGb3JtYXQuYmluZChlKTtnLmdldENhblVuZG89ZS5nZXRDYW5VbmRvLmJpbmQoZSk7Zy5nZXRDb250cm9sQ2hhcnM9ZS5nZXRDb250cm9sQ2hhcnMuYmluZChlKTtnLmdldERvY3VtZW50VGFyZ2V0TWFya2Vycz1lLmdldERvY3VtZW50VGFyZ2V0TWFya2Vycy5iaW5kKGUpO2cuZ2V0RHJhd2luZ01hcmtlckxpbmVzPWUuZ2V0RHJhd2luZ01hcmtlckxpbmVzLmJpbmQoZSk7Zy5nZXRFZGl0TW9kZT1lLmdldEVkaXRNb2RlLmJpbmQoZSk7Zy5nZXRJc1RyYWNrQ2hhbmdlc0VuYWJsZWQ9ZS5nZXRJc1RyYWNrQ2hhbmdlc0VuYWJsZWQuYmluZChlKTtnLmdldFBhZ2VDb3VudD1lLmdldFBhZ2VDb3VudC5iaW5kKGUpO2cuZ2V0UGVybWFuZW50Q29udHJvbENoYXJzPWUuZ2V0UGVybWFuZW50Q29udHJvbENoYXJzLmJpbmQoZSk7Zy5nZXRSZWRvQWN0aW9uTmFtZT1lLmdldFJlZG9BY3Rpb25OYW1lLmJpbmQoZSk7Zy5nZXRTZWxlY3RPYmplY3RzPWUuZ2V0U2VsZWN0T2JqZWN0cy5iaW5kKGUpO2cuZ2V0VGV4dEZyYW1lTWFya2VyTGluZXM9ZS5nZXRUZXh0RnJhbWVNYXJrZXJMaW5lcy5iaW5kKGUpO2cuZ2V0VW5kb0FjdGlvbk5hbWU9ZS5nZXRVbmRvQWN0aW9uTmFtZS5iaW5kKGUpO2cuZ2V0VXNlck5hbWVzPWUuZ2V0VXNlck5hbWVzLmJpbmQoZSk7Zy5nZXRWaWV3TW9kZT1lLmdldFZpZXdNb2RlLmJpbmQoZSk7Zy5nZXRGb250VW5kZXJsaW5lU3R5bGU9ZS5nZXRGb250VW5kZXJsaW5lU3R5bGUuYmluZChlKTtnLmdldEZvcm11bGFSZWZlcmVuY2VTdHlsZT1lLmdldEZvcm11bGFSZWZlcmVuY2VTdHlsZS5iaW5kKGUpO2cuZ2V0TGFuZHNjYXBlPWUuZ2V0TGFuZHNjYXBlLmJpbmQoZSk7Zy5nZXRQYWdlVW5pdD1lLmdldFBhZ2VVbml0LmJpbmQoZSk7Zy5nZXRUZXh0PWUuZ2V0VGV4dC5iaW5kKGUpO2cuZ2V0VGV4dEJhY2tDb2xvcj1lLmdldFRleHRCYWNrQ29sb3IuYmluZChlKTtnLmdldElzRm9ybXVsYUNhbGN1bGF0aW9uRW5hYmxlZD1lLmdldElzRm9ybXVsYUNhbGN1bGF0aW9uRW5hYmxlZC5iaW5kKGUpO2cuZ2V0SXNIeXBoZW5hdGlvbkVuYWJsZWQ9ZS5nZXRJc0h5cGhlbmF0aW9uRW5hYmxlZC5iaW5kKGUpO2cuZ2V0SXNMYW5ndWFnZURldGVjdGlvbkVuYWJsZWQ9ZS5nZXRJc0xhbmd1YWdlRGV0ZWN0aW9uRW5hYmxlZC5iaW5kKGUpO2cuZ2V0SXNTcGVsbENoZWNraW5nRW5hYmxlZD1lLmdldElzU3BlbGxDaGVja2luZ0VuYWJsZWQuYmluZChlKTtnLnpvb209ZS56b29tLmJpbmQoZSk7Zy51bmRvPWUudW5kby5iaW5kKGUpO2cucmVkbz1lLnJlZG8uYmluZChlKTtnLmNsZWFyPWUuY2xlYXIuYmluZChlKTtnLnJlc2V0Q29udGVudHM9ZS5yZXNldENvbnRlbnRzLmJpbmQoZSk7Zy5maW5kPWUuZmluZC5iaW5kKGUpO2cuZ2V0U3VwcG9ydGVkRm9udHM9ZS5nZXRTdXBwb3J0ZWRGb250cy5iaW5kKGUpO2cuc2VsZWN0PWUuc2VsZWN0LmJpbmQoZSk7Zy5zZWxlY3RBbGw9ZS5zZWxlY3RBbGwuYmluZChlKTtnLnNlbGVjdFdvcmQ9ZS5zZWxlY3RXb3JkLmJpbmQoZSk7Zy5nZXRTdXBwb3J0ZWRQYXBlclNpemVzPWUuZ2V0U3VwcG9ydGVkUGFwZXJTaXplcy5iaW5kKGUpO2cubG9hZD1lLmxvYWQuYmluZChlKTtnLnNhdmU9ZS5zYXZlLmJpbmQoZSk7Zy5yZWZyZXNoTGF5b3V0PWZ1bmN0aW9uKCl7dHJ5e2MuYWRhcHRWaWV3VG9Db250YWluZXJTaXplKCk7fWNhdGNoKGgpe319O2cubG9hZERvY3VtZW50PWZ1bmN0aW9uKHN0cmVhbVR5cGUsaCxjYWxsYmFjayxsb2FkU2V0dGluZ3MsZXJyb3JDYWxsYmFjayl7cmV0dXJuIGUubG9hZChzdHJlYW1UeXBlLGgsY2FsbGJhY2ssbG9hZFNldHRpbmdzLGVycm9yQ2FsbGJhY2spO307Zy5zYXZlRG9jdW1lbnQ9ZnVuY3Rpb24oc3RyZWFtVHlwZSxjYWxsYmFjayxzYXZlU2V0dGluZ3MsZXJyb3JDYWxsYmFjayl7cmV0dXJuIGUuc2F2ZShzdHJlYW1UeXBlLGNhbGxiYWNrLHNhdmVTZXR0aW5ncyxlcnJvckNhbGxiYWNrKTt9O2cuYXBwZW5kRG9jdW1lbnQ9ZnVuY3Rpb24oc3RyZWFtVHlwZSxiYXNlNjREYXRhKXtpZighc3RyZWFtVHlwZSl7dGhyb3cgbmV3IEVycm9yKGMuRXJyb3JUZXh0Lk5vU3RyZWFtVHlwZSk7fWlmKCFiYXNlNjREYXRhKXt0aHJvdyBuZXcgRXJyb3IoYy5FcnJvclRleHQuTm9Eb2N1bWVudERhdGEpO31jLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5BcHBlbmREb2N1bWVudEZpbGUsMCxzdHJlYW1UeXBlLDEsYmFzZTY0RGF0YSk7fTtnLmxvYWRTZWxlY3Rpb249ZnVuY3Rpb24oc3RyZWFtVHlwZSxiYXNlNjREYXRhKXtlLnNlbGVjdGlvbi5sb2FkKHN0cmVhbVR5cGUsYmFzZTY0RGF0YSk7fTtnLnNhdmVTZWxlY3Rpb249ZnVuY3Rpb24oc3RyZWFtVHlwZSxjYWxsYmFjayl7ZS5zZWxlY3Rpb24uc2F2ZShzdHJlYW1UeXBlLGNhbGxiYWNrKTt9O2cuZ2V0VGV4dFBhcnRzPWZ1bmN0aW9uKGNhbGxiYWNrLGF0SW5wdXRQb3NpdGlvbil7YXRJbnB1dFBvc2l0aW9uPWF0SW5wdXRQb3NpdGlvbnx8ZmFsc2U7aWYoIWNhbGxiYWNrKXt0aHJvdyBuZXcgRXJyb3IoYy5FcnJvclRleHQuVG9vRmV3UGFyYW1ldGVycyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWMuZG9jdW1lbnRUYXNrQ2FsbGJhY2tzLmdldFRleHRQYXJ0cy5wdXNoKGNhbGxiYWNrKTt2YXIgaD1hdElucHV0UG9zaXRpb24/Yy5UZXh0UGFydENvbW1hbmQuR2V0SXRlbTpjLlRleHRQYXJ0Q29tbWFuZC5HZXRBbGw7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuQ2xpZW50VGV4dFBhcnQsaCk7fTtnLmdldFRleHRGaWVsZHM9ZnVuY3Rpb24oY2FsbGJhY2ssYXRJbnB1dFBvc2l0aW9uKXtpZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihjLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGNhbGxiYWNrIT09XCJmdW5jdGlvblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGMuRXJyb3JUZXh0LkNhbGxCYWNrSXNOb0Z1bmN0aW9uKTt9Yy5kb2N1bWVudFRhc2tDYWxsYmFja3MuZ2V0VGV4dEZpZWxkcy5wdXNoKGNhbGxiYWNrKTt2YXIgaD1hdElucHV0UG9zaXRpb24/Yy5UZXh0RmllbGRDb21tYW5kLkdldEl0ZW06Yy5UZXh0RmllbGRDb21tYW5kLkdldEFsbDtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5DbGllbnRUZXh0RmllbGQsaCk7fTtnLmFkZFRleHRGaWVsZD1mdW5jdGlvbih0ZXh0RmllbGQpe2lmKCF0ZXh0RmllbGR8fCgodGV4dEZpZWxkLmNvbnN0cnVjdG9yIT09Yy5MZWdhY3lBcHBsaWNhdGlvbkZpZWxkKSYmKHRleHRGaWVsZC5jb25zdHJ1Y3RvciE9PWMuTGVnYWN5VGV4dEZpZWxkKSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYy5FcnJvclRleHQuVGV4dEZpZWxkUGFyYW1UeXBlRXJyb3IpO31jLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5DbGllbnRUZXh0RmllbGQsYy5UZXh0RmllbGRDb21tYW5kLkFkZCwwLDAse3RleHRGaWVsZDp0ZXh0RmllbGQuX2ZpZWxkfSk7fTtnLmFkZE1lcmdlRmllbGQ9ZnVuY3Rpb24obWVyZ2VGaWVsZCl7dmFyIGk9bnVsbCxoPS0xO2lmKChtZXJnZUZpZWxkPT09bnVsbCl8fCh0eXBlb2YgbWVyZ2VGaWVsZD09PVwidW5kZWZpbmVkXCIpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BsZWFzZSBwcm92aWRlIFwibWVyZ2VGaWVsZFwiIHBhcmFtZXRlci5cXCcpO31pZihtZXJnZUZpZWxkLmNvbnN0cnVjdG9yPT09Zy5NZXJnZUZpZWxkKXtoPWcuRmllbGRUeXBlLk1lcmdlRmllbGQ7fWVsc2V7aWYobWVyZ2VGaWVsZC5jb25zdHJ1Y3Rvcj09PWcuSWZGaWVsZCl7aD1nLkZpZWxkVHlwZS5JZkZpZWxkO31lbHNle2lmKG1lcmdlRmllbGQuY29uc3RydWN0b3I9PT1nLkluY2x1ZGVUZXh0RmllbGQpe2g9Zy5GaWVsZFR5cGUuSW5jbHVkZVRleHRGaWVsZDt9ZWxzZXtpZihtZXJnZUZpZWxkLmNvbnN0cnVjdG9yPT09Zy5EYXRlRmllbGQpe2g9Zy5GaWVsZFR5cGUuRGF0ZUZpZWxkO31lbHNle2lmKG1lcmdlRmllbGQuY29uc3RydWN0b3I9PT1nLk5leHRGaWVsZCl7aD1nLkZpZWxkVHlwZS5OZXh0RmllbGQ7fWVsc2V7aWYobWVyZ2VGaWVsZC5jb25zdHJ1Y3Rvcj09PWcuTmV4dElmRmllbGQpe2g9Zy5GaWVsZFR5cGUuTmV4dElmRmllbGQ7fWVsc2V7dGhyb3cgbmV3IFR5cGVFcnJvcihcXCdQYXJhbWV0ZXIgXCJtZXJnZUZpZWxkXCIgbXVzdCBiZSBvbmUgb2YgdGhlIGtub3duIG1lcmdlIGZpZWxkIHR5cGVzIChlLiBnLiBUWFRleHRDb250cm9sLk1lcmdlRmllbGQgb3IgVFhUZXh0Q29udHJvbC5EYXRlRmllbGQpLlxcJyk7fX19fX19aWYoaCE9PS0xKXtpPW1lcmdlRmllbGQudG9QYXNjYWxDYXNlKCk7fWlmKGkpe2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkluc2VydEl0ZW0sYy5JdGVtVHlwZS5GaWVsZEFkYXB0ZXIsaCwwLGkpO319O2cuc2hvd01lcmdlRmllbGREaWFsb2c9ZnVuY3Rpb24oZmllbGRUeXBlKXt2YXIgaDtpZih0eXBlb2YgZmllbGRUeXBlPT09XCJ1bmRlZmluZWRcIil7aWYoYy5jdXJyZW50RmllbGREYXRhKXtjLnNob3dGaWVsZERpYWxvZyhjLmN1cnJlbnRGaWVsZERhdGEuZmllbGRBZGFwdGVyLGMuY3VycmVudEZpZWxkRGF0YS5tZXJnZUZpZWxkVHlwZSk7fXJldHVybjt9aWYoIWlzSW50ZWdlcihmaWVsZFR5cGUpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFxcJ1BhcmFtZXRlciBcImZpZWxkVHlwZVwiIG11c3QgYmUgb25lIG9mIHRoZSB2YWx1ZXMgZGVmaW5lZCBpbiBUWFRleHRDb250cm9sLkZpZWxkVHlwZS5cXCcpO31zd2l0Y2goZmllbGRUeXBlKXtjYXNlIGcuRmllbGRUeXBlLk1lcmdlRmllbGQ6dmFyIGk9bmV3IGMuTWVyZ2VGaWVsZCgpO2g9bmV3IGMuTWVyZ2VGaWVsZERpYWxvZyhpLnRvUGFzY2FsQ2FzZSgpKTticmVhaztjYXNlIGcuRmllbGRUeXBlLklmRmllbGQ6aD1uZXcgYy5JZkZpZWxkRGlhbG9nKCk7YnJlYWs7Y2FzZSBnLkZpZWxkVHlwZS5JbmNsdWRlVGV4dEZpZWxkOmg9bmV3IGMuSW5jbHVkZVRleHRGaWVsZERpYWxvZygpO2JyZWFrO2Nhc2UgZy5GaWVsZFR5cGUuRGF0ZUZpZWxkOmg9bmV3IGMuRGF0ZUZpZWxkRGlhbG9nKCk7YnJlYWs7Y2FzZSBnLkZpZWxkVHlwZS5OZXh0RmllbGQ6Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuSW5zZXJ0SXRlbSxjLkl0ZW1UeXBlLkZpZWxkQWRhcHRlcixjLkZpZWxkVHlwZS5OZXh0RmllbGQpO2JyZWFrO2Nhc2UgZy5GaWVsZFR5cGUuTmV4dElmRmllbGQ6aD1uZXcgYy5OZXh0SWZGaWVsZERpYWxvZygpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcihcIlVua25vd24gbWVyZ2UgZmllbGQgdHlwZS5cIik7YnJlYWs7fWlmKGgpe2guc2hvd01vZGFsKCk7fX07Zy5yZW1vdmVUZXh0RmllbGQ9ZnVuY3Rpb24odGV4dEZpZWxkLGtlZXBUZXh0KXtrZWVwVGV4dD0hIWtlZXBUZXh0O2lmKCF0ZXh0RmllbGR8fCgodGV4dEZpZWxkLmNvbnN0cnVjdG9yIT09Yy5MZWdhY3lBcHBsaWNhdGlvbkZpZWxkKSYmKHRleHRGaWVsZC5jb25zdHJ1Y3RvciE9PWMuTGVnYWN5VGV4dEZpZWxkKSkpe3Rocm93IG5ldyBUeXBlRXJyb3IoYy5FcnJvclRleHQuVGV4dEZpZWxkUGFyYW1UeXBlRXJyb3IpO31jLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5DbGllbnRUZXh0RmllbGQsYy5UZXh0RmllbGRDb21tYW5kLlJlbW92ZSwwLDAse3RleHRGaWVsZDp0ZXh0RmllbGQuX2ZpZWxkLGtlZXBUZXh0OmtlZXBUZXh0fSk7fTtnLmdldFN1YlRleHRQYXJ0cz1mdW5jdGlvbihjYWxsYmFjayxhdElucHV0UG9zaXRpb24pe2lmKCFjYWxsYmFjayl7dGhyb3cgbmV3IEVycm9yKGMuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYy5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31jLmRvY3VtZW50VGFza0NhbGxiYWNrcy5nZXRTdWJUZXh0UGFydHMucHVzaChjYWxsYmFjayk7dmFyIGg9YXRJbnB1dFBvc2l0aW9uP2MuU3ViVGV4dFBhcnRDb21tYW5kLkdldEl0ZW06Yy5TdWJUZXh0UGFydENvbW1hbmQuR2V0QWxsO2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkNsaWVudFN1YlRleHRQYXJ0LGgpO307Zy5mb2N1cz1mdW5jdGlvbigpe2lmKGMudGV4dFZpZXdlcil7Yy50ZXh0Vmlld2VyLmZvY3VzKCk7fX07Zy5yZW1vdmVGcm9tRG9tPWZ1bmN0aW9uKCl7dHJ5e2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkNsb3NlKTtjLndlYlNvY2tldERpc2Nvbm5lY3QoKTtjLnVuc3Vic2NyaWJlRG9jdW1lbnRBbmRXaW5kb3dFdmVudHMoKTt2YXIgaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR4VGVtcGxhdGVEZXNpZ25lckNvbnRhaW5lclwiKTtpLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoaSk7VFhUZXh0Q29udHJvbD11bmRlZmluZWQ7fWNhdGNoKGgpe319O2cubG9hZFhNTERhdGFiYXNlPWZ1bmN0aW9uKHhtbERhdGEpe2lmKCF4bWxEYXRhKXt0aHJvdyBuZXcgRXJyb3IoYy5FcnJvclRleHQuVG9vRmV3UGFyYW1ldGVycyk7fWlmKHR5cGVvZiB4bWxEYXRhIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31jLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5PcGVuRmlsZSxjLkZpbGVUeXBlLkRhdGFCYXNlLGMuRGF0YUJhc2VUeXBlLlhNTCwxLHhtbERhdGEpO307Zy5sb2FkSnNvbkRhdGE9ZnVuY3Rpb24oaCl7aWYoIWgpe3Rocm93IG5ldyBFcnJvcihjLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGghPT1cInN0cmluZ1wiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGMuRXJyb3JUZXh0LlBhcmFtTm90QVN0cmluZyk7fWMuc2VuZENvbW1hbmQoYy5Db21tYW5kLk9wZW5GaWxlLGMuRmlsZVR5cGUuRGF0YUJhc2UsYy5EYXRhQmFzZVR5cGUuSlNPTiwxLGgpO307Zy5nZXRGaWxlRGlyZWN0b3J5PWZ1bmN0aW9uKGZpbGVUeXBlLGNhbGxiYWNrKXtpZighY2FsbGJhY2spe3Rocm93IG5ldyBFcnJvcihjLkVycm9yVGV4dC5Ub29GZXdQYXJhbWV0ZXJzKTt9aWYodHlwZW9mIGZpbGVUeXBlIT09XCJudW1iZXJcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5GaWxlVHlwZUlzTm90TnVtZXJpYyk7fWlmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fXN3aXRjaChmaWxlVHlwZSl7Y2FzZSBjLkZpbGVUeXBlLkRvY3VtZW50OmMuY29udHJvbFRhc2tDYWxsYmFja3MuZ2V0RmlsZURpci5kb2N1bWVudC5wdXNoKGNhbGxiYWNrKTticmVhaztjYXNlIGMuRmlsZVR5cGUuSW1hZ2U6Yy5jb250cm9sVGFza0NhbGxiYWNrcy5nZXRGaWxlRGlyLmltYWdlLnB1c2goY2FsbGJhY2spO2JyZWFrO2Nhc2UgYy5GaWxlVHlwZS5EYXRhQmFzZTpjLmNvbnRyb2xUYXNrQ2FsbGJhY2tzLmdldEZpbGVEaXIuZGIucHVzaChjYWxsYmFjayk7YnJlYWs7fWMuc2VuZENvbW1hbmQoYy5Db21tYW5kLkdldEZpbGVEaXJlY3RvcnksZmlsZVR5cGUpO307Zy5zZXRGaWxlRGlyZWN0b3J5PWZ1bmN0aW9uKGZpbGVUeXBlLGRpcmVjdG9yeSl7aWYoIWRpcmVjdG9yeSl7dGhyb3cgbmV3IEVycm9yKGMuRXJyb3JUZXh0LlRvb0Zld1BhcmFtZXRlcnMpO31pZih0eXBlb2YgZmlsZVR5cGUhPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGMuRXJyb3JUZXh0LkZpbGVUeXBlSXNOb3ROdW1lcmljKTt9aWYodHlwZW9mIGRpcmVjdG9yeSE9PVwic3RyaW5nXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYy5FcnJvclRleHQuUGFyYW1Ob3RBU3RyaW5nKTt9Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuU2V0RmlsZURpcmVjdG9yeSxmaWxlVHlwZSwwLDAsZGlyZWN0b3J5KTt9O2cuZ2V0Q3VsdHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gYy5nZXRDdWx0dXJlcygpO307ZnVuY3Rpb24gZChoKXtyZXR1cm4vXiNbMC05YS1mXXszfSg/OlswLTlhLWZdezN9KT8kL2kudGVzdChoKTt9Yy5pc1ZhbGlkSGV4Q29sb3I9ZDtmdW5jdGlvbiBmKGgpe2lmKCFkKGgpKXt0aHJvdyBuZXcgRXJyb3IoXFwnXCJcXCcraCtcXCdcIlxcJytjLkVycm9yVGV4dC5JbnZhbGlkSGV4Q29sb3JTdHJpbmcpO312YXIgaT17UjoxMjcsRzoxMjcsQjoxMjd9O2lmKGgubGVuZ3RoPT00KXtpLlI9cGFyc2VJbnQoaC5jaGFyQXQoMSksMTYpKjE3O2kuRz1wYXJzZUludChoLmNoYXJBdCgyKSwxNikqMTc7aS5CPXBhcnNlSW50KGguY2hhckF0KDMpLDE2KSoxNzt9ZWxzZXtpZihoLmxlbmd0aD09Nyl7aS5SPXBhcnNlSW50KGguc3Vic3RyKDEsMiksMTYpO2kuRz1wYXJzZUludChoLnN1YnN0cigzLDIpLDE2KTtpLkI9cGFyc2VJbnQoaC5zdWJzdHIoNSwyKSwxNik7fX1yZXR1cm4gaTt9Zy5zZXRTdGF0dXNCYXJDb2xvcj1mdW5jdGlvbihoZXhDb2xvcil7aWYodHlwZW9mIGhleENvbG9yIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO312YXIgaD1mKGhleENvbG9yKTtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5TdGF0dXNCYXJDb2xvciwwLDAsMCxoKTt9O2cuZ2V0U3RhdHVzQmFyQ29sb3I9ZnVuY3Rpb24oY2FsbGJhY2spe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWMuY29udHJvbFRhc2tDYWxsYmFja3MuZ2V0U3RhdHVzQmFyQ29sb3IucHVzaChjYWxsYmFjayk7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuU3RhdHVzQmFyQ29sb3IpO307Zy5zZXRGb3JtYXR0aW5nUHJpbnRlcj1mdW5jdGlvbihwcmludGVyTmFtZSl7aWYodHlwZW9mIHByaW50ZXJOYW1lIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31jLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5DbGllbnRTZXRGb3JtYXR0aW5nUHJpbnRlciwwLDAsMCxwcmludGVyTmFtZSk7fTtnLmdldEZvcm1hdHRpbmdQcmludGVyPWZ1bmN0aW9uKGNhbGxiYWNrKXtpZih0eXBlb2YgY2FsbGJhY2shPT1cImZ1bmN0aW9uXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYy5FcnJvclRleHQuQ2FsbEJhY2tJc05vRnVuY3Rpb24pO31jLmNvbnRyb2xUYXNrQ2FsbGJhY2tzLmdldEZvcm1hdHRpbmdQcmludGVyLnB1c2goY2FsbGJhY2spO2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkNsaWVudEdldEZvcm1hdHRpbmdQcmludGVyKTt9O2cuZ2V0SW5zdGFsbGVkUHJpbnRlcnM9ZnVuY3Rpb24oY2FsbGJhY2spe2lmKHR5cGVvZiBjYWxsYmFjayE9PVwiZnVuY3Rpb25cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5DYWxsQmFja0lzTm9GdW5jdGlvbik7fWMuY29udHJvbFRhc2tDYWxsYmFja3MuZ2V0SW5zdGFsbGVkUHJpbnRlcnMucHVzaChjYWxsYmFjayk7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuQ2xpZW50R2V0SW5zdGFsbGVkUHJpbnRlcnMpO307Zy5zaG93VmVydGljYWxSdWxlcj1jLnNob3dWZXJ0aWNhbFJ1bGVyO2cuc2hvd0hvcml6b250YWxSdWxlcj1jLnNob3dIb3Jpem9udGFsUnVsZXI7Zy5zaG93U3RhdHVzQmFyPWMuc2hvd1N0YXR1c0JhcjtnLnNob3dSaWJib25CYXI9Yy5zaG93UmliYm9uQmFyO2cuc2hvd1NpZGVCYXI9Yy5zaG93U2lkZUJhcjtnLnByaW50RG9jdW1lbnQ9Yy5wcmludDtPYmplY3QuZGVmaW5lUHJvcGVydHkoZyxcInNlbGVjdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5zZWxlY3Rpb247fSxzZXQ6ZnVuY3Rpb24oYm91bmRzKXtlLnNlbGVjdGlvbi5zZXRCb3VuZHMoYm91bmRzKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwiaXNMb2FkaW5nRGlhbG9nRW5hYmxlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYjt9LHNldDpmdW5jdGlvbihlbmFibGVkKXtpZih0eXBlb2YgZW5hYmxlZCE9PVwiYm9vbGVhblwiKXtyZXR1cm47fWI9ZW5hYmxlZDtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5FbmFibGVMb2FkV2FpdERpYWxvZyxlbmFibGVkPzE6MCk7fSxlbnVtZXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZyxcImVkaXRNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLmVkaXRNb2RlQ3VyO30sc2V0OmZ1bmN0aW9uKGVkaXRNb2RlKXtpZih0eXBlb2YgZWRpdE1vZGUhPT1cIm51bWJlclwiKXtyZXR1cm47fWMuc2VuZENvbW1hbmQoYy5Db21tYW5kLkVkaXRNb2RlLGVkaXRNb2RlKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwiY29udHJvbENoYXJzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLmNvbnRyb2xDaGFyczt9LHNldDpmdW5jdGlvbihjb250cm9sQ2hhcnMpe2lmKHR5cGVvZiBjb250cm9sQ2hhcnMhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO31jLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5EaXNwbGF5VmlzdWFsRWxlbWVudCxjLlZpc3VhbEVsZW1lbnQuQ29udHJvbENoYXJzLGNvbnRyb2xDaGFycz8xOjApO30sZW51bWVyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGcsXCJ0YWJsZUdyaWRMaW5lc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy50YWJsZUdyaWRMaW5lczt9LHNldDpmdW5jdGlvbih0YWJsZUdyaWRMaW5lcyl7aWYodHlwZW9mIHRhYmxlR3JpZExpbmVzIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYy5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuRGlzcGxheVZpc3VhbEVsZW1lbnQsYy5WaXN1YWxFbGVtZW50LlRhYmxlR3JpZExpbmVzLHRhYmxlR3JpZExpbmVzPzE6MCk7fSxlbnVtZXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZyxcImRvY3VtZW50VGFyZ2V0TWFya2Vyc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy5kb2N1bWVudFRhcmdldE1hcmtlcnM7fSxzZXQ6ZnVuY3Rpb24oZG9jdW1lbnRUYXJnZXRNYXJrZXJzKXtpZih0eXBlb2YgZG9jdW1lbnRUYXJnZXRNYXJrZXJzIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYy5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuRGlzcGxheVZpc3VhbEVsZW1lbnQsYy5WaXN1YWxFbGVtZW50LkJvb2ttYXJrTWFya2Vycyxkb2N1bWVudFRhcmdldE1hcmtlcnM/MTowKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwidGV4dEZyYW1lTWFya2VyTGluZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMudGV4dEZyYW1lTWFya2VyTGluZXM7fSxzZXQ6ZnVuY3Rpb24odGV4dEZyYW1lTWFya2VyTGluZXMpe2lmKHR5cGVvZiB0ZXh0RnJhbWVNYXJrZXJMaW5lcyE9PVwiYm9vbGVhblwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGMuRXJyb3JUZXh0LlBhcmFtTm90Qm9vbGVhbik7fWMuc2VuZENvbW1hbmQoYy5Db21tYW5kLkRpc3BsYXlWaXN1YWxFbGVtZW50LGMuVmlzdWFsRWxlbWVudC5UZXh0RnJhbWVNYXJrZXJMaW5lcyx0ZXh0RnJhbWVNYXJrZXJMaW5lcz8xOjApO30sZW51bWVyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGcsXCJjb250ZXh0TWVudXNFbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLmNvbnRleHRNZW51c0VuYWJsZWQ7fSxzZXQ6ZnVuY3Rpb24oY29udGV4dE1lbnVzRW5hYmxlZCl7aWYodHlwZW9mIGNvbnRleHRNZW51c0VuYWJsZWQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO31jLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5Db250ZXh0TWVudXNFbmFibGVkLGNvbnRleHRNZW51c0VuYWJsZWQ/MTowKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwic2F2ZURvY3VtZW50UXVlc3Rpb25EaWFsb2dFbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLnNhdmVEb2N1bWVudFF1ZXN0aW9uRW5hYmxlZDt9LHNldDpmdW5jdGlvbihpc0VuYWJsZWQpe2lmKHR5cGVvZiBpc0VuYWJsZWQhPT1cImJvb2xlYW5cIil7dGhyb3cgbmV3IFR5cGVFcnJvcihjLkVycm9yVGV4dC5QYXJhbU5vdEJvb2xlYW4pO31jLnNhdmVEb2N1bWVudFF1ZXN0aW9uRW5hYmxlZD1pc0VuYWJsZWQ7fSxlbnVtZXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZyxcInRleHRGaWVsZHNFZGl0YWJsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy50ZXh0RmllbGRzRWRpdGFibGU7fSxzZXQ6ZnVuY3Rpb24odGV4dEZpZWxkc0VkaXRhYmxlKXtpZih0eXBlb2YgdGV4dEZpZWxkc0VkaXRhYmxlIT09XCJib29sZWFuXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYy5FcnJvclRleHQuUGFyYW1Ob3RCb29sZWFuKTt9Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuU2V0VGV4dEZpZWxkc0VkaXRhYmxlLHRleHRGaWVsZHNFZGl0YWJsZT8xOjApO30sZW51bWVyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGcsXCJyaWJib25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBjLlJpYmJvbigpO30sZW51bWVyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGcsXCJpc1NwZWxsQ2hlY2tpbmdFbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLnByb29maW5nU2V0dGluZ3M/Yy5wcm9vZmluZ1NldHRpbmdzLmlzU3BlbGxDaGVja2luZ0VuYWJsZWQ6ZmFsc2U7fSxzZXQ6ZnVuY3Rpb24oZW5hYmxlZCl7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuRW5hYmxlU3BlbGxDaGVja2luZyxlbmFibGVkPzE6MCk7fSxlbnVtZXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZyxcImlzSHlwaGVuYXRpb25FbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLnByb29maW5nU2V0dGluZ3M/Yy5wcm9vZmluZ1NldHRpbmdzLmlzSHlwaGVuYXRpb25FbmFibGVkOmZhbHNlO30sc2V0OmZ1bmN0aW9uKGVuYWJsZWQpe2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkVuYWJsZUh5cGhlbmF0aW9uLGVuYWJsZWQ/MTowKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwiaXNMYW5ndWFnZURldGVjdGlvbkVuYWJsZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMucHJvb2ZpbmdTZXR0aW5ncz9jLnByb29maW5nU2V0dGluZ3MuaXNMYW5nRGV0ZWN0RW5hYmxlZDpmYWxzZTt9LHNldDpmdW5jdGlvbihlbmFibGVkKXtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5FbmFibGVMYW5nRGV0ZWN0LGVuYWJsZWQ/MTowKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwiaXNUcmFja0NoYW5nZXNFbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLmlzVHJhY2tDaGFuZ2VzRW5hYmxlZDt9LHNldDpmdW5jdGlvbihlbmFibGVkKXtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5UcmFja0NoYW5nZXNFbmFibGVkU3RhdGUsZW5hYmxlZD8xOjApO30sZW51bWVyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGcsXCJjbGlwYm9hcmRNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjLmNsaXBib2FyZE1vZGU7fSxzZXQ6ZnVuY3Rpb24oY2xpcGJvYXJkTW9kZSl7Yy5zZW5kQ29tbWFuZChjLkNvbW1hbmQuQ2xpcGJvYXJkTW9kZSxjbGlwYm9hcmRNb2RlKTt9LGVudW1lcmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnLFwiem9vbUZhY3RvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYy56b29tO30sc2V0OmZ1bmN0aW9uKHpvb21GYWN0b3Ipe2lmKHpvb21GYWN0b3I9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihcXCdQYXJhbWV0ZXIgXCJ6b29tRmFjdG9yXCIgaXMgdW5kZWZpbmVkLlxcJyk7fWlmKCh0eXBlb2Ygem9vbUZhY3RvciE9PVwibnVtYmVyXCIpfHwoKHpvb21GYWN0b3I8MTApJiYoem9vbUZhY3Rvcj4tMSkpfHwoem9vbUZhY3RvcjwtMykpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJab29tIGZhY3RvciBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyID49IDEwIG9yIG9uZSBvZiB0aGUgc3BlY2lhbCB6b29tIGZhY3RvciB2YWx1ZXMgZGVmaW5lZCBpbiBUWFRleHRDb250cm9sLlNwZWNpYWxab29tRmFjdG9yLlwiKTt9em9vbUZhY3Rvcj1NYXRoLnJvdW5kKHpvb21GYWN0b3IpO2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLlpvb20sem9vbUZhY3Rvcik7fSxlbnVtZXJhYmxlOnRydWV9KTtnLmVuYWJsZUNvbW1hbmRzPWZ1bmN0aW9uKHNpbGVudCl7Zy5XZWJTb2NrZXQ9Yy5zb2NrZXQ7aWYoYy5zZWNyZXRBUElFbmFibGVkKXtyZXR1cm47fWcuc2VuZENvbW1hbmQ9Yy5zZW5kQ29tbWFuZDtnLkNvbW1hbmQ9Yy5Db21tYW5kO2cuVmlzdWFsRWxlbWVudD1jLlZpc3VhbEVsZW1lbnQ7Zy5JdGVtVHlwZT1jLkl0ZW1UeXBlO2cuRGlhbG9nQ2F0ZWdvcnk9Yy5EaWFsb2dDYXRlZ29yeTtnLkhUTUxEaWFsb2dUeXBlPWMuSFRNTERpYWxvZ1R5cGU7Zy5UWERpYWxvZ1R5cGU9Yy5UWERpYWxvZ1R5cGU7Zy5CcmVha1R5cGU9Yy5CcmVha1R5cGU7Zy5Db21wb25lbnRUeXBlPWMuQ29tcG9uZW50VHlwZTtnLkFjdGl2YXRpb25TdGF0ZT1jLkFjdGl2YXRpb25TdGF0ZTtnLkZpZWxkRGlzcGxheU1vZGU9Yy5GaWVsZERpc3BsYXlNb2RlO2cuU3BlbGxDaGVja0RpYWxvZ0NvbW1hbmQ9Yy5TcGVsbENoZWNrRGlhbG9nQ29tbWFuZDtnLlNlbGVjdGlvbkNvbW1hbmQ9Yy5TZWxlY3Rpb25Db21tYW5kO2cuVGV4dFBhcnRDb21tYW5kPWMuVGV4dFBhcnRDb21tYW5kO2cuVGV4dEZyYW1lUHJvcGVydHk9Yy5UZXh0RnJhbWVQcm9wZXJ0eTtnLnNob3dDZW50ZXJlZE1lc3NhZ2U9Yy5zaG93TXNnRGl2O2cuQ2hhcnRUZW1wbGF0ZVR5cGU9Yy5DaGFydFRlbXBsYXRlVHlwZTtnLkZyYW1lUHJvcGVydHk9Yy5GcmFtZVByb3BlcnR5O2cuVmVydGljYWxBbGlnbm1lbnQ9Yy5WZXJ0aWNhbEFsaWdubWVudDtnLlNlY3Rpb25Gb3JtYXREaWFsb2dUYWI9Yy5TZWN0aW9uRm9ybWF0RGlhbG9nVGFiO2cuVGFibGVDb21tYW5kPWMuVGFibGVDb21tYW5kO2cuVGFibGVFbGVtZW50PWMuVGFibGVFbGVtZW50O2cuTWFpbE1lcmdlTmF2QnV0dG9uPXtGaXJzdDowLFByZXZpb3VzOjEsTmV4dDoyLExhc3Q6Myx9O2cuaW5zZXJ0TWVyZ2VGaWVsZD1mdW5jdGlvbihpKXt2YXIgaD17TmFtZTppLFRleHQ6XCLCq1wiK2krXCLCu1wifTtjLnNlbmRDb21tYW5kKGMuQ29tbWFuZC5JbnNlcnRJdGVtLGMuSXRlbVR5cGUuRmllbGRBZGFwdGVyLGMuRmllbGRUeXBlLk1lcmdlRmllbGQsMCxoKTt9O2cuaW5zZXJ0TWVyZ2VCbG9jaz1mdW5jdGlvbihoKXtoPUpTT04uc3RyaW5naWZ5KGgpO2Muc2VuZENvbW1hbmQoYy5Db21tYW5kLkluc2VydEl0ZW0sYy5JdGVtVHlwZS5NZXJnZUJsb2NrLDAsMCxoKTt9O2lmKCFzaWxlbnQpe2NvbnNvbGUud2FybihcXCdVbmRvY3VtZW50ZWQgYW5kIHVuc3VwcG9ydGVkIFRleHRDb250cm9sIEFQSSBhY3RpdmF0ZWQuIFVzZSBhdCB5b3VyIG93biByaXNrLiBDYWxsIHRoaXMgZnVuY3Rpb24gd2l0aCB0aGUgcGFyYW1ldGVyIFwidHJ1ZVwiIGlmIHlvdSBkb25cXFxcXFwndCB3YW50IHRvIHNlZSB0aGlzIG1lc3NhZ2UuXFwnKTt9Yy5zZWNyZXRBUElFbmFibGVkPXRydWU7fTtyZXR1cm4gZzt9KFRYVGV4dENvbnRyb2x8fHt9LGokMV8xMF8yKSk7dmFyIFRYVGV4dENvbnRyb2w9KGZ1bmN0aW9uKGYsYSl7dmFyIGI9Zi5fcHJpdmF0ZT1mLl9wcml2YXRlfHx7fTtiLklucHV0Rm9ybWF0RXZlbnRzPU9iamVjdC5mcmVlemUoW1wiYWxsRnJhbWVMaW5lc0NoYW5nZWRcIixcImJvbGRDaGFuZ2VkXCIsXCJib3R0b21BbGlnbmVkQ2hhbmdlZFwiLFwiYm90dG9tRGlzdGFuY2VDaGFuZ2VkXCIsXCJib3R0b21GcmFtZUxpbmVDaGFuZ2VkXCIsXCJib3hGcmFtZUNoYW5nZWRcIixcImJ1bGxldENoYXJhY3RlckNoYW5nZWRcIixcImJ1bGxldGVkTGlzdENoYW5nZWRcIixcImNlbnRlcmVkQ2hhbmdlZFwiLFwiZm9udEZhbWlseUNoYW5nZWRcIixcImZvbnRTaXplQ2hhbmdlZFwiLFwiZnJhbWVGaWxsQ29sb3JDaGFuZ2VkXCIsXCJmcmFtZUxpbmVDb2xvckNoYW5nZWRcIixcImZyYW1lTGluZVdpZHRoQ2hhbmdlZFwiLFwiaGFuZ2luZ0luZGVudENoYW5nZWRcIixcImlubmVySG9yaXpvbnRhbEZyYW1lTGluZXNDaGFuZ2VkXCIsXCJpbm5lclZlcnRpY2FsRnJhbWVMaW5lc0NoYW5nZWRcIixcIml0YWxpY0NoYW5nZWRcIixcImp1c3RpZmllZENoYW5nZWRcIixcImxlZnRBbGlnbmVkQ2hhbmdlZFwiLFwibGVmdEZyYW1lTGluZUNoYW5nZWRcIixcImxlZnRJbmRlbnRDaGFuZ2VkXCIsXCJsZWZ0VG9SaWdodENoYW5nZWRcIixcImxpbmVTcGFjaW5nQ2hhbmdlZFwiLFwibnVtYmVyZWRMaXN0Q2hhbmdlZFwiLFwibnVtYmVyZWRMaXN0Rm9ybWF0Q2hhbmdlZFwiLFwibnVtYmVyRm9ybWF0Q2hhbmdlZFwiLFwibnVtYmVyVGV4dFR5cGVDaGFuZ2VkXCIsXCJyaWdodEFsaWduZWRDaGFuZ2VkXCIsXCJyaWdodEZyYW1lTGluZUNoYW5nZWRcIixcInJpZ2h0SW5kZW50Q2hhbmdlZFwiLFwicmlnaHRUb0xlZnRDaGFuZ2VkXCIsXCJzdGFuZGFyZFRleHRUeXBlQ2hhbmdlZFwiLFwic3RyaWtlb3V0Q2hhbmdlZFwiLFwic3RydWN0dXJlZExpc3RDaGFuZ2VkXCIsXCJzdHJ1Y3R1cmVkTGlzdEZvcm1hdENoYW5nZWRcIixcInN0eWxlTmFtZUNoYW5nZWRcIixcInN0eWxlTmFtZXNDaGFuZ2VkXCIsXCJzdWJzY3JpcHRDaGFuZ2VkXCIsXCJzdXBlcnNjcmlwdENoYW5nZWRcIixcInRleHRCYWNrQ29sb3JDaGFuZ2VkXCIsXCJ0ZXh0Q29sb3JDaGFuZ2VkXCIsXCJ0b3BBbGlnbmVkQ2hhbmdlZFwiLFwidG9wRGlzdGFuY2VDaGFuZ2VkXCIsXCJ0b3BGcmFtZUxpbmVDaGFuZ2VkXCIsXCJ1bmRlcmxpbmVDaGFuZ2VkXCIsXCJ1bmRlcmxpbmVTdHlsZUNoYW5nZWRcIixcInZlcnRpY2FsbHlDZW50ZXJlZENoYW5nZWRcIl0pO2IuVGV4dFZpZXdHZW5lcmF0b3JFdmVudHM9T2JqZWN0LmZyZWV6ZShbXCJiYXJjb2RlQ3JlYXRlZFwiLFwiYmFyY29kZURlbGV0ZWRcIixcImJhcmNvZGVEZXNlbGVjdGVkXCIsXCJiYXJjb2RlU2VsZWN0ZWRcIixcImNhbm5vdFRyYWNrQ2hhbmdlXCIsXCJjaGFuZ2VkXCIsXCJjaGFyRm9ybWF0Q2hhbmdlZFwiLFwiY2hhcnRDcmVhdGVkXCIsXCJjaGFydERlbGV0ZWRcIixcImNoYXJ0RGVzZWxlY3RlZFwiLFwiY2hhcnRTZWxlY3RlZFwiLFwiY29udGVudHNSZXNldFwiLFwiZG9jdW1lbnRMaW5rQ2xpY2tlZFwiLFwiZG9jdW1lbnRTaXplQ2hhbmdlZFwiLFwiZHJhd2luZ0FjdGl2YXRlZFwiLFwiZHJhd2luZ0NyZWF0ZWRcIixcImRyYXdpbmdEZWFjdGl2YXRlZFwiLFwiZHJhd2luZ0RlbGV0ZWRcIixcImRyYXdpbmdEZXNlbGVjdGVkXCIsXCJkcmF3aW5nU2VsZWN0ZWRcIixcImVkaXRhYmxlUmVnaW9uQ3JlYXRlZFwiLFwiZWRpdGFibGVSZWdpb25EZWxldGVkXCIsXCJlZGl0YWJsZVJlZ2lvbkVudGVyZWRcIixcImVkaXRhYmxlUmVnaW9uTGVmdFwiLFwiZnJhbWVEZXNlbGVjdGVkXCIsXCJmcmFtZU1vdmVkXCIsXCJmcmFtZVNlbGVjdGVkXCIsXCJmcmFtZVNpemVkXCIsXCJoZWFkZXJGb290ZXJBY3RpdmF0ZWRcIixcImhlYWRlckZvb3RlckRlYWN0aXZhdGVkXCIsXCJoeXBlcnRleHRMaW5rQ2xpY2tlZFwiLFwiaHlwaGVuYXRlV29yZFwiLFwiaW1hZ2VDcmVhdGVkXCIsXCJpbWFnZURlbGV0ZWRcIixcImltYWdlRGVzZWxlY3RlZFwiLFwiaW1hZ2VTZWxlY3RlZFwiLFwiaW5wdXRQYXJhZ3JhcGhDaGFuZ2VkXCIsXCJtYWluVGV4dEFjdGl2YXRlZFwiLFwicGFnZUZvcm1hdENoYW5nZWRcIixcInBhcmFncmFwaEZvcm1hdENoYW5nZWRcIixcInJlbW92ZUNvbWJvYm94XCIsXCJzcGVsbENoZWNrVGV4dFwiLFwic3ViVGV4dFBhcnRDcmVhdGVkXCIsXCJzdWJUZXh0UGFydERlbGV0ZWRcIixcInN1YlRleHRQYXJ0RW50ZXJlZFwiLFwic3ViVGV4dFBhcnRMZWZ0XCIsXCJzdWJUZXh0UGFydENsaWNrZWRcIixcInN1YlRleHRQYXJ0RG91YmxlQ2xpY2tlZFwiLFwidGFibGVDcmVhdGVkXCIsXCJ0YWJsZURlbGV0ZWRcIixcInRhYmxlT2ZDb250ZW50c0NyZWF0ZWRcIixcInRhYmxlT2ZDb250ZW50c0RlbGV0ZWRcIixcInRhYmxlT2ZDb250ZW50c0xlZnRcIixcInRhYmxlT2ZDb250ZW50c0VudGVyZWRcIixcInRleHRGaWVsZEVudGVyZWRcIixcInRleHRGaWVsZExlZnRcIixcInRleHRGaWVsZENsaWNrZWRcIixcInRleHRGcmFtZUFjdGl2YXRlZFwiLFwidGV4dEZyYW1lQ3JlYXRlZFwiLFwidGV4dEZyYW1lRGVhY3RpdmF0ZWRcIixcInRleHRGcmFtZURlbGV0ZWRcIixcInRleHRGcmFtZURlc2VsZWN0ZWRcIixcInRleHRGcmFtZVNlbGVjdGVkXCIsXCJ0cmFja2VkQ2hhbmdlQ2hhbmdlZFwiLFwidHJhY2tlZENoYW5nZUNyZWF0ZWRcIixcInRyYWNrZWRDaGFuZ2VEZWxldGVkXCIsXCJ0cmFja2VkQ2hhbmdlU3RhdGVDaGFuZ2VkXCJdKTt2YXIgZT1PYmplY3QuZnJlZXplKHtTdWJzY3JpYmU6MCxVbnN1YnNjcmliZToxLH0pO2IuRXZlbnRDYXRlZ29yeT1PYmplY3QuZnJlZXplKHtUZXh0Vmlld0dlbmVyYXRvcjowLElucHV0Rm9ybWF0OjF9KTtiLnN1YnNjcmliZVRvRXZlbnQ9ZnVuY3Rpb24oaCxnKXtpZihjKGcsaCkpe2QoZS5TdWJzY3JpYmUsaCxnKTtyZXR1cm4gdHJ1ZTt9cmV0dXJuIGZhbHNlO307Yi51bnN1YnNjcmliZUZyb21FdmVudD1mdW5jdGlvbihoLGcpe2lmKGMoZyxoKSl7ZChlLlVuc3Vic2NyaWJlLGgsZyk7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9O2Z1bmN0aW9uIGMoaCxpKXt2YXIgZztzd2l0Y2goaCl7Y2FzZSBiLkV2ZW50Q2F0ZWdvcnkuVGV4dFZpZXdHZW5lcmF0b3I6Zz1iLlRleHRWaWV3R2VuZXJhdG9yRXZlbnRzO2JyZWFrO2Nhc2UgYi5FdmVudENhdGVnb3J5LklucHV0Rm9ybWF0Omc9Yi5JbnB1dEZvcm1hdEV2ZW50czticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGV2ZW50LlwiKTt9cmV0dXJuIGcuaW5kZXhPZihpKT49MDt9ZnVuY3Rpb24gZChnLGksaCl7aWYodHlwZW9mIGchPT1cIm51bWJlclwiKXt0aHJvdyBuZXcgVHlwZUVycm9yKGIuRXJyb3JUZXh0LlBhcmFtTm90QU51bWJlcik7fWlmKHR5cGVvZiBpIT09XCJzdHJpbmdcIil7dGhyb3cgbmV3IFR5cGVFcnJvcihiLkVycm9yVGV4dC5QYXJhbU5vdEFTdHJpbmcpO31pZih0eXBlb2YgaCE9PVwibnVtYmVyXCIpe3Rocm93IG5ldyBUeXBlRXJyb3IoYi5FcnJvclRleHQuUGFyYW1Ob3RBTnVtYmVyKTt9aWYoIWIuaXNTb2NrZXRDb25uZWN0ZWQoKSl7dGhyb3cgbmV3IEVycm9yKFwiV2ViU29ja2V0IGNvbm5lY3Rpb24gaGFzIG5vdCBiZWVuIGVzdGFibGlzaGVkIHlldC4gQXR0YWNoIFRleHRDb250cm9sIGV2ZW50IGhhbmRsZXJzIGluIHRoZSBcXCd0ZXh0Q29udHJvbExvYWRlZFxcJyBldmVudCBvciBsYXRlci5cIik7fWIuc2VuZENvbW1hbmQoYi5Db21tYW5kLlRleHRDb250cm9sRXZlbnQsZywwLGgsaSk7fXJldHVybiBmO30oVFhUZXh0Q29udHJvbHx8e30saiQxXzEwXzIpKTsnO1xyXG4iXX0=